(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uv={exports:{}},Rc={},cv={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA;function SF(){if(MA)return et;MA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function x(q,K,fe){this.props=q,this.context=K,this.refs=E,this.updater=fe||b}x.prototype.isReactComponent={},x.prototype.setState=function(q,K){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,K,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=x.prototype;function C(q,K,fe){this.props=q,this.context=K,this.refs=E,this.updater=fe||b}var I=C.prototype=new N;I.constructor=C,w(I,x.prototype),I.isPureReactComponent=!0;var $=Array.isArray,O=Object.prototype.hasOwnProperty,j={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(q,K,fe){var Se,je={},xe=null,$e=null;if(K!=null)for(Se in K.ref!==void 0&&($e=K.ref),K.key!==void 0&&(xe=""+K.key),K)O.call(K,Se)&&!A.hasOwnProperty(Se)&&(je[Se]=K[Se]);var Fe=arguments.length-2;if(Fe===1)je.children=fe;else if(1<Fe){for(var me=Array(Fe),Ce=0;Ce<Fe;Ce++)me[Ce]=arguments[Ce+2];je.children=me}if(q&&q.defaultProps)for(Se in Fe=q.defaultProps,Fe)je[Se]===void 0&&(je[Se]=Fe[Se]);return{$$typeof:t,type:q,key:xe,ref:$e,props:je,_owner:j.current}}function R(q,K){return{$$typeof:t,type:q.type,key:K,ref:q.ref,props:q.props,_owner:q._owner}}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function L(q){var K={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(fe){return K[fe]})}var F=/\/+/g;function M(q,K){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):K.toString(36)}function ee(q,K,fe,Se,je){var xe=typeof q;(xe==="undefined"||xe==="boolean")&&(q=null);var $e=!1;if(q===null)$e=!0;else switch(xe){case"string":case"number":$e=!0;break;case"object":switch(q.$$typeof){case t:case e:$e=!0}}if($e)return $e=q,je=je($e),q=Se===""?"."+M($e,0):Se,$(je)?(fe="",q!=null&&(fe=q.replace(F,"$&/")+"/"),ee(je,K,fe,"",function(Ce){return Ce})):je!=null&&(V(je)&&(je=R(je,fe+(!je.key||$e&&$e.key===je.key?"":(""+je.key).replace(F,"$&/")+"/")+q)),K.push(je)),1;if($e=0,Se=Se===""?".":Se+":",$(q))for(var Fe=0;Fe<q.length;Fe++){xe=q[Fe];var me=Se+M(xe,Fe);$e+=ee(xe,K,fe,me,je)}else if(me=y(q),typeof me=="function")for(q=me.call(q),Fe=0;!(xe=q.next()).done;)xe=xe.value,me=Se+M(xe,Fe++),$e+=ee(xe,K,fe,me,je);else if(xe==="object")throw K=String(q),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return $e}function re(q,K,fe){if(q==null)return q;var Se=[],je=0;return ee(q,Se,"","",function(xe){return K.call(fe,xe,je++)}),Se}function ie(q){if(q._status===-1){var K=q._result;K=K(),K.then(function(fe){(q._status===0||q._status===-1)&&(q._status=1,q._result=fe)},function(fe){(q._status===0||q._status===-1)&&(q._status=2,q._result=fe)}),q._status===-1&&(q._status=0,q._result=K)}if(q._status===1)return q._result.default;throw q._result}var oe={current:null},Q={transition:null},ae={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Q,ReactCurrentOwner:j};function se(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:re,forEach:function(q,K,fe){re(q,function(){K.apply(this,arguments)},fe)},count:function(q){var K=0;return re(q,function(){K++}),K},toArray:function(q){return re(q,function(K){return K})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},et.Component=x,et.Fragment=r,et.Profiler=i,et.PureComponent=C,et.StrictMode=n,et.Suspense=c,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,et.act=se,et.cloneElement=function(q,K,fe){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Se=w({},q.props),je=q.key,xe=q.ref,$e=q._owner;if(K!=null){if(K.ref!==void 0&&(xe=K.ref,$e=j.current),K.key!==void 0&&(je=""+K.key),q.type&&q.type.defaultProps)var Fe=q.type.defaultProps;for(me in K)O.call(K,me)&&!A.hasOwnProperty(me)&&(Se[me]=K[me]===void 0&&Fe!==void 0?Fe[me]:K[me])}var me=arguments.length-2;if(me===1)Se.children=fe;else if(1<me){Fe=Array(me);for(var Ce=0;Ce<me;Ce++)Fe[Ce]=arguments[Ce+2];Se.children=Fe}return{$$typeof:t,type:q.type,key:je,ref:xe,props:Se,_owner:$e}},et.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},et.createElement=P,et.createFactory=function(q){var K=P.bind(null,q);return K.type=q,K},et.createRef=function(){return{current:null}},et.forwardRef=function(q){return{$$typeof:u,render:q}},et.isValidElement=V,et.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:ie}},et.memo=function(q,K){return{$$typeof:f,type:q,compare:K===void 0?null:K}},et.startTransition=function(q){var K=Q.transition;Q.transition={};try{q()}finally{Q.transition=K}},et.unstable_act=se,et.useCallback=function(q,K){return oe.current.useCallback(q,K)},et.useContext=function(q){return oe.current.useContext(q)},et.useDebugValue=function(){},et.useDeferredValue=function(q){return oe.current.useDeferredValue(q)},et.useEffect=function(q,K){return oe.current.useEffect(q,K)},et.useId=function(){return oe.current.useId()},et.useImperativeHandle=function(q,K,fe){return oe.current.useImperativeHandle(q,K,fe)},et.useInsertionEffect=function(q,K){return oe.current.useInsertionEffect(q,K)},et.useLayoutEffect=function(q,K){return oe.current.useLayoutEffect(q,K)},et.useMemo=function(q,K){return oe.current.useMemo(q,K)},et.useReducer=function(q,K,fe){return oe.current.useReducer(q,K,fe)},et.useRef=function(q){return oe.current.useRef(q)},et.useState=function(q){return oe.current.useState(q)},et.useSyncExternalStore=function(q,K,fe){return oe.current.useSyncExternalStore(q,K,fe)},et.useTransition=function(){return oe.current.useTransition()},et.version="18.3.1",et}var DA;function w1(){return DA||(DA=1,cv.exports=SF()),cv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA;function TF(){if(LA)return Rc;LA=1;var t=w1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,f){var h,m={},y=null,b=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(b=c.ref);for(h in c)n.call(c,h)&&!a.hasOwnProperty(h)&&(m[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:u,key:y,ref:b,props:m,_owner:i.current}}return Rc.Fragment=r,Rc.jsx=s,Rc.jsxs=s,Rc}var $A;function AF(){return $A||($A=1,uv.exports=TF()),uv.exports}var v=AF(),G=w1();const W=yt(G);var zh={},fv={exports:{}},Tn={},dv={exports:{}},hv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA;function PF(){return VA||(VA=1,function(t){function e(Q,ae){var se=Q.length;Q.push(ae);e:for(;0<se;){var q=se-1>>>1,K=Q[q];if(0<i(K,ae))Q[q]=ae,Q[se]=K,se=q;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ae=Q[0],se=Q.pop();if(se!==ae){Q[0]=se;e:for(var q=0,K=Q.length,fe=K>>>1;q<fe;){var Se=2*(q+1)-1,je=Q[Se],xe=Se+1,$e=Q[xe];if(0>i(je,se))xe<K&&0>i($e,je)?(Q[q]=$e,Q[xe]=se,q=xe):(Q[q]=je,Q[Se]=se,q=Se);else if(xe<K&&0>i($e,se))Q[q]=$e,Q[xe]=se,q=xe;else break e}}return ae}function i(Q,ae){var se=Q.sortIndex-ae.sortIndex;return se!==0?se:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,m=null,y=3,b=!1,w=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Q){for(var ae=r(f);ae!==null;){if(ae.callback===null)n(f);else if(ae.startTime<=Q)n(f),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=r(f)}}function $(Q){if(E=!1,I(Q),!w)if(r(c)!==null)w=!0,ie(O);else{var ae=r(f);ae!==null&&oe($,ae.startTime-Q)}}function O(Q,ae){w=!1,E&&(E=!1,N(P),P=-1),b=!0;var se=y;try{for(I(ae),m=r(c);m!==null&&(!(m.expirationTime>ae)||Q&&!L());){var q=m.callback;if(typeof q=="function"){m.callback=null,y=m.priorityLevel;var K=q(m.expirationTime<=ae);ae=t.unstable_now(),typeof K=="function"?m.callback=K:m===r(c)&&n(c),I(ae)}else n(c);m=r(c)}if(m!==null)var fe=!0;else{var Se=r(f);Se!==null&&oe($,Se.startTime-ae),fe=!1}return fe}finally{m=null,y=se,b=!1}}var j=!1,A=null,P=-1,R=5,V=-1;function L(){return!(t.unstable_now()-V<R)}function F(){if(A!==null){var Q=t.unstable_now();V=Q;var ae=!0;try{ae=A(!0,Q)}finally{ae?M():(j=!1,A=null)}}else j=!1}var M;if(typeof C=="function")M=function(){C(F)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,re=ee.port2;ee.port1.onmessage=F,M=function(){re.postMessage(null)}}else M=function(){x(F,0)};function ie(Q){A=Q,j||(j=!0,M())}function oe(Q,ae){P=x(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){w||b||(w=!0,ie(O))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var se=y;y=ae;try{return Q()}finally{y=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var se=y;y=Q;try{return ae()}finally{y=se}},t.unstable_scheduleCallback=function(Q,ae,se){var q=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?q+se:q):se=q,Q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=se+K,Q={id:h++,callback:ae,priorityLevel:Q,startTime:se,expirationTime:K,sortIndex:-1},se>q?(Q.sortIndex=se,e(f,Q),r(c)===null&&Q===r(f)&&(E?(N(P),P=-1):E=!0,oe($,se-q))):(Q.sortIndex=K,e(c,Q),w||b||(w=!0,ie(O))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var ae=y;return function(){var se=y;y=ae;try{return Q.apply(this,arguments)}finally{y=se}}}}(hv)),hv}var FA;function kF(){return FA||(FA=1,dv.exports=PF()),dv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA;function IF(){if(UA)return Tn;UA=1;var t=w1(),e=kF();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function y(o){return c.call(m,o)?!0:c.call(h,o)?!1:f.test(o)?m[o]=!0:(h[o]=!0,!1)}function b(o,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,l,d,g){if(l===null||typeof l>"u"||b(o,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function E(o,l,d,g,_,T,D){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=T,this.removeEmptyString=D}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){x[o]=new E(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];x[l]=new E(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){x[o]=new E(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){x[o]=new E(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){x[o]=new E(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){x[o]=new E(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){x[o]=new E(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){x[o]=new E(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){x[o]=new E(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(N,C);x[l]=new E(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(N,C);x[l]=new E(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(N,C);x[l]=new E(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){x[o]=new E(o,1,!1,o.toLowerCase(),null,!1,!1)}),x.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){x[o]=new E(o,1,!1,o.toLowerCase(),null,!0,!0)});function I(o,l,d,g){var _=x.hasOwnProperty(l)?x[l]:null;(_!==null?_.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,d,_,g)&&(d=null),g||_===null?y(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):_.mustUseProperty?o[_.propertyName]=d===null?_.type===3?!1:"":d:(l=_.attributeName,g=_.attributeNamespace,d===null?o.removeAttribute(l):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,g?o.setAttributeNS(g,l,d):o.setAttribute(l,d))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ae(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var se=Object.assign,q;function K(o){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var fe=!1;function Se(o,l){if(!o||fe)return"";fe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(te){var g=te}Reflect.construct(o,[],l)}else{try{l.call()}catch(te){g=te}o.call(l.prototype)}else{try{throw Error()}catch(te){g=te}o()}}catch(te){if(te&&g&&typeof te.stack=="string"){for(var _=te.stack.split(`
`),T=g.stack.split(`
`),D=_.length-1,B=T.length-1;1<=D&&0<=B&&_[D]!==T[B];)B--;for(;1<=D&&0<=B;D--,B--)if(_[D]!==T[B]){if(D!==1||B!==1)do if(D--,B--,0>B||_[D]!==T[B]){var z=`
`+_[D].replace(" at new "," at ");return o.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",o.displayName)),z}while(1<=D&&0<=B);break}}}finally{fe=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?K(o):""}function je(o){switch(o.tag){case 5:return K(o.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return o=Se(o.type,!1),o;case 11:return o=Se(o.type.render,!1),o;case 1:return o=Se(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case j:return"Portal";case R:return"Profiler";case P:return"StrictMode";case M:return"Suspense";case ee:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case L:return(o.displayName||"Context")+".Consumer";case V:return(o._context.displayName||"Context")+".Provider";case F:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case re:return l=o.displayName||null,l!==null?l:xe(o.type)||"Memo";case ie:l=o._payload,o=o._init;try{return xe(o(l))}catch{}}return null}function $e(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Fe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function me(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ce(o){var l=me(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,T=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(D){g=""+D,T.call(this,D)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(D){g=""+D},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function qe(o){o._valueTracker||(o._valueTracker=Ce(o))}function ue(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return o&&(g=me(o)?o.checked?"true":"false":o.value),o=g,o!==d?(l.setValue(o),!0):!1}function lt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function We(o,l){var d=l.checked;return se({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function ht(o,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=Fe(l.value!=null?l.value:d),o._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function St(o,l){l=l.checked,l!=null&&I(o,"checked",l,!1)}function Gt(o,l){St(o,l);var d=Fe(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?en(o,l.type,d):l.hasOwnProperty("defaultValue")&&en(o,l.type,Fe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function fr(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function en(o,l,d){(l!=="number"||lt(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var qt=Array.isArray;function zt(o,l,d,g){if(o=o.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<o.length;d++)_=l.hasOwnProperty("$"+o[d].value),o[d].selected!==_&&(o[d].selected=_),_&&g&&(o[d].defaultSelected=!0)}else{for(d=""+Fe(d),l=null,_=0;_<o.length;_++){if(o[_].value===d){o[_].selected=!0,g&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function Or(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function tn(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(qt(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:Fe(d)}}function di(o,l){var d=Fe(l.value),g=Fe(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),g!=null&&(o.defaultValue=""+g)}function Li(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Yt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rr(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Yt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var hi,is=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,_){MSApp.execUnsafeLocalFunction(function(){return o(l,d,g,_)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(hi=hi||document.createElement("div"),hi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=hi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function $i(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mn=["Webkit","ms","Moz","O"];Object.keys(Wn).forEach(function(o){mn.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Wn[l]=Wn[o]})});function eo(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Wn.hasOwnProperty(o)&&Wn[o]?(""+l).trim():l+"px"}function pi(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,_=eo(d,l[d],g);d==="float"&&(d="cssFloat"),g?o.setProperty(d,_):o[d]=_}}var $t=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function as(o,l){if(l){if($t[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function fa(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var da=null;function In(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ha=null,Ur=null,Hn=null;function to(o){if(o=vc(o)){if(typeof ha!="function")throw Error(r(280));var l=o.stateNode;l&&(l=ih(l),ha(o.stateNode,o.type,l))}}function Xt(o){Ur?Hn?Hn.push(o):Hn=[o]:Ur=o}function os(){if(Ur){var o=Ur,l=Hn;if(Hn=Ur=null,to(o),l)for(o=0;o<l.length;o++)to(l[o])}}function rn(o,l){return o(l)}function mi(){}var gn=!1;function ss(o,l,d){if(gn)return o(l,d);gn=!0;try{return rn(o,l,d)}finally{gn=!1,(Ur!==null||Hn!==null)&&(mi(),os())}}function Nt(o,l){var d=o.stateNode;if(d===null)return null;var g=ih(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ro=!1;if(u)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){ro=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{ro=!1}function pa(o,l,d,g,_,T,D,B,z){var te=Array.prototype.slice.call(arguments,3);try{l.apply(d,te)}catch(pe){this.onError(pe)}}var ma=!1,no=null,On=!1,ls=null,tc={onError:function(o){ma=!0,no=o}};function io(o,l,d,g,_,T,D,B,z){ma=!1,no=null,pa.apply(tc,arguments)}function Z(o,l,d,g,_,T,D,B,z){if(io.apply(this,arguments),ma){if(ma){var te=no;ma=!1,no=null}else throw Error(r(198));On||(On=!0,ls=te)}}function we(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function Oe(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function he(o){if(we(o)!==o)throw Error(r(188))}function Ee(o){var l=o.alternate;if(!l){if(l=we(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,g=l;;){var _=d.return;if(_===null)break;var T=_.alternate;if(T===null){if(g=_.return,g!==null){d=g;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===d)return he(_),o;if(T===g)return he(_),l;T=T.sibling}throw Error(r(188))}if(d.return!==g.return)d=_,g=T;else{for(var D=!1,B=_.child;B;){if(B===d){D=!0,d=_,g=T;break}if(B===g){D=!0,g=_,d=T;break}B=B.sibling}if(!D){for(B=T.child;B;){if(B===d){D=!0,d=T,g=_;break}if(B===g){D=!0,g=T,d=_;break}B=B.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function Le(o){return o=Ee(o),o!==null?nt(o):null}function nt(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=nt(o);if(l!==null)return l;o=o.sibling}return null}var De=e.unstable_scheduleCallback,Tt=e.unstable_cancelCallback,Qt=e.unstable_shouldYield,dl=e.unstable_requestPaint,wt=e.unstable_now,yn=e.unstable_getCurrentPriorityLevel,gi=e.unstable_ImmediatePriority,nn=e.unstable_UserBlockingPriority,Cr=e.unstable_NormalPriority,ga=e.unstable_LowPriority,Kn=e.unstable_IdlePriority,us=null,Cn=null;function jd(o){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(us,o,void 0,(o.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:Dd,rc=Math.log,Md=Math.LN2;function Dd(o){return o>>>=0,o===0?32:31-(rc(o)/Md|0)|0}var hl=64,pl=4194304;function ao(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function cs(o,l){var d=o.pendingLanes;if(d===0)return 0;var g=0,_=o.suspendedLanes,T=o.pingedLanes,D=d&268435455;if(D!==0){var B=D&~_;B!==0?g=ao(B):(T&=D,T!==0&&(g=ao(T)))}else D=d&~_,D!==0?g=ao(D):T!==0&&(g=ao(T));if(g===0)return 0;if(l!==0&&l!==g&&(l&_)===0&&(_=g&-g,T=l&-l,_>=T||_===16&&(T&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)d=31-an(l),_=1<<d,g|=o[d],l&=~_;return g}function Vg(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ya(o,l){for(var d=o.suspendedLanes,g=o.pingedLanes,_=o.expirationTimes,T=o.pendingLanes;0<T;){var D=31-an(T),B=1<<D,z=_[D];z===-1?((B&d)===0||(B&g)!==0)&&(_[D]=Vg(B,l)):z<=l&&(o.expiredLanes|=B),T&=~B}}function Nn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function fs(){var o=hl;return hl<<=1,(hl&4194240)===0&&(hl=64),o}function oo(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function so(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-an(l),o[l]=d}function At(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<d;){var _=31-an(d),T=1<<_;l[_]=0,g[_]=-1,o[_]=-1,d&=~T}}function lo(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var g=31-an(d),_=1<<g;_&l|o[g]&l&&(o[g]|=l),d&=~_}}var it=0;function uo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Ld,ml,$d,Vd,Fd,nc=!1,Vi=[],Nr=null,yi=null,vi=null,co=new Map,Gn=new Map,Fi=[],Fg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ud(o,l){switch(o){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":co.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(l.pointerId)}}function vn(o,l,d,g,_,T){return o===null||o.nativeEvent!==T?(o={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:T,targetContainers:[_]},l!==null&&(l=vc(l),l!==null&&ml(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function Ug(o,l,d,g,_){switch(l){case"focusin":return Nr=vn(Nr,o,l,d,g,_),!0;case"dragenter":return yi=vn(yi,o,l,d,g,_),!0;case"mouseover":return vi=vn(vi,o,l,d,g,_),!0;case"pointerover":var T=_.pointerId;return co.set(T,vn(co.get(T)||null,o,l,d,g,_)),!0;case"gotpointercapture":return T=_.pointerId,Gn.set(T,vn(Gn.get(T)||null,o,l,d,g,_)),!0}return!1}function Bd(o){var l=gs(o.target);if(l!==null){var d=we(l);if(d!==null){if(l=d.tag,l===13){if(l=Oe(d),l!==null){o.blockedOn=l,Fd(o.priority,function(){$d(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function va(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=gl(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);da=g,d.target.dispatchEvent(g),da=null}else return l=vc(d),l!==null&&ml(l),o.blockedOn=d,!1;l.shift()}return!0}function ds(o,l,d){va(o)&&d.delete(l)}function qd(){nc=!1,Nr!==null&&va(Nr)&&(Nr=null),yi!==null&&va(yi)&&(yi=null),vi!==null&&va(vi)&&(vi=null),co.forEach(ds),Gn.forEach(ds)}function bi(o,l){o.blockedOn===l&&(o.blockedOn=null,nc||(nc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qd)))}function _i(o){function l(_){return bi(_,o)}if(0<Vi.length){bi(Vi[0],o);for(var d=1;d<Vi.length;d++){var g=Vi[d];g.blockedOn===o&&(g.blockedOn=null)}}for(Nr!==null&&bi(Nr,o),yi!==null&&bi(yi,o),vi!==null&&bi(vi,o),co.forEach(l),Gn.forEach(l),d=0;d<Fi.length;d++)g=Fi[d],g.blockedOn===o&&(g.blockedOn=null);for(;0<Fi.length&&(d=Fi[0],d.blockedOn===null);)Bd(d),d.blockedOn===null&&Fi.shift()}var ba=$.ReactCurrentBatchConfig,fo=!0;function Vt(o,l,d,g){var _=it,T=ba.transition;ba.transition=null;try{it=1,ic(o,l,d,g)}finally{it=_,ba.transition=T}}function Bg(o,l,d,g){var _=it,T=ba.transition;ba.transition=null;try{it=4,ic(o,l,d,g)}finally{it=_,ba.transition=T}}function ic(o,l,d,g){if(fo){var _=gl(o,l,d,g);if(_===null)Zg(o,l,g,hs,d),Ud(o,g);else if(Ug(_,o,l,d,g))g.stopPropagation();else if(Ud(o,g),l&4&&-1<Fg.indexOf(o)){for(;_!==null;){var T=vc(_);if(T!==null&&Ld(T),T=gl(o,l,d,g),T===null&&Zg(o,l,g,hs,d),T===_)break;_=T}_!==null&&g.stopPropagation()}else Zg(o,l,g,null,d)}}var hs=null;function gl(o,l,d,g){if(hs=null,o=In(g),o=gs(o),o!==null)if(l=we(o),l===null)o=null;else if(d=l.tag,d===13){if(o=Oe(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return hs=o,null}function ac(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yn()){case gi:return 1;case nn:return 4;case Cr:case ga:return 16;case Kn:return 536870912;default:return 16}default:return 16}}var Rn=null,yl=null,bn=null;function oc(){if(bn)return bn;var o,l=yl,d=l.length,g,_="value"in Rn?Rn.value:Rn.textContent,T=_.length;for(o=0;o<d&&l[o]===_[o];o++);var D=d-o;for(g=1;g<=D&&l[d-g]===_[T-g];g++);return bn=_.slice(o,1<g?1-g:void 0)}function vl(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ui(){return!0}function sc(){return!1}function Rr(o){function l(d,g,_,T,D){this._reactName=d,this._targetInst=_,this.type=g,this.nativeEvent=T,this.target=D,this.currentTarget=null;for(var B in o)o.hasOwnProperty(B)&&(d=o[B],this[B]=d?d(T):T[B]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ui:sc,this.isPropagationStopped=sc,this}return se(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),l}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Rr(xi),Bi=se({},xi,{view:0,detail:0}),qg=Rr(Bi),_l,_a,ho,ps=se({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ho&&(ho&&o.type==="mousemove"?(_l=o.screenX-ho.screenX,_a=o.screenY-ho.screenY):_a=_l=0,ho=o),_l)},movementY:function(o){return"movementY"in o?o.movementY:_a}}),xl=Rr(ps),lc=se({},ps,{dataTransfer:0}),zd=Rr(lc),wl=se({},Bi,{relatedTarget:0}),El=Rr(wl),Wd=se({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=Rr(Wd),Hd=se({},xi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Kd=Rr(Hd),Gd=se({},xi,{data:0}),uc=Rr(Gd),Sl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},on={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xd(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Yd[o])?!!l[o]:!1}function qi(){return Xd}var p=se({},Bi,{key:function(o){if(o.key){var l=Sl[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=vl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?on[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qi,charCode:function(o){return o.type==="keypress"?vl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?vl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),S=Rr(p),k=se({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=Rr(k),Y=se({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qi}),ne=Rr(Y),_e=se({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Rr(_e),dr=se({},ps,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ot=Rr(dr),xr=[9,13,27,32],ar=u&&"CompositionEvent"in window,Yn=null;u&&"documentMode"in document&&(Yn=document.documentMode);var jn=u&&"TextEvent"in window&&!Yn,ms=u&&(!ar||Yn&&8<Yn&&11>=Yn),Tl=" ",IS=!1;function OS(o,l){switch(o){case"keyup":return xr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Al=!1;function xV(o,l){switch(o){case"compositionend":return CS(l);case"keypress":return l.which!==32?null:(IS=!0,Tl);case"textInput":return o=l.data,o===Tl&&IS?null:o;default:return null}}function wV(o,l){if(Al)return o==="compositionend"||!ar&&OS(o,l)?(o=oc(),bn=yl=Rn=null,Al=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ms&&l.locale!=="ko"?null:l.data;default:return null}}var EV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NS(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!EV[o.type]:l==="textarea"}function RS(o,l,d,g){Xt(g),l=th(l,"onChange"),0<l.length&&(d=new bl("onChange","change",null,d,g),o.push({event:d,listeners:l}))}var cc=null,fc=null;function SV(o){QS(o,0)}function Qd(o){var l=Cl(o);if(ue(l))return o}function TV(o,l){if(o==="change")return l}var jS=!1;if(u){var zg;if(u){var Wg="oninput"in document;if(!Wg){var MS=document.createElement("div");MS.setAttribute("oninput","return;"),Wg=typeof MS.oninput=="function"}zg=Wg}else zg=!1;jS=zg&&(!document.documentMode||9<document.documentMode)}function DS(){cc&&(cc.detachEvent("onpropertychange",LS),fc=cc=null)}function LS(o){if(o.propertyName==="value"&&Qd(fc)){var l=[];RS(l,fc,o,In(o)),ss(SV,l)}}function AV(o,l,d){o==="focusin"?(DS(),cc=l,fc=d,cc.attachEvent("onpropertychange",LS)):o==="focusout"&&DS()}function PV(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Qd(fc)}function kV(o,l){if(o==="click")return Qd(l)}function IV(o,l){if(o==="input"||o==="change")return Qd(l)}function OV(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var wi=typeof Object.is=="function"?Object.is:OV;function dc(o,l){if(wi(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var _=d[g];if(!c.call(l,_)||!wi(o[_],l[_]))return!1}return!0}function $S(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function VS(o,l){var d=$S(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=l&&g>=l)return{node:d,offset:l-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=$S(d)}}function FS(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?FS(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function US(){for(var o=window,l=lt();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=lt(o.document)}return l}function Hg(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function CV(o){var l=US(),d=o.focusedElem,g=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&FS(d.ownerDocument.documentElement,d)){if(g!==null&&Hg(d)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var _=d.textContent.length,T=Math.min(g.start,_);g=g.end===void 0?T:Math.min(g.end,_),!o.extend&&T>g&&(_=g,g=T,T=_),_=VS(d,T);var D=VS(d,g);_&&D&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==D.node||o.focusOffset!==D.offset)&&(l=l.createRange(),l.setStart(_.node,_.offset),o.removeAllRanges(),T>g?(o.addRange(l),o.extend(D.node,D.offset)):(l.setEnd(D.node,D.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var NV=u&&"documentMode"in document&&11>=document.documentMode,Pl=null,Kg=null,hc=null,Gg=!1;function BS(o,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Gg||Pl==null||Pl!==lt(g)||(g=Pl,"selectionStart"in g&&Hg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),hc&&dc(hc,g)||(hc=g,g=th(Kg,"onSelect"),0<g.length&&(l=new bl("onSelect","select",null,l,d),o.push({event:l,listeners:g}),l.target=Pl)))}function Jd(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var kl={animationend:Jd("Animation","AnimationEnd"),animationiteration:Jd("Animation","AnimationIteration"),animationstart:Jd("Animation","AnimationStart"),transitionend:Jd("Transition","TransitionEnd")},Yg={},qS={};u&&(qS=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function Zd(o){if(Yg[o])return Yg[o];if(!kl[o])return o;var l=kl[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in qS)return Yg[o]=l[d];return o}var zS=Zd("animationend"),WS=Zd("animationiteration"),HS=Zd("animationstart"),KS=Zd("transitionend"),GS=new Map,YS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(o,l){GS.set(o,l),a(l,[o])}for(var Xg=0;Xg<YS.length;Xg++){var Qg=YS[Xg],RV=Qg.toLowerCase(),jV=Qg[0].toUpperCase()+Qg.slice(1);po(RV,"on"+jV)}po(zS,"onAnimationEnd"),po(WS,"onAnimationIteration"),po(HS,"onAnimationStart"),po("dblclick","onDoubleClick"),po("focusin","onFocus"),po("focusout","onBlur"),po(KS,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MV=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function XS(o,l,d){var g=o.type||"unknown-event";o.currentTarget=d,Z(g,l,void 0,o),o.currentTarget=null}function QS(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],_=g.event;g=g.listeners;e:{var T=void 0;if(l)for(var D=g.length-1;0<=D;D--){var B=g[D],z=B.instance,te=B.currentTarget;if(B=B.listener,z!==T&&_.isPropagationStopped())break e;XS(_,B,te),T=z}else for(D=0;D<g.length;D++){if(B=g[D],z=B.instance,te=B.currentTarget,B=B.listener,z!==T&&_.isPropagationStopped())break e;XS(_,B,te),T=z}}}if(On)throw o=ls,On=!1,ls=null,o}function Rt(o,l){var d=l[ay];d===void 0&&(d=l[ay]=new Set);var g=o+"__bubble";d.has(g)||(JS(l,o,2,!1),d.add(g))}function Jg(o,l,d){var g=0;l&&(g|=4),JS(d,o,g,l)}var eh="_reactListening"+Math.random().toString(36).slice(2);function mc(o){if(!o[eh]){o[eh]=!0,n.forEach(function(d){d!=="selectionchange"&&(MV.has(d)||Jg(d,!1,o),Jg(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[eh]||(l[eh]=!0,Jg("selectionchange",!1,l))}}function JS(o,l,d,g){switch(ac(l)){case 1:var _=Vt;break;case 4:_=Bg;break;default:_=ic}d=_.bind(null,l,d,o),_=void 0,!ro||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),g?_!==void 0?o.addEventListener(l,d,{capture:!0,passive:_}):o.addEventListener(l,d,!0):_!==void 0?o.addEventListener(l,d,{passive:_}):o.addEventListener(l,d,!1)}function Zg(o,l,d,g,_){var T=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var B=g.stateNode.containerInfo;if(B===_||B.nodeType===8&&B.parentNode===_)break;if(D===4)for(D=g.return;D!==null;){var z=D.tag;if((z===3||z===4)&&(z=D.stateNode.containerInfo,z===_||z.nodeType===8&&z.parentNode===_))return;D=D.return}for(;B!==null;){if(D=gs(B),D===null)return;if(z=D.tag,z===5||z===6){g=T=D;continue e}B=B.parentNode}}g=g.return}ss(function(){var te=T,pe=In(d),ye=[];e:{var de=GS.get(o);if(de!==void 0){var Te=bl,Ie=o;switch(o){case"keypress":if(vl(d)===0)break e;case"keydown":case"keyup":Te=S;break;case"focusin":Ie="focus",Te=El;break;case"focusout":Ie="blur",Te=El;break;case"beforeblur":case"afterblur":Te=El;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=zd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=ne;break;case zS:case WS:case HS:Te=xa;break;case KS:Te=bt;break;case"scroll":Te=qg;break;case"wheel":Te=ot;break;case"copy":case"cut":case"paste":Te=Kd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=U}var Ne=(l&4)!==0,nr=!Ne&&o==="scroll",X=Ne?de!==null?de+"Capture":null:de;Ne=[];for(var H=te,J;H!==null;){J=H;var ve=J.stateNode;if(J.tag===5&&ve!==null&&(J=ve,X!==null&&(ve=Nt(H,X),ve!=null&&Ne.push(gc(H,ve,J)))),nr)break;H=H.return}0<Ne.length&&(de=new Te(de,Ie,null,d,pe),ye.push({event:de,listeners:Ne}))}}if((l&7)===0){e:{if(de=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",de&&d!==da&&(Ie=d.relatedTarget||d.fromElement)&&(gs(Ie)||Ie[wa]))break e;if((Te||de)&&(de=pe.window===pe?pe:(de=pe.ownerDocument)?de.defaultView||de.parentWindow:window,Te?(Ie=d.relatedTarget||d.toElement,Te=te,Ie=Ie?gs(Ie):null,Ie!==null&&(nr=we(Ie),Ie!==nr||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Te=null,Ie=te),Te!==Ie)){if(Ne=xl,ve="onMouseLeave",X="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Ne=U,ve="onPointerLeave",X="onPointerEnter",H="pointer"),nr=Te==null?de:Cl(Te),J=Ie==null?de:Cl(Ie),de=new Ne(ve,H+"leave",Te,d,pe),de.target=nr,de.relatedTarget=J,ve=null,gs(pe)===te&&(Ne=new Ne(X,H+"enter",Ie,d,pe),Ne.target=J,Ne.relatedTarget=nr,ve=Ne),nr=ve,Te&&Ie)t:{for(Ne=Te,X=Ie,H=0,J=Ne;J;J=Il(J))H++;for(J=0,ve=X;ve;ve=Il(ve))J++;for(;0<H-J;)Ne=Il(Ne),H--;for(;0<J-H;)X=Il(X),J--;for(;H--;){if(Ne===X||X!==null&&Ne===X.alternate)break t;Ne=Il(Ne),X=Il(X)}Ne=null}else Ne=null;Te!==null&&ZS(ye,de,Te,Ne,!1),Ie!==null&&nr!==null&&ZS(ye,nr,Ie,Ne,!0)}}e:{if(de=te?Cl(te):window,Te=de.nodeName&&de.nodeName.toLowerCase(),Te==="select"||Te==="input"&&de.type==="file")var Me=TV;else if(NS(de))if(jS)Me=IV;else{Me=PV;var Ue=AV}else(Te=de.nodeName)&&Te.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Me=kV);if(Me&&(Me=Me(o,te))){RS(ye,Me,d,pe);break e}Ue&&Ue(o,de,te),o==="focusout"&&(Ue=de._wrapperState)&&Ue.controlled&&de.type==="number"&&en(de,"number",de.value)}switch(Ue=te?Cl(te):window,o){case"focusin":(NS(Ue)||Ue.contentEditable==="true")&&(Pl=Ue,Kg=te,hc=null);break;case"focusout":hc=Kg=Pl=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,BS(ye,d,pe);break;case"selectionchange":if(NV)break;case"keydown":case"keyup":BS(ye,d,pe)}var Be;if(ar)e:{switch(o){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Al?OS(o,d)&&(Ge="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ge="onCompositionStart");Ge&&(ms&&d.locale!=="ko"&&(Al||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Al&&(Be=oc()):(Rn=pe,yl="value"in Rn?Rn.value:Rn.textContent,Al=!0)),Ue=th(te,Ge),0<Ue.length&&(Ge=new uc(Ge,o,null,d,pe),ye.push({event:Ge,listeners:Ue}),Be?Ge.data=Be:(Be=CS(d),Be!==null&&(Ge.data=Be)))),(Be=jn?xV(o,d):wV(o,d))&&(te=th(te,"onBeforeInput"),0<te.length&&(pe=new uc("onBeforeInput","beforeinput",null,d,pe),ye.push({event:pe,listeners:te}),pe.data=Be))}QS(ye,l)})}function gc(o,l,d){return{instance:o,listener:l,currentTarget:d}}function th(o,l){for(var d=l+"Capture",g=[];o!==null;){var _=o,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=Nt(o,d),T!=null&&g.unshift(gc(o,T,_)),T=Nt(o,l),T!=null&&g.push(gc(o,T,_))),o=o.return}return g}function Il(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function ZS(o,l,d,g,_){for(var T=l._reactName,D=[];d!==null&&d!==g;){var B=d,z=B.alternate,te=B.stateNode;if(z!==null&&z===g)break;B.tag===5&&te!==null&&(B=te,_?(z=Nt(d,T),z!=null&&D.unshift(gc(d,z,B))):_||(z=Nt(d,T),z!=null&&D.push(gc(d,z,B)))),d=d.return}D.length!==0&&o.push({event:l,listeners:D})}var DV=/\r\n?/g,LV=/\u0000|\uFFFD/g;function eT(o){return(typeof o=="string"?o:""+o).replace(DV,`
`).replace(LV,"")}function rh(o,l,d){if(l=eT(l),eT(o)!==l&&d)throw Error(r(425))}function nh(){}var ey=null,ty=null;function ry(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ny=typeof setTimeout=="function"?setTimeout:void 0,$V=typeof clearTimeout=="function"?clearTimeout:void 0,tT=typeof Promise=="function"?Promise:void 0,VV=typeof queueMicrotask=="function"?queueMicrotask:typeof tT<"u"?function(o){return tT.resolve(null).then(o).catch(FV)}:ny;function FV(o){setTimeout(function(){throw o})}function iy(o,l){var d=l,g=0;do{var _=d.nextSibling;if(o.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(g===0){o.removeChild(_),_i(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=_}while(d);_i(l)}function mo(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function rT(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var Ol=Math.random().toString(36).slice(2),zi="__reactFiber$"+Ol,yc="__reactProps$"+Ol,wa="__reactContainer$"+Ol,ay="__reactEvents$"+Ol,UV="__reactListeners$"+Ol,BV="__reactHandles$"+Ol;function gs(o){var l=o[zi];if(l)return l;for(var d=o.parentNode;d;){if(l=d[wa]||d[zi]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=rT(o);o!==null;){if(d=o[zi])return d;o=rT(o)}return l}o=d,d=o.parentNode}return null}function vc(o){return o=o[zi]||o[wa],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Cl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function ih(o){return o[yc]||null}var oy=[],Nl=-1;function go(o){return{current:o}}function jt(o){0>Nl||(o.current=oy[Nl],oy[Nl]=null,Nl--)}function kt(o,l){Nl++,oy[Nl]=o.current,o.current=l}var yo={},qr=go(yo),_n=go(!1),ys=yo;function Rl(o,l){var d=o.type.contextTypes;if(!d)return yo;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in d)_[T]=l[T];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=_),_}function xn(o){return o=o.childContextTypes,o!=null}function ah(){jt(_n),jt(qr)}function nT(o,l,d){if(qr.current!==yo)throw Error(r(168));kt(qr,l),kt(_n,d)}function iT(o,l,d){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var _ in g)if(!(_ in l))throw Error(r(108,$e(o)||"Unknown",_));return se({},d,g)}function oh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||yo,ys=qr.current,kt(qr,o),kt(_n,_n.current),!0}function aT(o,l,d){var g=o.stateNode;if(!g)throw Error(r(169));d?(o=iT(o,l,ys),g.__reactInternalMemoizedMergedChildContext=o,jt(_n),jt(qr),kt(qr,o)):jt(_n),kt(_n,d)}var Ea=null,sh=!1,sy=!1;function oT(o){Ea===null?Ea=[o]:Ea.push(o)}function qV(o){sh=!0,oT(o)}function vo(){if(!sy&&Ea!==null){sy=!0;var o=0,l=it;try{var d=Ea;for(it=1;o<d.length;o++){var g=d[o];do g=g(!0);while(g!==null)}Ea=null,sh=!1}catch(_){throw Ea!==null&&(Ea=Ea.slice(o+1)),De(gi,vo),_}finally{it=l,sy=!1}}return null}var jl=[],Ml=0,lh=null,uh=0,Xn=[],Qn=0,vs=null,Sa=1,Ta="";function bs(o,l){jl[Ml++]=uh,jl[Ml++]=lh,lh=o,uh=l}function sT(o,l,d){Xn[Qn++]=Sa,Xn[Qn++]=Ta,Xn[Qn++]=vs,vs=o;var g=Sa;o=Ta;var _=32-an(g)-1;g&=~(1<<_),d+=1;var T=32-an(l)+_;if(30<T){var D=_-_%5;T=(g&(1<<D)-1).toString(32),g>>=D,_-=D,Sa=1<<32-an(l)+_|d<<_|g,Ta=T+o}else Sa=1<<T|d<<_|g,Ta=o}function ly(o){o.return!==null&&(bs(o,1),sT(o,1,0))}function uy(o){for(;o===lh;)lh=jl[--Ml],jl[Ml]=null,uh=jl[--Ml],jl[Ml]=null;for(;o===vs;)vs=Xn[--Qn],Xn[Qn]=null,Ta=Xn[--Qn],Xn[Qn]=null,Sa=Xn[--Qn],Xn[Qn]=null}var Mn=null,Dn=null,Ft=!1,Ei=null;function lT(o,l){var d=ti(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function uT(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Mn=o,Dn=mo(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Mn=o,Dn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=vs!==null?{id:Sa,overflow:Ta}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=ti(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,Mn=o,Dn=null,!0):!1;default:return!1}}function cy(o){return(o.mode&1)!==0&&(o.flags&128)===0}function fy(o){if(Ft){var l=Dn;if(l){var d=l;if(!uT(o,l)){if(cy(o))throw Error(r(418));l=mo(d.nextSibling);var g=Mn;l&&uT(o,l)?lT(g,d):(o.flags=o.flags&-4097|2,Ft=!1,Mn=o)}}else{if(cy(o))throw Error(r(418));o.flags=o.flags&-4097|2,Ft=!1,Mn=o}}}function cT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Mn=o}function ch(o){if(o!==Mn)return!1;if(!Ft)return cT(o),Ft=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!ry(o.type,o.memoizedProps)),l&&(l=Dn)){if(cy(o))throw fT(),Error(r(418));for(;l;)lT(o,l),l=mo(l.nextSibling)}if(cT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){Dn=mo(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}Dn=null}}else Dn=Mn?mo(o.stateNode.nextSibling):null;return!0}function fT(){for(var o=Dn;o;)o=mo(o.nextSibling)}function Dl(){Dn=Mn=null,Ft=!1}function dy(o){Ei===null?Ei=[o]:Ei.push(o)}var zV=$.ReactCurrentBatchConfig;function bc(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,o));var _=g,T=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function(D){var B=_.refs;D===null?delete B[T]:B[T]=D},l._stringRef=T,l)}if(typeof o!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,o))}return o}function fh(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function dT(o){var l=o._init;return l(o._payload)}function hT(o){function l(X,H){if(o){var J=X.deletions;J===null?(X.deletions=[H],X.flags|=16):J.push(H)}}function d(X,H){if(!o)return null;for(;H!==null;)l(X,H),H=H.sibling;return null}function g(X,H){for(X=new Map;H!==null;)H.key!==null?X.set(H.key,H):X.set(H.index,H),H=H.sibling;return X}function _(X,H){return X=Ao(X,H),X.index=0,X.sibling=null,X}function T(X,H,J){return X.index=J,o?(J=X.alternate,J!==null?(J=J.index,J<H?(X.flags|=2,H):J):(X.flags|=2,H)):(X.flags|=1048576,H)}function D(X){return o&&X.alternate===null&&(X.flags|=2),X}function B(X,H,J,ve){return H===null||H.tag!==6?(H=nv(J,X.mode,ve),H.return=X,H):(H=_(H,J),H.return=X,H)}function z(X,H,J,ve){var Me=J.type;return Me===A?pe(X,H,J.props.children,ve,J.key):H!==null&&(H.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ie&&dT(Me)===H.type)?(ve=_(H,J.props),ve.ref=bc(X,H,J),ve.return=X,ve):(ve=Mh(J.type,J.key,J.props,null,X.mode,ve),ve.ref=bc(X,H,J),ve.return=X,ve)}function te(X,H,J,ve){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=iv(J,X.mode,ve),H.return=X,H):(H=_(H,J.children||[]),H.return=X,H)}function pe(X,H,J,ve,Me){return H===null||H.tag!==7?(H=Ps(J,X.mode,ve,Me),H.return=X,H):(H=_(H,J),H.return=X,H)}function ye(X,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=nv(""+H,X.mode,J),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return J=Mh(H.type,H.key,H.props,null,X.mode,J),J.ref=bc(X,null,H),J.return=X,J;case j:return H=iv(H,X.mode,J),H.return=X,H;case ie:var ve=H._init;return ye(X,ve(H._payload),J)}if(qt(H)||ae(H))return H=Ps(H,X.mode,J,null),H.return=X,H;fh(X,H)}return null}function de(X,H,J,ve){var Me=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Me!==null?null:B(X,H,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return J.key===Me?z(X,H,J,ve):null;case j:return J.key===Me?te(X,H,J,ve):null;case ie:return Me=J._init,de(X,H,Me(J._payload),ve)}if(qt(J)||ae(J))return Me!==null?null:pe(X,H,J,ve,null);fh(X,J)}return null}function Te(X,H,J,ve,Me){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return X=X.get(J)||null,B(H,X,""+ve,Me);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case O:return X=X.get(ve.key===null?J:ve.key)||null,z(H,X,ve,Me);case j:return X=X.get(ve.key===null?J:ve.key)||null,te(H,X,ve,Me);case ie:var Ue=ve._init;return Te(X,H,J,Ue(ve._payload),Me)}if(qt(ve)||ae(ve))return X=X.get(J)||null,pe(H,X,ve,Me,null);fh(H,ve)}return null}function Ie(X,H,J,ve){for(var Me=null,Ue=null,Be=H,Ge=H=0,Sr=null;Be!==null&&Ge<J.length;Ge++){Be.index>Ge?(Sr=Be,Be=null):Sr=Be.sibling;var ct=de(X,Be,J[Ge],ve);if(ct===null){Be===null&&(Be=Sr);break}o&&Be&&ct.alternate===null&&l(X,Be),H=T(ct,H,Ge),Ue===null?Me=ct:Ue.sibling=ct,Ue=ct,Be=Sr}if(Ge===J.length)return d(X,Be),Ft&&bs(X,Ge),Me;if(Be===null){for(;Ge<J.length;Ge++)Be=ye(X,J[Ge],ve),Be!==null&&(H=T(Be,H,Ge),Ue===null?Me=Be:Ue.sibling=Be,Ue=Be);return Ft&&bs(X,Ge),Me}for(Be=g(X,Be);Ge<J.length;Ge++)Sr=Te(Be,X,Ge,J[Ge],ve),Sr!==null&&(o&&Sr.alternate!==null&&Be.delete(Sr.key===null?Ge:Sr.key),H=T(Sr,H,Ge),Ue===null?Me=Sr:Ue.sibling=Sr,Ue=Sr);return o&&Be.forEach(function(Po){return l(X,Po)}),Ft&&bs(X,Ge),Me}function Ne(X,H,J,ve){var Me=ae(J);if(typeof Me!="function")throw Error(r(150));if(J=Me.call(J),J==null)throw Error(r(151));for(var Ue=Me=null,Be=H,Ge=H=0,Sr=null,ct=J.next();Be!==null&&!ct.done;Ge++,ct=J.next()){Be.index>Ge?(Sr=Be,Be=null):Sr=Be.sibling;var Po=de(X,Be,ct.value,ve);if(Po===null){Be===null&&(Be=Sr);break}o&&Be&&Po.alternate===null&&l(X,Be),H=T(Po,H,Ge),Ue===null?Me=Po:Ue.sibling=Po,Ue=Po,Be=Sr}if(ct.done)return d(X,Be),Ft&&bs(X,Ge),Me;if(Be===null){for(;!ct.done;Ge++,ct=J.next())ct=ye(X,ct.value,ve),ct!==null&&(H=T(ct,H,Ge),Ue===null?Me=ct:Ue.sibling=ct,Ue=ct);return Ft&&bs(X,Ge),Me}for(Be=g(X,Be);!ct.done;Ge++,ct=J.next())ct=Te(Be,X,Ge,ct.value,ve),ct!==null&&(o&&ct.alternate!==null&&Be.delete(ct.key===null?Ge:ct.key),H=T(ct,H,Ge),Ue===null?Me=ct:Ue.sibling=ct,Ue=ct);return o&&Be.forEach(function(EF){return l(X,EF)}),Ft&&bs(X,Ge),Me}function nr(X,H,J,ve){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case O:e:{for(var Me=J.key,Ue=H;Ue!==null;){if(Ue.key===Me){if(Me=J.type,Me===A){if(Ue.tag===7){d(X,Ue.sibling),H=_(Ue,J.props.children),H.return=X,X=H;break e}}else if(Ue.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ie&&dT(Me)===Ue.type){d(X,Ue.sibling),H=_(Ue,J.props),H.ref=bc(X,Ue,J),H.return=X,X=H;break e}d(X,Ue);break}else l(X,Ue);Ue=Ue.sibling}J.type===A?(H=Ps(J.props.children,X.mode,ve,J.key),H.return=X,X=H):(ve=Mh(J.type,J.key,J.props,null,X.mode,ve),ve.ref=bc(X,H,J),ve.return=X,X=ve)}return D(X);case j:e:{for(Ue=J.key;H!==null;){if(H.key===Ue)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){d(X,H.sibling),H=_(H,J.children||[]),H.return=X,X=H;break e}else{d(X,H);break}else l(X,H);H=H.sibling}H=iv(J,X.mode,ve),H.return=X,X=H}return D(X);case ie:return Ue=J._init,nr(X,H,Ue(J._payload),ve)}if(qt(J))return Ie(X,H,J,ve);if(ae(J))return Ne(X,H,J,ve);fh(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(d(X,H.sibling),H=_(H,J),H.return=X,X=H):(d(X,H),H=nv(J,X.mode,ve),H.return=X,X=H),D(X)):d(X,H)}return nr}var Ll=hT(!0),pT=hT(!1),dh=go(null),hh=null,$l=null,hy=null;function py(){hy=$l=hh=null}function my(o){var l=dh.current;jt(dh),o._currentValue=l}function gy(o,l,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===d)break;o=o.return}}function Vl(o,l){hh=o,hy=$l=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(wn=!0),o.firstContext=null)}function Jn(o){var l=o._currentValue;if(hy!==o)if(o={context:o,memoizedValue:l,next:null},$l===null){if(hh===null)throw Error(r(308));$l=o,hh.dependencies={lanes:0,firstContext:o}}else $l=$l.next=o;return l}var _s=null;function yy(o){_s===null?_s=[o]:_s.push(o)}function mT(o,l,d,g){var _=l.interleaved;return _===null?(d.next=d,yy(l)):(d.next=_.next,_.next=d),l.interleaved=d,Aa(o,g)}function Aa(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var bo=!1;function vy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gT(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Pa(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function _o(o,l,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(ut&2)!==0){var _=g.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),g.pending=l,Aa(o,d)}return _=g.interleaved,_===null?(l.next=l,yy(g)):(l.next=_.next,_.next=l),g.interleaved=l,Aa(o,d)}function ph(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,lo(o,d)}}function yT(o,l){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var _=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?_=T=D:T=T.next=D,d=d.next}while(d!==null);T===null?_=T=l:T=T.next=l}else _=T=l;d={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:g.shared,effects:g.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function mh(o,l,d,g){var _=o.updateQueue;bo=!1;var T=_.firstBaseUpdate,D=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var z=B,te=z.next;z.next=null,D===null?T=te:D.next=te,D=z;var pe=o.alternate;pe!==null&&(pe=pe.updateQueue,B=pe.lastBaseUpdate,B!==D&&(B===null?pe.firstBaseUpdate=te:B.next=te,pe.lastBaseUpdate=z))}if(T!==null){var ye=_.baseState;D=0,pe=te=z=null,B=T;do{var de=B.lane,Te=B.eventTime;if((g&de)===de){pe!==null&&(pe=pe.next={eventTime:Te,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ie=o,Ne=B;switch(de=l,Te=d,Ne.tag){case 1:if(Ie=Ne.payload,typeof Ie=="function"){ye=Ie.call(Te,ye,de);break e}ye=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ne.payload,de=typeof Ie=="function"?Ie.call(Te,ye,de):Ie,de==null)break e;ye=se({},ye,de);break e;case 2:bo=!0}}B.callback!==null&&B.lane!==0&&(o.flags|=64,de=_.effects,de===null?_.effects=[B]:de.push(B))}else Te={eventTime:Te,lane:de,tag:B.tag,payload:B.payload,callback:B.callback,next:null},pe===null?(te=pe=Te,z=ye):pe=pe.next=Te,D|=de;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;de=B,B=de.next,de.next=null,_.lastBaseUpdate=de,_.shared.pending=null}}while(!0);if(pe===null&&(z=ye),_.baseState=z,_.firstBaseUpdate=te,_.lastBaseUpdate=pe,l=_.shared.interleaved,l!==null){_=l;do D|=_.lane,_=_.next;while(_!==l)}else T===null&&(_.shared.lanes=0);Es|=D,o.lanes=D,o.memoizedState=ye}}function vT(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],_=g.callback;if(_!==null){if(g.callback=null,g=d,typeof _!="function")throw Error(r(191,_));_.call(g)}}}var _c={},Wi=go(_c),xc=go(_c),wc=go(_c);function xs(o){if(o===_c)throw Error(r(174));return o}function by(o,l){switch(kt(wc,l),kt(xc,o),kt(Wi,_c),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:rr(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=rr(l,o)}jt(Wi),kt(Wi,l)}function Fl(){jt(Wi),jt(xc),jt(wc)}function bT(o){xs(wc.current);var l=xs(Wi.current),d=rr(l,o.type);l!==d&&(kt(xc,o),kt(Wi,d))}function _y(o){xc.current===o&&(jt(Wi),jt(xc))}var Wt=go(0);function gh(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var xy=[];function wy(){for(var o=0;o<xy.length;o++)xy[o]._workInProgressVersionPrimary=null;xy.length=0}var yh=$.ReactCurrentDispatcher,Ey=$.ReactCurrentBatchConfig,ws=0,Ht=null,hr=null,wr=null,vh=!1,Ec=!1,Sc=0,WV=0;function zr(){throw Error(r(321))}function Sy(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!wi(o[d],l[d]))return!1;return!0}function Ty(o,l,d,g,_,T){if(ws=T,Ht=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,yh.current=o===null||o.memoizedState===null?YV:XV,o=d(g,_),Ec){T=0;do{if(Ec=!1,Sc=0,25<=T)throw Error(r(301));T+=1,wr=hr=null,l.updateQueue=null,yh.current=QV,o=d(g,_)}while(Ec)}if(yh.current=xh,l=hr!==null&&hr.next!==null,ws=0,wr=hr=Ht=null,vh=!1,l)throw Error(r(300));return o}function Ay(){var o=Sc!==0;return Sc=0,o}function Hi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Ht.memoizedState=wr=o:wr=wr.next=o,wr}function Zn(){if(hr===null){var o=Ht.alternate;o=o!==null?o.memoizedState:null}else o=hr.next;var l=wr===null?Ht.memoizedState:wr.next;if(l!==null)wr=l,hr=o;else{if(o===null)throw Error(r(310));hr=o,o={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},wr===null?Ht.memoizedState=wr=o:wr=wr.next=o}return wr}function Tc(o,l){return typeof l=="function"?l(o):l}function Py(o){var l=Zn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=hr,_=g.baseQueue,T=d.pending;if(T!==null){if(_!==null){var D=_.next;_.next=T.next,T.next=D}g.baseQueue=_=T,d.pending=null}if(_!==null){T=_.next,g=g.baseState;var B=D=null,z=null,te=T;do{var pe=te.lane;if((ws&pe)===pe)z!==null&&(z=z.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),g=te.hasEagerState?te.eagerState:o(g,te.action);else{var ye={lane:pe,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};z===null?(B=z=ye,D=g):z=z.next=ye,Ht.lanes|=pe,Es|=pe}te=te.next}while(te!==null&&te!==T);z===null?D=g:z.next=B,wi(g,l.memoizedState)||(wn=!0),l.memoizedState=g,l.baseState=D,l.baseQueue=z,d.lastRenderedState=g}if(o=d.interleaved,o!==null){_=o;do T=_.lane,Ht.lanes|=T,Es|=T,_=_.next;while(_!==o)}else _===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function ky(o){var l=Zn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=d.dispatch,_=d.pending,T=l.memoizedState;if(_!==null){d.pending=null;var D=_=_.next;do T=o(T,D.action),D=D.next;while(D!==_);wi(T,l.memoizedState)||(wn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,g]}function _T(){}function xT(o,l){var d=Ht,g=Zn(),_=l(),T=!wi(g.memoizedState,_);if(T&&(g.memoizedState=_,wn=!0),g=g.queue,Iy(ST.bind(null,d,g,o),[o]),g.getSnapshot!==l||T||wr!==null&&wr.memoizedState.tag&1){if(d.flags|=2048,Ac(9,ET.bind(null,d,g,_,l),void 0,null),Er===null)throw Error(r(349));(ws&30)!==0||wT(d,l,_)}return _}function wT(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Ht.updateQueue,l===null?(l={lastEffect:null,stores:null},Ht.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function ET(o,l,d,g){l.value=d,l.getSnapshot=g,TT(l)&&AT(o)}function ST(o,l,d){return d(function(){TT(l)&&AT(o)})}function TT(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!wi(o,d)}catch{return!0}}function AT(o){var l=Aa(o,1);l!==null&&Pi(l,o,1,-1)}function PT(o){var l=Hi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:o},l.queue=o,o=o.dispatch=GV.bind(null,Ht,o),[l.memoizedState,o]}function Ac(o,l,d,g){return o={tag:o,create:l,destroy:d,deps:g,next:null},l=Ht.updateQueue,l===null?(l={lastEffect:null,stores:null},Ht.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,l.lastEffect=o)),o}function kT(){return Zn().memoizedState}function bh(o,l,d,g){var _=Hi();Ht.flags|=o,_.memoizedState=Ac(1|l,d,void 0,g===void 0?null:g)}function _h(o,l,d,g){var _=Zn();g=g===void 0?null:g;var T=void 0;if(hr!==null){var D=hr.memoizedState;if(T=D.destroy,g!==null&&Sy(g,D.deps)){_.memoizedState=Ac(l,d,T,g);return}}Ht.flags|=o,_.memoizedState=Ac(1|l,d,T,g)}function IT(o,l){return bh(8390656,8,o,l)}function Iy(o,l){return _h(2048,8,o,l)}function OT(o,l){return _h(4,2,o,l)}function CT(o,l){return _h(4,4,o,l)}function NT(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function RT(o,l,d){return d=d!=null?d.concat([o]):null,_h(4,4,NT.bind(null,l,o),d)}function Oy(){}function jT(o,l){var d=Zn();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Sy(l,g[1])?g[0]:(d.memoizedState=[o,l],o)}function MT(o,l){var d=Zn();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Sy(l,g[1])?g[0]:(o=o(),d.memoizedState=[o,l],o)}function DT(o,l,d){return(ws&21)===0?(o.baseState&&(o.baseState=!1,wn=!0),o.memoizedState=d):(wi(d,l)||(d=fs(),Ht.lanes|=d,Es|=d,o.baseState=!0),l)}function HV(o,l){var d=it;it=d!==0&&4>d?d:4,o(!0);var g=Ey.transition;Ey.transition={};try{o(!1),l()}finally{it=d,Ey.transition=g}}function LT(){return Zn().memoizedState}function KV(o,l,d){var g=So(o);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},$T(o))VT(l,d);else if(d=mT(o,l,d,g),d!==null){var _=ln();Pi(d,o,g,_),FT(d,l,g)}}function GV(o,l,d){var g=So(o),_={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if($T(o))VT(l,_);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var D=l.lastRenderedState,B=T(D,d);if(_.hasEagerState=!0,_.eagerState=B,wi(B,D)){var z=l.interleaved;z===null?(_.next=_,yy(l)):(_.next=z.next,z.next=_),l.interleaved=_;return}}catch{}finally{}d=mT(o,l,_,g),d!==null&&(_=ln(),Pi(d,o,g,_),FT(d,l,g))}}function $T(o){var l=o.alternate;return o===Ht||l!==null&&l===Ht}function VT(o,l){Ec=vh=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function FT(o,l,d){if((d&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,lo(o,d)}}var xh={readContext:Jn,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},YV={readContext:Jn,useCallback:function(o,l){return Hi().memoizedState=[o,l===void 0?null:l],o},useContext:Jn,useEffect:IT,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,bh(4194308,4,NT.bind(null,l,o),d)},useLayoutEffect:function(o,l){return bh(4194308,4,o,l)},useInsertionEffect:function(o,l){return bh(4,2,o,l)},useMemo:function(o,l){var d=Hi();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var g=Hi();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=KV.bind(null,Ht,o),[g.memoizedState,o]},useRef:function(o){var l=Hi();return o={current:o},l.memoizedState=o},useState:PT,useDebugValue:Oy,useDeferredValue:function(o){return Hi().memoizedState=o},useTransition:function(){var o=PT(!1),l=o[0];return o=HV.bind(null,o[1]),Hi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var g=Ht,_=Hi();if(Ft){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Er===null)throw Error(r(349));(ws&30)!==0||wT(g,l,d)}_.memoizedState=d;var T={value:d,getSnapshot:l};return _.queue=T,IT(ST.bind(null,g,T,o),[o]),g.flags|=2048,Ac(9,ET.bind(null,g,T,d,l),void 0,null),d},useId:function(){var o=Hi(),l=Er.identifierPrefix;if(Ft){var d=Ta,g=Sa;d=(g&~(1<<32-an(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=Sc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=WV++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},XV={readContext:Jn,useCallback:jT,useContext:Jn,useEffect:Iy,useImperativeHandle:RT,useInsertionEffect:OT,useLayoutEffect:CT,useMemo:MT,useReducer:Py,useRef:kT,useState:function(){return Py(Tc)},useDebugValue:Oy,useDeferredValue:function(o){var l=Zn();return DT(l,hr.memoizedState,o)},useTransition:function(){var o=Py(Tc)[0],l=Zn().memoizedState;return[o,l]},useMutableSource:_T,useSyncExternalStore:xT,useId:LT,unstable_isNewReconciler:!1},QV={readContext:Jn,useCallback:jT,useContext:Jn,useEffect:Iy,useImperativeHandle:RT,useInsertionEffect:OT,useLayoutEffect:CT,useMemo:MT,useReducer:ky,useRef:kT,useState:function(){return ky(Tc)},useDebugValue:Oy,useDeferredValue:function(o){var l=Zn();return hr===null?l.memoizedState=o:DT(l,hr.memoizedState,o)},useTransition:function(){var o=ky(Tc)[0],l=Zn().memoizedState;return[o,l]},useMutableSource:_T,useSyncExternalStore:xT,useId:LT,unstable_isNewReconciler:!1};function Si(o,l){if(o&&o.defaultProps){l=se({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function Cy(o,l,d,g){l=o.memoizedState,d=d(g,l),d=d==null?l:se({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var wh={isMounted:function(o){return(o=o._reactInternals)?we(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var g=ln(),_=So(o),T=Pa(g,_);T.payload=l,d!=null&&(T.callback=d),l=_o(o,T,_),l!==null&&(Pi(l,o,_,g),ph(l,o,_))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var g=ln(),_=So(o),T=Pa(g,_);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=_o(o,T,_),l!==null&&(Pi(l,o,_,g),ph(l,o,_))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=ln(),g=So(o),_=Pa(d,g);_.tag=2,l!=null&&(_.callback=l),l=_o(o,_,g),l!==null&&(Pi(l,o,g,d),ph(l,o,g))}};function UT(o,l,d,g,_,T,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,T,D):l.prototype&&l.prototype.isPureReactComponent?!dc(d,g)||!dc(_,T):!0}function BT(o,l,d){var g=!1,_=yo,T=l.contextType;return typeof T=="object"&&T!==null?T=Jn(T):(_=xn(l)?ys:qr.current,g=l.contextTypes,T=(g=g!=null)?Rl(o,_):yo),l=new l(d,T),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=wh,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=T),l}function qT(o,l,d,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==o&&wh.enqueueReplaceState(l,l.state,null)}function Ny(o,l,d,g){var _=o.stateNode;_.props=d,_.state=o.memoizedState,_.refs={},vy(o);var T=l.contextType;typeof T=="object"&&T!==null?_.context=Jn(T):(T=xn(l)?ys:qr.current,_.context=Rl(o,T)),_.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Cy(o,l,T,d),_.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&wh.enqueueReplaceState(_,_.state,null),mh(o,d,_,g),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function Ul(o,l){try{var d="",g=l;do d+=je(g),g=g.return;while(g);var _=d}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:l,stack:_,digest:null}}function Ry(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function jy(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var JV=typeof WeakMap=="function"?WeakMap:Map;function zT(o,l,d){d=Pa(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){Ih||(Ih=!0,Yy=g),jy(o,l)},d}function WT(o,l,d){d=Pa(-1,d),d.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var _=l.value;d.payload=function(){return g(_)},d.callback=function(){jy(o,l)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){jy(o,l),typeof g!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var D=l.stack;this.componentDidCatch(l.value,{componentStack:D!==null?D:""})}),d}function HT(o,l,d){var g=o.pingCache;if(g===null){g=o.pingCache=new JV;var _=new Set;g.set(l,_)}else _=g.get(l),_===void 0&&(_=new Set,g.set(l,_));_.has(d)||(_.add(d),o=dF.bind(null,o,l,d),l.then(o,o))}function KT(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function GT(o,l,d,g,_){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Pa(-1,1),l.tag=2,_o(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var ZV=$.ReactCurrentOwner,wn=!1;function sn(o,l,d,g){l.child=o===null?pT(l,null,d,g):Ll(l,o.child,d,g)}function YT(o,l,d,g,_){d=d.render;var T=l.ref;return Vl(l,_),g=Ty(o,l,d,g,T,_),d=Ay(),o!==null&&!wn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,ka(o,l,_)):(Ft&&d&&ly(l),l.flags|=1,sn(o,l,g,_),l.child)}function XT(o,l,d,g,_){if(o===null){var T=d.type;return typeof T=="function"&&!rv(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=T,QT(o,l,T,g,_)):(o=Mh(d.type,null,g,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(T=o.child,(o.lanes&_)===0){var D=T.memoizedProps;if(d=d.compare,d=d!==null?d:dc,d(D,g)&&o.ref===l.ref)return ka(o,l,_)}return l.flags|=1,o=Ao(T,g),o.ref=l.ref,o.return=l,l.child=o}function QT(o,l,d,g,_){if(o!==null){var T=o.memoizedProps;if(dc(T,g)&&o.ref===l.ref)if(wn=!1,l.pendingProps=g=T,(o.lanes&_)!==0)(o.flags&131072)!==0&&(wn=!0);else return l.lanes=o.lanes,ka(o,l,_)}return My(o,l,d,g,_)}function JT(o,l,d){var g=l.pendingProps,_=g.children,T=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(ql,Ln),Ln|=d;else{if((d&1073741824)===0)return o=T!==null?T.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,kt(ql,Ln),Ln|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:d,kt(ql,Ln),Ln|=g}else T!==null?(g=T.baseLanes|d,l.memoizedState=null):g=d,kt(ql,Ln),Ln|=g;return sn(o,l,_,d),l.child}function ZT(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function My(o,l,d,g,_){var T=xn(d)?ys:qr.current;return T=Rl(l,T),Vl(l,_),d=Ty(o,l,d,g,T,_),g=Ay(),o!==null&&!wn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,ka(o,l,_)):(Ft&&g&&ly(l),l.flags|=1,sn(o,l,d,_),l.child)}function eA(o,l,d,g,_){if(xn(d)){var T=!0;oh(l)}else T=!1;if(Vl(l,_),l.stateNode===null)Sh(o,l),BT(l,d,g),Ny(l,d,g,_),g=!0;else if(o===null){var D=l.stateNode,B=l.memoizedProps;D.props=B;var z=D.context,te=d.contextType;typeof te=="object"&&te!==null?te=Jn(te):(te=xn(d)?ys:qr.current,te=Rl(l,te));var pe=d.getDerivedStateFromProps,ye=typeof pe=="function"||typeof D.getSnapshotBeforeUpdate=="function";ye||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(B!==g||z!==te)&&qT(l,D,g,te),bo=!1;var de=l.memoizedState;D.state=de,mh(l,g,D,_),z=l.memoizedState,B!==g||de!==z||_n.current||bo?(typeof pe=="function"&&(Cy(l,d,pe,g),z=l.memoizedState),(B=bo||UT(l,d,B,g,de,z,te))?(ye||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(l.flags|=4194308)):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=z),D.props=g,D.state=z,D.context=te,g=B):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{D=l.stateNode,gT(o,l),B=l.memoizedProps,te=l.type===l.elementType?B:Si(l.type,B),D.props=te,ye=l.pendingProps,de=D.context,z=d.contextType,typeof z=="object"&&z!==null?z=Jn(z):(z=xn(d)?ys:qr.current,z=Rl(l,z));var Te=d.getDerivedStateFromProps;(pe=typeof Te=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(B!==ye||de!==z)&&qT(l,D,g,z),bo=!1,de=l.memoizedState,D.state=de,mh(l,g,D,_);var Ie=l.memoizedState;B!==ye||de!==Ie||_n.current||bo?(typeof Te=="function"&&(Cy(l,d,Te,g),Ie=l.memoizedState),(te=bo||UT(l,d,te,g,de,Ie,z)||!1)?(pe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(g,Ie,z),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(g,Ie,z)),typeof D.componentDidUpdate=="function"&&(l.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof D.componentDidUpdate!="function"||B===o.memoizedProps&&de===o.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&de===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ie),D.props=g,D.state=Ie,D.context=z,g=te):(typeof D.componentDidUpdate!="function"||B===o.memoizedProps&&de===o.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&de===o.memoizedState||(l.flags|=1024),g=!1)}return Dy(o,l,d,g,T,_)}function Dy(o,l,d,g,_,T){ZT(o,l);var D=(l.flags&128)!==0;if(!g&&!D)return _&&aT(l,d,!1),ka(o,l,T);g=l.stateNode,ZV.current=l;var B=D&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&D?(l.child=Ll(l,o.child,null,T),l.child=Ll(l,null,B,T)):sn(o,l,B,T),l.memoizedState=g.state,_&&aT(l,d,!0),l.child}function tA(o){var l=o.stateNode;l.pendingContext?nT(o,l.pendingContext,l.pendingContext!==l.context):l.context&&nT(o,l.context,!1),by(o,l.containerInfo)}function rA(o,l,d,g,_){return Dl(),dy(_),l.flags|=256,sn(o,l,d,g),l.child}var Ly={dehydrated:null,treeContext:null,retryLane:0};function $y(o){return{baseLanes:o,cachePool:null,transitions:null}}function nA(o,l,d){var g=l.pendingProps,_=Wt.current,T=!1,D=(l.flags&128)!==0,B;if((B=D)||(B=o!==null&&o.memoizedState===null?!1:(_&2)!==0),B?(T=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),kt(Wt,_&1),o===null)return fy(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(D=g.children,o=g.fallback,T?(g=l.mode,T=l.child,D={mode:"hidden",children:D},(g&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=D):T=Dh(D,g,0,null),o=Ps(o,g,d,null),T.return=l,o.return=l,T.sibling=o,l.child=T,l.child.memoizedState=$y(d),l.memoizedState=Ly,o):Vy(l,D));if(_=o.memoizedState,_!==null&&(B=_.dehydrated,B!==null))return eF(o,l,D,g,B,_,d);if(T){T=g.fallback,D=l.mode,_=o.child,B=_.sibling;var z={mode:"hidden",children:g.children};return(D&1)===0&&l.child!==_?(g=l.child,g.childLanes=0,g.pendingProps=z,l.deletions=null):(g=Ao(_,z),g.subtreeFlags=_.subtreeFlags&14680064),B!==null?T=Ao(B,T):(T=Ps(T,D,d,null),T.flags|=2),T.return=l,g.return=l,g.sibling=T,l.child=g,g=T,T=l.child,D=o.child.memoizedState,D=D===null?$y(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},T.memoizedState=D,T.childLanes=o.childLanes&~d,l.memoizedState=Ly,g}return T=o.child,o=T.sibling,g=Ao(T,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=g,l.memoizedState=null,g}function Vy(o,l){return l=Dh({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Eh(o,l,d,g){return g!==null&&dy(g),Ll(l,o.child,null,d),o=Vy(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function eF(o,l,d,g,_,T,D){if(d)return l.flags&256?(l.flags&=-257,g=Ry(Error(r(422))),Eh(o,l,D,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(T=g.fallback,_=l.mode,g=Dh({mode:"visible",children:g.children},_,0,null),T=Ps(T,_,D,null),T.flags|=2,g.return=l,T.return=l,g.sibling=T,l.child=g,(l.mode&1)!==0&&Ll(l,o.child,null,D),l.child.memoizedState=$y(D),l.memoizedState=Ly,T);if((l.mode&1)===0)return Eh(o,l,D,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var B=g.dgst;return g=B,T=Error(r(419)),g=Ry(T,g,void 0),Eh(o,l,D,g)}if(B=(D&o.childLanes)!==0,wn||B){if(g=Er,g!==null){switch(D&-D){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|D))!==0?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,Aa(o,_),Pi(g,o,_,-1))}return tv(),g=Ry(Error(r(421))),Eh(o,l,D,g)}return _.data==="$?"?(l.flags|=128,l.child=o.child,l=hF.bind(null,o),_._reactRetry=l,null):(o=T.treeContext,Dn=mo(_.nextSibling),Mn=l,Ft=!0,Ei=null,o!==null&&(Xn[Qn++]=Sa,Xn[Qn++]=Ta,Xn[Qn++]=vs,Sa=o.id,Ta=o.overflow,vs=l),l=Vy(l,g.children),l.flags|=4096,l)}function iA(o,l,d){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),gy(o.return,l,d)}function Fy(o,l,d,g,_){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:_}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=d,T.tailMode=_)}function aA(o,l,d){var g=l.pendingProps,_=g.revealOrder,T=g.tail;if(sn(o,l,g.children,d),g=Wt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&iA(o,d,l);else if(o.tag===19)iA(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(kt(Wt,g),(l.mode&1)===0)l.memoizedState=null;else switch(_){case"forwards":for(d=l.child,_=null;d!==null;)o=d.alternate,o!==null&&gh(o)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),Fy(l,!1,_,d,T);break;case"backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&gh(o)===null){l.child=_;break}o=_.sibling,_.sibling=d,d=_,_=o}Fy(l,!0,d,null,T);break;case"together":Fy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Sh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function ka(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Es|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=Ao(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Ao(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function tF(o,l,d){switch(l.tag){case 3:tA(l),Dl();break;case 5:bT(l);break;case 1:xn(l.type)&&oh(l);break;case 4:by(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,_=l.memoizedProps.value;kt(dh,g._currentValue),g._currentValue=_;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(kt(Wt,Wt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?nA(o,l,d):(kt(Wt,Wt.current&1),o=ka(o,l,d),o!==null?o.sibling:null);kt(Wt,Wt.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(o.flags&128)!==0){if(g)return aA(o,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),kt(Wt,Wt.current),g)break;return null;case 22:case 23:return l.lanes=0,JT(o,l,d)}return ka(o,l,d)}var oA,Uy,sA,lA;oA=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Uy=function(){},sA=function(o,l,d,g){var _=o.memoizedProps;if(_!==g){o=l.stateNode,xs(Wi.current);var T=null;switch(d){case"input":_=We(o,_),g=We(o,g),T=[];break;case"select":_=se({},_,{value:void 0}),g=se({},g,{value:void 0}),T=[];break;case"textarea":_=Or(o,_),g=Or(o,g),T=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=nh)}as(d,g);var D;d=null;for(te in _)if(!g.hasOwnProperty(te)&&_.hasOwnProperty(te)&&_[te]!=null)if(te==="style"){var B=_[te];for(D in B)B.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?T||(T=[]):(T=T||[]).push(te,null));for(te in g){var z=g[te];if(B=_?.[te],g.hasOwnProperty(te)&&z!==B&&(z!=null||B!=null))if(te==="style")if(B){for(D in B)!B.hasOwnProperty(D)||z&&z.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in z)z.hasOwnProperty(D)&&B[D]!==z[D]&&(d||(d={}),d[D]=z[D])}else d||(T||(T=[]),T.push(te,d)),d=z;else te==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,B=B?B.__html:void 0,z!=null&&B!==z&&(T=T||[]).push(te,z)):te==="children"?typeof z!="string"&&typeof z!="number"||(T=T||[]).push(te,""+z):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(z!=null&&te==="onScroll"&&Rt("scroll",o),T||B===z||(T=[])):(T=T||[]).push(te,z))}d&&(T=T||[]).push("style",d);var te=T;(l.updateQueue=te)&&(l.flags|=4)}},lA=function(o,l,d,g){d!==g&&(l.flags|=4)};function Pc(o,l){if(!Ft)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Wr(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(l)for(var _=o.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=g,o.childLanes=d,l}function rF(o,l,d){var g=l.pendingProps;switch(uy(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(l),null;case 1:return xn(l.type)&&ah(),Wr(l),null;case 3:return g=l.stateNode,Fl(),jt(_n),jt(qr),wy(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(ch(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ei!==null&&(Jy(Ei),Ei=null))),Uy(o,l),Wr(l),null;case 5:_y(l);var _=xs(wc.current);if(d=l.type,o!==null&&l.stateNode!=null)sA(o,l,d,g,_),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Wr(l),null}if(o=xs(Wi.current),ch(l)){g=l.stateNode,d=l.type;var T=l.memoizedProps;switch(g[zi]=l,g[yc]=T,o=(l.mode&1)!==0,d){case"dialog":Rt("cancel",g),Rt("close",g);break;case"iframe":case"object":case"embed":Rt("load",g);break;case"video":case"audio":for(_=0;_<pc.length;_++)Rt(pc[_],g);break;case"source":Rt("error",g);break;case"img":case"image":case"link":Rt("error",g),Rt("load",g);break;case"details":Rt("toggle",g);break;case"input":ht(g,T),Rt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},Rt("invalid",g);break;case"textarea":tn(g,T),Rt("invalid",g)}as(d,T),_=null;for(var D in T)if(T.hasOwnProperty(D)){var B=T[D];D==="children"?typeof B=="string"?g.textContent!==B&&(T.suppressHydrationWarning!==!0&&rh(g.textContent,B,o),_=["children",B]):typeof B=="number"&&g.textContent!==""+B&&(T.suppressHydrationWarning!==!0&&rh(g.textContent,B,o),_=["children",""+B]):i.hasOwnProperty(D)&&B!=null&&D==="onScroll"&&Rt("scroll",g)}switch(d){case"input":qe(g),fr(g,T,!0);break;case"textarea":qe(g),Li(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=nh)}g=_,l.updateQueue=g,g!==null&&(l.flags|=4)}else{D=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Yt(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=D.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=D.createElement(d,{is:g.is}):(o=D.createElement(d),d==="select"&&(D=o,g.multiple?D.multiple=!0:g.size&&(D.size=g.size))):o=D.createElementNS(o,d),o[zi]=l,o[yc]=g,oA(o,l,!1,!1),l.stateNode=o;e:{switch(D=fa(d,g),d){case"dialog":Rt("cancel",o),Rt("close",o),_=g;break;case"iframe":case"object":case"embed":Rt("load",o),_=g;break;case"video":case"audio":for(_=0;_<pc.length;_++)Rt(pc[_],o);_=g;break;case"source":Rt("error",o),_=g;break;case"img":case"image":case"link":Rt("error",o),Rt("load",o),_=g;break;case"details":Rt("toggle",o),_=g;break;case"input":ht(o,g),_=We(o,g),Rt("invalid",o);break;case"option":_=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},_=se({},g,{value:void 0}),Rt("invalid",o);break;case"textarea":tn(o,g),_=Or(o,g),Rt("invalid",o);break;default:_=g}as(d,_),B=_;for(T in B)if(B.hasOwnProperty(T)){var z=B[T];T==="style"?pi(o,z):T==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&is(o,z)):T==="children"?typeof z=="string"?(d!=="textarea"||z!=="")&&$i(o,z):typeof z=="number"&&$i(o,""+z):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?z!=null&&T==="onScroll"&&Rt("scroll",o):z!=null&&I(o,T,z,D))}switch(d){case"input":qe(o),fr(o,g,!1);break;case"textarea":qe(o),Li(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Fe(g.value));break;case"select":o.multiple=!!g.multiple,T=g.value,T!=null?zt(o,!!g.multiple,T,!1):g.defaultValue!=null&&zt(o,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=nh)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Wr(l),null;case 6:if(o&&l.stateNode!=null)lA(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(d=xs(wc.current),xs(Wi.current),ch(l)){if(g=l.stateNode,d=l.memoizedProps,g[zi]=l,(T=g.nodeValue!==d)&&(o=Mn,o!==null))switch(o.tag){case 3:rh(g.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&rh(g.nodeValue,d,(o.mode&1)!==0)}T&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[zi]=l,l.stateNode=g}return Wr(l),null;case 13:if(jt(Wt),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ft&&Dn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)fT(),Dl(),l.flags|=98560,T=!1;else if(T=ch(l),g!==null&&g.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[zi]=l}else Dl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Wr(l),T=!1}else Ei!==null&&(Jy(Ei),Ei=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Wt.current&1)!==0?pr===0&&(pr=3):tv())),l.updateQueue!==null&&(l.flags|=4),Wr(l),null);case 4:return Fl(),Uy(o,l),o===null&&mc(l.stateNode.containerInfo),Wr(l),null;case 10:return my(l.type._context),Wr(l),null;case 17:return xn(l.type)&&ah(),Wr(l),null;case 19:if(jt(Wt),T=l.memoizedState,T===null)return Wr(l),null;if(g=(l.flags&128)!==0,D=T.rendering,D===null)if(g)Pc(T,!1);else{if(pr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(D=gh(o),D!==null){for(l.flags|=128,Pc(T,!1),g=D.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)T=d,o=g,T.flags&=14680066,D=T.alternate,D===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=D.childLanes,T.lanes=D.lanes,T.child=D.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=D.memoizedProps,T.memoizedState=D.memoizedState,T.updateQueue=D.updateQueue,T.type=D.type,o=D.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return kt(Wt,Wt.current&1|2),l.child}o=o.sibling}T.tail!==null&&wt()>zl&&(l.flags|=128,g=!0,Pc(T,!1),l.lanes=4194304)}else{if(!g)if(o=gh(D),o!==null){if(l.flags|=128,g=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Pc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!D.alternate&&!Ft)return Wr(l),null}else 2*wt()-T.renderingStartTime>zl&&d!==1073741824&&(l.flags|=128,g=!0,Pc(T,!1),l.lanes=4194304);T.isBackwards?(D.sibling=l.child,l.child=D):(d=T.last,d!==null?d.sibling=D:l.child=D,T.last=D)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=wt(),l.sibling=null,d=Wt.current,kt(Wt,g?d&1|2:d&1),l):(Wr(l),null);case 22:case 23:return ev(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Ln&1073741824)!==0&&(Wr(l),l.subtreeFlags&6&&(l.flags|=8192)):Wr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function nF(o,l){switch(uy(l),l.tag){case 1:return xn(l.type)&&ah(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Fl(),jt(_n),jt(qr),wy(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return _y(l),null;case 13:if(jt(Wt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Dl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return jt(Wt),null;case 4:return Fl(),null;case 10:return my(l.type._context),null;case 22:case 23:return ev(),null;case 24:return null;default:return null}}var Th=!1,Hr=!1,iF=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Bl(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Jt(o,l,g)}else d.current=null}function By(o,l,d){try{d()}catch(g){Jt(o,l,g)}}var uA=!1;function aF(o,l){if(ey=fo,o=US(),Hg(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var _=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var D=0,B=-1,z=-1,te=0,pe=0,ye=o,de=null;t:for(;;){for(var Te;ye!==d||_!==0&&ye.nodeType!==3||(B=D+_),ye!==T||g!==0&&ye.nodeType!==3||(z=D+g),ye.nodeType===3&&(D+=ye.nodeValue.length),(Te=ye.firstChild)!==null;)de=ye,ye=Te;for(;;){if(ye===o)break t;if(de===d&&++te===_&&(B=D),de===T&&++pe===g&&(z=D),(Te=ye.nextSibling)!==null)break;ye=de,de=ye.parentNode}ye=Te}d=B===-1||z===-1?null:{start:B,end:z}}else d=null}d=d||{start:0,end:0}}else d=null;for(ty={focusedElem:o,selectionRange:d},fo=!1,Ae=l;Ae!==null;)if(l=Ae,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ae=o;else for(;Ae!==null;){l=Ae;try{var Ie=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Ne=Ie.memoizedProps,nr=Ie.memoizedState,X=l.stateNode,H=X.getSnapshotBeforeUpdate(l.elementType===l.type?Ne:Si(l.type,Ne),nr);X.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ve){Jt(l,l.return,ve)}if(o=l.sibling,o!==null){o.return=l.return,Ae=o;break}Ae=l.return}return Ie=uA,uA=!1,Ie}function kc(o,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&o)===o){var T=_.destroy;_.destroy=void 0,T!==void 0&&By(l,d,T)}_=_.next}while(_!==g)}}function Ah(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function qy(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function cA(o){var l=o.alternate;l!==null&&(o.alternate=null,cA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[zi],delete l[yc],delete l[ay],delete l[UV],delete l[BV])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function fA(o){return o.tag===5||o.tag===3||o.tag===4}function dA(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||fA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function zy(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=nh));else if(g!==4&&(o=o.child,o!==null))for(zy(o,l,d),o=o.sibling;o!==null;)zy(o,l,d),o=o.sibling}function Wy(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(Wy(o,l,d),o=o.sibling;o!==null;)Wy(o,l,d),o=o.sibling}var jr=null,Ti=!1;function xo(o,l,d){for(d=d.child;d!==null;)hA(o,l,d),d=d.sibling}function hA(o,l,d){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(us,d)}catch{}switch(d.tag){case 5:Hr||Bl(d,l);case 6:var g=jr,_=Ti;jr=null,xo(o,l,d),jr=g,Ti=_,jr!==null&&(Ti?(o=jr,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):jr.removeChild(d.stateNode));break;case 18:jr!==null&&(Ti?(o=jr,d=d.stateNode,o.nodeType===8?iy(o.parentNode,d):o.nodeType===1&&iy(o,d),_i(o)):iy(jr,d.stateNode));break;case 4:g=jr,_=Ti,jr=d.stateNode.containerInfo,Ti=!0,xo(o,l,d),jr=g,Ti=_;break;case 0:case 11:case 14:case 15:if(!Hr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var T=_,D=T.destroy;T=T.tag,D!==void 0&&((T&2)!==0||(T&4)!==0)&&By(d,l,D),_=_.next}while(_!==g)}xo(o,l,d);break;case 1:if(!Hr&&(Bl(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(B){Jt(d,l,B)}xo(o,l,d);break;case 21:xo(o,l,d);break;case 22:d.mode&1?(Hr=(g=Hr)||d.memoizedState!==null,xo(o,l,d),Hr=g):xo(o,l,d);break;default:xo(o,l,d)}}function pA(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new iF),l.forEach(function(g){var _=pF.bind(null,o,g);d.has(g)||(d.add(g),g.then(_,_))})}}function Ai(o,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var _=d[g];try{var T=o,D=l,B=D;e:for(;B!==null;){switch(B.tag){case 5:jr=B.stateNode,Ti=!1;break e;case 3:jr=B.stateNode.containerInfo,Ti=!0;break e;case 4:jr=B.stateNode.containerInfo,Ti=!0;break e}B=B.return}if(jr===null)throw Error(r(160));hA(T,D,_),jr=null,Ti=!1;var z=_.alternate;z!==null&&(z.return=null),_.return=null}catch(te){Jt(_,l,te)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)mA(l,o),l=l.sibling}function mA(o,l){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ai(l,o),Ki(o),g&4){try{kc(3,o,o.return),Ah(3,o)}catch(Ne){Jt(o,o.return,Ne)}try{kc(5,o,o.return)}catch(Ne){Jt(o,o.return,Ne)}}break;case 1:Ai(l,o),Ki(o),g&512&&d!==null&&Bl(d,d.return);break;case 5:if(Ai(l,o),Ki(o),g&512&&d!==null&&Bl(d,d.return),o.flags&32){var _=o.stateNode;try{$i(_,"")}catch(Ne){Jt(o,o.return,Ne)}}if(g&4&&(_=o.stateNode,_!=null)){var T=o.memoizedProps,D=d!==null?d.memoizedProps:T,B=o.type,z=o.updateQueue;if(o.updateQueue=null,z!==null)try{B==="input"&&T.type==="radio"&&T.name!=null&&St(_,T),fa(B,D);var te=fa(B,T);for(D=0;D<z.length;D+=2){var pe=z[D],ye=z[D+1];pe==="style"?pi(_,ye):pe==="dangerouslySetInnerHTML"?is(_,ye):pe==="children"?$i(_,ye):I(_,pe,ye,te)}switch(B){case"input":Gt(_,T);break;case"textarea":di(_,T);break;case"select":var de=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var Te=T.value;Te!=null?zt(_,!!T.multiple,Te,!1):de!==!!T.multiple&&(T.defaultValue!=null?zt(_,!!T.multiple,T.defaultValue,!0):zt(_,!!T.multiple,T.multiple?[]:"",!1))}_[yc]=T}catch(Ne){Jt(o,o.return,Ne)}}break;case 6:if(Ai(l,o),Ki(o),g&4){if(o.stateNode===null)throw Error(r(162));_=o.stateNode,T=o.memoizedProps;try{_.nodeValue=T}catch(Ne){Jt(o,o.return,Ne)}}break;case 3:if(Ai(l,o),Ki(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{_i(l.containerInfo)}catch(Ne){Jt(o,o.return,Ne)}break;case 4:Ai(l,o),Ki(o);break;case 13:Ai(l,o),Ki(o),_=o.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(Gy=wt())),g&4&&pA(o);break;case 22:if(pe=d!==null&&d.memoizedState!==null,o.mode&1?(Hr=(te=Hr)||pe,Ai(l,o),Hr=te):Ai(l,o),Ki(o),g&8192){if(te=o.memoizedState!==null,(o.stateNode.isHidden=te)&&!pe&&(o.mode&1)!==0)for(Ae=o,pe=o.child;pe!==null;){for(ye=Ae=pe;Ae!==null;){switch(de=Ae,Te=de.child,de.tag){case 0:case 11:case 14:case 15:kc(4,de,de.return);break;case 1:Bl(de,de.return);var Ie=de.stateNode;if(typeof Ie.componentWillUnmount=="function"){g=de,d=de.return;try{l=g,Ie.props=l.memoizedProps,Ie.state=l.memoizedState,Ie.componentWillUnmount()}catch(Ne){Jt(g,d,Ne)}}break;case 5:Bl(de,de.return);break;case 22:if(de.memoizedState!==null){vA(ye);continue}}Te!==null?(Te.return=de,Ae=Te):vA(ye)}pe=pe.sibling}e:for(pe=null,ye=o;;){if(ye.tag===5){if(pe===null){pe=ye;try{_=ye.stateNode,te?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(B=ye.stateNode,z=ye.memoizedProps.style,D=z!=null&&z.hasOwnProperty("display")?z.display:null,B.style.display=eo("display",D))}catch(Ne){Jt(o,o.return,Ne)}}}else if(ye.tag===6){if(pe===null)try{ye.stateNode.nodeValue=te?"":ye.memoizedProps}catch(Ne){Jt(o,o.return,Ne)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===o)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===o)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===o)break e;pe===ye&&(pe=null),ye=ye.return}pe===ye&&(pe=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Ai(l,o),Ki(o),g&4&&pA(o);break;case 21:break;default:Ai(l,o),Ki(o)}}function Ki(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(fA(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&($i(_,""),g.flags&=-33);var T=dA(o);Wy(o,T,_);break;case 3:case 4:var D=g.stateNode.containerInfo,B=dA(o);zy(o,B,D);break;default:throw Error(r(161))}}catch(z){Jt(o,o.return,z)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function oF(o,l,d){Ae=o,gA(o)}function gA(o,l,d){for(var g=(o.mode&1)!==0;Ae!==null;){var _=Ae,T=_.child;if(_.tag===22&&g){var D=_.memoizedState!==null||Th;if(!D){var B=_.alternate,z=B!==null&&B.memoizedState!==null||Hr;B=Th;var te=Hr;if(Th=D,(Hr=z)&&!te)for(Ae=_;Ae!==null;)D=Ae,z=D.child,D.tag===22&&D.memoizedState!==null?bA(_):z!==null?(z.return=D,Ae=z):bA(_);for(;T!==null;)Ae=T,gA(T),T=T.sibling;Ae=_,Th=B,Hr=te}yA(o)}else(_.subtreeFlags&8772)!==0&&T!==null?(T.return=_,Ae=T):yA(o)}}function yA(o){for(;Ae!==null;){var l=Ae;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Hr||Ah(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Hr)if(d===null)g.componentDidMount();else{var _=l.elementType===l.type?d.memoizedProps:Si(l.type,d.memoizedProps);g.componentDidUpdate(_,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&vT(l,T,g);break;case 3:var D=l.updateQueue;if(D!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}vT(l,D,d)}break;case 5:var B=l.stateNode;if(d===null&&l.flags&4){d=B;var z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&d.focus();break;case"img":z.src&&(d.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var te=l.alternate;if(te!==null){var pe=te.memoizedState;if(pe!==null){var ye=pe.dehydrated;ye!==null&&_i(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Hr||l.flags&512&&qy(l)}catch(de){Jt(l,l.return,de)}}if(l===o){Ae=null;break}if(d=l.sibling,d!==null){d.return=l.return,Ae=d;break}Ae=l.return}}function vA(o){for(;Ae!==null;){var l=Ae;if(l===o){Ae=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Ae=d;break}Ae=l.return}}function bA(o){for(;Ae!==null;){var l=Ae;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Ah(4,l)}catch(z){Jt(l,d,z)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var _=l.return;try{g.componentDidMount()}catch(z){Jt(l,_,z)}}var T=l.return;try{qy(l)}catch(z){Jt(l,T,z)}break;case 5:var D=l.return;try{qy(l)}catch(z){Jt(l,D,z)}}}catch(z){Jt(l,l.return,z)}if(l===o){Ae=null;break}var B=l.sibling;if(B!==null){B.return=l.return,Ae=B;break}Ae=l.return}}var sF=Math.ceil,Ph=$.ReactCurrentDispatcher,Hy=$.ReactCurrentOwner,ei=$.ReactCurrentBatchConfig,ut=0,Er=null,or=null,Mr=0,Ln=0,ql=go(0),pr=0,Ic=null,Es=0,kh=0,Ky=0,Oc=null,En=null,Gy=0,zl=1/0,Ia=null,Ih=!1,Yy=null,wo=null,Oh=!1,Eo=null,Ch=0,Cc=0,Xy=null,Nh=-1,Rh=0;function ln(){return(ut&6)!==0?wt():Nh!==-1?Nh:Nh=wt()}function So(o){return(o.mode&1)===0?1:(ut&2)!==0&&Mr!==0?Mr&-Mr:zV.transition!==null?(Rh===0&&(Rh=fs()),Rh):(o=it,o!==0||(o=window.event,o=o===void 0?16:ac(o.type)),o)}function Pi(o,l,d,g){if(50<Cc)throw Cc=0,Xy=null,Error(r(185));so(o,d,g),((ut&2)===0||o!==Er)&&(o===Er&&((ut&2)===0&&(kh|=d),pr===4&&To(o,Mr)),Sn(o,g),d===1&&ut===0&&(l.mode&1)===0&&(zl=wt()+500,sh&&vo()))}function Sn(o,l){var d=o.callbackNode;ya(o,l);var g=cs(o,o===Er?Mr:0);if(g===0)d!==null&&Tt(d),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(d!=null&&Tt(d),l===1)o.tag===0?qV(xA.bind(null,o)):oT(xA.bind(null,o)),VV(function(){(ut&6)===0&&vo()}),d=null;else{switch(uo(g)){case 1:d=gi;break;case 4:d=nn;break;case 16:d=Cr;break;case 536870912:d=Kn;break;default:d=Cr}d=IA(d,_A.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function _A(o,l){if(Nh=-1,Rh=0,(ut&6)!==0)throw Error(r(327));var d=o.callbackNode;if(Wl()&&o.callbackNode!==d)return null;var g=cs(o,o===Er?Mr:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=jh(o,g);else{l=g;var _=ut;ut|=2;var T=EA();(Er!==o||Mr!==l)&&(Ia=null,zl=wt()+500,Ts(o,l));do try{cF();break}catch(B){wA(o,B)}while(!0);py(),Ph.current=T,ut=_,or!==null?l=0:(Er=null,Mr=0,l=pr)}if(l!==0){if(l===2&&(_=Nn(o),_!==0&&(g=_,l=Qy(o,_))),l===1)throw d=Ic,Ts(o,0),To(o,g),Sn(o,wt()),d;if(l===6)To(o,g);else{if(_=o.current.alternate,(g&30)===0&&!lF(_)&&(l=jh(o,g),l===2&&(T=Nn(o),T!==0&&(g=T,l=Qy(o,T))),l===1))throw d=Ic,Ts(o,0),To(o,g),Sn(o,wt()),d;switch(o.finishedWork=_,o.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:As(o,En,Ia);break;case 3:if(To(o,g),(g&130023424)===g&&(l=Gy+500-wt(),10<l)){if(cs(o,0)!==0)break;if(_=o.suspendedLanes,(_&g)!==g){ln(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=ny(As.bind(null,o,En,Ia),l);break}As(o,En,Ia);break;case 4:if(To(o,g),(g&4194240)===g)break;for(l=o.eventTimes,_=-1;0<g;){var D=31-an(g);T=1<<D,D=l[D],D>_&&(_=D),g&=~T}if(g=_,g=wt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*sF(g/1960))-g,10<g){o.timeoutHandle=ny(As.bind(null,o,En,Ia),g);break}As(o,En,Ia);break;case 5:As(o,En,Ia);break;default:throw Error(r(329))}}}return Sn(o,wt()),o.callbackNode===d?_A.bind(null,o):null}function Qy(o,l){var d=Oc;return o.current.memoizedState.isDehydrated&&(Ts(o,l).flags|=256),o=jh(o,l),o!==2&&(l=En,En=d,l!==null&&Jy(l)),o}function Jy(o){En===null?En=o:En.push.apply(En,o)}function lF(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var _=d[g],T=_.getSnapshot;_=_.value;try{if(!wi(T(),_))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function To(o,l){for(l&=~Ky,l&=~kh,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-an(l),g=1<<d;o[d]=-1,l&=~g}}function xA(o){if((ut&6)!==0)throw Error(r(327));Wl();var l=cs(o,0);if((l&1)===0)return Sn(o,wt()),null;var d=jh(o,l);if(o.tag!==0&&d===2){var g=Nn(o);g!==0&&(l=g,d=Qy(o,g))}if(d===1)throw d=Ic,Ts(o,0),To(o,l),Sn(o,wt()),d;if(d===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,As(o,En,Ia),Sn(o,wt()),null}function Zy(o,l){var d=ut;ut|=1;try{return o(l)}finally{ut=d,ut===0&&(zl=wt()+500,sh&&vo())}}function Ss(o){Eo!==null&&Eo.tag===0&&(ut&6)===0&&Wl();var l=ut;ut|=1;var d=ei.transition,g=it;try{if(ei.transition=null,it=1,o)return o()}finally{it=g,ei.transition=d,ut=l,(ut&6)===0&&vo()}}function ev(){Ln=ql.current,jt(ql)}function Ts(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,$V(d)),or!==null)for(d=or.return;d!==null;){var g=d;switch(uy(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ah();break;case 3:Fl(),jt(_n),jt(qr),wy();break;case 5:_y(g);break;case 4:Fl();break;case 13:jt(Wt);break;case 19:jt(Wt);break;case 10:my(g.type._context);break;case 22:case 23:ev()}d=d.return}if(Er=o,or=o=Ao(o.current,null),Mr=Ln=l,pr=0,Ic=null,Ky=kh=Es=0,En=Oc=null,_s!==null){for(l=0;l<_s.length;l++)if(d=_s[l],g=d.interleaved,g!==null){d.interleaved=null;var _=g.next,T=d.pending;if(T!==null){var D=T.next;T.next=_,g.next=D}d.pending=g}_s=null}return o}function wA(o,l){do{var d=or;try{if(py(),yh.current=xh,vh){for(var g=Ht.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}vh=!1}if(ws=0,wr=hr=Ht=null,Ec=!1,Sc=0,Hy.current=null,d===null||d.return===null){pr=1,Ic=l,or=null;break}e:{var T=o,D=d.return,B=d,z=l;if(l=Mr,B.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var te=z,pe=B,ye=pe.tag;if((pe.mode&1)===0&&(ye===0||ye===11||ye===15)){var de=pe.alternate;de?(pe.updateQueue=de.updateQueue,pe.memoizedState=de.memoizedState,pe.lanes=de.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Te=KT(D);if(Te!==null){Te.flags&=-257,GT(Te,D,B,T,l),Te.mode&1&&HT(T,te,l),l=Te,z=te;var Ie=l.updateQueue;if(Ie===null){var Ne=new Set;Ne.add(z),l.updateQueue=Ne}else Ie.add(z);break e}else{if((l&1)===0){HT(T,te,l),tv();break e}z=Error(r(426))}}else if(Ft&&B.mode&1){var nr=KT(D);if(nr!==null){(nr.flags&65536)===0&&(nr.flags|=256),GT(nr,D,B,T,l),dy(Ul(z,B));break e}}T=z=Ul(z,B),pr!==4&&(pr=2),Oc===null?Oc=[T]:Oc.push(T),T=D;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var X=zT(T,z,l);yT(T,X);break e;case 1:B=z;var H=T.type,J=T.stateNode;if((T.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(wo===null||!wo.has(J)))){T.flags|=65536,l&=-l,T.lanes|=l;var ve=WT(T,B,l);yT(T,ve);break e}}T=T.return}while(T!==null)}TA(d)}catch(Me){l=Me,or===d&&d!==null&&(or=d=d.return);continue}break}while(!0)}function EA(){var o=Ph.current;return Ph.current=xh,o===null?xh:o}function tv(){(pr===0||pr===3||pr===2)&&(pr=4),Er===null||(Es&268435455)===0&&(kh&268435455)===0||To(Er,Mr)}function jh(o,l){var d=ut;ut|=2;var g=EA();(Er!==o||Mr!==l)&&(Ia=null,Ts(o,l));do try{uF();break}catch(_){wA(o,_)}while(!0);if(py(),ut=d,Ph.current=g,or!==null)throw Error(r(261));return Er=null,Mr=0,pr}function uF(){for(;or!==null;)SA(or)}function cF(){for(;or!==null&&!Qt();)SA(or)}function SA(o){var l=kA(o.alternate,o,Ln);o.memoizedProps=o.pendingProps,l===null?TA(o):or=l,Hy.current=null}function TA(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=rF(d,l,Ln),d!==null){or=d;return}}else{if(d=nF(d,l),d!==null){d.flags&=32767,or=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{pr=6,or=null;return}}if(l=l.sibling,l!==null){or=l;return}or=l=o}while(l!==null);pr===0&&(pr=5)}function As(o,l,d){var g=it,_=ei.transition;try{ei.transition=null,it=1,fF(o,l,d,g)}finally{ei.transition=_,it=g}return null}function fF(o,l,d,g){do Wl();while(Eo!==null);if((ut&6)!==0)throw Error(r(327));d=o.finishedWork;var _=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var T=d.lanes|d.childLanes;if(At(o,T),o===Er&&(or=Er=null,Mr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Oh||(Oh=!0,IA(Cr,function(){return Wl(),null})),T=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||T){T=ei.transition,ei.transition=null;var D=it;it=1;var B=ut;ut|=4,Hy.current=null,aF(o,d),mA(d,o),CV(ty),fo=!!ey,ty=ey=null,o.current=d,oF(d),dl(),ut=B,it=D,ei.transition=T}else o.current=d;if(Oh&&(Oh=!1,Eo=o,Ch=_),T=o.pendingLanes,T===0&&(wo=null),jd(d.stateNode),Sn(o,wt()),l!==null)for(g=o.onRecoverableError,d=0;d<l.length;d++)_=l[d],g(_.value,{componentStack:_.stack,digest:_.digest});if(Ih)throw Ih=!1,o=Yy,Yy=null,o;return(Ch&1)!==0&&o.tag!==0&&Wl(),T=o.pendingLanes,(T&1)!==0?o===Xy?Cc++:(Cc=0,Xy=o):Cc=0,vo(),null}function Wl(){if(Eo!==null){var o=uo(Ch),l=ei.transition,d=it;try{if(ei.transition=null,it=16>o?16:o,Eo===null)var g=!1;else{if(o=Eo,Eo=null,Ch=0,(ut&6)!==0)throw Error(r(331));var _=ut;for(ut|=4,Ae=o.current;Ae!==null;){var T=Ae,D=T.child;if((Ae.flags&16)!==0){var B=T.deletions;if(B!==null){for(var z=0;z<B.length;z++){var te=B[z];for(Ae=te;Ae!==null;){var pe=Ae;switch(pe.tag){case 0:case 11:case 15:kc(8,pe,T)}var ye=pe.child;if(ye!==null)ye.return=pe,Ae=ye;else for(;Ae!==null;){pe=Ae;var de=pe.sibling,Te=pe.return;if(cA(pe),pe===te){Ae=null;break}if(de!==null){de.return=Te,Ae=de;break}Ae=Te}}}var Ie=T.alternate;if(Ie!==null){var Ne=Ie.child;if(Ne!==null){Ie.child=null;do{var nr=Ne.sibling;Ne.sibling=null,Ne=nr}while(Ne!==null)}}Ae=T}}if((T.subtreeFlags&2064)!==0&&D!==null)D.return=T,Ae=D;else e:for(;Ae!==null;){if(T=Ae,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:kc(9,T,T.return)}var X=T.sibling;if(X!==null){X.return=T.return,Ae=X;break e}Ae=T.return}}var H=o.current;for(Ae=H;Ae!==null;){D=Ae;var J=D.child;if((D.subtreeFlags&2064)!==0&&J!==null)J.return=D,Ae=J;else e:for(D=H;Ae!==null;){if(B=Ae,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Ah(9,B)}}catch(Me){Jt(B,B.return,Me)}if(B===D){Ae=null;break e}var ve=B.sibling;if(ve!==null){ve.return=B.return,Ae=ve;break e}Ae=B.return}}if(ut=_,vo(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(us,o)}catch{}g=!0}return g}finally{it=d,ei.transition=l}}return!1}function AA(o,l,d){l=Ul(d,l),l=zT(o,l,1),o=_o(o,l,1),l=ln(),o!==null&&(so(o,1,l),Sn(o,l))}function Jt(o,l,d){if(o.tag===3)AA(o,o,d);else for(;l!==null;){if(l.tag===3){AA(l,o,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(wo===null||!wo.has(g))){o=Ul(d,o),o=WT(l,o,1),l=_o(l,o,1),o=ln(),l!==null&&(so(l,1,o),Sn(l,o));break}}l=l.return}}function dF(o,l,d){var g=o.pingCache;g!==null&&g.delete(l),l=ln(),o.pingedLanes|=o.suspendedLanes&d,Er===o&&(Mr&d)===d&&(pr===4||pr===3&&(Mr&130023424)===Mr&&500>wt()-Gy?Ts(o,0):Ky|=d),Sn(o,l)}function PA(o,l){l===0&&((o.mode&1)===0?l=1:(l=pl,pl<<=1,(pl&130023424)===0&&(pl=4194304)));var d=ln();o=Aa(o,l),o!==null&&(so(o,l,d),Sn(o,d))}function hF(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),PA(o,d)}function pF(o,l){var d=0;switch(o.tag){case 13:var g=o.stateNode,_=o.memoizedState;_!==null&&(d=_.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),PA(o,d)}var kA;kA=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||_n.current)wn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return wn=!1,tF(o,l,d);wn=(o.flags&131072)!==0}else wn=!1,Ft&&(l.flags&1048576)!==0&&sT(l,uh,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Sh(o,l),o=l.pendingProps;var _=Rl(l,qr.current);Vl(l,d),_=Ty(null,l,g,o,_,d);var T=Ay();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,xn(g)?(T=!0,oh(l)):T=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,vy(l),_.updater=wh,l.stateNode=_,_._reactInternals=l,Ny(l,g,o,d),l=Dy(null,l,g,!0,T,d)):(l.tag=0,Ft&&T&&ly(l),sn(null,l,_,d),l=l.child),l;case 16:g=l.elementType;e:{switch(Sh(o,l),o=l.pendingProps,_=g._init,g=_(g._payload),l.type=g,_=l.tag=gF(g),o=Si(g,o),_){case 0:l=My(null,l,g,o,d);break e;case 1:l=eA(null,l,g,o,d);break e;case 11:l=YT(null,l,g,o,d);break e;case 14:l=XT(null,l,g,Si(g.type,o),d);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Si(g,_),My(o,l,g,_,d);case 1:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Si(g,_),eA(o,l,g,_,d);case 3:e:{if(tA(l),o===null)throw Error(r(387));g=l.pendingProps,T=l.memoizedState,_=T.element,gT(o,l),mh(l,g,null,d);var D=l.memoizedState;if(g=D.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){_=Ul(Error(r(423)),l),l=rA(o,l,g,d,_);break e}else if(g!==_){_=Ul(Error(r(424)),l),l=rA(o,l,g,d,_);break e}else for(Dn=mo(l.stateNode.containerInfo.firstChild),Mn=l,Ft=!0,Ei=null,d=pT(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Dl(),g===_){l=ka(o,l,d);break e}sn(o,l,g,d)}l=l.child}return l;case 5:return bT(l),o===null&&fy(l),g=l.type,_=l.pendingProps,T=o!==null?o.memoizedProps:null,D=_.children,ry(g,_)?D=null:T!==null&&ry(g,T)&&(l.flags|=32),ZT(o,l),sn(o,l,D,d),l.child;case 6:return o===null&&fy(l),null;case 13:return nA(o,l,d);case 4:return by(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=Ll(l,null,g,d):sn(o,l,g,d),l.child;case 11:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Si(g,_),YT(o,l,g,_,d);case 7:return sn(o,l,l.pendingProps,d),l.child;case 8:return sn(o,l,l.pendingProps.children,d),l.child;case 12:return sn(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,_=l.pendingProps,T=l.memoizedProps,D=_.value,kt(dh,g._currentValue),g._currentValue=D,T!==null)if(wi(T.value,D)){if(T.children===_.children&&!_n.current){l=ka(o,l,d);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var B=T.dependencies;if(B!==null){D=T.child;for(var z=B.firstContext;z!==null;){if(z.context===g){if(T.tag===1){z=Pa(-1,d&-d),z.tag=2;var te=T.updateQueue;if(te!==null){te=te.shared;var pe=te.pending;pe===null?z.next=z:(z.next=pe.next,pe.next=z),te.pending=z}}T.lanes|=d,z=T.alternate,z!==null&&(z.lanes|=d),gy(T.return,d,l),B.lanes|=d;break}z=z.next}}else if(T.tag===10)D=T.type===l.type?null:T.child;else if(T.tag===18){if(D=T.return,D===null)throw Error(r(341));D.lanes|=d,B=D.alternate,B!==null&&(B.lanes|=d),gy(D,d,l),D=T.sibling}else D=T.child;if(D!==null)D.return=T;else for(D=T;D!==null;){if(D===l){D=null;break}if(T=D.sibling,T!==null){T.return=D.return,D=T;break}D=D.return}T=D}sn(o,l,_.children,d),l=l.child}return l;case 9:return _=l.type,g=l.pendingProps.children,Vl(l,d),_=Jn(_),g=g(_),l.flags|=1,sn(o,l,g,d),l.child;case 14:return g=l.type,_=Si(g,l.pendingProps),_=Si(g.type,_),XT(o,l,g,_,d);case 15:return QT(o,l,l.type,l.pendingProps,d);case 17:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Si(g,_),Sh(o,l),l.tag=1,xn(g)?(o=!0,oh(l)):o=!1,Vl(l,d),BT(l,g,_),Ny(l,g,_,d),Dy(null,l,g,!0,o,d);case 19:return aA(o,l,d);case 22:return JT(o,l,d)}throw Error(r(156,l.tag))};function IA(o,l){return De(o,l)}function mF(o,l,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(o,l,d,g){return new mF(o,l,d,g)}function rv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function gF(o){if(typeof o=="function")return rv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===re)return 14}return 2}function Ao(o,l){var d=o.alternate;return d===null?(d=ti(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Mh(o,l,d,g,_,T){var D=2;if(g=o,typeof o=="function")rv(o)&&(D=1);else if(typeof o=="string")D=5;else e:switch(o){case A:return Ps(d.children,_,T,l);case P:D=8,_|=8;break;case R:return o=ti(12,d,l,_|2),o.elementType=R,o.lanes=T,o;case M:return o=ti(13,d,l,_),o.elementType=M,o.lanes=T,o;case ee:return o=ti(19,d,l,_),o.elementType=ee,o.lanes=T,o;case oe:return Dh(d,_,T,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case V:D=10;break e;case L:D=9;break e;case F:D=11;break e;case re:D=14;break e;case ie:D=16,g=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=ti(D,d,l,_),l.elementType=o,l.type=g,l.lanes=T,l}function Ps(o,l,d,g){return o=ti(7,o,g,l),o.lanes=d,o}function Dh(o,l,d,g){return o=ti(22,o,g,l),o.elementType=oe,o.lanes=d,o.stateNode={isHidden:!1},o}function nv(o,l,d){return o=ti(6,o,null,l),o.lanes=d,o}function iv(o,l,d){return l=ti(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function yF(o,l,d,g,_){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oo(0),this.expirationTimes=oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function av(o,l,d,g,_,T,D,B,z){return o=new yF(o,l,d,B,z),l===1?(l=1,T===!0&&(l|=8)):l=0,T=ti(3,null,null,l),o.current=T,T.stateNode=o,T.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},vy(T),o}function vF(o,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:g==null?null:""+g,children:o,containerInfo:l,implementation:d}}function OA(o){if(!o)return yo;o=o._reactInternals;e:{if(we(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(xn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var d=o.type;if(xn(d))return iT(o,d,l)}return l}function CA(o,l,d,g,_,T,D,B,z){return o=av(d,g,!0,o,_,T,D,B,z),o.context=OA(null),d=o.current,g=ln(),_=So(d),T=Pa(g,_),T.callback=l??null,_o(d,T,_),o.current.lanes=_,so(o,_,g),Sn(o,g),o}function Lh(o,l,d,g){var _=l.current,T=ln(),D=So(_);return d=OA(d),l.context===null?l.context=d:l.pendingContext=d,l=Pa(T,D),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=_o(_,l,D),o!==null&&(Pi(o,_,D,T),ph(o,_,D)),D}function $h(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function NA(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function ov(o,l){NA(o,l),(o=o.alternate)&&NA(o,l)}function bF(){return null}var RA=typeof reportError=="function"?reportError:function(o){console.error(o)};function sv(o){this._internalRoot=o}Vh.prototype.render=sv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));Lh(o,l,null,null)},Vh.prototype.unmount=sv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Ss(function(){Lh(null,o,null,null)}),l[wa]=null}};function Vh(o){this._internalRoot=o}Vh.prototype.unstable_scheduleHydration=function(o){if(o){var l=Vd();o={blockedOn:null,target:o,priority:l};for(var d=0;d<Fi.length&&l!==0&&l<Fi[d].priority;d++);Fi.splice(d,0,o),d===0&&Bd(o)}};function lv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Fh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function jA(){}function _F(o,l,d,g,_){if(_){if(typeof g=="function"){var T=g;g=function(){var te=$h(D);T.call(te)}}var D=CA(l,g,o,0,null,!1,!1,"",jA);return o._reactRootContainer=D,o[wa]=D.current,mc(o.nodeType===8?o.parentNode:o),Ss(),D}for(;_=o.lastChild;)o.removeChild(_);if(typeof g=="function"){var B=g;g=function(){var te=$h(z);B.call(te)}}var z=av(o,0,!1,null,null,!1,!1,"",jA);return o._reactRootContainer=z,o[wa]=z.current,mc(o.nodeType===8?o.parentNode:o),Ss(function(){Lh(l,z,d,g)}),z}function Uh(o,l,d,g,_){var T=d._reactRootContainer;if(T){var D=T;if(typeof _=="function"){var B=_;_=function(){var z=$h(D);B.call(z)}}Lh(l,D,o,_)}else D=_F(d,l,o,_,g);return $h(D)}Ld=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=ao(l.pendingLanes);d!==0&&(lo(l,d|1),Sn(l,wt()),(ut&6)===0&&(zl=wt()+500,vo()))}break;case 13:Ss(function(){var g=Aa(o,1);if(g!==null){var _=ln();Pi(g,o,1,_)}}),ov(o,1)}},ml=function(o){if(o.tag===13){var l=Aa(o,134217728);if(l!==null){var d=ln();Pi(l,o,134217728,d)}ov(o,134217728)}},$d=function(o){if(o.tag===13){var l=So(o),d=Aa(o,l);if(d!==null){var g=ln();Pi(d,o,l,g)}ov(o,l)}},Vd=function(){return it},Fd=function(o,l){var d=it;try{return it=o,l()}finally{it=d}},ha=function(o,l,d){switch(l){case"input":if(Gt(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==o&&g.form===o.form){var _=ih(g);if(!_)throw Error(r(90));ue(g),Gt(g,_)}}}break;case"textarea":di(o,d);break;case"select":l=d.value,l!=null&&zt(o,!!d.multiple,l,!1)}},rn=Zy,mi=Ss;var xF={usingClientEntryPoint:!1,Events:[vc,Cl,ih,Xt,os,Zy]},Nc={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wF={bundleType:Nc.bundleType,version:Nc.version,rendererPackageName:Nc.rendererPackageName,rendererConfig:Nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Le(o),o===null?null:o.stateNode},findFiberByHostInstance:Nc.findFiberByHostInstance||bF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{us=Bh.inject(wF),Cn=Bh}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xF,Tn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lv(l))throw Error(r(200));return vF(o,l,null,d)},Tn.createRoot=function(o,l){if(!lv(o))throw Error(r(299));var d=!1,g="",_=RA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=av(o,1,!1,null,null,d,!1,g,_),o[wa]=l.current,mc(o.nodeType===8?o.parentNode:o),new sv(l)},Tn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Le(l),o=o===null?null:o.stateNode,o},Tn.flushSync=function(o){return Ss(o)},Tn.hydrate=function(o,l,d){if(!Fh(l))throw Error(r(200));return Uh(null,o,l,!0,d)},Tn.hydrateRoot=function(o,l,d){if(!lv(o))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,_=!1,T="",D=RA;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),l=CA(l,null,o,1,d??null,_,!1,T,D),o[wa]=l.current,mc(o),g)for(o=0;o<g.length;o++)d=g[o],_=d._getVersion,_=_(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,_]:l.mutableSourceEagerHydrationData.push(d,_);return new Vh(l)},Tn.render=function(o,l,d){if(!Fh(l))throw Error(r(200));return Uh(null,o,l,!1,d)},Tn.unmountComponentAtNode=function(o){if(!Fh(o))throw Error(r(40));return o._reactRootContainer?(Ss(function(){Uh(null,null,o,!1,function(){o._reactRootContainer=null,o[wa]=null})}),!0):!1},Tn.unstable_batchedUpdates=Zy,Tn.unstable_renderSubtreeIntoContainer=function(o,l,d,g){if(!Fh(d))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Uh(o,l,d,!1,g)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var BA;function OF(){if(BA)return fv.exports;BA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fv.exports=IF(),fv.exports}var qA;function CF(){if(qA)return zh;qA=1;var t=OF();return zh.createRoot=t.createRoot,zh.hydrateRoot=t.hydrateRoot,zh}var NF=CF();const RF=yt(NF);var zA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},jF=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],u=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},g2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|u>>4;let y=(u&15)<<2|f>>6,b=f&63;c||(b=64,s||(y=64)),n.push(r[h],r[m],r[y],r[b])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||m==null)throw new MF;const y=a<<2|u>>4;if(n.push(y),f!==64){const b=u<<4&240|f>>2;if(n.push(b),m!==64){const w=f<<6&192|m;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DF=function(t){const e=m2(t);return g2.encodeByteArray(e,!0)},wp=function(t){return DF(t).replace(/\./g,"")},y2=function(t){try{return g2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=()=>LF().__FIREBASE_DEFAULTS__,VF=()=>{if(typeof process>"u"||typeof zA>"u")return;const t=zA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&y2(t[1]);return e&&JSON.parse(e)},jm=()=>{try{return $F()||VF()||FF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v2=t=>{var e,r;return(r=(e=jm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},b2=t=>{const e=v2(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},_2=()=>{var t;return(t=jm())===null||t===void 0?void 0:t.config},x2=t=>{var e;return(e=jm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wp(JSON.stringify(r)),wp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zr())}function qF(){var t;const e=(t=jm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KF(){const t=Zr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GF(){return!qF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YF(){try{return typeof indexedDB=="object"}catch{return!1}}function XF(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF="FirebaseError";class la extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=QF,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sd.prototype.create)}}class sd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?JF(a,n):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new la(i,u,n)}}function JF(t,e){return t.replace(ZF,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const ZF=/\{\$([^}]+)}/g;function e3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ep(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(WA(a)&&WA(s)){if(!Ep(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function WA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Wc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Hc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function t3(t,e){const r=new r3(t,e);return r.subscribe.bind(r)}class r3{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");n3(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=pv),i.error===void 0&&(i.error=pv),i.complete===void 0&&(i.complete=pv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n3(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function pv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class Ho{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new UF;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o3(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a3(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a3(t){return t===Cs?void 0:t}function o3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new i3(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const l3={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},u3=at.INFO,c3={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},f3=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=c3[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E1{constructor(e){this.name=e,this._logLevel=u3,this._logHandler=f3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const d3=(t,e)=>e.some(r=>t instanceof r);let HA,KA;function h3(){return HA||(HA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p3(){return KA||(KA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E2=new WeakMap,Ix=new WeakMap,S2=new WeakMap,mv=new WeakMap,S1=new WeakMap;function m3(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(Vo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&E2.set(r,t)}).catch(()=>{}),S1.set(e,t),e}function g3(t){if(Ix.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Ix.set(t,e)}let Ox={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ix.get(t);if(e==="objectStoreNames")return t.objectStoreNames||S2.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Vo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y3(t){Ox=t(Ox)}function v3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(gv(this),e,...r);return S2.set(n,e.sort?e.sort():[e]),Vo(n)}:p3().includes(t)?function(...e){return t.apply(gv(this),e),Vo(E2.get(this))}:function(...e){return Vo(t.apply(gv(this),e))}}function b3(t){return typeof t=="function"?v3(t):(t instanceof IDBTransaction&&g3(t),d3(t,h3())?new Proxy(t,Ox):t)}function Vo(t){if(t instanceof IDBRequest)return m3(t);if(mv.has(t))return mv.get(t);const e=b3(t);return e!==t&&(mv.set(t,e),S1.set(e,t)),e}const gv=t=>S1.get(t);function _3(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),u=Vo(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Vo(s.result),c.oldVersion,c.newVersion,Vo(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const x3=["get","getKey","getAll","getAllKeys","count"],w3=["put","add","delete","clear"],yv=new Map;function GA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yv.get(e))return yv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=w3.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||x3.includes(r)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[r](...u),i&&c.done]))[0]};return yv.set(e,a),a}y3(t=>({...t,get:(e,r,n)=>GA(e,r)||t.get(e,r,n),has:(e,r)=>!!GA(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(S3(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function S3(t){const e=t.getComponent();return e?.type==="VERSION"}const Cx="@firebase/app",YA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new E1("@firebase/app"),T3="@firebase/app-compat",A3="@firebase/analytics-compat",P3="@firebase/analytics",k3="@firebase/app-check-compat",I3="@firebase/app-check",O3="@firebase/auth",C3="@firebase/auth-compat",N3="@firebase/database",R3="@firebase/data-connect",j3="@firebase/database-compat",M3="@firebase/functions",D3="@firebase/functions-compat",L3="@firebase/installations",$3="@firebase/installations-compat",V3="@firebase/messaging",F3="@firebase/messaging-compat",U3="@firebase/performance",B3="@firebase/performance-compat",q3="@firebase/remote-config",z3="@firebase/remote-config-compat",W3="@firebase/storage",H3="@firebase/storage-compat",K3="@firebase/firestore",G3="@firebase/vertexai-preview",Y3="@firebase/firestore-compat",X3="firebase",Q3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="[DEFAULT]",J3={[Cx]:"fire-core",[T3]:"fire-core-compat",[P3]:"fire-analytics",[A3]:"fire-analytics-compat",[I3]:"fire-app-check",[k3]:"fire-app-check-compat",[O3]:"fire-auth",[C3]:"fire-auth-compat",[N3]:"fire-rtdb",[R3]:"fire-data-connect",[j3]:"fire-rtdb-compat",[M3]:"fire-fn",[D3]:"fire-fn-compat",[L3]:"fire-iid",[$3]:"fire-iid-compat",[V3]:"fire-fcm",[F3]:"fire-fcm-compat",[U3]:"fire-perf",[B3]:"fire-perf-compat",[q3]:"fire-rc",[z3]:"fire-rc-compat",[W3]:"fire-gcs",[H3]:"fire-gcs-compat",[K3]:"fire-fst",[Y3]:"fire-fst-compat",[G3]:"fire-vertex","fire-js":"fire-js",[X3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=new Map,Z3=new Map,Rx=new Map;function XA(t,e){try{t.container.addComponent(e)}catch(r){Ua.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function zs(t){const e=t.name;if(Rx.has(e))return Ua.debug(`There were multiple attempts to register component ${e}.`),!1;Rx.set(e,t);for(const r of Sp.values())XA(r,t);for(const r of Z3.values())XA(r,t);return!0}function Mm(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Yi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fo=new sd("app","Firebase",e6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=Q3;function T2(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Nx,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Fo.create("bad-app-name",{appName:String(i)});if(r||(r=_2()),!r)throw Fo.create("no-options");const a=Sp.get(i);if(a){if(Ep(r,a.options)&&Ep(n,a.config))return a;throw Fo.create("duplicate-app",{appName:i})}const s=new s3(i);for(const c of Rx.values())s.addComponent(c);const u=new t6(r,n,s);return Sp.set(i,u),u}function T1(t=Nx){const e=Sp.get(t);if(!e&&t===Nx&&_2())return T2();if(!e)throw Fo.create("no-app",{appName:t});return e}function Ji(t,e,r){var n;let i=(n=J3[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ua.warn(u.join(" "));return}zs(new Ho(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="firebase-heartbeat-database",n6=1,mf="firebase-heartbeat-store";let vv=null;function A2(){return vv||(vv=_3(r6,n6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mf)}catch(r){console.warn(r)}}}}).catch(t=>{throw Fo.create("idb-open",{originalErrorMessage:t.message})})),vv}async function i6(t){try{const r=(await A2()).transaction(mf),n=await r.objectStore(mf).get(P2(t));return await r.done,n}catch(e){if(e instanceof la)Ua.warn(e.message);else{const r=Fo.create("idb-get",{originalErrorMessage:e?.message});Ua.warn(r.message)}}}async function QA(t,e){try{const n=(await A2()).transaction(mf,"readwrite");await n.objectStore(mf).put(e,P2(t)),await n.done}catch(r){if(r instanceof la)Ua.warn(r.message);else{const n=Fo.create("idb-set",{originalErrorMessage:r?.message});Ua.warn(n.message)}}}function P2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=1024,o6=30*24*60*60*1e3;class s6{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new u6(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=JA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const u=new Date(s.date).valueOf();return Date.now()-u<=o6}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ua.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=JA(),{heartbeatsToSend:n,unsentEntries:i}=l6(this._heartbeatsCache.heartbeats),a=wp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ua.warn(r),""}}}function JA(){return new Date().toISOString().substring(0,10)}function l6(t,e=a6){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),ZA(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ZA(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class u6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YF()?XF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await i6(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return QA(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return QA(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ZA(t){return wp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){zs(new Ho("platform-logger",e=>new E3(e),"PRIVATE")),zs(new Ho("heartbeat",e=>new s6(e),"PRIVATE")),Ji(Cx,YA,t),Ji(Cx,YA,"esm2017"),Ji("fire-js","")}c6("");var f6="firebase",d6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(f6,d6,"app");function A1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function k2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h6=k2,I2=new sd("auth","Firebase",k2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new E1("@firebase/auth");function p6(t,...e){Tp.logLevel<=at.WARN&&Tp.warn(`Auth (${nl}): ${t}`,...e)}function dp(t,...e){Tp.logLevel<=at.ERROR&&Tp.error(`Auth (${nl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,...e){throw P1(t,...e)}function Zi(t,...e){return P1(t,...e)}function O2(t,e,r){const n=Object.assign(Object.assign({},h6()),{[e]:r});return new sd("auth","Firebase",n).create(e,{appName:t.name})}function $a(t){return O2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return I2.create(t,...e)}function He(t,e,...r){if(!t)throw P1(e,...r)}function Na(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dp(e),new Error(e)}function Ba(t,e){t||Na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function m6(){return eP()==="http:"||eP()==="https:"}function eP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m6()||WF()||"connection"in navigator)?navigator.onLine:!0}function y6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ba(r>e,"Short delay should be less than long delay!"),this.isMobile=BF()||HF()}get(){return g6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e){Ba(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=new ud(3e4,6e4);function Qo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jo(t,e,r,n,i={}){return N2(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const u=ld(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},a);return zF()||(f.referrerPolicy="no-referrer"),C2.fetch()(R2(t,t.config.apiHost,r,u),f)})}async function N2(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},v6),e);try{const i=new x6(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Wh(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Wh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Wh(t,"user-disabled",s);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw O2(t,h,f);Ri(t,h)}}catch(i){if(i instanceof la)throw i;Ri(t,"network-request-failed",{message:String(i)})}}async function cd(t,e,r,n,i={}){const a=await Jo(t,e,r,n,i);return"mfaPendingCredential"in a&&Ri(t,"multi-factor-auth-required",{_serverResponse:a}),a}function R2(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?k1(t.config,i):`${t.config.apiScheme}://${i}`}function _6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Zi(this.auth,"network-request-failed")),b6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Zi(t,e,n);return i.customData._tokenResponse=r,i}function tP(t){return t!==void 0&&t.enterprise!==void 0}class w6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return _6(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function E6(t,e){return Jo(t,"GET","/v2/recaptchaConfig",Qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e){return Jo(t,"POST","/v1/accounts:delete",e)}async function j2(t,e){return Jo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T6(t,e=!1){const r=Lt(t),n=await r.getIdToken(e),i=I1(n);He(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:n,authTime:tf(bv(i.auth_time)),issuedAtTime:tf(bv(i.iat)),expirationTime:tf(bv(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function bv(t){return Number(t)*1e3}function I1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return dp("JWT malformed, contained fewer than 3 sections"),null;try{const i=y2(r);return i?JSON.parse(i):(dp("Failed to decode base64 JWT payload"),null)}catch(i){return dp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function rP(t){const e=I1(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof la&&A6(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function A6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=tf(this.lastLoginAt),this.creationTime=tf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(t){var e;const r=t.auth,n=await t.getIdToken(),i=await gf(t,j2(r,{idToken:n}));He(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?M2(a.providerUserInfo):[],u=I6(t.providerData,s),c=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,h=c?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Mx(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function k6(t){const e=Lt(t);await Ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I6(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function M2(t){return t.map(e=>{var{providerId:r}=e,n=A1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e){const r=await N2(t,{},async()=>{const n=ld({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=R2(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",C2.fetch()(s,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function C6(t,e){return Jo(t,"POST","/v2/accounts:revokeToken",Qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){He(e.length!==0,"internal-error");const r=rP(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await O6(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new iu;return n&&(He(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(He(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(He(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new iu,this.toJSON())}_performRefresh(){return Na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ra{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=A1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Mx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await gf(this,this.stsTokenManager.getToken(this.auth,e));return He(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return T6(this,e)}reload(){return k6(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Ap(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yi(this.auth.app))return Promise.reject($a(this.auth));const e=await this.getIdToken();return await gf(this,S6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,u,c,f,h;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,b=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,w=(s=r.photoURL)!==null&&s!==void 0?s:void 0,E=(u=r.tenantId)!==null&&u!==void 0?u:void 0,x=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,N=(f=r.createdAt)!==null&&f!==void 0?f:void 0,C=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:I,emailVerified:$,isAnonymous:O,providerData:j,stsTokenManager:A}=r;He(I&&A,e,"internal-error");const P=iu.fromJSON(this.name,A);He(typeof I=="string",e,"internal-error"),ko(m,e.name),ko(y,e.name),He(typeof $=="boolean",e,"internal-error"),He(typeof O=="boolean",e,"internal-error"),ko(b,e.name),ko(w,e.name),ko(E,e.name),ko(x,e.name),ko(N,e.name),ko(C,e.name);const R=new Ra({uid:I,auth:e,email:y,emailVerified:$,displayName:m,isAnonymous:O,photoURL:w,phoneNumber:b,tenantId:E,stsTokenManager:P,createdAt:N,lastLoginAt:C});return j&&Array.isArray(j)&&(R.providerData=j.map(V=>Object.assign({},V))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,r,n=!1){const i=new iu;i.updateFromServerResponse(r);const a=new Ra({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ap(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];He(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?M2(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,u=new iu;u.updateFromIdToken(n);const c=new Ra({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Mx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Map;function ja(t){Ba(t instanceof Function,"Expected a class definition");let e=nP.get(t);return e?(Ba(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}D2.type="NONE";const iP=D2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t,e,r){return`firebase:${t}:${e}:${r}`}class au{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=hp(this.userKey,i.apiKey,a),this.fullPersistenceKey=hp("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ra._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new au(ja(iP),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||ja(iP);const s=hp(n,e.config.apiKey,e.name);let u=null;for(const f of r)try{const h=await f._get(s);if(h){const m=Ra._fromJSON(e,h);f!==a&&(u=m),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new au(a,e,n):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new au(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B2(e))return"Blackberry";if(q2(e))return"Webos";if($2(e))return"Safari";if((e.includes("chrome/")||V2(e))&&!e.includes("edge/"))return"Chrome";if(U2(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function L2(t=Zr()){return/firefox\//i.test(t)}function $2(t=Zr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V2(t=Zr()){return/crios\//i.test(t)}function F2(t=Zr()){return/iemobile/i.test(t)}function U2(t=Zr()){return/android/i.test(t)}function B2(t=Zr()){return/blackberry/i.test(t)}function q2(t=Zr()){return/webos/i.test(t)}function O1(t=Zr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N6(t=Zr()){var e;return O1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R6(){return KF()&&document.documentMode===10}function z2(t=Zr()){return O1(t)||U2(t)||q2(t)||B2(t)||/windows phone/i.test(t)||F2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e=[]){let r;switch(t){case"Browser":r=aP(Zr());break;case"Worker":r=`${aP(Zr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${nl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(t,e={}){return Jo(t,"GET","/v2/passwordPolicy",Qo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=6;class L6{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:D6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oP(this),this.idTokenSubscription=new oP(this),this.beforeStateQueue=new j6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ja(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await au.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await j2(this,{idToken:e}),n=await Ra._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Yi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&c?.user&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ap(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yi(this.app))return Promise.reject($a(this));const r=e?Lt(e):null;return r&&He(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yi(this.app)?Promise.reject($a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yi(this.app)?Promise.reject($a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M6(this),r=new L6(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await C6(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ja(e)||this._popupRedirectResolver;He(r,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[ja(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&p6(`Error while retrieving App Check token: ${r.error}`),r?.token}}function il(t){return Lt(t)}class oP{constructor(e){this.auth=e,this.observer=null,this.addObserver=t3(r=>this.observer=r)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V6(t){Dm=t}function H2(t){return Dm.loadJS(t)}function F6(){return Dm.recaptchaEnterpriseScript}function U6(){return Dm.gapiScript}function B6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const q6="recaptcha-enterprise",z6="NO_RECAPTCHA";class W6{constructor(e){this.type=q6,this.auth=il(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{E6(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new w6(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,s(f.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;tP(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{s(f)}).catch(()=>{s(z6)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{n(this.auth).then(u=>{if(!r&&tP(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=F6();c.length!==0&&(c+=u),H2(c).then(()=>{i(u,a,s)}).catch(f=>{s(f)})}}).catch(u=>{s(u)})})}}async function sP(t,e,r,n=!1){const i=new W6(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Dx(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await sP(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await sP(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t,e){const r=Mm(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Ep(a,e??{}))return i;Ri(i,"already-initialized")}return r.initialize({options:e})}function K6(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(ja);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function G6(t,e,r){const n=il(t);He(n._canInitEmulator,n,"emulator-config-failed"),He(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=K2(e),{host:s,port:u}=Y6(e),c=u===null?"":`:${u}`;n.config.emulator={url:`${a}//${s}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),X6()}function K2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y6(t){const e=K2(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:lP(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:lP(s)}}}function lP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function X6(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Na("not implemented")}_getIdTokenResponse(e){return Na("not implemented")}_linkToIdToken(e,r){return Na("not implemented")}_getReauthenticationResolver(e){return Na("not implemented")}}async function Q6(t,e){return Jo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e){return cd(t,"POST","/v1/accounts:signInWithPassword",Qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",Qo(t,e))}async function eU(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",Qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends C1{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new yf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new yf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dx(e,r,"signInWithPassword",J6);case"emailLink":return Z6(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dx(e,n,"signUpPassword",Q6);case"emailLink":return eU(e,{idToken:r,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t,e){return cd(t,"POST","/v1/accounts:signInWithIdp",Qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU="http://localhost";class Ws extends C1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Ri("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=A1(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Ws(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return ou(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,ou(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,ou(e,r)}buildRequest(){const e={requestUri:tU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=ld(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nU(t){const e=Wc(Hc(t)).link,r=e?Wc(Hc(e)).deep_link_id:null,n=Wc(Hc(t)).deep_link_id;return(n?Wc(Hc(n)).link:null)||n||r||e||t}class N1{constructor(e){var r,n,i,a,s,u;const c=Wc(Hc(e)),f=(r=c.apiKey)!==null&&r!==void 0?r:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,m=rU((i=c.mode)!==null&&i!==void 0?i:null);He(f&&h&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=nU(e);try{return new N1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.providerId=qu.PROVIDER_ID}static credential(e,r){return yf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=N1.parseLink(r);return He(n,"argument-error"),yf._fromEmailAndCode(e,n.code,n.tenantId)}}qu.PROVIDER_ID="password";qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends G2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends fd{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Co.credential(e.oauthAccessToken)}catch{return null}}}Co.FACEBOOK_SIGN_IN_METHOD="facebook.com";Co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends fd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ws._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return No.credential(r,n)}catch{return null}}}No.GOOGLE_SIGN_IN_METHOD="google.com";No.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends fd{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.GITHUB_SIGN_IN_METHOD="github.com";Ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends fd{constructor(){super("twitter.com")}static credential(e,r){return Ws._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return jo.credential(r,n)}catch{return null}}}jo.TWITTER_SIGN_IN_METHOD="twitter.com";jo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(t,e){return cd(t,"POST","/v1/accounts:signUp",Qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Ra._fromIdTokenResponse(e,n,i),s=uP(n);return new Hs({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=uP(n);return new Hs({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function uP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends la{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Pp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Pp(e,r,n,i)}}function Y2(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Pp._fromErrorAndOperation(t,a,e,n):a})}async function aU(t,e,r=!1){const n=await gf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Hs._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(t,e,r=!1){const{auth:n}=t;if(Yi(n.app))return Promise.reject($a(n));const i="reauthenticate";try{const a=await gf(t,Y2(n,i,e,t),r);He(a.idToken,n,"internal-error");const s=I1(a.idToken);He(s,n,"internal-error");const{sub:u}=s;return He(t.uid===u,n,"user-mismatch"),Hs._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ri(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(t,e,r=!1){if(Yi(t.app))return Promise.reject($a(t));const n="signIn",i=await Y2(t,n,e),a=await Hs._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function sU(t,e){return X2(il(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(t){const e=il(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lU(t,e,r){if(Yi(t.app))return Promise.reject($a(t));const n=il(t),s=await Dx(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iU).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Q2(t),c}),u=await Hs._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(u.user),u}function uU(t,e,r){return Yi(t.app)?Promise.reject($a(t)):sU(Lt(t),qu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Q2(t),n})}function cU(t,e,r,n){return Lt(t).onIdTokenChanged(e,r,n)}function fU(t,e,r){return Lt(t).beforeAuthStateChanged(e,r)}function dU(t,e,r,n){return Lt(t).onAuthStateChanged(e,r,n)}function hU(t){return Lt(t).signOut()}const kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=1e3,mU=10;class Z2 extends J2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);R6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mU):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},pU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z2.type="LOCAL";const gU=Z2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM extends J2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}eM.type="SESSION";const tM=eM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Lm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(s).map(async f=>f(r.origin,a)),c=await yU(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const f=R1("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(){return window}function bU(t){ea().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(){return typeof ea().WorkerGlobalScope<"u"&&typeof ea().importScripts=="function"}async function _U(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wU(){return rM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="firebaseLocalStorageDb",EU=1,Ip="firebaseLocalStorage",iM="fbase_key";class dd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function $m(t,e){return t.transaction([Ip],e?"readwrite":"readonly").objectStore(Ip)}function SU(){const t=indexedDB.deleteDatabase(nM);return new dd(t).toPromise()}function Lx(){const t=indexedDB.open(nM,EU);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ip,{keyPath:iM})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ip)?e(n):(n.close(),await SU(),e(await Lx()))})})}async function cP(t,e,r){const n=$m(t,!0).put({[iM]:e,value:r});return new dd(n).toPromise()}async function TU(t,e){const r=$m(t,!1).get(e),n=await new dd(r).toPromise();return n===void 0?null:n.value}function fP(t,e){const r=$m(t,!0).delete(e);return new dd(r).toPromise()}const AU=800,PU=3;class aM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>PU)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lm._getInstance(wU()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await _U(),!this.activeServiceWorker)return;this.sender=new vU(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lx();return await cP(e,kp,"1"),await fP(e,kp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>cP(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>TU(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>fP(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=$m(i,!1).getAll();return new dd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aM.type="LOCAL";const kU=aM;new ud(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t,e){return e?ja(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends C1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ou(e,this._buildIdpRequest())}_linkToIdToken(e,r){return ou(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return ou(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function OU(t){return X2(t.auth,new j1(t),t.bypassAuthState)}function CU(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),oU(r,new j1(t),t.bypassAuthState)}async function NU(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),aU(r,new j1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OU;case"linkViaPopup":case"linkViaRedirect":return NU;case"reauthViaPopup":case"reauthViaRedirect":return CU;default:Ri(this.auth,"internal-error")}}resolve(e){Ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=new ud(2e3,1e4);class Jl extends oM{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Jl.currentPopupAction&&Jl.currentPopupAction.cancel(),Jl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ba(this.filter.length===1,"Popup operations only handle one event");const e=R1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RU.get())};e()}}Jl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="pendingRedirect",pp=new Map;class MU extends oM{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=pp.get(this.auth._key());if(!e){try{const n=await DU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}pp.set(this.auth._key(),e)}return this.bypassAuthState||pp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DU(t,e){const r=VU(e),n=$U(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function LU(t,e){pp.set(t._key(),e)}function $U(t){return ja(t._redirectPersistence)}function VU(t){return hp(jU,t.config.apiKey,t.name)}async function FU(t,e,r=!1){if(Yi(t.app))return Promise.reject($a(t));const n=il(t),i=IU(n,e),s=await new MU(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=10*60*1e3;class BU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qU(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!sM(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Zi(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UU&&this.cachedEventUids.clear(),this.cachedEventUids.has(dP(e))}saveEventToCache(e){this.cachedEventUids.add(dP(e)),this.lastProcessedEventTime=Date.now()}}function dP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function qU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(t,e={}){return Jo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HU=/^https?/;async function KU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zU(t);for(const r of e)try{if(GU(r))return}catch{}Ri(t,"unauthorized-domain")}function GU(t){const e=jx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!HU.test(r))return!1;if(WU.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new ud(3e4,6e4);function hP(){const t=ea().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function XU(t){return new Promise((e,r)=>{var n,i,a;function s(){hP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hP(),r(Zi(t,"network-request-failed"))},timeout:YU.get()})}if(!((i=(n=ea().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ea().gapi)===null||a===void 0)&&a.load)s();else{const u=B6("iframefcb");return ea()[u]=()=>{gapi.load?s():r(Zi(t,"network-request-failed"))},H2(`${U6()}?onload=${u}`).catch(c=>r(c))}}).catch(e=>{throw mp=null,e})}let mp=null;function QU(t){return mp=mp||XU(t),mp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=new ud(5e3,15e3),ZU="__/auth/iframe",eB="emulator/auth/iframe",tB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nB(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?k1(e,eB):`https://${t.config.authDomain}/${ZU}`,n={apiKey:e.apiKey,appName:t.name,v:nl},i=rB.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${ld(n).slice(1)}`}async function iB(t){const e=await QU(t),r=ea().gapi;return He(r,t,"internal-error"),e.open({where:document.body,url:nB(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tB,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Zi(t,"network-request-failed"),u=ea().setTimeout(()=>{a(s)},JU.get());function c(){ea().clearTimeout(u),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oB=500,sB=600,lB="_blank",uB="http://localhost";class pP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cB(t,e,r,n=oB,i=sB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const c=Object.assign(Object.assign({},aB),{width:n.toString(),height:i.toString(),top:a,left:s}),f=Zr().toLowerCase();r&&(u=V2(f)?lB:r),L2(f)&&(e=e||uB,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[b,w])=>`${y}${b}=${w},`,"");if(N6(f)&&u!=="_self")return fB(e||"",u),new pP(null);const m=window.open(e||"",u,h);He(m,t,"popup-blocked");try{m.focus()}catch{}return new pP(m)}function fB(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="__/auth/handler",hB="emulator/auth/handler",pB=encodeURIComponent("fac");async function mP(t,e,r,n,i,a){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:nl,eventId:i};if(e instanceof G2){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",e3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof fd){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${pB}=${encodeURIComponent(c)}`:"";return`${mB(t)}?${ld(u).slice(1)}${f}`}function mB({config:t}){return t.emulator?k1(t,hB):`https://${t.authDomain}/${dB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="webStorageSupport";class gB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tM,this._completeRedirectFn=FU,this._overrideRedirectResult=LU}async _openPopup(e,r,n,i){var a;Ba((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await mP(e,r,n,jx(),i);return cB(e,s,R1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await mP(e,r,n,jx(),i);return bU(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ba(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await iB(e),n=new BU(e);return r.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(_v,{type:_v},i=>{var a;const s=(a=i?.[0])===null||a===void 0?void 0:a[_v];s!==void 0&&r(!!s),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=KU(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return z2()||$2()||O1()}}const yB=gB;var gP="@firebase/auth",yP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _B(t){zs(new Ho("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=n.options;He(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W2(t)},f=new $6(n,i,a,c);return K6(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),zs(new Ho("auth-internal",e=>{const r=il(e.getProvider("auth").getImmediate());return(n=>new vB(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(gP,yP,bB(t)),Ji(gP,yP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=5*60,wB=x2("authIdTokenMaxAge")||xB;let vP=null;const EB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>wB)return;const i=r?.token;vP!==i&&(vP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lM(t=T1()){const e=Mm(t,"auth");if(e.isInitialized())return e.getImmediate();const r=H6(t,{popupRedirectResolver:yB,persistence:[kU,gU,tM]}),n=x2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=EB(a.toString());fU(r,s,()=>s(r.currentUser)),cU(r,u=>s(u))}}const i=v2("auth");return i&&G6(r,`http://${i}`),r}function SB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}V6({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Zi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",SB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_B("Browser");var bP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,uM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function R(){}R.prototype=P.prototype,A.D=P.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(V,L,F){for(var M=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)M[ee-2]=arguments[ee];return P.prototype[L].apply(V,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,R){R||(R=0);var V=Array(16);if(typeof P=="string")for(var L=0;16>L;++L)V[L]=P.charCodeAt(R++)|P.charCodeAt(R++)<<8|P.charCodeAt(R++)<<16|P.charCodeAt(R++)<<24;else for(L=0;16>L;++L)V[L]=P[R++]|P[R++]<<8|P[R++]<<16|P[R++]<<24;P=A.g[0],R=A.g[1],L=A.g[2];var F=A.g[3],M=P+(F^R&(L^F))+V[0]+3614090360&4294967295;P=R+(M<<7&4294967295|M>>>25),M=F+(L^P&(R^L))+V[1]+3905402710&4294967295,F=P+(M<<12&4294967295|M>>>20),M=L+(R^F&(P^R))+V[2]+606105819&4294967295,L=F+(M<<17&4294967295|M>>>15),M=R+(P^L&(F^P))+V[3]+3250441966&4294967295,R=L+(M<<22&4294967295|M>>>10),M=P+(F^R&(L^F))+V[4]+4118548399&4294967295,P=R+(M<<7&4294967295|M>>>25),M=F+(L^P&(R^L))+V[5]+1200080426&4294967295,F=P+(M<<12&4294967295|M>>>20),M=L+(R^F&(P^R))+V[6]+2821735955&4294967295,L=F+(M<<17&4294967295|M>>>15),M=R+(P^L&(F^P))+V[7]+4249261313&4294967295,R=L+(M<<22&4294967295|M>>>10),M=P+(F^R&(L^F))+V[8]+1770035416&4294967295,P=R+(M<<7&4294967295|M>>>25),M=F+(L^P&(R^L))+V[9]+2336552879&4294967295,F=P+(M<<12&4294967295|M>>>20),M=L+(R^F&(P^R))+V[10]+4294925233&4294967295,L=F+(M<<17&4294967295|M>>>15),M=R+(P^L&(F^P))+V[11]+2304563134&4294967295,R=L+(M<<22&4294967295|M>>>10),M=P+(F^R&(L^F))+V[12]+1804603682&4294967295,P=R+(M<<7&4294967295|M>>>25),M=F+(L^P&(R^L))+V[13]+4254626195&4294967295,F=P+(M<<12&4294967295|M>>>20),M=L+(R^F&(P^R))+V[14]+2792965006&4294967295,L=F+(M<<17&4294967295|M>>>15),M=R+(P^L&(F^P))+V[15]+1236535329&4294967295,R=L+(M<<22&4294967295|M>>>10),M=P+(L^F&(R^L))+V[1]+4129170786&4294967295,P=R+(M<<5&4294967295|M>>>27),M=F+(R^L&(P^R))+V[6]+3225465664&4294967295,F=P+(M<<9&4294967295|M>>>23),M=L+(P^R&(F^P))+V[11]+643717713&4294967295,L=F+(M<<14&4294967295|M>>>18),M=R+(F^P&(L^F))+V[0]+3921069994&4294967295,R=L+(M<<20&4294967295|M>>>12),M=P+(L^F&(R^L))+V[5]+3593408605&4294967295,P=R+(M<<5&4294967295|M>>>27),M=F+(R^L&(P^R))+V[10]+38016083&4294967295,F=P+(M<<9&4294967295|M>>>23),M=L+(P^R&(F^P))+V[15]+3634488961&4294967295,L=F+(M<<14&4294967295|M>>>18),M=R+(F^P&(L^F))+V[4]+3889429448&4294967295,R=L+(M<<20&4294967295|M>>>12),M=P+(L^F&(R^L))+V[9]+568446438&4294967295,P=R+(M<<5&4294967295|M>>>27),M=F+(R^L&(P^R))+V[14]+3275163606&4294967295,F=P+(M<<9&4294967295|M>>>23),M=L+(P^R&(F^P))+V[3]+4107603335&4294967295,L=F+(M<<14&4294967295|M>>>18),M=R+(F^P&(L^F))+V[8]+1163531501&4294967295,R=L+(M<<20&4294967295|M>>>12),M=P+(L^F&(R^L))+V[13]+2850285829&4294967295,P=R+(M<<5&4294967295|M>>>27),M=F+(R^L&(P^R))+V[2]+4243563512&4294967295,F=P+(M<<9&4294967295|M>>>23),M=L+(P^R&(F^P))+V[7]+1735328473&4294967295,L=F+(M<<14&4294967295|M>>>18),M=R+(F^P&(L^F))+V[12]+2368359562&4294967295,R=L+(M<<20&4294967295|M>>>12),M=P+(R^L^F)+V[5]+4294588738&4294967295,P=R+(M<<4&4294967295|M>>>28),M=F+(P^R^L)+V[8]+2272392833&4294967295,F=P+(M<<11&4294967295|M>>>21),M=L+(F^P^R)+V[11]+1839030562&4294967295,L=F+(M<<16&4294967295|M>>>16),M=R+(L^F^P)+V[14]+4259657740&4294967295,R=L+(M<<23&4294967295|M>>>9),M=P+(R^L^F)+V[1]+2763975236&4294967295,P=R+(M<<4&4294967295|M>>>28),M=F+(P^R^L)+V[4]+1272893353&4294967295,F=P+(M<<11&4294967295|M>>>21),M=L+(F^P^R)+V[7]+4139469664&4294967295,L=F+(M<<16&4294967295|M>>>16),M=R+(L^F^P)+V[10]+3200236656&4294967295,R=L+(M<<23&4294967295|M>>>9),M=P+(R^L^F)+V[13]+681279174&4294967295,P=R+(M<<4&4294967295|M>>>28),M=F+(P^R^L)+V[0]+3936430074&4294967295,F=P+(M<<11&4294967295|M>>>21),M=L+(F^P^R)+V[3]+3572445317&4294967295,L=F+(M<<16&4294967295|M>>>16),M=R+(L^F^P)+V[6]+76029189&4294967295,R=L+(M<<23&4294967295|M>>>9),M=P+(R^L^F)+V[9]+3654602809&4294967295,P=R+(M<<4&4294967295|M>>>28),M=F+(P^R^L)+V[12]+3873151461&4294967295,F=P+(M<<11&4294967295|M>>>21),M=L+(F^P^R)+V[15]+530742520&4294967295,L=F+(M<<16&4294967295|M>>>16),M=R+(L^F^P)+V[2]+3299628645&4294967295,R=L+(M<<23&4294967295|M>>>9),M=P+(L^(R|~F))+V[0]+4096336452&4294967295,P=R+(M<<6&4294967295|M>>>26),M=F+(R^(P|~L))+V[7]+1126891415&4294967295,F=P+(M<<10&4294967295|M>>>22),M=L+(P^(F|~R))+V[14]+2878612391&4294967295,L=F+(M<<15&4294967295|M>>>17),M=R+(F^(L|~P))+V[5]+4237533241&4294967295,R=L+(M<<21&4294967295|M>>>11),M=P+(L^(R|~F))+V[12]+1700485571&4294967295,P=R+(M<<6&4294967295|M>>>26),M=F+(R^(P|~L))+V[3]+2399980690&4294967295,F=P+(M<<10&4294967295|M>>>22),M=L+(P^(F|~R))+V[10]+4293915773&4294967295,L=F+(M<<15&4294967295|M>>>17),M=R+(F^(L|~P))+V[1]+2240044497&4294967295,R=L+(M<<21&4294967295|M>>>11),M=P+(L^(R|~F))+V[8]+1873313359&4294967295,P=R+(M<<6&4294967295|M>>>26),M=F+(R^(P|~L))+V[15]+4264355552&4294967295,F=P+(M<<10&4294967295|M>>>22),M=L+(P^(F|~R))+V[6]+2734768916&4294967295,L=F+(M<<15&4294967295|M>>>17),M=R+(F^(L|~P))+V[13]+1309151649&4294967295,R=L+(M<<21&4294967295|M>>>11),M=P+(L^(R|~F))+V[4]+4149444226&4294967295,P=R+(M<<6&4294967295|M>>>26),M=F+(R^(P|~L))+V[11]+3174756917&4294967295,F=P+(M<<10&4294967295|M>>>22),M=L+(P^(F|~R))+V[2]+718787259&4294967295,L=F+(M<<15&4294967295|M>>>17),M=R+(F^(L|~P))+V[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+F&4294967295}n.prototype.u=function(A,P){P===void 0&&(P=A.length);for(var R=P-this.blockSize,V=this.B,L=this.h,F=0;F<P;){if(L==0)for(;F<=R;)i(this,A,F),F+=this.blockSize;if(typeof A=="string"){for(;F<P;)if(V[L++]=A.charCodeAt(F++),L==this.blockSize){i(this,V),L=0;break}}else for(;F<P;)if(V[L++]=A[F++],L==this.blockSize){i(this,V),L=0;break}}this.h=L,this.o+=P},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;var R=8*this.o;for(P=A.length-8;P<A.length;++P)A[P]=R&255,R/=256;for(this.u(A),A=Array(16),P=R=0;4>P;++P)for(var V=0;32>V;V+=8)A[R++]=this.g[P]>>>V&255;return A};function a(A,P){var R=u;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=P(A)}function s(A,P){this.h=P;for(var R=[],V=!0,L=A.length-1;0<=L;L--){var F=A[L]|0;V&&F==P||(R[L]=F,V=!1)}this.g=R}var u={};function c(A){return-128<=A&&128>A?a(A,function(P){return new s([P|0],0>P?-1:0)}):new s([A|0],0>A?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return x(f(-A));for(var P=[],R=1,V=0;A>=R;V++)P[V]=A/R|0,R*=4294967296;return new s(P,0)}function h(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return x(h(A.substring(1),P));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(P,8)),V=m,L=0;L<A.length;L+=8){var F=Math.min(8,A.length-L),M=parseInt(A.substring(L,L+F),P);8>F?(F=f(Math.pow(P,F)),V=V.j(F).add(f(M))):(V=V.j(R),V=V.add(f(M)))}return V}var m=c(0),y=c(1),b=c(16777216);t=s.prototype,t.m=function(){if(E(this))return-x(this).m();for(var A=0,P=1,R=0;R<this.g.length;R++){var V=this.i(R);A+=(0<=V?V:4294967296+V)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(w(this))return"0";if(E(this))return"-"+x(this).toString(A);for(var P=f(Math.pow(A,6)),R=this,V="";;){var L=$(R,P).g;R=N(R,L.j(P));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=L,w(R))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function w(A){if(A.h!=0)return!1;for(var P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function E(A){return A.h==-1}t.l=function(A){return A=N(this,A),E(A)?-1:w(A)?0:1};function x(A){for(var P=A.g.length,R=[],V=0;V<P;V++)R[V]=~A.g[V];return new s(R,~A.h).add(y)}t.abs=function(){return E(this)?x(this):this},t.add=function(A){for(var P=Math.max(this.g.length,A.g.length),R=[],V=0,L=0;L<=P;L++){var F=V+(this.i(L)&65535)+(A.i(L)&65535),M=(F>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);V=M>>>16,F&=65535,M&=65535,R[L]=M<<16|F}return new s(R,R[R.length-1]&-2147483648?-1:0)};function N(A,P){return A.add(x(P))}t.j=function(A){if(w(this)||w(A))return m;if(E(this))return E(A)?x(this).j(x(A)):x(x(this).j(A));if(E(A))return x(this.j(x(A)));if(0>this.l(b)&&0>A.l(b))return f(this.m()*A.m());for(var P=this.g.length+A.g.length,R=[],V=0;V<2*P;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<A.g.length;L++){var F=this.i(V)>>>16,M=this.i(V)&65535,ee=A.i(L)>>>16,re=A.i(L)&65535;R[2*V+2*L]+=M*re,C(R,2*V+2*L),R[2*V+2*L+1]+=F*re,C(R,2*V+2*L+1),R[2*V+2*L+1]+=M*ee,C(R,2*V+2*L+1),R[2*V+2*L+2]+=F*ee,C(R,2*V+2*L+2)}for(V=0;V<P;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=P;V<2*P;V++)R[V]=0;return new s(R,0)};function C(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function I(A,P){this.g=A,this.h=P}function $(A,P){if(w(P))throw Error("division by zero");if(w(A))return new I(m,m);if(E(A))return P=$(x(A),P),new I(x(P.g),x(P.h));if(E(P))return P=$(A,x(P)),new I(x(P.g),P.h);if(30<A.g.length){if(E(A)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var R=y,V=P;0>=V.l(A);)R=O(R),V=O(V);var L=j(R,1),F=j(V,1);for(V=j(V,2),R=j(R,2);!w(V);){var M=F.add(V);0>=M.l(A)&&(L=L.add(R),F=M),V=j(V,1),R=j(R,1)}return P=N(A,L.j(P)),new I(L,P)}for(L=m;0<=A.l(P);){for(R=Math.max(1,Math.floor(A.m()/P.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=f(R),M=F.j(P);E(M)||0<M.l(A);)R-=V,F=f(R),M=F.j(P);w(F)&&(F=y),L=L.add(F),A=N(A,M)}return new I(L,A)}t.A=function(A){return $(this,A).h},t.and=function(A){for(var P=Math.max(this.g.length,A.g.length),R=[],V=0;V<P;V++)R[V]=this.i(V)&A.i(V);return new s(R,this.h&A.h)},t.or=function(A){for(var P=Math.max(this.g.length,A.g.length),R=[],V=0;V<P;V++)R[V]=this.i(V)|A.i(V);return new s(R,this.h|A.h)},t.xor=function(A){for(var P=Math.max(this.g.length,A.g.length),R=[],V=0;V<P;V++)R[V]=this.i(V)^A.i(V);return new s(R,this.h^A.h)};function O(A){for(var P=A.g.length+1,R=[],V=0;V<P;V++)R[V]=A.i(V)<<1|A.i(V-1)>>>31;return new s(R,A.h)}function j(A,P){var R=P>>5;P%=32;for(var V=A.g.length-R,L=[],F=0;F<V;F++)L[F]=0<P?A.i(F+R)>>>P|A.i(F+R+1)<<32-P:A.i(F+R);return new s(L,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,uM=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Fs=s}).apply(typeof bP<"u"?bP:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cM,Kc,fM,gp,$x,dM,hM,pM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,S,k){return p==Array.prototype||p==Object.prototype||(p[S]=k.value),p};function r(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var S=0;S<p.length;++S){var k=p[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=r(this);function i(p,S){if(S)e:{var k=n;p=p.split(".");for(var U=0;U<p.length-1;U++){var Y=p[U];if(!(Y in k))break e;k=k[Y]}p=p[p.length-1],U=k[p],S=S(U),S!=U&&S!=null&&e(k,p,{configurable:!0,writable:!0,value:S})}}function a(p,S){p instanceof String&&(p+="");var k=0,U=!1,Y={next:function(){if(!U&&k<p.length){var ne=k++;return{value:S(ne,p[ne]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return a(this,function(S,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(p){var S=typeof p;return S=S!="object"?S:p?Array.isArray(p)?"array":S:"null",S=="array"||S=="object"&&typeof p.length=="number"}function f(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function h(p,S,k){return p.call.apply(p.bind,arguments)}function m(p,S,k){if(!p)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,U),p.apply(S,Y)}}return function(){return p.apply(S,arguments)}}function y(p,S,k){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,y.apply(null,arguments)}function b(p,S){var k=Array.prototype.slice.call(arguments,1);return function(){var U=k.slice();return U.push.apply(U,arguments),p.apply(this,U)}}function w(p,S){function k(){}k.prototype=S.prototype,p.aa=S.prototype,p.prototype=new k,p.prototype.constructor=p,p.Qb=function(U,Y,ne){for(var _e=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)_e[bt-2]=arguments[bt];return S.prototype[Y].apply(U,_e)}}function E(p){const S=p.length;if(0<S){const k=Array(S);for(let U=0;U<S;U++)k[U]=p[U];return k}return[]}function x(p,S){for(let k=1;k<arguments.length;k++){const U=arguments[k];if(c(U)){const Y=p.length||0,ne=U.length||0;p.length=Y+ne;for(let _e=0;_e<ne;_e++)p[Y+_e]=U[_e]}else p.push(U)}}class N{constructor(S,k){this.i=S,this.j=k,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function C(p){return/^[\s\xa0]*$/.test(p)}function I(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var O=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function j(p,S,k){for(const U in p)S.call(k,p[U],U,p)}function A(p,S){for(const k in p)S.call(void 0,p[k],k,p)}function P(p){const S={};for(const k in p)S[k]=p[k];return S}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(p,S){let k,U;for(let Y=1;Y<arguments.length;Y++){U=arguments[Y];for(k in U)p[k]=U[k];for(let ne=0;ne<R.length;ne++)k=R[ne],Object.prototype.hasOwnProperty.call(U,k)&&(p[k]=U[k])}}function L(p){var S=1;p=p.split(":");const k=[];for(;0<S&&p.length;)k.push(p.shift()),S--;return p.length&&k.push(p.join(":")),k}function F(p){u.setTimeout(()=>{throw p},0)}function M(){var p=ae;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class ee{constructor(){this.h=this.g=null}add(S,k){const U=re.get();U.set(S,k),this.h?this.h.next=U:this.g=U,this.h=U}}var re=new N(()=>new ie,p=>p.reset());class ie{constructor(){this.next=this.g=this.h=null}set(S,k){this.h=S,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Q=!1,ae=new ee,se=()=>{const p=u.Promise.resolve(void 0);oe=()=>{p.then(q)}};var q=()=>{for(var p;p=M();){try{p.h.call(p.g)}catch(k){F(k)}var S=re;S.j(p),100>S.h&&(S.h++,p.next=S.g,S.g=p)}Q=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};u.addEventListener("test",k,S),u.removeEventListener("test",k,S)}catch{}return p}();function je(p,S){if(fe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var k=this.type=p.type,U=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget){if(O){e:{try{$(S.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(S=null)}}else k=="mouseover"?S=p.fromElement:k=="mouseout"&&(S=p.toElement);this.relatedTarget=S,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:xe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&je.aa.h.call(this)}}w(je,fe);var xe={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function me(p,S,k,U,Y){this.listener=p,this.proxy=null,this.src=S,this.type=k,this.capture=!!U,this.ha=Y,this.key=++Fe,this.da=this.fa=!1}function Ce(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function qe(p){this.src=p,this.g={},this.h=0}qe.prototype.add=function(p,S,k,U,Y){var ne=p.toString();p=this.g[ne],p||(p=this.g[ne]=[],this.h++);var _e=lt(p,S,U,Y);return-1<_e?(S=p[_e],k||(S.fa=!1)):(S=new me(S,this.src,ne,!!U,Y),S.fa=k,p.push(S)),S};function ue(p,S){var k=S.type;if(k in p.g){var U=p.g[k],Y=Array.prototype.indexOf.call(U,S,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(U,Y,1),ne&&(Ce(S),p.g[k].length==0&&(delete p.g[k],p.h--))}}function lt(p,S,k,U){for(var Y=0;Y<p.length;++Y){var ne=p[Y];if(!ne.da&&ne.listener==S&&ne.capture==!!k&&ne.ha==U)return Y}return-1}var We="closure_lm_"+(1e6*Math.random()|0),ht={};function St(p,S,k,U,Y){if(Array.isArray(S)){for(var ne=0;ne<S.length;ne++)St(p,S[ne],k,U,Y);return null}return k=Li(k),p&&p[$e]?p.K(S,k,f(U)?!!U.capture:!1,Y):Gt(p,S,k,!1,U,Y)}function Gt(p,S,k,U,Y,ne){if(!S)throw Error("Invalid event type");var _e=f(Y)?!!Y.capture:!!Y,bt=tn(p);if(bt||(p[We]=bt=new qe(p)),k=bt.add(S,k,U,_e,ne),k.proxy)return k;if(U=fr(),k.proxy=U,U.src=p,U.listener=k,p.addEventListener)Se||(Y=_e),Y===void 0&&(Y=!1),p.addEventListener(S.toString(),U,Y);else if(p.attachEvent)p.attachEvent(zt(S.toString()),U);else if(p.addListener&&p.removeListener)p.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return k}function fr(){function p(k){return S.call(p.src,p.listener,k)}const S=Or;return p}function en(p,S,k,U,Y){if(Array.isArray(S))for(var ne=0;ne<S.length;ne++)en(p,S[ne],k,U,Y);else U=f(U)?!!U.capture:!!U,k=Li(k),p&&p[$e]?(p=p.i,S=String(S).toString(),S in p.g&&(ne=p.g[S],k=lt(ne,k,U,Y),-1<k&&(Ce(ne[k]),Array.prototype.splice.call(ne,k,1),ne.length==0&&(delete p.g[S],p.h--)))):p&&(p=tn(p))&&(S=p.g[S.toString()],p=-1,S&&(p=lt(S,k,U,Y)),(k=-1<p?S[p]:null)&&qt(k))}function qt(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[$e])ue(S.i,p);else{var k=p.type,U=p.proxy;S.removeEventListener?S.removeEventListener(k,U,p.capture):S.detachEvent?S.detachEvent(zt(k),U):S.addListener&&S.removeListener&&S.removeListener(U),(k=tn(S))?(ue(k,p),k.h==0&&(k.src=null,S[We]=null)):Ce(p)}}}function zt(p){return p in ht?ht[p]:ht[p]="on"+p}function Or(p,S){if(p.da)p=!0;else{S=new je(S,this);var k=p.listener,U=p.ha||p.src;p.fa&&qt(p),p=k.call(U,S)}return p}function tn(p){return p=p[We],p instanceof qe?p:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function Li(p){return typeof p=="function"?p:(p[di]||(p[di]=function(S){return p.handleEvent(S)}),p[di])}function Yt(){K.call(this),this.i=new qe(this),this.M=this,this.F=null}w(Yt,K),Yt.prototype[$e]=!0,Yt.prototype.removeEventListener=function(p,S,k,U){en(this,p,S,k,U)};function rr(p,S){var k,U=p.F;if(U)for(k=[];U;U=U.F)k.push(U);if(p=p.M,U=S.type||S,typeof S=="string")S=new fe(S,p);else if(S instanceof fe)S.target=S.target||p;else{var Y=S;S=new fe(U,p),V(S,Y)}if(Y=!0,k)for(var ne=k.length-1;0<=ne;ne--){var _e=S.g=k[ne];Y=hi(_e,U,!0,S)&&Y}if(_e=S.g=p,Y=hi(_e,U,!0,S)&&Y,Y=hi(_e,U,!1,S)&&Y,k)for(ne=0;ne<k.length;ne++)_e=S.g=k[ne],Y=hi(_e,U,!1,S)&&Y}Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var p=this.i,S;for(S in p.g){for(var k=p.g[S],U=0;U<k.length;U++)Ce(k[U]);delete p.g[S],p.h--}}this.F=null},Yt.prototype.K=function(p,S,k,U){return this.i.add(String(p),S,!1,k,U)},Yt.prototype.L=function(p,S,k,U){return this.i.add(String(p),S,!0,k,U)};function hi(p,S,k,U){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();for(var Y=!0,ne=0;ne<S.length;++ne){var _e=S[ne];if(_e&&!_e.da&&_e.capture==k){var bt=_e.listener,dr=_e.ha||_e.src;_e.fa&&ue(p.i,_e),Y=bt.call(dr,U)!==!1&&Y}}return Y&&!U.defaultPrevented}function is(p,S,k){if(typeof p=="function")k&&(p=y(p,k));else if(p&&typeof p.handleEvent=="function")p=y(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:u.setTimeout(p,S||0)}function $i(p){p.g=is(()=>{p.g=null,p.i&&(p.i=!1,$i(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class Wn extends K{constructor(S,k){super(),this.m=S,this.l=k,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:$i(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(p){K.call(this),this.h=p,this.g={}}w(mn,K);var eo=[];function pi(p){j(p.g,function(S,k){this.g.hasOwnProperty(k)&&qt(S)},p),p.g={}}mn.prototype.N=function(){mn.aa.N.call(this),pi(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=u.JSON.stringify,as=u.JSON.parse,fa=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function da(){}da.prototype.h=null;function In(p){return p.h||(p.h=p.i())}function ha(){}var Ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hn(){fe.call(this,"d")}w(Hn,fe);function to(){fe.call(this,"c")}w(to,fe);var Xt={},os=null;function rn(){return os=os||new Yt}Xt.La="serverreachability";function mi(p){fe.call(this,Xt.La,p)}w(mi,fe);function gn(p){const S=rn();rr(S,new mi(S))}Xt.STAT_EVENT="statevent";function ss(p,S){fe.call(this,Xt.STAT_EVENT,p),this.stat=S}w(ss,fe);function Nt(p){const S=rn();rr(S,new ss(S,p))}Xt.Ma="timingevent";function ro(p,S){fe.call(this,Xt.Ma,p),this.size=S}w(ro,fe);function Br(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},S)}function pa(){this.g=!0}pa.prototype.xa=function(){this.g=!1};function ma(p,S,k,U,Y,ne){p.info(function(){if(p.g)if(ne)for(var _e="",bt=ne.split("&"),dr=0;dr<bt.length;dr++){var ot=bt[dr].split("=");if(1<ot.length){var xr=ot[0];ot=ot[1];var ar=xr.split("_");_e=2<=ar.length&&ar[1]=="type"?_e+(xr+"="+ot+"&"):_e+(xr+"=redacted&")}}else _e=null;else _e=ne;return"XMLHTTP REQ ("+U+") [attempt "+Y+"]: "+S+`
`+k+`
`+_e})}function no(p,S,k,U,Y,ne,_e){p.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Y+"]: "+S+`
`+k+`
`+ne+" "+_e})}function On(p,S,k,U){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+tc(p,k)+(U?" "+U:"")})}function ls(p,S){p.info(function(){return"TIMEOUT: "+S})}pa.prototype.info=function(){};function tc(p,S){if(!p.g)return S;if(!S)return null;try{var k=JSON.parse(S);if(k){for(p=0;p<k.length;p++)if(Array.isArray(k[p])){var U=k[p];if(!(2>U.length)){var Y=U[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var _e=1;_e<Y.length;_e++)Y[_e]=""}}}}return $t(k)}catch{return S}}var io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Z={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function Oe(){}w(Oe,da),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},we=new Oe;function he(p,S,k,U){this.j=p,this.i=S,this.l=k,this.R=U||1,this.U=new mn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var Le={},nt={};function De(p,S,k){p.L=1,p.v=lo(Nn(S)),p.m=k,p.P=!0,Tt(p,null)}function Tt(p,S){p.F=Date.now(),wt(p),p.A=Nn(p.v);var k=p.A,U=p.R;Array.isArray(U)||(U=[String(U)]),co(k.i,"t",U),p.C=0,k=p.j.J,p.h=new Ee,p.g=Gd(p.j,k?S:null,!p.m),0<p.O&&(p.M=new Wn(y(p.Y,p,p.g),p.O)),S=p.U,k=p.g,U=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(eo[0]=Y.toString()),Y=eo);for(var ne=0;ne<Y.length;ne++){var _e=St(k,Y[ne],U||S.handleEvent,!1,S.h||S);if(!_e)break;S.g[_e.key]=_e}S=p.H?P(p.H):{},p.m?(p.u||(p.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,S)):(p.u="GET",p.g.ea(p.A,p.u,null,S)),gn(),ma(p.i,p.u,p.A,p.l,p.R,p.m)}he.prototype.ca=function(p){p=p.target;const S=this.M;S&&bn(p)==3?S.j():this.Y(p)},he.prototype.Y=function(p){try{if(p==this.g)e:{const ar=bn(this.g);var S=this.g.Ba();const Yn=this.g.Z();if(!(3>ar)&&(ar!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||ar!=4||S==7||(S==8||0>=Yn?gn(3):gn(2)),gi(this);var k=this.g.Z();this.X=k;t:if(Qt(this)){var U=oc(this.g);p="";var Y=U.length,ne=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),nn(this);var _e="";break t}this.h.i=new u.TextDecoder}for(S=0;S<Y;S++)this.h.h=!0,p+=this.h.i.decode(U[S],{stream:!(ne&&S==Y-1)});U.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=k==200,no(this.i,this.u,this.A,this.l,this.R,ar,k),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,dr=this.g;if((bt=dr.g?dr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(bt)){var ot=bt;break t}}ot=null}if(k=ot)On(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ga(this,k);else{this.o=!1,this.s=3,Nt(12),Cr(this),nn(this);break e}}if(this.P){k=!0;let jn;for(;!this.J&&this.C<_e.length;)if(jn=dl(this,_e),jn==nt){ar==4&&(this.s=4,Nt(14),k=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==Le){this.s=4,Nt(15),On(this.i,this.l,_e,"[Invalid Chunk]"),k=!1;break}else On(this.i,this.l,jn,null),ga(this,jn);if(Qt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ar!=4||_e.length!=0||this.h.h||(this.s=1,Nt(16),k=!1),this.o=this.o&&k,!k)On(this.i,this.l,_e,"[Invalid Chunked Response]"),Cr(this),nn(this);else if(0<_e.length&&!this.W){this.W=!0;var xr=this.j;xr.g==this&&xr.ba&&!xr.M&&(xr.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),lc(xr),xr.M=!0,Nt(11))}}else On(this.i,this.l,_e,null),ga(this,_e);ar==4&&Cr(this),this.o&&!this.J&&(ar==4?El(this.j,this):(this.o=!1,wt(this)))}else vl(this.g),k==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Cr(this),nn(this)}}}catch{}finally{}};function Qt(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function dl(p,S){var k=p.C,U=S.indexOf(`
`,k);return U==-1?nt:(k=Number(S.substring(k,U)),isNaN(k)?Le:(U+=1,U+k>S.length?nt:(S=S.slice(U,U+k),p.C=U+k,S)))}he.prototype.cancel=function(){this.J=!0,Cr(this)};function wt(p){p.S=Date.now()+p.I,yn(p,p.I)}function yn(p,S){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Br(y(p.ba,p),S)}function gi(p){p.B&&(u.clearTimeout(p.B),p.B=null)}he.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ls(this.i,this.A),this.L!=2&&(gn(),Nt(17)),Cr(this),this.s=2,nn(this)):yn(this,this.S-p)};function nn(p){p.j.G==0||p.J||El(p.j,p)}function Cr(p){gi(p);var S=p.M;S&&typeof S.ma=="function"&&S.ma(),p.M=null,pi(p.U),p.g&&(S=p.g,p.g=null,S.abort(),S.ma())}function ga(p,S){try{var k=p.j;if(k.G!=0&&(k.g==p||an(k.h,p))){if(!p.K&&an(k.h,p)&&k.G==3){try{var U=k.Da.g.parse(S)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Y=U;if(Y[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<p.F)wl(k),xi(k);else break e;xl(k),Nt(18)}}else k.za=Y[1],0<k.za-k.T&&37500>Y[2]&&k.F&&k.v==0&&!k.C&&(k.C=Br(y(k.Za,k),6e3));if(1>=jd(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else xa(k,11)}else if((p.K||k.g==p)&&wl(k),!C(S))for(Y=k.Da.g.parse(S),S=0;S<Y.length;S++){let ot=Y[S];if(k.T=ot[0],ot=ot[1],k.G==2)if(ot[0]=="c"){k.K=ot[1],k.ia=ot[2];const xr=ot[3];xr!=null&&(k.la=xr,k.j.info("VER="+k.la));const ar=ot[4];ar!=null&&(k.Aa=ar,k.j.info("SVER="+k.Aa));const Yn=ot[5];Yn!=null&&typeof Yn=="number"&&0<Yn&&(U=1.5*Yn,k.L=U,k.j.info("backChannelRequestTimeoutMs_="+U)),U=k;const jn=p.g;if(jn){const ms=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var ne=U.h;ne.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(rc(ne,ne.h),ne.h=null))}if(U.D){const Tl=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(U.ya=Tl,At(U.I,U.D,Tl))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-p.F,k.j.info("Handshake RTT: "+k.R+"ms")),U=k;var _e=p;if(U.qa=Kd(U,U.J?U.ia:null,U.W),_e.K){Md(U.h,_e);var bt=_e,dr=U.L;dr&&(bt.I=dr),bt.B&&(gi(bt),wt(bt)),U.g=_e}else ps(U);0<k.i.length&&Bi(k)}else ot[0]!="stop"&&ot[0]!="close"||xa(k,7);else k.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?xa(k,7):Rr(k):ot[0]!="noop"&&k.l&&k.l.ta(ot),k.v=0)}}gn(4)}catch{}}var Kn=class{constructor(p,S){this.g=p,this.map=S}};function us(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cn(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function jd(p){return p.h?1:p.g?p.g.size:0}function an(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function rc(p,S){p.g?p.g.add(S):p.h=S}function Md(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}us.prototype.cancel=function(){if(this.i=Dd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Dd(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const k of p.g.values())S=S.concat(k.D);return S}return E(p.i)}function hl(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var S=[],k=p.length,U=0;U<k;U++)S.push(p[U]);return S}S=[],k=0;for(U in p)S[k++]=p[U];return S}function pl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var S=[];p=p.length;for(var k=0;k<p;k++)S.push(k);return S}S=[],k=0;for(const U in p)S[k++]=U;return S}}}function ao(p,S){if(p.forEach&&typeof p.forEach=="function")p.forEach(S,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,S,void 0);else for(var k=pl(p),U=hl(p),Y=U.length,ne=0;ne<Y;ne++)S.call(void 0,U[ne],k&&k[ne],p)}var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vg(p,S){if(p){p=p.split("&");for(var k=0;k<p.length;k++){var U=p[k].indexOf("="),Y=null;if(0<=U){var ne=p[k].substring(0,U);Y=p[k].substring(U+1)}else ne=p[k];S(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ya(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ya){this.h=p.h,fs(this,p.j),this.o=p.o,this.g=p.g,oo(this,p.s),this.l=p.l;var S=p.i,k=new Vi;k.i=S.i,S.g&&(k.g=new Map(S.g),k.h=S.h),so(this,k),this.m=p.m}else p&&(S=String(p).match(cs))?(this.h=!1,fs(this,S[1]||"",!0),this.o=it(S[2]||""),this.g=it(S[3]||"",!0),oo(this,S[4]),this.l=it(S[5]||"",!0),so(this,S[6]||"",!0),this.m=it(S[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}ya.prototype.toString=function(){var p=[],S=this.j;S&&p.push(uo(S,ml,!0),":");var k=this.g;return(k||S=="file")&&(p.push("//"),(S=this.o)&&p.push(uo(S,ml,!0),"@"),p.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&p.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(uo(k,k.charAt(0)=="/"?Vd:$d,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",uo(k,nc)),p.join("")};function Nn(p){return new ya(p)}function fs(p,S,k){p.j=k?it(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function oo(p,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);p.s=S}else p.s=null}function so(p,S,k){S instanceof Vi?(p.i=S,Fi(p.i,p.h)):(k||(S=uo(S,Fd)),p.i=new Vi(S,p.h))}function At(p,S,k){p.i.set(S,k)}function lo(p){return At(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function it(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function uo(p,S,k){return typeof p=="string"?(p=encodeURI(p).replace(S,Ld),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Ld(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ml=/[#\/\?@]/g,$d=/[#\?:]/g,Vd=/[#\?]/g,Fd=/[#\?@]/g,nc=/#/g;function Vi(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function Nr(p){p.g||(p.g=new Map,p.h=0,p.i&&Vg(p.i,function(S,k){p.add(decodeURIComponent(S.replace(/\+/g," ")),k)}))}t=Vi.prototype,t.add=function(p,S){Nr(this),this.i=null,p=Gn(this,p);var k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(S),this.h+=1,this};function yi(p,S){Nr(p),S=Gn(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function vi(p,S){return Nr(p),S=Gn(p,S),p.g.has(S)}t.forEach=function(p,S){Nr(this),this.g.forEach(function(k,U){k.forEach(function(Y){p.call(S,Y,U,this)},this)},this)},t.na=function(){Nr(this);const p=Array.from(this.g.values()),S=Array.from(this.g.keys()),k=[];for(let U=0;U<S.length;U++){const Y=p[U];for(let ne=0;ne<Y.length;ne++)k.push(S[U])}return k},t.V=function(p){Nr(this);let S=[];if(typeof p=="string")vi(this,p)&&(S=S.concat(this.g.get(Gn(this,p))));else{p=Array.from(this.g.values());for(let k=0;k<p.length;k++)S=S.concat(p[k])}return S},t.set=function(p,S){return Nr(this),this.i=null,p=Gn(this,p),vi(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},t.get=function(p,S){return p?(p=this.V(p),0<p.length?String(p[0]):S):S};function co(p,S,k){yi(p,S),0<k.length&&(p.i=null,p.g.set(Gn(p,S),E(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(var k=0;k<S.length;k++){var U=S[k];const ne=encodeURIComponent(String(U)),_e=this.V(U);for(U=0;U<_e.length;U++){var Y=ne;_e[U]!==""&&(Y+="="+encodeURIComponent(String(_e[U]))),p.push(Y)}}return this.i=p.join("&")};function Gn(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function Fi(p,S){S&&!p.j&&(Nr(p),p.i=null,p.g.forEach(function(k,U){var Y=U.toLowerCase();U!=Y&&(yi(this,U),co(this,Y,k))},p)),p.j=S}function Fg(p,S){const k=new pa;if(u.Image){const U=new Image;U.onload=b(vn,k,"TestLoadImage: loaded",!0,S,U),U.onerror=b(vn,k,"TestLoadImage: error",!1,S,U),U.onabort=b(vn,k,"TestLoadImage: abort",!1,S,U),U.ontimeout=b(vn,k,"TestLoadImage: timeout",!1,S,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=p}else S(!1)}function Ud(p,S){const k=new pa,U=new AbortController,Y=setTimeout(()=>{U.abort(),vn(k,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:U.signal}).then(ne=>{clearTimeout(Y),ne.ok?vn(k,"TestPingServer: ok",!0,S):vn(k,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Y),vn(k,"TestPingServer: error",!1,S)})}function vn(p,S,k,U,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),U(k)}catch{}}function Ug(){this.g=new fa}function Bd(p,S,k){const U=k||"";try{ao(p,function(Y,ne){let _e=Y;f(Y)&&(_e=$t(Y)),S.push(U+ne+"="+encodeURIComponent(_e))})}catch(Y){throw S.push(U+"type="+encodeURIComponent("_badmap")),Y}}function va(p){this.l=p.Ub||null,this.j=p.eb||!1}w(va,da),va.prototype.g=function(){return new ds(this.l,this.j)},va.prototype.i=function(p){return function(){return p}}({});function ds(p,S){Yt.call(this),this.D=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ds,Yt),t=ds.prototype,t.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=S,this.readyState=1,_i(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(S.body=p),(this.D||u).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qd(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function qd(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?bi(this):_i(this),this.readyState==3&&qd(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,bi(this))},t.Qa=function(p){this.g&&(this.response=p,bi(this))},t.ga=function(){this.g&&bi(this)};function bi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,_i(p)}t.setRequestHeader=function(p,S){this.u.append(p,S)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var k=S.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=S.next();return p.join(`\r
`)};function _i(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ba(p){let S="";return j(p,function(k,U){S+=U,S+=":",S+=k,S+=`\r
`}),S}function fo(p,S,k){e:{for(U in k){var U=!1;break e}U=!0}U||(k=ba(k),typeof p=="string"?k!=null&&encodeURIComponent(String(k)):At(p,S,k))}function Vt(p){Yt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Vt,Yt);var Bg=/^https?$/i,ic=["POST","PUT"];t=Vt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,S,k,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?In(this.o):In(we),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(ne){hs(this,ne);return}if(p=k||"",k=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Y in U)k.set(Y,U[Y]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ne of U.keys())k.set(ne,U.get(ne));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(k.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ic,S,void 0))||U||Y||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,_e]of k)this.g.setRequestHeader(ne,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yl(this),this.u=!0,this.g.send(p),this.u=!1}catch(ne){hs(this,ne)}};function hs(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.m=5,gl(p),Rn(p)}function gl(p){p.A||(p.A=!0,rr(p,"complete"),rr(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,rr(this,"complete"),rr(this,"abort"),Rn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rn(this,!0)),Vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ac(this):this.bb())},t.bb=function(){ac(this)};function ac(p){if(p.h&&typeof s<"u"&&(!p.v[1]||bn(p)!=4||p.Z()!=2)){if(p.u&&bn(p)==4)is(p.Ea,0,p);else if(rr(p,"readystatechange"),bn(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var k;if(!(k=S)){var U;if(U=_e===0){var Y=String(p.D).match(cs)[1]||null;!Y&&u.self&&u.self.location&&(Y=u.self.location.protocol.slice(0,-1)),U=!Bg.test(Y?Y.toLowerCase():"")}k=U}if(k)rr(p,"complete"),rr(p,"success");else{p.m=6;try{var ne=2<bn(p)?p.g.statusText:""}catch{ne=""}p.l=ne+" ["+p.Z()+"]",gl(p)}}finally{Rn(p)}}}}function Rn(p,S){if(p.g){yl(p);const k=p.g,U=p.v[0]?()=>{}:null;p.g=null,p.v=null,S||rr(p,"ready");try{k.onreadystatechange=U}catch{}}}function yl(p){p.I&&(u.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function bn(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),as(S)}};function oc(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function vl(p){const S={};p=(p.g&&2<=bn(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<p.length;U++){if(C(p[U]))continue;var k=L(p[U]);const Y=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ne=S[Y]||[];S[Y]=ne,ne.push(k)}A(S,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(p,S,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||S}function sc(p){this.Aa=0,this.i=[],this.j=new pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ui("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ui("baseRetryDelayMs",5e3,p),this.cb=Ui("retryDelaySeedMs",1e4,p),this.Wa=Ui("forwardChannelMaxRetries",2,p),this.wa=Ui("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new us(p&&p.concurrentRequestLimit),this.Da=new Ug,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sc.prototype,t.la=8,t.G=1,t.connect=function(p,S,k,U){Nt(0),this.W=p,this.H=S||{},k&&U!==void 0&&(this.H.OSID=k,this.H.OAID=U),this.F=this.X,this.I=Kd(this,null,this.W),Bi(this)};function Rr(p){if(bl(p),p.G==3){var S=p.U++,k=Nn(p.I);if(At(k,"SID",p.K),At(k,"RID",S),At(k,"TYPE","terminate"),_a(p,k),S=new he(p,p.j,S),S.L=2,S.v=lo(Nn(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(S.v.toString(),"")}catch{}!k&&u.Image&&(new Image().src=S.v,k=!0),k||(S.g=Gd(S.j,null),S.g.ea(S.v)),S.F=Date.now(),wt(S)}Hd(p)}function xi(p){p.g&&(lc(p),p.g.cancel(),p.g=null)}function bl(p){xi(p),p.u&&(u.clearTimeout(p.u),p.u=null),wl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function Bi(p){if(!Cn(p.h)&&!p.s){p.s=!0;var S=p.Ga;oe||se(),Q||(oe(),Q=!0),ae.add(S,p),p.B=0}}function qg(p,S){return jd(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=S.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Br(y(p.Ga,p,S),Wd(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new he(this,this.j,p);let ne=this.o;if(this.S&&(ne?(ne=P(ne),V(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var S=0,k=0;k<this.i.length;k++){t:{var U=this.i[k];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(S+=U,4096<S){S=k;break e}if(S===4096||k===this.i.length-1){S=k+1;break e}}S=1e3}else S=1e3;S=ho(this,Y,S),k=Nn(this.I),At(k,"RID",p),At(k,"CVER",22),this.D&&At(k,"X-HTTP-Session-Id",this.D),_a(this,k),ne&&(this.O?S="headers="+encodeURIComponent(String(ba(ne)))+"&"+S:this.m&&fo(k,this.m,ne)),rc(this.h,Y),this.Ua&&At(k,"TYPE","init"),this.P?(At(k,"$req",S),At(k,"SID","null"),Y.T=!0,De(Y,k,null)):De(Y,k,S),this.G=2}}else this.G==3&&(p?_l(this,p):this.i.length==0||Cn(this.h)||_l(this))};function _l(p,S){var k;S?k=S.l:k=p.U++;const U=Nn(p.I);At(U,"SID",p.K),At(U,"RID",k),At(U,"AID",p.T),_a(p,U),p.m&&p.o&&fo(U,p.m,p.o),k=new he(p,p.j,k,p.B+1),p.m===null&&(k.H=p.o),S&&(p.i=S.D.concat(p.i)),S=ho(p,k,1e3),k.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),rc(p.h,k),De(k,U,S)}function _a(p,S){p.H&&j(p.H,function(k,U){At(S,U,k)}),p.l&&ao({},function(k,U){At(S,U,k)})}function ho(p,S,k){k=Math.min(p.i.length,k);var U=p.l?y(p.l.Na,p.l,p):null;e:{var Y=p.i;let ne=-1;for(;;){const _e=["count="+k];ne==-1?0<k?(ne=Y[0].g,_e.push("ofs="+ne)):ne=0:_e.push("ofs="+ne);let bt=!0;for(let dr=0;dr<k;dr++){let ot=Y[dr].g;const xr=Y[dr].map;if(ot-=ne,0>ot)ne=Math.max(0,Y[dr].g-100),bt=!1;else try{Bd(xr,_e,"req"+ot+"_")}catch{U&&U(xr)}}if(bt){U=_e.join("&");break e}}}return p=p.i.splice(0,k),S.D=p,U}function ps(p){if(!p.g&&!p.u){p.Y=1;var S=p.Fa;oe||se(),Q||(oe(),Q=!0),ae.add(S,p),p.v=0}}function xl(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Br(y(p.Fa,p),Wd(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,zd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Br(y(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),xi(this),zd(this))};function lc(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function zd(p){p.g=new he(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var S=Nn(p.qa);At(S,"RID","rpc"),At(S,"SID",p.K),At(S,"AID",p.T),At(S,"CI",p.F?"0":"1"),!p.F&&p.ja&&At(S,"TO",p.ja),At(S,"TYPE","xmlhttp"),_a(p,S),p.m&&p.o&&fo(S,p.m,p.o),p.L&&(p.g.I=p.L);var k=p.g;p=p.ia,k.L=1,k.v=lo(Nn(S)),k.m=null,k.P=!0,Tt(k,p)}t.Za=function(){this.C!=null&&(this.C=null,xi(this),xl(this),Nt(19))};function wl(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function El(p,S){var k=null;if(p.g==S){wl(p),lc(p),p.g=null;var U=2}else if(an(p.h,S))k=S.D,Md(p.h,S),U=1;else return;if(p.G!=0){if(S.o)if(U==1){k=S.m?S.m.length:0,S=Date.now()-S.F;var Y=p.B;U=rn(),rr(U,new ro(U,k)),Bi(p)}else ps(p);else if(Y=S.s,Y==3||Y==0&&0<S.X||!(U==1&&qg(p,S)||U==2&&xl(p)))switch(k&&0<k.length&&(S=p.h,S.i=S.i.concat(k)),Y){case 1:xa(p,5);break;case 4:xa(p,10);break;case 3:xa(p,6);break;default:xa(p,2)}}}function Wd(p,S){let k=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(k*=2),k*S}function xa(p,S){if(p.j.info("Error code "+S),S==2){var k=y(p.fb,p),U=p.Xa;const Y=!U;U=new ya(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fs(U,"https"),lo(U),Y?Fg(U.toString(),k):Ud(U.toString(),k)}else Nt(2);p.G=0,p.l&&p.l.sa(S),Hd(p),bl(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Hd(p){if(p.G=0,p.ka=[],p.l){const S=Dd(p.h);(S.length!=0||p.i.length!=0)&&(x(p.ka,S),x(p.ka,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.ra()}}function Kd(p,S,k){var U=k instanceof ya?Nn(k):new ya(k);if(U.g!="")S&&(U.g=S+"."+U.g),oo(U,U.s);else{var Y=u.location;U=Y.protocol,S=S?S+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new ya(null);U&&fs(ne,U),S&&(ne.g=S),Y&&oo(ne,Y),k&&(ne.l=k),U=ne}return k=p.D,S=p.ya,k&&S&&At(U,k,S),At(U,"VER",p.la),_a(p,U),U}function Gd(p,S,k){if(S&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Ca&&!p.pa?new Vt(new va({eb:k})):new Vt(p.pa),S.Ha(p.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}t=uc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sl(){}Sl.prototype.g=function(p,S){return new on(p,S)};function on(p,S){Yt.call(this),this.g=new sc(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(p?p["X-WebChannel-Client-Profile"]=S.va:p={"X-WebChannel-Client-Profile":S.va}),this.g.S=p,(p=S&&S.Sb)&&!C(p)&&(this.g.m=p),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!C(S)&&(this.g.D=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new qi(this)}w(on,Yt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Rr(this.g)},on.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.u&&(k={},k.__data__=$t(p),p=k);S.i.push(new Kn(S.Ya++,p)),S.G==3&&Bi(S)},on.prototype.N=function(){this.g.l=null,delete this.j,Rr(this.g),delete this.g,on.aa.N.call(this)};function Yd(p){Hn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const k in S){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}w(Yd,Hn);function Xd(){to.call(this),this.status=1}w(Xd,to);function qi(p){this.g=p}w(qi,uc),qi.prototype.ua=function(){rr(this.g,"a")},qi.prototype.ta=function(p){rr(this.g,new Yd(p))},qi.prototype.sa=function(p){rr(this.g,new Xd)},qi.prototype.ra=function(){rr(this.g,"b")},Sl.prototype.createWebChannel=Sl.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,pM=function(){return new Sl},hM=function(){return rn()},dM=Xt,$x={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},io.NO_ERROR=0,io.TIMEOUT=8,io.HTTP_ERROR=6,gp=io,Z.COMPLETE="complete",fM=Z,ha.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,Kc=ha,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,cM=Vt}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const _P="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new E1("@firebase/firestore");function jc(){return Ks.logLevel}function Re(t,...e){if(Ks.logLevel<=at.DEBUG){const r=e.map(M1);Ks.debug(`Firestore (${zu}): ${t}`,...r)}}function qa(t,...e){if(Ks.logLevel<=at.ERROR){const r=e.map(M1);Ks.error(`Firestore (${zu}): ${t}`,...r)}}function du(t,...e){if(Ks.logLevel<=at.WARN){const r=e.map(M1);Ks.warn(`Firestore (${zu}): ${t}`,...r)}}function M1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t="Unexpected state"){const e=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: `+t;throw qa(e),new Error(e)}function xt(t,e){t||Xe()}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends la{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Yr.UNAUTHENTICATED))}shutdown(){}}class AB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class PB{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){xt(this.o===void 0);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Uo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Uo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Uo)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(xt(typeof n.accessToken=="string"),new mM(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new Yr(e)}}class kB{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class IB{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new kB(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){xt(this.o===void 0);const n=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(xt(typeof r.token=="string"),this.R=r.token,new OB(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=NB(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function ft(t,e){return t<e?-1:t>e?1:0}function hu(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Pe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Pe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Pe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new br(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new br(0,0))}static max(){return new Qe(new br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,r,n){r===void 0?r=0:r>e.length&&Xe(),n===void 0?n=e.length-r:n>e.length-r&&Xe(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return vf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof vf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Dt extends vf{construct(e,r,n){return new Dt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Pe(ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Dt(r)}static emptyPath(){return new Dt([])}}const RB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends vf{construct(e,r,n){return new $r(e,r,n)}static isValidIdentifier(e){return RB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $r(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Pe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Pe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Pe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(n+=u,i++):(a(),i++)}if(a(),s)throw new Pe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(r)}static emptyPath(){return new $r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Dt.fromString(e))}static fromName(e){return new Ve(Dt.fromString(e).popFirst(5))}static empty(){return new Ve(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Dt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Dt(e.slice()))}}function jB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(n===1e9?new br(r+1,0):new br(r,n));return new Ko(i,Ve.empty(),e)}function MB(t){return new Ko(t.readTime,t.key,-1)}class Ko{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ko(Qe.min(),Ve.empty(),-1)}static max(){return new Ko(Qe.max(),Ve.empty(),-1)}}function DB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ve.comparator(t.documentKey,e.documentKey),r!==0?r:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $B{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==LB)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ge((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ge?r:ge.resolve(r)}catch(r){return ge.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ge.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ge.reject(r)}static resolve(e){return new ge((r,n)=>{r(e)})}static reject(e){return new ge((r,n)=>{n(e)})}static waitFor(e){return new ge((r,n)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(e){let r=ge.resolve(!1);for(const n of e)r=r.next(i=>i?ge.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new ge((n,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const f=c;r(e[f]).next(h=>{s[f]=h,++u,u===a&&n(s)},h=>i(h))}})}static doWhile(e,r){return new ge((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function VB(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function pd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}D1.oe=-1;function Vm(t){return t==null}function Op(t){return t===0&&1/t==-1/0}function FB(t){return typeof t=="number"&&Number.isInteger(t)&&!Op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function al(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function yM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,r){this.comparator=e,this.root=r||Lr.EMPTY}insert(e,r){return new Kt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kh(this.root,e,this.comparator,!0)}}class Kh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Lr.RED,this.left=i??Lr.EMPTY,this.right=a??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Lr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Lr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1;Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Lr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new wP(this.data.getIterator())}getIteratorFrom(e){return new wP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Vr(this.comparator);return r.data=e,r}}class wP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new Un([])}unionWith(e){let r=new Vr($r.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Un(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return hu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vM("Invalid base64 string: "+a):a}}(e);return new Fr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Fr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const UB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(t){if(xt(!!t),typeof t=="string"){let e=0;const r=UB.exec(t);if(xt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ir(t.seconds),nanos:ir(t.nanos)}}function ir(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gs(t){return typeof t=="string"?Fr.fromBase64String(t):Fr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function $1(t){const e=t.mapValue.fields.__previous_value__;return L1(e)?$1(e):e}function bf(t){const e=Go(t.mapValue.fields.__local_write_time__.timestampValue);return new br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,r,n,i,a,s,u,c,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class _f{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new _f("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _f&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh={mapValue:{}};function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L1(t)?4:zB(t)?9007199254740991:qB(t)?10:11:Xe()}function aa(t,e){if(t===e)return!0;const r=Ys(t);if(r!==Ys(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bf(t).isEqual(bf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Go(i.timestampValue),u=Go(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Gs(i.bytesValue).isEqual(Gs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ir(i.geoPointValue.latitude)===ir(a.geoPointValue.latitude)&&ir(i.geoPointValue.longitude)===ir(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ir(i.integerValue)===ir(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ir(i.doubleValue),u=ir(a.doubleValue);return s===u?Op(s)===Op(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return hu(t.arrayValue.values||[],e.arrayValue.values||[],aa);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(xP(s)!==xP(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!aa(s[c],u[c])))return!1;return!0}(t,e);default:return Xe()}}function xf(t,e){return(t.values||[]).find(r=>aa(r,e))!==void 0}function pu(t,e){if(t===e)return 0;const r=Ys(t),n=Ys(e);if(r!==n)return ft(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(a,s){const u=ir(a.integerValue||a.doubleValue),c=ir(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return EP(t.timestampValue,e.timestampValue);case 4:return EP(bf(t),bf(e));case 5:return ft(t.stringValue,e.stringValue);case 6:return function(a,s){const u=Gs(a),c=Gs(s);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=ft(u[f],c[f]);if(h!==0)return h}return ft(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const u=ft(ir(a.latitude),ir(s.latitude));return u!==0?u:ft(ir(a.longitude),ir(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return SP(t.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,f,h;const m=a.fields||{},y=s.fields||{},b=(u=m.value)===null||u===void 0?void 0:u.arrayValue,w=(c=y.value)===null||c===void 0?void 0:c.arrayValue,E=ft(((f=b?.values)===null||f===void 0?void 0:f.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:SP(b,w)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Gh.mapValue&&s===Gh.mapValue)return 0;if(a===Gh.mapValue)return 1;if(s===Gh.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const y=ft(c[m],h[m]);if(y!==0)return y;const b=pu(u[c[m]],f[h[m]]);if(b!==0)return b}return ft(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function EP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const r=Go(t),n=Go(e),i=ft(r.seconds,n.seconds);return i!==0?i:ft(r.nanos,n.nanos)}function SP(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=pu(r[i],n[i]);if(a)return a}return ft(r.length,n.length)}function mu(t){return Vx(t)}function Vx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Go(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Gs(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ve.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Vx(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Vx(r.fields[s])}`;return i+"}"}(t.mapValue):Xe()}function TP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fx(t){return!!t&&"integerValue"in t}function V1(t){return!!t&&"arrayValue"in t}function AP(t){return!!t&&"nullValue"in t}function PP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yp(t){return!!t&&"mapValue"in t}function qB(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function rf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return al(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=rf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=rf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function zB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!yp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=rf(r)}setAll(e){let r=$r.emptyPath(),n={},i=[];e.forEach((s,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=u.popLast()}s?n[u.lastSegment()]=rf(s):i.push(u.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());yp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return aa(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];yp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){al(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new An(rf(this.value))}}function bM(t){const e=[];return al(t.fields,(r,n)=>{const i=new $r([r]);if(yp(n)){const a=bM(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,r,n,i,a,s,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Xr(e,0,Qe.min(),Qe.min(),Qe.min(),An.empty(),0)}static newFoundDocument(e,r,n,i){return new Xr(e,1,r,Qe.min(),n,i,0)}static newNoDocument(e,r){return new Xr(e,2,r,Qe.min(),Qe.min(),An.empty(),0)}static newUnknownDocument(e,r){return new Xr(e,3,r,Qe.min(),Qe.min(),An.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,r){this.position=e,this.inclusive=r}}function kP(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=Ve.comparator(Ve.fromName(s.referenceValue),r.key):n=pu(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function IP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!aa(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,r="asc"){this.field=e,this.dir=r}}function WB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{}class ur extends _M{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new KB(e,r,n):r==="array-contains"?new XB(e,n):r==="in"?new QB(e,n):r==="not-in"?new JB(e,n):r==="array-contains-any"?new ZB(e,n):new ur(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new GB(e,n):new YB(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(pu(r,this.value)):r!==null&&Ys(this.value)===Ys(r)&&this.matchesComparison(pu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends _M{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ji(e,r)}matches(e){return xM(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xM(t){return t.op==="and"}function wM(t){return HB(t)&&xM(t)}function HB(t){for(const e of t.filters)if(e instanceof ji)return!1;return!0}function Ux(t){if(t instanceof ur)return t.field.canonicalString()+t.op.toString()+mu(t.value);if(wM(t))return t.filters.map(e=>Ux(e)).join(",");{const e=t.filters.map(r=>Ux(r)).join(",");return`${t.op}(${e})`}}function EM(t,e){return t instanceof ur?function(n,i){return i instanceof ur&&n.op===i.op&&n.field.isEqual(i.field)&&aa(n.value,i.value)}(t,e):t instanceof ji?function(n,i){return i instanceof ji&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,u)=>a&&EM(s,i.filters[u]),!0):!1}(t,e):void Xe()}function SM(t){return t instanceof ur?function(r){return`${r.field.canonicalString()} ${r.op} ${mu(r.value)}`}(t):t instanceof ji?function(r){return r.op.toString()+" {"+r.getFilters().map(SM).join(" ,")+"}"}(t):"Filter"}class KB extends ur{constructor(e,r,n){super(e,r,n),this.key=Ve.fromName(n.referenceValue)}matches(e){const r=Ve.comparator(e.key,this.key);return this.matchesComparison(r)}}class GB extends ur{constructor(e,r){super(e,"in",r),this.keys=TM("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class YB extends ur{constructor(e,r){super(e,"not-in",r),this.keys=TM("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function TM(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ve.fromName(n.referenceValue))}class XB extends ur{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return V1(r)&&xf(r.arrayValue,this.value)}}class QB extends ur{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&xf(this.value.arrayValue,r)}}class JB extends ur{constructor(e,r){super(e,"not-in",r)}matches(e){if(xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!xf(this.value.arrayValue,r)}}class ZB extends ur{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!V1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>xf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e,r=null,n=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.ue=null}}function OP(t,e=null,r=[],n=[],i=null,a=null,s=null){return new eq(t,e,r,n,i,a,s)}function F1(t){const e=Je(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Ux(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Vm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>mu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>mu(n)).join(",")),e.ue=r}return e.ue}function U1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!WB(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!EM(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IP(t.startAt,e.startAt)&&IP(t.endAt,e.endAt)}function Bx(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,r=null,n=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tq(t,e,r,n,i,a,s,u){return new md(t,e,r,n,i,a,s,u)}function B1(t){return new md(t)}function CP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AM(t){return t.collectionGroup!==null}function nf(t){const e=Je(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new Vr($r.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Np(a,n))}),r.has($r.keyField().canonicalString())||e.ce.push(new Np($r.keyField(),n))}return e.ce}function ta(t){const e=Je(t);return e.le||(e.le=rq(e,nf(t))),e.le}function rq(t,e){if(t.limitType==="F")return OP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Np(i.field,a)});const r=t.endAt?new Cp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Cp(t.startAt.position,t.startAt.inclusive):null;return OP(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function qx(t,e){const r=t.filters.concat([e]);return new md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function zx(t,e,r){return new md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Fm(t,e){return U1(ta(t),ta(e))&&t.limitType===e.limitType}function PM(t){return`${F1(ta(t))}|lt:${t.limitType}`}function Yl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>SM(i)).join(", ")}]`),Vm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>mu(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>mu(i)).join(",")),`Target(${n})`}(ta(t))}; limitType=${t.limitType})`}function Um(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ve.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of nf(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,u,c){const f=kP(s,u,c);return s.inclusive?f<=0:f<0}(n.startAt,nf(n),i)||n.endAt&&!function(s,u,c){const f=kP(s,u,c);return s.inclusive?f>=0:f>0}(n.endAt,nf(n),i))}(t,e)}function nq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kM(t){return(e,r)=>{let n=!1;for(const i of nf(t)){const a=iq(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function iq(t,e,r){const n=t.field.isKeyField()?Ve.comparator(e.key,r.key):function(a,s,u){const c=s.data.field(a),f=u.data.field(a);return c!==null&&f!==null?pu(c,f):Xe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return yM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq=new Kt(Ve.comparator);function za(){return aq}const IM=new Kt(Ve.comparator);function Gc(...t){let e=IM;for(const r of t)e=e.insert(r.key,r);return e}function OM(t){let e=IM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ms(){return af()}function CM(){return af()}function af(){return new Wu(t=>t.toString(),(t,e)=>t.isEqual(e))}const oq=new Kt(Ve.comparator),sq=new Vr(Ve.comparator);function rt(...t){let e=sq;for(const r of t)e=e.add(r);return e}const lq=new Vr(ft);function uq(){return lq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Op(e)?"-0":e}}function NM(t){return{integerValue:""+t}}function cq(t,e){return FB(e)?NM(e):q1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this._=void 0}}function fq(t,e,r){return t instanceof wf?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&L1(a)&&(a=$1(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(r,e):t instanceof Ef?jM(t,e):t instanceof Sf?MM(t,e):function(i,a){const s=RM(i,a),u=NP(s)+NP(i.Pe);return Fx(s)&&Fx(i.Pe)?NM(u):q1(i.serializer,u)}(t,e)}function dq(t,e,r){return t instanceof Ef?jM(t,e):t instanceof Sf?MM(t,e):r}function RM(t,e){return t instanceof Rp?function(n){return Fx(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class wf extends Bm{}class Ef extends Bm{constructor(e){super(),this.elements=e}}function jM(t,e){const r=DM(e);for(const n of t.elements)r.some(i=>aa(i,n))||r.push(n);return{arrayValue:{values:r}}}class Sf extends Bm{constructor(e){super(),this.elements=e}}function MM(t,e){let r=DM(e);for(const n of t.elements)r=r.filter(i=>!aa(i,n));return{arrayValue:{values:r}}}class Rp extends Bm{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function NP(t){return ir(t.integerValue||t.doubleValue)}function DM(t){return V1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,r){this.field=e,this.transform=r}}function pq(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Ef&&i instanceof Ef||n instanceof Sf&&i instanceof Sf?hu(n.elements,i.elements,aa):n instanceof Rp&&i instanceof Rp?aa(n.Pe,i.Pe):n instanceof wf&&i instanceof wf}(t.transform,e.transform)}class mq{constructor(e,r){this.version=e,this.transformResults=r}}class hn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new hn}static exists(e){return new hn(void 0,e)}static updateTime(e){return new hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qm{}function LM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zm(t.key,hn.none()):new gd(t.key,t.data,hn.none());{const r=t.data,n=An.empty();let i=new Vr($r.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Zo(t.key,n,new Un(i.toArray()),hn.none())}}function gq(t,e,r){t instanceof gd?function(i,a,s){const u=i.value.clone(),c=jP(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,r):t instanceof Zo?function(i,a,s){if(!vp(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=jP(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll($M(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function of(t,e,r,n){return t instanceof gd?function(a,s,u,c){if(!vp(a.precondition,s))return u;const f=a.value.clone(),h=MP(a.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof Zo?function(a,s,u,c){if(!vp(a.precondition,s))return u;const f=MP(a.fieldTransforms,c,s),h=s.data;return h.setAll($M(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(a,s,u){return vp(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,r)}function yq(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=RM(n.transform,i||null);a!=null&&(r===null&&(r=An.empty()),r.set(n.field,a))}return r||null}function RP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&hu(n,i,(a,s)=>pq(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gd extends qm{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zo extends qm{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function $M(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function jP(t,e,r){const n=new Map;xt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,u=e.data.field(a.field);n.set(a.field,dq(s,u,r[i]))}return n}function MP(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,fq(a,s,e))}return n}class zm extends qm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vq extends qm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&gq(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=of(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=of(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=CM();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=r.has(i.key)?null:u;const c=LM(s,u);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Qe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),rt())}isEqual(e){return this.batchId===e.batchId&&hu(this.mutations,e.mutations,(r,n)=>RP(r,n))&&hu(this.baseMutations,e.baseMutations,(r,n)=>RP(r,n))}}class z1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){xt(e.mutations.length===n.length);let i=function(){return oq}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new z1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr,st;function wq(t){switch(t){default:return Xe();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function VM(t){if(t===void 0)return qa("GRPC error has no .code"),ce.UNKNOWN;switch(t){case sr.OK:return ce.OK;case sr.CANCELLED:return ce.CANCELLED;case sr.UNKNOWN:return ce.UNKNOWN;case sr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case sr.INTERNAL:return ce.INTERNAL;case sr.UNAVAILABLE:return ce.UNAVAILABLE;case sr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case sr.NOT_FOUND:return ce.NOT_FOUND;case sr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case sr.ABORTED:return ce.ABORTED;case sr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case sr.DATA_LOSS:return ce.DATA_LOSS;default:return Xe()}}(st=sr||(sr={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq=new Fs([4294967295,4294967295],0);function DP(t){const e=Eq().encode(t),r=new uM;return r.update(e),new Uint8Array(r.digest())}function LP(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Fs([r,n],0),new Fs([i,a],0)]}class W1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Yc(`Invalid padding: ${r}`);if(n<0)throw new Yc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Yc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Yc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Fs.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Fs.fromNumber(n)));return i.compare(Sq)===1&&(i=new Fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=DP(e),[n,i]=LP(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new W1(a,i,r);return n.forEach(u=>s.insert(u)),s}insert(e){if(this.Ie===0)return;const r=DP(e),[n,i]=LP(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,yd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Wm(Qe.min(),i,new Kt(ft),za(),rt())}}class yd{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new yd(n,r,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class FM{constructor(e,r){this.targetId=e,this.me=r}}class UM{constructor(e,r,n=Fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class $P{constructor(){this.fe=0,this.ge=FP(),this.pe=Fr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rt(),r=rt(),n=rt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Xe()}}),new yd(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=FP()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Tq{constructor(e){this.Le=e,this.Be=new Map,this.ke=za(),this.qe=VP(),this.Qe=new Kt(ft)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(Bx(a))if(n===0){const s=new Ve(a.path);this.Ue(r,s,Xr.newNoDocument(s,Qe.min()))}else xt(n===1);else{const s=this.Ye(r);if(s!==n){const u=this.Ze(e),c=u?this.Xe(u,e,s):1;if(c!==0){this.je(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,f)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,u;try{s=Gs(n).toUint8Array()}catch(c){if(c instanceof vM)return du("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new W1(s,i,a)}catch(c){return du(c instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Le.tt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,s)=>{const u=this.Je(s);if(u){if(a.current&&Bx(u.target)){const c=new Ve(u.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Xr.newNoDocument(c,e))}a.be&&(r.set(s,a.ve()),a.Ce())}});let n=rt();this.qe.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new Wm(e,r,this.Qe,this.ke,n);return this.ke=za(),this.qe=VP(),this.Qe=new Kt(ft),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new $P,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Vr(ft),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Re("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $P),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function VP(){return new Kt(Ve.comparator)}function FP(){return new Kt(Ve.comparator)}const Aq={asc:"ASCENDING",desc:"DESCENDING"},Pq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kq={and:"AND",or:"OR"};class Iq{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Wx(t,e){return t.useProto3Json||Vm(e)?e:{value:e}}function jp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Oq(t,e){return jp(t,e.toTimestamp())}function ra(t){return xt(!!t),Qe.fromTimestamp(function(r){const n=Go(r);return new br(n.seconds,n.nanos)}(t))}function H1(t,e){return Hx(t,e).canonicalString()}function Hx(t,e){const r=function(i){return new Dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function qM(t){const e=Dt.fromString(t);return xt(GM(e)),e}function Kx(t,e){return H1(t.databaseId,e.path)}function xv(t,e){const r=qM(e);if(r.get(1)!==t.databaseId.projectId)throw new Pe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Pe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ve(WM(r))}function zM(t,e){return H1(t.databaseId,e)}function Cq(t){const e=qM(t);return e.length===4?Dt.emptyPath():WM(e)}function Gx(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WM(t){return xt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function UP(t,e,r){return{name:Kx(t,e),fields:r.value.mapValue.fields}}function Nq(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,h){return f.useProto3Json?(xt(h===void 0||typeof h=="string"),Fr.fromBase64String(h||"")):(xt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Fr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(f){const h=f.code===void 0?ce.UNKNOWN:VM(f.code);return new Pe(h,f.message||"")}(s);r=new UM(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=xv(t,n.document.name),a=ra(n.document.updateTime),s=n.document.createTime?ra(n.document.createTime):Qe.min(),u=new An({mapValue:{fields:n.document.fields}}),c=Xr.newFoundDocument(i,a,s,u),f=n.targetIds||[],h=n.removedTargetIds||[];r=new bp(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=xv(t,n.document),a=n.readTime?ra(n.readTime):Qe.min(),s=Xr.newNoDocument(i,a),u=n.removedTargetIds||[];r=new bp([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=xv(t,n.document),a=n.removedTargetIds||[];r=new bp([],a,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new xq(i,a),u=n.targetId;r=new FM(u,s)}}return r}function Rq(t,e){let r;if(e instanceof gd)r={update:UP(t,e.key,e.value)};else if(e instanceof zm)r={delete:Kx(t,e.key)};else if(e instanceof Zo)r={update:UP(t,e.key,e.data),updateMask:Bq(e.fieldMask)};else{if(!(e instanceof vq))return Xe();r={verify:Kx(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const u=s.transform;if(u instanceof wf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ef)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Sf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Rp)return{fieldPath:s.field.canonicalString(),increment:u.Pe};throw Xe()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Oq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe()}(t,e.precondition)),r}function jq(t,e){return t&&t.length>0?(xt(e!==void 0),t.map(r=>function(i,a){let s=i.updateTime?ra(i.updateTime):ra(a);return s.isEqual(Qe.min())&&(s=ra(a)),new mq(s,i.transformResults||[])}(r,e))):[]}function Mq(t,e){return{documents:[zM(t,e.path)]}}function Dq(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=zM(t,i);const a=function(f){if(f.length!==0)return KM(ji.create(f,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(f){if(f.length!==0)return f.map(h=>function(y){return{field:Xl(y.field),direction:Vq(y.dir)}}(h))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const u=Wx(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:r,parent:i}}function Lq(t){let e=Cq(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){xt(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];r.where&&(a=function(m){const y=HM(m);return y instanceof ji&&wM(y)?y.getFilters():[y]}(r.where));let s=[];r.orderBy&&(s=function(m){return m.map(y=>function(w){return new Np(Ql(w.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(r.orderBy));let u=null;r.limit&&(u=function(m){let y;return y=typeof m=="object"?m.value:m,Vm(y)?null:y}(r.limit));let c=null;r.startAt&&(c=function(m){const y=!!m.before,b=m.values||[];return new Cp(b,y)}(r.startAt));let f=null;return r.endAt&&(f=function(m){const y=!m.before,b=m.values||[];return new Cp(b,y)}(r.endAt)),tq(e,i,s,a,u,"F",c,f)}function $q(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function HM(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ql(r.unaryFilter.field);return ur.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ql(r.unaryFilter.field);return ur.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ql(r.unaryFilter.field);return ur.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ql(r.unaryFilter.field);return ur.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):t.fieldFilter!==void 0?function(r){return ur.create(Ql(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ji.create(r.compositeFilter.filters.map(n=>HM(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(r.compositeFilter.op))}(t):Xe()}function Vq(t){return Aq[t]}function Fq(t){return Pq[t]}function Uq(t){return kq[t]}function Xl(t){return{fieldPath:t.canonicalString()}}function Ql(t){return $r.fromServerFormat(t.fieldPath)}function KM(t){return t instanceof ur?function(r){if(r.op==="=="){if(PP(r.value))return{unaryFilter:{field:Xl(r.field),op:"IS_NAN"}};if(AP(r.value))return{unaryFilter:{field:Xl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(PP(r.value))return{unaryFilter:{field:Xl(r.field),op:"IS_NOT_NAN"}};if(AP(r.value))return{unaryFilter:{field:Xl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(r.field),op:Fq(r.op),value:r.value}}}(t):t instanceof ji?function(r){const n=r.getFilters().map(i=>KM(i));return n.length===1?n[0]:{compositeFilter:{op:Uq(r.op),filters:n}}}(t):Xe()}function Bq(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function GM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,r,n,i,a=Qe.min(),s=Qe.min(),u=Fr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.ct=e}}function zq(t){const e=Lq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(){this.un=new Hq}addToCollectionParentIndex(e,r){return this.un.add(r),ge.resolve()}getCollectionParents(e,r){return ge.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ge.resolve()}deleteFieldIndex(e,r){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,r){return ge.resolve()}getDocumentsMatchingTarget(e,r){return ge.resolve(null)}getIndexType(e,r){return ge.resolve(0)}getFieldIndexes(e,r){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,r){return ge.resolve(Ko.min())}getMinOffsetFromCollectionGroup(e,r){return ge.resolve(Ko.min())}updateCollectionGroup(e,r,n){return ge.resolve()}updateIndexEntries(e,r){return ge.resolve()}}class Hq{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Vr(Dt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Vr(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new gu(0)}static kn(){return new gu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(){this.changes=new Wu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Xr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ge.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&of(n.mutation,i,Un.empty(),br.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,rt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=rt()){const i=Ms();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=Gc();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Ms();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,rt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{r.set(s,u)})})}computeViews(e,r,n,i){let a=za();const s=af(),u=function(){return af()}();return r.forEach((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Zo)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),of(h.mutation,f,h.mutation.getFieldMask(),br.now())):s.set(f.key,Un.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((f,h)=>s.set(f,h)),r.forEach((f,h)=>{var m;return u.set(f,new Gq(h,(m=s.get(f))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,r){const n=af();let i=new Kt((s,u)=>s-u),a=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const u of s)u.keys().forEach(c=>{const f=r.get(c);if(f===null)return;let h=n.get(c)||Un.empty();h=u.applyToLocalView(f,h),n.set(c,h);const m=(i.get(u.batchId)||rt()).add(c);i=i.insert(u.batchId,m)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,m=CM();h.forEach(y=>{if(!a.has(y)){const b=LM(r.get(y),n.get(y));b!==null&&m.set(y,b),a=a.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,m))}return ge.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return Ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):AM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ge.resolve(Ms());let u=-1,c=a;return s.next(f=>ge.forEach(f,(h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),a.get(h)?ge.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{c=c.insert(h,y)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,c,f,rt())).next(h=>({batchId:u,changes:OM(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ve(r)).next(n=>{let i=Gc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=Gc();return this.indexManager.getCollectionParents(e,a).next(u=>ge.forEach(u,c=>{const f=function(m,y){return new md(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(h=>{h.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Xr.newInvalidDocument(h)))});let u=Gc();return s.forEach((c,f)=>{const h=a.get(c);h!==void 0&&of(h.mutation,f,Un.empty(),br.now()),Um(r,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ge.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:ra(i.createTime)}}(r)),ge.resolve()}getNamedQuery(e,r){return ge.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:zq(i.bundledQuery),readTime:ra(i.readTime)}}(r)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(){this.overlays=new Kt(Ve.comparator),this.Ir=new Map}getOverlay(e,r){return ge.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ms();return ge.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),ge.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),ge.resolve()}getOverlaysForCollection(e,r,n){const i=Ms(),a=r.length+1,s=new Ve(r.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Kt((f,h)=>f-h);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=a.get(f.largestBatchId);h===null&&(h=Ms(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=Ms(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,h)=>u.set(f,h)),!(u.size()>=i)););return ge.resolve(u)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new _q(r,n));let a=this.Ir.get(r);a===void 0&&(a=rt(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(){this.sessionToken=Fr.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.Tr=new Vr(Ar.Er),this.dr=new Vr(Ar.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Ar(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Ar(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ve(new Dt([])),n=new Ar(r,e),i=new Ar(r,e+1),a=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ve(new Dt([])),n=new Ar(r,e),i=new Ar(r,e+1);let a=rt();return this.dr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Ar(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ar{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ve.comparator(e.key,r.key)||ft(e.wr,r.wr)}static Ar(e,r){return ft(e.wr,r.wr)||Ve.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Vr(Ar.Er)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new bq(a,r,n,i);this.mutationQueue.push(s);for(const u of i)this.br=this.br.add(new Ar(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ge.resolve(s)}lookupMutationBatch(e,r){return ge.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ar(r,0),i=new Ar(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],s=>{const u=this.Dr(s.wr);a.push(u)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Vr(ft);return r.forEach(i=>{const a=new Ar(i,0),s=new Ar(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],u=>{n=n.add(u.wr)})}),ge.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Ve.isDocumentKey(a)||(a=a.child(""));const s=new Ar(new Ve(a),0);let u=new Vr(ft);return this.br.forEachWhile(c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.wr)),!0)},s),ge.resolve(this.Cr(u))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){xt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ge.forEach(r.mutations,i=>{const a=new Ar(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Ar(r,0),i=this.br.firstAfterOrEqual(n);return ge.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.Mr=e,this.docs=function(){return new Kt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ge.resolve(n?n.document.mutableCopy():Xr.newInvalidDocument(r))}getEntries(e,r){let n=za();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Xr.newInvalidDocument(i))}),ge.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=za();const s=r.path,u=new Ve(s.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||DB(MB(h),n)<=0||(i.has(h.key)||Um(r,h))&&(a=a.insert(h.key,h.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Xe()}Or(e,r){return ge.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new t5(this)}getSize(e){return ge.resolve(this.size)}}class t5 extends Kq{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ge.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.persistence=e,this.Nr=new Wu(r=>F1(r),U1),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new K1,this.targetCount=0,this.kr=gu.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ge.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new gu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ge.resolve()}updateTargetData(e,r){return this.Kn(r),ge.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((s,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ge.waitFor(a).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ge.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ge.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ge.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ge.resolve(n)}containsKey(e,r){return ge.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,r){this.qr={},this.overlays={},this.Qr=new D1(0),this.Kr=!1,this.Kr=!0,this.$r=new Jq,this.referenceDelegate=e(this),this.Ur=new r5(this),this.indexManager=new Wq,this.remoteDocumentCache=function(i){return new e5(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new qq(r),this.Gr=new Xq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Qq,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new Zq(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Re("MemoryPersistence","Starting transaction:",e);const i=new i5(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return ge.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class i5 extends $B{constructor(e){super(),this.currentSequenceNumber=e}}class G1{constructor(e){this.persistence=e,this.Jr=new K1,this.Yr=null}static Zr(e){return new G1(e)}get Xr(){if(this.Yr)return this.Yr;throw Xe()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ge.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ge.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ge.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Xr,n=>{const i=Ve.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Qe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ge.or([()=>ge.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=rt(),i=rt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Y1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GF()?8:VB(Zr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new a5;return this.Xi(e,r,s).next(u=>{if(a.result=u,this.zi)return this.es(e,r,s,u.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(jc()<=at.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Yl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ge.resolve()):(jc()<=at.DEBUG&&Re("QueryEngine","Query:",Yl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(jc()<=at.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Yl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ta(r))):ge.resolve())}Yi(e,r){if(CP(r))return ge.resolve(null);let n=ta(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=zx(r,null,"F"),n=ta(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=rt(...a);return this.Ji.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,n).next(c=>{const f=this.ts(r,u);return this.ns(r,f,s,c.readTime)?this.Yi(e,zx(r,null,"F")):this.rs(e,f,r,c)}))})))}Zi(e,r,n,i){return CP(r)||i.isEqual(Qe.min())?ge.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?ge.resolve(null):(jc()<=at.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yl(r)),this.rs(e,s,r,jB(i,-1)).next(u=>u))})}ts(e,r){let n=new Vr(kM(e));return r.forEach((i,a)=>{Um(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return jc()<=at.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Yl(r)),this.Ji.getDocumentsMatchingQuery(e,r,Ko.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Kt(ft),this._s=new Wu(a=>F1(a),U1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yq(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function l5(t,e,r,n){return new s5(t,e,r,n)}async function YM(t,e){const r=Je(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],u=[];let c=rt();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next(f=>({hs:f,removedBatchIds:s,addedBatchIds:u}))})})}function u5(t,e){const r=Je(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,h){const m=f.batch,y=m.keys();let b=ge.resolve();return y.forEach(w=>{b=b.next(()=>h.getEntry(c,w)).next(E=>{const x=f.docVersions.get(w);xt(x!==null),E.version.compareTo(x)<0&&(m.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),h.addEntry(E)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let c=rt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function XM(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function c5(t,e){const r=Je(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const u=[];e.targetChanges.forEach((h,m)=>{const y=i.get(m);if(!y)return;u.push(r.Ur.removeMatchingKeys(a,h.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(a,h.addedDocuments,m)));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(Fr.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,n)),i=i.insert(m,b),function(E,x,N){return E.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(y,b,h)&&u.push(r.Ur.updateTargetData(a,b))});let c=za(),f=rt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,h))}),u.push(f5(a,s,e.documentUpdates).next(h=>{c=h.Ps,f=h.Is})),!n.isEqual(Qe.min())){const h=r.Ur.getLastRemoteSnapshotVersion(a).next(m=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));u.push(h)}return ge.waitFor(u).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,f)).next(()=>c)}).then(a=>(r.os=i,a))}function f5(t,e,r){let n=rt(),i=rt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=za();return r.forEach((u,c)=>{const f=a.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):Re("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function d5(t,e){const r=Je(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function h5(t,e){const r=Je(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,ge.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new Lo(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Yx(t,e,r){const n=Je(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!pd(s))throw s;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function BP(t,e,r){const n=Je(t);let i=Qe.min(),a=rt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,h){const m=Je(c),y=m._s.get(h);return y!==void 0?ge.resolve(m.os.get(y)):m.Ur.getTargetData(f,h)}(n,s,ta(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:Qe.min(),r?a:rt())).next(u=>(p5(n,nq(e),u),{documents:u,Ts:a})))}function p5(t,e,r){let n=t.us.get(e)||Qe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class qP{constructor(){this.activeTargetIds=uq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m5{constructor(){this.so=new qP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new qP,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=null;function wv(){return Yh===null?Yh=function(){return 268435456+Math.round(2147483648*Math.random())}():Yh++,"0x"+Yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="WebChannelConnection";class b5 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const u=wv(),c=this.xo(r,n.toUriEncodedString());Re("RestConnection",`Sending RPC '${r}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,a,s),this.No(r,c,f,i).then(h=>(Re("RestConnection",`Received RPC '${r}' ${u}: `,h),h),h=>{throw du("RestConnection",`RPC '${r}' ${u} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(r,n,i,a,s,u){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>r[s]=a),i&&i.headers.forEach((a,s)=>r[s]=a)}xo(r,n){const i=y5[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=wv();return new Promise((s,u)=>{const c=new cM;c.setWithCredentials(!0),c.listenOnce(fM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case gp.NO_ERROR:const h=c.getResponseJson();Re(Kr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),s(h);break;case gp.TIMEOUT:Re(Kr,`RPC '${e}' ${a} timed out`),u(new Pe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case gp.HTTP_ERROR:const m=c.getStatus();if(Re(Kr,`RPC '${e}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y?.error;if(b&&b.status&&b.message){const w=function(x){const N=x.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(N)>=0?N:ce.UNKNOWN}(b.status);u(new Pe(w,b.message))}else u(new Pe(ce.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Pe(ce.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Re(Kr,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Re(Kr,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",f,n,15)})}Bo(e,r,n){const i=wv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pM(),u=hM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=a.join("");Re(Kr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);let y=!1,b=!1;const w=new v5({Io:x=>{b?Re(Kr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(y||(Re(Kr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Re(Kr,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},To:()=>m.close()}),E=(x,N,C)=>{x.listen(N,I=>{try{C(I)}catch($){setTimeout(()=>{throw $},0)}})};return E(m,Kc.EventType.OPEN,()=>{b||(Re(Kr,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),E(m,Kc.EventType.CLOSE,()=>{b||(b=!0,Re(Kr,`RPC '${e}' stream ${i} transport closed`),w.So())}),E(m,Kc.EventType.ERROR,x=>{b||(b=!0,du(Kr,`RPC '${e}' stream ${i} transport errored:`,x),w.So(new Pe(ce.UNAVAILABLE,"The operation could not be completed")))}),E(m,Kc.EventType.MESSAGE,x=>{var N;if(!b){const C=x.data[0];xt(!!C);const I=C,$=I.error||((N=I[0])===null||N===void 0?void 0:N.error);if($){Re(Kr,`RPC '${e}' stream ${i} received error:`,$);const O=$.status;let j=function(R){const V=sr[R];if(V!==void 0)return VM(V)}(O),A=$.message;j===void 0&&(j=ce.INTERNAL,A="Unknown error status: "+O+" with message "+$.message),b=!0,w.So(new Pe(j,A)),m.close()}else Re(Kr,`RPC '${e}' stream ${i} received:`,C),w.bo(C)}}),E(u,dM.STAT_EVENT,x=>{x.stat===$x.PROXY?Re(Kr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===$x.NOPROXY&&Re(Kr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Ev(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){return new Iq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,r,n,i,a,s,u,c){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new QM(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(qa(r.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Pe(ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _5 extends JM{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Nq(this.serializer,e),n=function(a){if(!("targetChange"in a))return Qe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Qe.min():s.readTime?ra(s.readTime):Qe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Gx(this.serializer),r.addTarget=function(a,s){let u;const c=s.target;if(u=Bx(c)?{documents:Mq(a,c)}:{query:Dq(a,c)._t},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=BM(a,s.resumeToken);const f=Wx(a,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(Qe.min())>0){u.readTime=jp(a,s.snapshotVersion.toTimestamp());const f=Wx(a,s.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const n=$q(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Gx(this.serializer),r.removeTarget=e,this.a_(r)}}class x5 extends JM{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return xt(!!e.streamToken),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=jq(e.writeResults,e.commitTime),n=ra(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Gx(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Rq(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,Hx(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(ce.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Lo(e,Hx(r,n),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(ce.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class E5{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qa(r),this.D_=!1):Re("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{n.enqueueAndForget(async()=>{ol(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=Je(c);f.L_.add(4),await vd(f),f.q_.set("Unknown"),f.L_.delete(4),await Km(f)}(this))})}),this.q_=new E5(n,i)}}async function Km(t){if(ol(t))for(const e of t.B_)await e(!0)}async function vd(t){for(const e of t.B_)await e(!1)}function ZM(t,e){const r=Je(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Z1(r)?J1(r):Hu(r).r_()&&Q1(r,e))}function X1(t,e){const r=Je(t),n=Hu(r);r.N_.delete(e),n.r_()&&eD(r,e),r.N_.size===0&&(n.r_()?n.o_():ol(r)&&r.q_.set("Unknown"))}function Q1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Hu(t).A_(e)}function eD(t,e){t.Q_.xe(e),Hu(t).R_(e)}function J1(t){t.Q_=new Tq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Hu(t).start(),t.q_.v_()}function Z1(t){return ol(t)&&!Hu(t).n_()&&t.N_.size>0}function ol(t){return Je(t).L_.size===0}function tD(t){t.Q_=void 0}async function T5(t){t.q_.set("Online")}async function A5(t){t.N_.forEach((e,r)=>{Q1(t,e)})}async function P5(t,e){tD(t),Z1(t)?(t.q_.M_(e),J1(t)):t.q_.set("Unknown")}async function k5(t,e,r){if(t.q_.set("Online"),e instanceof UM&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(n){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Mp(t,n)}else if(e instanceof bp?t.Q_.Ke(e):e instanceof FM?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Qe.min()))try{const n=await XM(t.localStore);r.compareTo(n)>=0&&await function(a,s){const u=a.Q_.rt(s);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.N_.get(f);h&&a.N_.set(f,h.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,f)=>{const h=a.N_.get(c);if(!h)return;a.N_.set(c,h.withResumeToken(Fr.EMPTY_BYTE_STRING,h.snapshotVersion)),eD(a,c);const m=new Lo(h.target,c,f,h.sequenceNumber);Q1(a,m)}),a.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(n){Re("RemoteStore","Failed to raise snapshot:",n),await Mp(t,n)}}async function Mp(t,e,r){if(!pd(e))throw e;t.L_.add(1),await vd(t),t.q_.set("Offline"),r||(r=()=>XM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Km(t)})}function rD(t,e){return e().catch(r=>Mp(t,r,e))}async function Gm(t){const e=Je(t),r=Yo(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;I5(e);)try{const i=await d5(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,O5(e,i)}catch(i){await Mp(e,i)}nD(e)&&iD(e)}function I5(t){return ol(t)&&t.O_.length<10}function O5(t,e){t.O_.push(e);const r=Yo(t);r.r_()&&r.V_&&r.m_(e.mutations)}function nD(t){return ol(t)&&!Yo(t).n_()&&t.O_.length>0}function iD(t){Yo(t).start()}async function C5(t){Yo(t).p_()}async function N5(t){const e=Yo(t);for(const r of t.O_)e.m_(r.mutations)}async function R5(t,e,r){const n=t.O_.shift(),i=z1.from(n,e,r);await rD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gm(t)}async function j5(t,e){e&&Yo(t).V_&&await async function(n,i){if(function(s){return wq(s)&&s!==ce.ABORTED}(i.code)){const a=n.O_.shift();Yo(n).s_(),await rD(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Gm(n)}}(t,e),nD(t)&&iD(t)}async function WP(t,e){const r=Je(t);r.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const n=ol(r);r.L_.add(3),await vd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Km(r)}async function M5(t,e){const r=Je(t);e?(r.L_.delete(2),await Km(r)):e||(r.L_.add(2),await vd(r),r.q_.set("Unknown"))}function Hu(t){return t.K_||(t.K_=function(r,n,i){const a=Je(r);return a.w_(),new _5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:T5.bind(null,t),Ro:A5.bind(null,t),mo:P5.bind(null,t),d_:k5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Z1(t)?J1(t):t.q_.set("Unknown")):(await t.K_.stop(),tD(t))})),t.K_}function Yo(t){return t.U_||(t.U_=function(r,n,i){const a=Je(r);return a.w_(),new x5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:C5.bind(null,t),mo:j5.bind(null,t),f_:N5.bind(null,t),g_:R5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gm(t)):(await t.U_.stop(),t.O_.length>0&&(Re("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,u=new eE(e,r,s,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tE(t,e){if(qa("AsyncQueue",`${e}: ${t}`),pd(t))return new Pe(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ve.comparator(r.key,n.key):(r,n)=>Ve.comparator(r.key,n.key),this.keyedMap=Gc(),this.sortedSet=new Kt(this.comparator)}static emptySet(e){return new su(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof su)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new su;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.W_=new Kt(Ve.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Xe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class yu{constructor(e,r,n,i,a,s,u,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(u=>{s.push({type:0,doc:u})}),new yu(e,r,su.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class L5{constructor(){this.queries=KP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Je(r),a=i.queries;i.queries=KP(),a.forEach((s,u)=>{for(const c of u.j_)c.onError(n)})})(this,new Pe(ce.ABORTED,"Firestore shutting down"))}}function KP(){return new Wu(t=>PM(t),Fm)}async function aD(t,e){const r=Je(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new D5,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const u=tE(s,`Initialization of query '${Yl(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&rE(r)}async function oD(t,e){const r=Je(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function $5(t,e){const r=Je(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const u of s.j_)u.X_(i)&&(n=!0);s.z_=i}}n&&rE(r)}function V5(t,e,r){const n=Je(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function rE(t){t.Y_.forEach(e=>{e.next()})}var Xx,GP;(GP=Xx||(Xx={})).ea="default",GP.Cache="cache";class sD{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new yu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.key=e}}class uD{constructor(e){this.key=e}}class F5{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=kM(e),this.Ra=new su(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new HP,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const y=i.get(h),b=Um(this.query,m)?m:null,w=!!y&&this.mutatedKeys.has(y.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;y&&b?y.data.isEqual(b.data)?w!==E&&(n.track({type:3,doc:b}),x=!0):this.ga(y,b)||(n.track({type:2,doc:b}),x=!0,(c&&this.Aa(b,c)>0||f&&this.Aa(b,f)<0)&&(u=!0)):!y&&b?(n.track({type:0,doc:b}),x=!0):y&&!b&&(n.track({type:1,doc:y}),x=!0,(c||f)&&(u=!0)),x&&(b?(s=s.add(b),a=E?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{Ra:s,fa:n,ns:u,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,m)=>function(b,w){const E=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return E(b)-E(w)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(n),i=i!=null&&i;const u=r&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,s.length!==0||f?{snapshot:new yu(this.query,e.Ra,a,s,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new HP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new uD(n))}),this.da.forEach(n=>{e.has(n)||r.push(new lD(n))}),r}ba(e){this.Ta=e.Ts,this.da=rt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return yu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class U5{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class B5{constructor(e){this.key=e,this.va=!1}}class q5{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Wu(u=>PM(u),Fm),this.Ma=new Map,this.xa=new Set,this.Oa=new Kt(Ve.comparator),this.Na=new Map,this.La=new K1,this.Ba={},this.ka=new Map,this.qa=gu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function z5(t,e,r=!0){const n=mD(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await cD(n,e,r,!0),i}async function W5(t,e){const r=mD(t);await cD(r,e,!0,!1)}async function cD(t,e,r,n){const i=await h5(t.localStore,ta(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await H5(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&ZM(t.remoteStore,i),u}async function H5(t,e,r,n,i){t.Ka=(m,y,b)=>async function(E,x,N,C){let I=x.view.ma(N);I.ns&&(I=await BP(E.localStore,x.query,!1).then(({documents:A})=>x.view.ma(A,I)));const $=C&&C.targetChanges.get(x.targetId),O=C&&C.targetMismatches.get(x.targetId)!=null,j=x.view.applyChanges(I,E.isPrimaryClient,$,O);return XP(E,x.targetId,j.wa),j.snapshot}(t,m,y,b);const a=await BP(t.localStore,e,!0),s=new F5(e,a.Ts),u=s.ma(a.documents),c=yd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);XP(t,r,f.wa);const h=new U5(e,r,s);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),f.snapshot}async function K5(t,e,r){const n=Je(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(s=>!Fm(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Yx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&X1(n.remoteStore,i.targetId),Qx(n,i.targetId)}).catch(hd)):(Qx(n,i.targetId),await Yx(n.localStore,i.targetId,!0))}async function G5(t,e){const r=Je(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),X1(r.remoteStore,n.targetId))}async function Y5(t,e,r){const n=r9(t);try{const i=await function(s,u){const c=Je(s),f=br.now(),h=u.reduce((b,w)=>b.add(w.key),rt());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let w=za(),E=rt();return c.cs.getEntries(b,h).next(x=>{w=x,w.forEach((N,C)=>{C.isValidDocument()||(E=E.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,w)).next(x=>{m=x;const N=[];for(const C of u){const I=yq(C,m.get(C.key).overlayedDocument);I!=null&&N.push(new Zo(C.key,I,bM(I.value.mapValue),hn.exists(!0)))}return c.mutationQueue.addMutationBatch(b,f,N,u)}).next(x=>{y=x;const N=x.applyToLocalDocumentSet(m,E);return c.documentOverlayCache.saveOverlays(b,x.batchId,N)})}).then(()=>({batchId:y.batchId,changes:OM(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let f=s.Ba[s.currentUser.toKey()];f||(f=new Kt(ft)),f=f.insert(u,c),s.Ba[s.currentUser.toKey()]=f}(n,i.batchId,r),await bd(n,i.changes),await Gm(n.remoteStore)}catch(i){const a=tE(i,"Failed to persist write");r.reject(a)}}async function fD(t,e){const r=Je(t);try{const n=await c5(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Na.get(a);s&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?xt(s.va):i.removedDocuments.size>0&&(xt(s.va),s.va=!1))}),await bd(r,n,e)}catch(n){await hd(n)}}function YP(t,e,r){const n=Je(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,s)=>{const u=s.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Je(s);c.onlineState=u;let f=!1;c.queries.forEach((h,m)=>{for(const y of m.j_)y.Z_(u)&&(f=!0)}),f&&rE(c)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function X5(t,e,r){const n=Je(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new Kt(Ve.comparator);s=s.insert(a,Xr.newNoDocument(a,Qe.min()));const u=rt().add(a),c=new Wm(Qe.min(),new Map,new Kt(ft),s,u);await fD(n,c),n.Oa=n.Oa.remove(a),n.Na.delete(e),nE(n)}else await Yx(n.localStore,e,!1).then(()=>Qx(n,e,r)).catch(hd)}async function Q5(t,e){const r=Je(t),n=e.batch.batchId;try{const i=await u5(r.localStore,e);hD(r,n,null),dD(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await bd(r,i)}catch(i){await hd(i)}}async function J5(t,e,r){const n=Je(t);try{const i=await function(s,u){const c=Je(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next(m=>(xt(m!==null),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>c.localDocuments.getDocuments(f,h))})}(n.localStore,e);hD(n,e,r),dD(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await bd(n,i)}catch(i){await hd(i)}}function dD(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function hD(t,e,r){const n=Je(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Qx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||pD(t,n)})}function pD(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(X1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),nE(t))}function XP(t,e,r){for(const n of r)n instanceof lD?(t.La.addReference(n.key,e),Z5(t,n)):n instanceof uD?(Re("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||pD(t,n.key)):Xe()}function Z5(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Re("SyncEngine","New document in limbo: "+r),t.xa.add(n),nE(t))}function nE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ve(Dt.fromString(e)),n=t.qa.next();t.Na.set(n,new B5(r)),t.Oa=t.Oa.insert(r,n),ZM(t.remoteStore,new Lo(ta(B1(r.path)),n,"TargetPurposeLimboResolution",D1.oe))}}async function bd(t,e,r){const n=Je(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((u,c)=>{s.push(n.Ka(c,e,r).then(f=>{var h;if((f||r)&&n.isPrimaryClient){const m=f?!f.fromCache:(h=r?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=Y1.Wi(c.targetId,f);a.push(m)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(c,f){const h=Je(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ge.forEach(f,y=>ge.forEach(y.$i,b=>h.persistence.referenceDelegate.addReference(m,y.targetId,b)).next(()=>ge.forEach(y.Ui,b=>h.persistence.referenceDelegate.removeReference(m,y.targetId,b)))))}catch(m){if(!pd(m))throw m;Re("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const y=m.targetId;if(!m.fromCache){const b=h.os.get(y),w=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(y,E)}}}(n.localStore,a))}async function e9(t,e){const r=Je(t);if(!r.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const n=await YM(r.localStore,e);r.currentUser=e,function(a,s){a.ka.forEach(u=>{u.forEach(c=>{c.reject(new Pe(ce.CANCELLED,s))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await bd(r,n.hs)}}function t9(t,e){const r=Je(t),n=r.Na.get(e);if(n&&n.va)return rt().add(n.key);{let i=rt();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const u=r.Fa.get(s);i=i.unionWith(u.view.Va)}return i}}function mD(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X5.bind(null,e),e.Ca.d_=$5.bind(null,e.eventManager),e.Ca.$a=V5.bind(null,e.eventManager),e}function r9(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J5.bind(null,e),e}class Dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return l5(this.persistence,new o5,e.initialUser,this.serializer)}Ga(e){return new n5(G1.Zr,this.serializer)}Wa(e){return new m5}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dp.provider={build:()=>new Dp};class Jx{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>YP(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=e9.bind(null,this.syncEngine),await M5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L5}()}createDatastore(e){const r=Hm(e.databaseInfo.databaseId),n=function(a){return new b5(a)}(e.databaseInfo);return function(a,s,u,c){return new w5(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,u){return new S5(n,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,r=>YP(this.syncEngine,r,0),function(){return zP.D()?new zP:new g5}())}createSyncEngine(e,r){return function(i,a,s,u,c,f,h){const m=new q5(i,a,s,u,c,f);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Je(i);Re("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await vd(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Jx.provider={build:()=>new Jx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Yr.UNAUTHENTICATED,this.clientId=gM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{Re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=tE(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Sv(t,e){t.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await YM(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function QP(t,e){t.asyncQueue.verifyOperationInProgress();const r=await i9(t);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>WP(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>WP(e.remoteStore,i)),t._onlineComponents=e}async function i9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;du("Error using user provided cache. Falling back to memory cache: "+r),await Sv(t,new Dp)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await Sv(t,new Dp);return t._offlineComponents}async function yD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await QP(t,t._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await QP(t,new Jx))),t._onlineComponents}function a9(t){return yD(t).then(e=>e.syncEngine)}async function Zx(t){const e=await yD(t),r=e.eventManager;return r.onListen=z5.bind(null,e.syncEngine),r.onUnlisten=K5.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=W5.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=G5.bind(null,e.syncEngine),r}function o9(t,e,r={}){const n=new Uo;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,u,c,f){const h=new gD({next:y=>{h.Za(),s.enqueueAndForget(()=>oD(a,m)),y.fromCache&&c.source==="server"?f.reject(new Pe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),m=new sD(u,h,{includeMetadataChanges:!0,_a:!0});return aD(a,m)}(await Zx(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e,r){if(!r)throw new Pe(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function s9(t,e,r,n){if(e===!0&&n===!0)throw new Pe(ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function ZP(t){if(!Ve.isDocumentKey(t))throw new Pe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ek(t){if(Ve.isDocumentKey(t))throw new Pe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ym(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe()}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ym(t);throw new Pe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Pe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Pe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Pe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xm{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tk({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tk(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new TB;switch(n.type){case"firstParty":return new IB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Pe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=JP.get(r);n&&(Re("ComponentProvider","Removing Datastore"),JP.delete(r),n.terminate())}(this),Promise.resolve()}}function l9(t,e,r,n={}){var i;const a=(t=qn(t,Xm))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&du("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let u,c;if(typeof n.mockUserToken=="string")u=n.mockUserToken,c=Yr.MOCK_USER;else{u=w2(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Pe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Yr(f)}t._authCredentials=new AB(new mM(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sl(this.firestore,e,this._query)}}class pn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class Bo extends sl{constructor(e,r,n){super(e,r,B1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new Ve(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function mr(t,e,...r){if(t=Lt(t),bD("collection","path",e),t instanceof Xm){const n=Dt.fromString(e,...r);return ek(n),new Bo(t,null,n)}{if(!(t instanceof pn||t instanceof Bo))throw new Pe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dt.fromString(e,...r));return ek(n),new Bo(t.firestore,null,n)}}function Ut(t,e,...r){if(t=Lt(t),arguments.length===1&&(e=gM.newId()),bD("doc","path",e),t instanceof Xm){const n=Dt.fromString(e,...r);return ZP(n),new pn(t,null,new Ve(n))}{if(!(t instanceof pn||t instanceof Bo))throw new Pe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dt.fromString(e,...r));return ZP(n),new pn(t.firestore,t instanceof Bo?t.converter:null,new Ve(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new QM(this,"async_queue_retry"),this.Vu=()=>{const n=Ev();n&&Re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Ev();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ev();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Uo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!pd(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(n);throw qa("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=eE.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function nk(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Wa extends Xm{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new rk,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rk(e),this._firestoreClient=void 0,await e}}}function u9(t,e){const r=typeof t=="object"?t:T1(),n=typeof t=="string"?t:"(default)",i=Mm(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=b2("firestore");a&&l9(i,...a)}return i}function Qm(t){if(t._terminated)throw new Pe(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||c9(t),t._firestoreClient}function c9(t){var e,r,n;const i=t._freezeSettings(),a=function(u,c,f,h){return new BB(u,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vD(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new n9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const c=u?._online.build();return{_offline:u?._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vu(Fr.fromBase64String(e))}catch(r){throw new Pe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new vu(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Pe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Pe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Pe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=/^__.*__$/;class d9{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Zo(e,this.data,this.fieldMask,r,this.fieldTransforms):new gd(e,this.data,r,this.fieldTransforms)}}class _D{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Zo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function xD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class oE{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new oE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Lp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(xD(this.Cu)&&f9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class h9{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Hm(e)}Qu(e,r,n,i=!1){return new oE({Cu:e,methodName:r,qu:n,path:$r.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(t){const e=t._freezeSettings(),r=Hm(t._databaseId);return new h9(t._databaseId,!!e.ignoreUndefinedProperties,r)}function sE(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);uE("Data must be an object, but it was:",s,n);const u=SD(n,s);let c,f;if(a.merge)c=new Un(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const y=ew(e,m,r);if(!s.contains(y))throw new Pe(ce.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);AD(h,y)||h.push(y)}c=new Un(h),f=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,f=s.fieldTransforms;return new d9(new An(u),c,f)}class Zm extends Jm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zm}}class lE extends Jm{_toFieldTransform(e){return new hq(e.path,new wf)}isEqual(e){return e instanceof lE}}function wD(t,e,r,n){const i=t.Qu(1,e,r);uE("Data must be an object, but it was:",i,n);const a=[],s=An.empty();al(n,(c,f)=>{const h=cE(e,c,r);f=Lt(f);const m=i.Nu(h);if(f instanceof Zm)a.push(h);else{const y=wd(f,m);y!=null&&(a.push(h),s.set(h,y))}});const u=new Un(a);return new _D(s,u,i.fieldTransforms)}function ED(t,e,r,n,i,a){const s=t.Qu(1,e,r),u=[ew(e,n,r)],c=[i];if(a.length%2!=0)throw new Pe(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(ew(e,a[y])),c.push(a[y+1]);const f=[],h=An.empty();for(let y=u.length-1;y>=0;--y)if(!AD(f,u[y])){const b=u[y];let w=c[y];w=Lt(w);const E=s.Nu(b);if(w instanceof Zm)f.push(b);else{const x=wd(w,E);x!=null&&(f.push(b),h.set(b,x))}}const m=new Un(f);return new _D(h,m,s.fieldTransforms)}function p9(t,e,r,n=!1){return wd(r,t.Qu(n?4:3,e))}function wd(t,e){if(TD(t=Lt(t)))return uE("Unsupported field value:",e,t),SD(t,e);if(t instanceof Jm)return function(n,i){if(!xD(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const u of n){let c=wd(u,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Lt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return cq(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=br.fromDate(n);return{timestampValue:jp(i.serializer,a)}}if(n instanceof br){const a=new br(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jp(i.serializer,a)}}if(n instanceof iE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof vu)return{bytesValue:BM(i.serializer,n._byteString)};if(n instanceof pn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:H1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof aE)return function(s,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return q1(u.serializer,c)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Ym(n)}`)}(t,e)}function SD(t,e){const r={};return yM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(t,(n,i)=>{const a=wd(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function TD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof br||t instanceof iE||t instanceof vu||t instanceof pn||t instanceof Jm||t instanceof aE)}function uE(t,e,r){if(!TD(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Ym(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function ew(t,e,r){if((e=Lt(e))instanceof _d)return e._internalPath;if(typeof e=="string")return cE(t,e);throw Lp("Field path arguments must be of type string or ",t,!1,void 0,r)}const m9=new RegExp("[~\\*/\\[\\]]");function cE(t,e,r){if(e.search(m9)>=0)throw Lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new _d(...e.split("."))._internalPath}catch{throw Lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Lp(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Pe(ce.INVALID_ARGUMENT,u+t+c)}function AD(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(kD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class g9 extends PD{data(){return super.data()}}function kD(t,e){return typeof e=="string"?cE(t,e):e instanceof _d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fE{}class y9 extends fE{}function v9(t,e,...r){let n=[];e instanceof fE&&n.push(e),n=n.concat(r),function(a){const s=a.filter(c=>c instanceof hE).length,u=a.filter(c=>c instanceof dE).length;if(s>1||s>0&&u>0)throw new Pe(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class dE extends y9{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new dE(e,r,n)}_apply(e){const r=this._parse(e);return OD(e._query,r),new sl(e.firestore,e.converter,qx(e._query,r))}_parse(e){const r=xd(e.firestore);return function(a,s,u,c,f,h,m){let y;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Pe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ak(m,h);const b=[];for(const w of m)b.push(ik(c,a,w));y={arrayValue:{values:b}}}else y=ik(c,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ak(m,h),y=p9(u,s,m,h==="in"||h==="not-in");return ur.create(f,h,y)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class hE extends fE{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new hE(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ji.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const u=a.getFlattenedFilters();for(const c of u)OD(s,c),s=qx(s,c)}(e._query,r),new sl(e.firestore,e.converter,qx(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ik(t,e,r){if(typeof(r=Lt(r))=="string"){if(r==="")throw new Pe(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AM(e)&&r.indexOf("/")!==-1)throw new Pe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Dt.fromString(r));if(!Ve.isDocumentKey(n))throw new Pe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return TP(t,new Ve(n))}if(r instanceof pn)return TP(t,r._key);throw new Pe(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ym(r)}.`)}function ak(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OD(t,e){const r=function(i,a){for(const s of i)for(const u of s.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Pe(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class b9{convertValue(e,r="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return al(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>ir(s.doubleValue));return new aE(a)}convertGeoPoint(e){return new iE(ir(e.latitude),ir(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=$1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const r=Go(e);return new br(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Dt.fromString(e);xt(GM(n));const i=new _f(n.get(1),n.get(3)),a=new Ve(n.popFirst(5));return i.isEqual(r)||qa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CD extends PD{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new _p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(kD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class _p extends CD{data(e={}){return super.data(e)}}class ND{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Xc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new _p(this._firestore,this._userDataWriter,n.key,n,new Xc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Pe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{const c=new _p(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Xc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const c=new _p(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Xc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:_9(u.type),doc:c,oldIndex:f,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function _9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}class mE extends b9{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,r)}}function x9(t){t=qn(t,sl);const e=qn(t.firestore,Wa),r=Qm(e),n=new mE(e);return ID(t._query),o9(r,t._query).then(i=>new ND(e,n,t,i))}function w9(t,e,r){t=qn(t,pn);const n=qn(t.firestore,Wa),i=pE(t.converter,e,r);return Ed(n,[sE(xd(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,hn.none())])}function ok(t,e,r,...n){t=qn(t,pn);const i=qn(t.firestore,Wa),a=xd(i);let s;return s=typeof(e=Lt(e))=="string"||e instanceof _d?ED(a,"updateDoc",t._key,e,r,n):wD(a,"updateDoc",t._key,e),Ed(i,[s.toMutation(t._key,hn.exists(!0))])}function E9(t){return Ed(qn(t.firestore,Wa),[new zm(t._key,hn.none())])}function S9(t,e){const r=qn(t.firestore,Wa),n=Ut(t),i=pE(t.converter,e);return Ed(r,[sE(xd(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,hn.exists(!1))]).then(()=>n)}function sk(t,...e){var r,n,i;t=Lt(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||nk(e[s])||(a=e[s],s++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(nk(e[s])){const m=e[s];e[s]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[s+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,f,h;if(t instanceof pn)f=qn(t.firestore,Wa),h=B1(t._key.path),c={next:m=>{e[s]&&e[s](T9(f,t,m))},error:e[s+1],complete:e[s+2]};else{const m=qn(t,sl);f=qn(m.firestore,Wa),h=m._query;const y=new mE(f);c={next:b=>{e[s]&&e[s](new ND(f,y,m,b))},error:e[s+1],complete:e[s+2]},ID(t._query)}return function(y,b,w,E){const x=new gD(E),N=new sD(b,x,w);return y.asyncQueue.enqueueAndForget(async()=>aD(await Zx(y),N)),()=>{x.Za(),y.asyncQueue.enqueueAndForget(async()=>oD(await Zx(y),N))}}(Qm(f),h,u,c)}function Ed(t,e){return function(n,i){const a=new Uo;return n.asyncQueue.enqueueAndForget(async()=>Y5(await a9(n),i,a)),a.promise}(Qm(t),e)}function T9(t,e,r){const n=r.docs.get(e._key),i=new mE(t);return new CD(t,i,e._key,n,new Xc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=xd(e)}set(e,r,n){this._verifyNotCommitted();const i=Tv(e,this._firestore),a=pE(i.converter,r,n),s=sE(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,hn.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=Tv(e,this._firestore);let s;return s=typeof(r=Lt(r))=="string"||r instanceof _d?ED(this._dataReader,"WriteBatch.update",a._key,r,n,i):wD(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Tv(e,this._firestore);return this._mutations=this._mutations.concat(new zm(r._key,hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tv(t,e){if((t=Lt(t)).firestore!==e)throw new Pe(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Tr(){return new lE("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){return Qm(t=qn(t,Wa)),new A9(t,e=>Ed(t,e))}(function(e,r=!0){(function(i){zu=i})(nl),zs(new Ho("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),u=new Wa(new PB(n.getProvider("auth-internal")),new CB(n.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Pe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _f(f.options.projectId,h)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Ji(_P,"4.7.3",e),Ji(_P,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebasestorage.googleapis.com",jD="storageBucket",P9=2*60*1e3,k9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends la{constructor(e,r,n=0){super(Av(e),`Firebase Storage: ${r} (${Av(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Av(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var er;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(er||(er={}));function Av(t){return"storage/"+t}function gE(){const t="An unknown error occurred, please check the error payload for server response.";return new tr(er.UNKNOWN,t)}function I9(t){return new tr(er.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function O9(t){return new tr(er.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function C9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tr(er.UNAUTHENTICATED,t)}function N9(){return new tr(er.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function R9(t){return new tr(er.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function j9(){return new tr(er.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function M9(){return new tr(er.CANCELED,"User canceled the upload/download.")}function D9(t){return new tr(er.INVALID_URL,"Invalid URL '"+t+"'.")}function L9(t){return new tr(er.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $9(){return new tr(er.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jD+"' property when initializing the app?")}function V9(){return new tr(er.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function F9(){return new tr(er.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function U9(t){return new tr(er.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function tw(t){return new tr(er.INVALID_ARGUMENT,t)}function MD(){return new tr(er.APP_DELETED,"The Firebase app was deleted.")}function B9(t){return new tr(er.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sf(t,e){return new tr(er.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mc(t){throw new tr(er.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Bn.makeFromUrl(e,r)}catch{return new Bn(e,"")}if(n.path==="")return n;throw L9(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f($){$.path_=decodeURIComponent($.path)}const h="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${m}/${h}/b/${i}/o${y}`,"i"),w={bucket:1,path:3},E=r===RD?"(?:storage.googleapis.com|storage.cloud.google.com)":r,x="([^?#]*)",N=new RegExp(`^https?://${E}/${i}/${x}`,"i"),I=[{regex:u,indices:c,postModify:a},{regex:b,indices:w,postModify:f},{regex:N,indices:{bucket:1,path:2},postModify:f}];for(let $=0;$<I.length;$++){const O=I[$],j=O.regex.exec(e);if(j){const A=j[O.indices.bucket];let P=j[O.indices.path];P||(P=""),n=new Bn(A,P),O.postModify(n);break}}if(n==null)throw D9(e);return n}}class q9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t,e,r){let n=1,i=null,a=null,s=!1,u=0;function c(){return u===2}let f=!1;function h(...x){f||(f=!0,e.apply(null,x))}function m(x){i=setTimeout(()=>{i=null,t(b,c())},x)}function y(){a&&clearTimeout(a)}function b(x,...N){if(f){y();return}if(x){y(),h.call(null,x,...N);return}if(c()||s){y(),h.call(null,x,...N);return}n<64&&(n*=2);let I;u===1?(u=2,I=0):I=(n+Math.random())*1e3,m(I)}let w=!1;function E(x){w||(w=!0,y(),!f&&(i!==null?(x||(u=2),clearTimeout(i),m(0)):x||(u=1)))}return m(0),a=setTimeout(()=>{s=!0,E(!0)},r),E}function W9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t){return t!==void 0}function K9(t){return typeof t=="object"&&!Array.isArray(t)}function yE(t){return typeof t=="string"||t instanceof String}function lk(t){return vE()&&t instanceof Blob}function vE(){return typeof Blob<"u"}function uk(t,e,r,n){if(n<e)throw tw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw tw(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function DD(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Us;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Us||(Us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,r,n,i,a,s,u,c,f,h,m,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,w)=>{this.resolve_=b,this.reject_=w,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Qh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const u=a.getErrorCode()===Us.NO_ERROR,c=a.getStatus();if(!u||G9(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Us.ABORT;n(!1,new Qh(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;n(!0,new Qh(f,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());H9(c)?a(c):a()}catch(c){s(c)}else if(u!==null){const c=gE();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(i.canceled){const c=this.appDelete_?MD():M9();s(c)}else{const c=j9();s(c)}};this.canceled_?r(!1,new Qh(!1,null,!0)):this.backoffId_=z9(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&W9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qh{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function X9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Q9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function J9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Z9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ez(t,e,r,n,i,a,s=!0){const u=DD(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return J9(f,e),X9(f,r),Q9(f,a),Z9(f,n),new Y9(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rz(...t){const e=tz();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(vE())return new Blob(t);throw new tr(er.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nz(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t){if(typeof atob>"u")throw U9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pv{constructor(e,r){this.data=e,this.contentType=r||null}}function az(t,e){switch(t){case Xi.RAW:return new Pv(LD(e));case Xi.BASE64:case Xi.BASE64URL:return new Pv($D(t,e));case Xi.DATA_URL:return new Pv(sz(e),lz(e))}throw gE()}function LD(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,s=t.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function oz(t){let e;try{e=decodeURIComponent(t)}catch{throw sf(Xi.DATA_URL,"Malformed data URL.")}return LD(e)}function $D(t,e){switch(t){case Xi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw sf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw sf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=iz(e)}catch(i){throw i.message.includes("polyfill")?i:sf(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class VD{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw sf(Xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=uz(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function sz(t){const e=new VD(t);return e.base64?$D(Xi.BASE64,e.rest):oz(e.rest)}function lz(t){return new VD(t).contentType}function uz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,r){let n=0,i="";lk(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(lk(this.data_)){const n=this.data_,i=nz(n,e,r);return i===null?null:new Mo(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Mo(n,!0)}}static getBlob(...e){if(vE()){const r=e.map(n=>n instanceof Mo?n.data_:n);return new Mo(rz.apply(null,r))}else{const r=e.map(s=>yE(s)?az(Xi.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let u=0;u<s.length;u++)i[a++]=s[u]}),new Mo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){let e;try{e=JSON.parse(t)}catch{return null}return K9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fz(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function UD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t,e){return e}class un{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||dz}}let Jh=null;function hz(t){return!yE(t)||t.length<2?t:UD(t)}function BD(){if(Jh)return Jh;const t=[];t.push(new un("bucket")),t.push(new un("generation")),t.push(new un("metageneration")),t.push(new un("name","fullPath",!0));function e(a,s){return hz(s)}const r=new un("name");r.xform=e,t.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new un("size");return i.xform=n,t.push(i),t.push(new un("timeCreated")),t.push(new un("updated")),t.push(new un("md5Hash",null,!0)),t.push(new un("cacheControl",null,!0)),t.push(new un("contentDisposition",null,!0)),t.push(new un("contentEncoding",null,!0)),t.push(new un("contentLanguage",null,!0)),t.push(new un("contentType",null,!0)),t.push(new un("metadata","customMetadata",!0)),Jh=t,Jh}function pz(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Bn(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function mz(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,e[s.server])}return pz(n,t),n}function qD(t,e,r){const n=FD(e);return n===null?null:mz(t,n,r)}function gz(t,e,r,n){const i=FD(e);if(i===null||!yE(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(f=>{const h=t.bucket,m=t.fullPath,y="/b/"+s(h)+"/o/"+s(m),b=bE(y,r,n),w=DD({alt:"media",token:f});return b+w})[0]}function yz(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class zD{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){if(!t)throw gE()}function vz(t,e){function r(n,i){const a=qD(t,i,e);return WD(a!==null),a}return r}function bz(t,e){function r(n,i){const a=qD(t,i,e);return WD(a!==null),gz(a,i,t.host,t._protocol)}return r}function HD(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=N9():i=C9():r.getStatus()===402?i=O9(t.bucket):r.getStatus()===403?i=R9(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function _z(t){const e=HD(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=I9(t.path)),a.serverResponse=i.serverResponse,a}return r}function xz(t,e,r){const n=e.fullServerUrl(),i=bE(n,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,u=new zD(i,a,bz(t,r),s);return u.errorHandler=_z(e),u}function wz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Ez(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=wz(null,e)),n}function Sz(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function u(){let I="";for(let $=0;$<2;$++)I=I+Math.random().toString().slice(2);return I}const c=u();s["Content-Type"]="multipart/related; boundary="+c;const f=Ez(e,n,i),h=yz(f,r),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+c+"--",b=Mo.getBlob(m,n,y);if(b===null)throw V9();const w={name:f.fullPath},E=bE(a,t.host,t._protocol),x="POST",N=t.maxUploadRetryTime,C=new zD(E,x,vz(t,r),N);return C.urlParams=w,C.headers=s,C.body=b.uploadData(),C.errorHandler=HD(e),C}class Tz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Mc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Az extends Tz{initXhr(){this.xhr_.responseType="text"}}function KD(){return new Az}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,r){this._service=e,r instanceof Bn?this._location=r:this._location=Bn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Xs(e,r)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UD(this._location.path)}get storage(){return this._service}get parent(){const e=cz(this._location.path);if(e===null)return null;const r=new Bn(this._location.bucket,e);return new Xs(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw B9(e)}}function Pz(t,e,r){t._throwIfRoot("uploadBytes");const n=Sz(t.storage,t._location,BD(),new Mo(e,!0),r);return t.storage.makeRequestWithTokens(n,KD).then(i=>({metadata:i,ref:t}))}function kz(t){t._throwIfRoot("getDownloadURL");const e=xz(t.storage,t._location,BD());return t.storage.makeRequestWithTokens(e,KD).then(r=>{if(r===null)throw F9();return r})}function Iz(t,e){const r=fz(t._location.path,e),n=new Bn(t._location.bucket,r);return new Xs(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(t){return/^[A-Za-z]+:\/\//.test(t)}function Cz(t,e){return new Xs(t,e)}function GD(t,e){if(t instanceof _E){const r=t;if(r._bucket==null)throw $9();const n=new Xs(r,r._bucket);return e!=null?GD(n,e):n}else return e!==void 0?Iz(t,e):t}function Nz(t,e){if(e&&Oz(e)){if(t instanceof _E)return Cz(t,e);throw tw("To use ref(service, url), the first argument must be a Storage instance.")}else return GD(t,e)}function ck(t,e){const r=e?.[jD];return r==null?null:Bn.makeFromBucketSpec(r,t)}function Rz(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:w2(i,t.app.options.projectId))}class _E{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=RD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=P9,this._maxUploadRetryTime=k9,this._requests=new Set,i!=null?this._bucket=Bn.makeFromBucketSpec(i,this._host):this._bucket=ck(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=ck(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xs(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new q9(MD());{const s=ez(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const fk="@firebase/storage",dk="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="storage";function jz(t,e,r){return t=Lt(t),Pz(t,e,r)}function Mz(t){return t=Lt(t),kz(t)}function Dz(t,e){return t=Lt(t),Nz(t,e)}function Lz(t=T1(),e){t=Lt(t);const n=Mm(t,YD).getImmediate({identifier:e}),i=b2("storage");return i&&$z(n,...i),n}function $z(t,e,r,n={}){Rz(t,e,r,n)}function Vz(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _E(r,n,i,e,nl)}function Fz(){zs(new Ho(YD,Vz,"PUBLIC").setMultipleInstances(!0)),Ji(fk,dk,""),Ji(fk,dk,"esm2017")}Fz();function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){XD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uz(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Bz(t,e){if(t==null)return{};var r=Uz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lu(t,e){return qz(t)||zz(t,e)||Wz(t,e)||Hz()}function qz(t){if(Array.isArray(t))return t}function zz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,u;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(c){a=!0,u=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function Wz(t,e){if(t){if(typeof t=="string")return pk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pk(t,e)}}function pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kz=["src","checkForExisting"],Qc={},mk=function(e){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r)return Qc[e]={loading:!1,error:null,scriptEl:r}},gk=typeof window<"u"&&typeof window.document<"u";function Gz(t){var e=t.src,r=t.checkForExisting,n=r===void 0?!1:r,i=Bz(t,Kz),a=e?Qc[e]:void 0;!a&&n&&e&&gk&&(a=mk(e));var s=G.useState(a?a.loading:!!e),u=lu(s,2),c=u[0],f=u[1],h=G.useState(a?a.error:null),m=lu(h,2),y=m[0],b=m[1],w=G.useState(!1),E=lu(w,2),x=E[0],N=E[1];return G.useEffect(function(){if(!(!gk||!e||x||y)){a=Qc[e],!a&&n&&(a=mk(e));var C;a?C=a.scriptEl:(C=document.createElement("script"),C.src=e,Object.keys(i).forEach(function(O){C[O]===void 0?C.setAttribute(O,i[O]):C[O]=i[O]}),a=Qc[e]={loading:!0,error:null,scriptEl:C});var I=function(){a&&(a.loading=!1),f(!1),N(!0)},$=function(j){a&&(a.error=j),b(j)};return C.addEventListener("load",I),C.addEventListener("error",$),document.body.appendChild(C),function(){C.removeEventListener("load",I),C.removeEventListener("error",$),a&&a.loading&&(C.remove(),delete Qc[e])}}},[e]),[c,y]}var Yz=function(e,r,n){var i={};return delete Object.assign(i,e,XD({},n,e[r]))[r],i},Xz=function(e,r){var n={plaid:null,open:!1,onExitCallback:null};if(typeof window>"u"||!window.Plaid)throw new Error("Plaid not loaded");n.plaid=r($p($p({},e),{},{onExit:function(f,h){n.open=!1,e.onExit&&e.onExit(f,h),n.onExitCallback&&n.onExitCallback()}}));var i=function(){n.plaid&&(n.open=!0,n.onExitCallback=null,n.plaid.open())},a=function(f){n.plaid&&n.plaid.submit(f)},s=function(f,h){if(!n.open||!n.plaid){h&&h();return}n.onExitCallback=h,n.plaid.exit(f),f&&f.force&&(n.open=!1)},u=function(){n.plaid&&(n.plaid.destroy(),n.plaid=null)};return{open:i,submit:a,exit:s,destroy:u}},Qz=function(e,r){var n=Yz(e,"publicKey","key");return Xz(n,r)},Jz="https://cdn.plaid.com/link/v2/stable/link-initialize.js",yk=function(){},Zz=function(e){var r=Gz({src:Jz,checkForExisting:!0}),n=lu(r,2),i=n[0],a=n[1],s=G.useState(null),u=lu(s,2),c=u[0],f=u[1],h=G.useState(!1),m=lu(h,2),y=m[0],b=m[1],w=(e.product||[]).slice().sort().join(",");G.useEffect(function(){if(!i&&!(!e.token&&!e.publicKey&&!e.receivedRedirectUri)){if(a||!window.Plaid){console.error("Error loading Plaid",a);return}c?.exit({force:!0},function(){return c.destroy()});var N=Qz($p($p({},e),{},{onLoad:function(){b(!0),e.onLoad&&e.onLoad()}}),window.Plaid.create);return f(N),function(){return N.exit({force:!0},function(){return N.destroy()})}}},[i,a,e.publicKey,e.token,w]);var E=c!=null&&(!i||y),x=function(){e.token||console.warn("react-plaid-link: You cannot call open() without a valid token supplied to usePlaidLink. This is a no-op.")};return{error:a,ready:E,submit:c?c.submit:yk,exit:c?c.exit:yk,open:c?c.open:x}},vk;(function(t){t.OPEN="OPEN",t.EXIT="EXIT",t.HANDOFF="HANDOFF",t.SELECT_INSTITUTION="SELECT_INSTITUTION",t.ERROR="ERROR",t.BANK_INCOME_INSIGHTS_COMPLETED="BANK_INCOME_INSIGHTS_COMPLETED",t.IDENTITY_VERIFICATION_PASS_SESSION="IDENTITY_VERIFICATION_PASS_SESSION",t.IDENTITY_VERIFICATION_FAIL_SESSION="IDENTITY_VERIFICATION_FAIL_SESSION"})(vk||(vk={}));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QD=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=G.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...u},c)=>G.createElement("svg",{ref:c,...t8,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:QD("lucide",i),...u},[...s.map(([f,h])=>G.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const r=G.forwardRef(({className:n,...i},a)=>G.createElement(r8,{ref:a,iconNode:e,className:QD(`lucide-${e8(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=vt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=vt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=vt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=vt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=vt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=vt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=vt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=vt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=vt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=vt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=vt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=vt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=vt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=vt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=vt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=vt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=vt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=vt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=vt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=vt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=vt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=vt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=vt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=vt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=vt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=vt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=vt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=vt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=vt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=vt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),w8=({setUserId:t})=>{const[e,r]=G.useState(!0),[n,i]=G.useState(""),[a,s]=G.useState(""),[u,c]=G.useState(""),[f,h]=G.useState(!1),m=lM(),y=async b=>{b.preventDefault(),c(""),h(!0);try{e?await uU(m,n,a):await lU(m,n,a)}catch(w){c(w.message)}finally{h(!1)}};return v.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx(lf,{className:"mx-auto h-12 w-auto text-cyan-500"}),v.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[v.jsxs("form",{className:"space-y-6",onSubmit:y,children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),v.jsx("div",{className:"mt-1",children:v.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:b=>i(b.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),v.jsx("div",{className:"mt-1",children:v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:b=>s(b.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),u&&v.jsx("div",{className:"rounded-md bg-red-50 p-4",children:v.jsx("p",{className:"text-sm text-red-700",children:u})}),v.jsx("div",{children:v.jsx("button",{type:"submit",disabled:f,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:f?"Processing...":e?"Sign in":"Create account"})})]}),v.jsx("div",{className:"mt-6",children:v.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",v.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},Gi=({title:t,value:e,icon:r,color:n,subtext:i})=>v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),v.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]});function rL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=rL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ze(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=rL(t))&&(n&&(n+=" "),n+=e);return n}var kv,_k;function kn(){if(_k)return kv;_k=1;var t=Array.isArray;return kv=t,kv}var Iv,xk;function nL(){if(xk)return Iv;xk=1;var t=typeof qh=="object"&&qh&&qh.Object===Object&&qh;return Iv=t,Iv}var Ov,wk;function ua(){if(wk)return Ov;wk=1;var t=nL(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Ov=r,Ov}var Cv,Ek;function Sd(){if(Ek)return Cv;Ek=1;var t=ua(),e=t.Symbol;return Cv=e,Cv}var Nv,Sk;function E8(){if(Sk)return Nv;Sk=1;var t=Sd(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var u=r.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=n.call(s);return f&&(u?s[i]=c:delete s[i]),h}return Nv=a,Nv}var Rv,Tk;function S8(){if(Tk)return Rv;Tk=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Rv=r,Rv}var jv,Ak;function Xa(){if(Ak)return jv;Ak=1;var t=Sd(),e=E8(),r=S8(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return jv=s,jv}var Mv,Pk;function Qa(){if(Pk)return Mv;Pk=1;function t(e){return e!=null&&typeof e=="object"}return Mv=t,Mv}var Dv,kk;function Ku(){if(kk)return Dv;kk=1;var t=Xa(),e=Qa(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Dv=n,Dv}var Lv,Ik;function xE(){if(Ik)return Lv;Ik=1;var t=kn(),e=Ku(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return Lv=i,Lv}var $v,Ok;function es(){if(Ok)return $v;Ok=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return $v=t,$v}var Vv,Ck;function wE(){if(Ck)return Vv;Ck=1;var t=Xa(),e=es(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==n||c==i||c==r||c==a}return Vv=s,Vv}var Fv,Nk;function T8(){if(Nk)return Fv;Nk=1;var t=ua(),e=t["__core-js_shared__"];return Fv=e,Fv}var Uv,Rk;function A8(){if(Rk)return Uv;Rk=1;var t=T8(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Uv=r,Uv}var Bv,jk;function iL(){if(jk)return Bv;jk=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Bv=r,Bv}var qv,Mk;function P8(){if(Mk)return qv;Mk=1;var t=wE(),e=A8(),r=es(),n=iL(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var b=t(y)?h:a;return b.test(n(y))}return qv=m,qv}var zv,Dk;function k8(){if(Dk)return zv;Dk=1;function t(e,r){return e?.[r]}return zv=t,zv}var Wv,Lk;function ll(){if(Lk)return Wv;Lk=1;var t=P8(),e=k8();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Wv=r,Wv}var Hv,$k;function tg(){if($k)return Hv;$k=1;var t=ll(),e=t(Object,"create");return Hv=e,Hv}var Kv,Vk;function I8(){if(Vk)return Kv;Vk=1;var t=tg();function e(){this.__data__=t?t(null):{},this.size=0}return Kv=e,Kv}var Gv,Fk;function O8(){if(Fk)return Gv;Fk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Gv=t,Gv}var Yv,Uk;function C8(){if(Uk)return Yv;Uk=1;var t=tg(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var u=s[a];return u===e?void 0:u}return n.call(s,a)?s[a]:void 0}return Yv=i,Yv}var Xv,Bk;function N8(){if(Bk)return Xv;Bk=1;var t=tg(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return Xv=n,Xv}var Qv,qk;function R8(){if(qk)return Qv;qk=1;var t=tg(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return Qv=r,Qv}var Jv,zk;function j8(){if(zk)return Jv;zk=1;var t=I8(),e=O8(),r=C8(),n=N8(),i=R8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Jv=a,Jv}var Zv,Wk;function M8(){if(Wk)return Zv;Wk=1;function t(){this.__data__=[],this.size=0}return Zv=t,Zv}var e0,Hk;function EE(){if(Hk)return e0;Hk=1;function t(e,r){return e===r||e!==e&&r!==r}return e0=t,e0}var t0,Kk;function rg(){if(Kk)return t0;Kk=1;var t=EE();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return t0=e,t0}var r0,Gk;function D8(){if(Gk)return r0;Gk=1;var t=rg(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var u=a.length-1;return s==u?a.pop():r.call(a,s,1),--this.size,!0}return r0=n,r0}var n0,Yk;function L8(){if(Yk)return n0;Yk=1;var t=rg();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return n0=e,n0}var i0,Xk;function $8(){if(Xk)return i0;Xk=1;var t=rg();function e(r){return t(this.__data__,r)>-1}return i0=e,i0}var a0,Qk;function V8(){if(Qk)return a0;Qk=1;var t=rg();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return a0=e,a0}var o0,Jk;function ng(){if(Jk)return o0;Jk=1;var t=M8(),e=D8(),r=L8(),n=$8(),i=V8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,o0=a,o0}var s0,Zk;function SE(){if(Zk)return s0;Zk=1;var t=ll(),e=ua(),r=t(e,"Map");return s0=r,s0}var l0,eI;function F8(){if(eI)return l0;eI=1;var t=j8(),e=ng(),r=SE();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return l0=n,l0}var u0,tI;function U8(){if(tI)return u0;tI=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return u0=t,u0}var c0,rI;function ig(){if(rI)return c0;rI=1;var t=U8();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return c0=e,c0}var f0,nI;function B8(){if(nI)return f0;nI=1;var t=ig();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return f0=e,f0}var d0,iI;function q8(){if(iI)return d0;iI=1;var t=ig();function e(r){return t(this,r).get(r)}return d0=e,d0}var h0,aI;function z8(){if(aI)return h0;aI=1;var t=ig();function e(r){return t(this,r).has(r)}return h0=e,h0}var p0,oI;function W8(){if(oI)return p0;oI=1;var t=ig();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return p0=e,p0}var m0,sI;function TE(){if(sI)return m0;sI=1;var t=F8(),e=B8(),r=q8(),n=z8(),i=W8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,m0=a,m0}var g0,lI;function aL(){if(lI)return g0;lI=1;var t=TE(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=a.cache;if(c.has(u))return c.get(u);var f=n.apply(this,s);return a.cache=c.set(u,f)||c,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,g0=r,g0}var y0,uI;function H8(){if(uI)return y0;uI=1;var t=aL(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return y0=r,y0}var v0,cI;function K8(){if(cI)return v0;cI=1;var t=H8(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,u,c,f){a.push(c?f.replace(r,"$1"):u||s)}),a});return v0=n,v0}var b0,fI;function AE(){if(fI)return b0;fI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return b0=t,b0}var _0,dI;function G8(){if(dI)return _0;dI=1;var t=Sd(),e=AE(),r=kn(),n=Ku(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(r(u))return e(u,s)+"";if(n(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return _0=s,_0}var x0,hI;function oL(){if(hI)return x0;hI=1;var t=G8();function e(r){return r==null?"":t(r)}return x0=e,x0}var w0,pI;function sL(){if(pI)return w0;pI=1;var t=kn(),e=xE(),r=K8(),n=oL();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return w0=i,w0}var E0,mI;function ag(){if(mI)return E0;mI=1;var t=Ku();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return E0=e,E0}var S0,gI;function PE(){if(gI)return S0;gI=1;var t=sL(),e=ag();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return S0=r,S0}var T0,yI;function lL(){if(yI)return T0;yI=1;var t=PE();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return T0=e,T0}var Y8=lL();const zn=yt(Y8);var A0,vI;function X8(){if(vI)return A0;vI=1;function t(e){return e==null}return A0=t,A0}var Q8=X8();const tt=yt(Q8);var P0,bI;function J8(){if(bI)return P0;bI=1;var t=Xa(),e=kn(),r=Qa(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return P0=i,P0}var Z8=J8();const Qs=yt(Z8);var e7=wE();const Ye=yt(e7);var t7=es();const Gu=yt(t7);var k0={exports:{}},pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I;function r7(){if(_I)return pt;_I=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function E(x){if(typeof x=="object"&&x!==null){var N=x.$$typeof;switch(N){case t:switch(x=x.type,x){case r:case i:case n:case f:case h:return x;default:switch(x=x&&x.$$typeof,x){case u:case s:case c:case y:case m:case a:return x;default:return N}}case e:return N}}}return pt.ContextConsumer=s,pt.ContextProvider=a,pt.Element=t,pt.ForwardRef=c,pt.Fragment=r,pt.Lazy=y,pt.Memo=m,pt.Portal=e,pt.Profiler=i,pt.StrictMode=n,pt.Suspense=f,pt.SuspenseList=h,pt.isAsyncMode=function(){return!1},pt.isConcurrentMode=function(){return!1},pt.isContextConsumer=function(x){return E(x)===s},pt.isContextProvider=function(x){return E(x)===a},pt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},pt.isForwardRef=function(x){return E(x)===c},pt.isFragment=function(x){return E(x)===r},pt.isLazy=function(x){return E(x)===y},pt.isMemo=function(x){return E(x)===m},pt.isPortal=function(x){return E(x)===e},pt.isProfiler=function(x){return E(x)===i},pt.isStrictMode=function(x){return E(x)===n},pt.isSuspense=function(x){return E(x)===f},pt.isSuspenseList=function(x){return E(x)===h},pt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===f||x===h||x===b||typeof x=="object"&&x!==null&&(x.$$typeof===y||x.$$typeof===m||x.$$typeof===a||x.$$typeof===s||x.$$typeof===c||x.$$typeof===w||x.getModuleId!==void 0)},pt.typeOf=E,pt}var xI;function n7(){return xI||(xI=1,k0.exports=r7()),k0.exports}var i7=n7(),I0,wI;function uL(){if(wI)return I0;wI=1;var t=Xa(),e=Qa(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return I0=n,I0}var O0,EI;function a7(){if(EI)return O0;EI=1;var t=uL();function e(r){return t(r)&&r!=+r}return O0=e,O0}var o7=a7();const Td=yt(o7);var s7=uL();const l7=yt(s7);var cn=function(e){return e===0?0:e>0?1:-1},Ds=function(e){return Qs(e)&&e.indexOf("%")===e.length-1},be=function(e){return l7(e)&&!Td(e)},u7=function(e){return tt(e)},vr=function(e){return be(e)||Qs(e)},c7=0,Ad=function(e){var r=++c7;return"".concat(e||"").concat(r)},fn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(e)&&!Qs(e))return n;var a;if(Ds(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Td(a)&&(a=n),i&&a>r&&(a=r),a},Do=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},f7=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Io=function(e,r){return be(e)&&be(r)?function(n){return e+n*(r-e)}:function(){return r}};function rw(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):zn(n,e))===r})}var d7=function(e,r){return be(e)&&be(r)?e-r:Qs(e)&&Qs(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function uu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function nw(t){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nw(t)}var h7=["viewBox","children"],p7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SI=["points","pathLength"],C0={svg:h7,polygon:SI,polyline:SI},kE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(G.isValidElement(e)&&(n=e.props),!Gu(n))return null;var i={};return Object.keys(n).forEach(function(a){kE.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},m7=function(e,r,n){return function(i){return e(r,n,i),null}},Js=function(e,r,n){if(!Gu(e)||nw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];kE.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=m7(s,r,n))}),i},g7=["children"],y7=["children"];function TI(t,e){if(t==null)return{};var r=v7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var AI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Va=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},PI=null,N0=null,IE=function t(e){if(e===PI&&Array.isArray(N0))return N0;var r=[];return G.Children.forEach(e,function(n){tt(n)||(i7.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),N0=r,PI=e,r};function ui(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Va(i)}):n=[Va(e)],IE(t).forEach(function(i){var a=zn(i,"type.displayName")||zn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Vn(t,e){var r=ui(t,e);return r&&r[0]}var kI=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!be(n)||n<=0||!be(i)||i<=0)},b7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_7=function(e){return e&&e.type&&Qs(e.type)&&b7.indexOf(e.type)>=0},x7=function(e,r,n,i){var a,s=(a=C0?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ye(e)&&(i&&s.includes(r)||p7.includes(r))||n&&kE.includes(r)},Ke=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(G.isValidElement(e)&&(i=e.props),!Gu(i))return null;var a={};return Object.keys(i).forEach(function(s){var u;x7((u=i)===null||u===void 0?void 0:u[s],s,r,n)&&(a[s]=i[s])}),a},iw=function t(e,r){if(e===r)return!0;var n=G.Children.count(e);if(n!==G.Children.count(r))return!1;if(n===0)return!0;if(n===1)return II(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!II(a,s))return!1}return!0},II=function(e,r){if(tt(e)&&tt(r))return!0;if(!tt(e)&&!tt(r)){var n=e.props||{},i=n.children,a=TI(n,g7),s=r.props||{},u=s.children,c=TI(s,y7);return i&&u?uu(a,c)&&iw(i,u):!i&&!u?uu(a,c):!1}return!1},OI=function(e,r){var n=[],i={};return IE(e).forEach(function(a,s){if(_7(a))n.push(a);else if(a){var u=Va(a.type),c=r[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var m=f(a,u,s);n.push(m),i[u]=!0}}}),n},w7=function(e){var r=e&&e.type;return r&&AI[r]?AI[r]:null},E7=function(e,r){return IE(r).indexOf(e)},S7=["children","width","height","viewBox","className","style","title","desc"];function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aw.apply(this,arguments)}function T7(t,e){if(t==null)return{};var r=A7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function A7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ow(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,u=t.title,c=t.desc,f=T7(t,S7),h=i||{width:r,height:n,x:0,y:0},m=Ze("recharts-surface",a);return W.createElement("svg",aw({},Ke(f,!0,"svg"),{className:m,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),W.createElement("title",null,u),W.createElement("desc",null,c),e)}var P7=["children","className"];function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sw.apply(this,arguments)}function k7(t,e){if(t==null)return{};var r=I7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function I7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _t=W.forwardRef(function(t,e){var r=t.children,n=t.className,i=k7(t,P7),a=Ze("recharts-layer",n);return W.createElement("g",sw({className:a},Ke(i,!0),{ref:e}),r)}),Ni=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},R0,CI;function O7(){if(CI)return R0;CI=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return R0=t,R0}var j0,NI;function C7(){if(NI)return j0;NI=1;var t=O7();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return j0=e,j0}var M0,RI;function cL(){if(RI)return M0;RI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+a+"]");function c(f){return u.test(f)}return M0=c,M0}var D0,jI;function N7(){if(jI)return D0;jI=1;function t(e){return e.split("")}return D0=t,D0}var L0,MI;function R7(){if(MI)return L0;MI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",w=f+"?",E="["+a+"]?",x="(?:"+b+"(?:"+[h,m,y].join("|")+")"+E+w+")*",N=E+w+x,C="(?:"+[h+u+"?",u,m,y,s].join("|")+")",I=RegExp(c+"(?="+c+")|"+C+N,"g");function $(O){return O.match(I)||[]}return L0=$,L0}var $0,DI;function j7(){if(DI)return $0;DI=1;var t=N7(),e=cL(),r=R7();function n(i){return e(i)?r(i):t(i)}return $0=n,$0}var V0,LI;function M7(){if(LI)return V0;LI=1;var t=C7(),e=cL(),r=j7(),n=oL();function i(a){return function(s){s=n(s);var u=e(s)?r(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[a]()+f}}return V0=i,V0}var F0,$I;function D7(){if($I)return F0;$I=1;var t=M7(),e=t("toUpperCase");return F0=e,F0}var L7=D7();const og=yt(L7);function Ot(t){return function(){return t}}const fL=Math.cos,Fp=Math.sin,Di=Math.sqrt,Up=Math.PI,sg=2*Up,lw=Math.PI,uw=2*lw,Ns=1e-6,$7=uw-Ns;function dL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function V7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dL;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class F7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dL:V7(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=n-e,f=i-r,h=s-e,m=u-r,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>Ns)if(!(Math.abs(m*c-f*h)>Ns)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-s,w=i-u,E=c*c+f*f,x=b*b+w*w,N=Math.sqrt(E),C=Math.sqrt(y),I=a*Math.tan((lw-Math.acos((E+y-x)/(2*N*C)))/2),$=I/C,O=I/N;Math.abs($-1)>Ns&&this._append`L${e+$*h},${r+$*m}`,this._append`A${a},${a},0,0,${+(m*b>h*w)},${this._x1=e+O*c},${this._y1=r+O*f}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),c=n*Math.sin(i),f=e+u,h=r+c,m=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ns||Math.abs(this._y1-h)>Ns)&&this._append`L${f},${h}`,n&&(y<0&&(y=y%uw+uw),y>$7?this._append`A${n},${n},0,1,${m},${e-u},${r-c}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:y>Ns&&this._append`A${n},${n},0,${+(y>=lw)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function OE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new F7(e)}function CE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hL(t){this._context=t}hL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lg(t){return new hL(t)}function pL(t){return t[0]}function mL(t){return t[1]}function gL(t,e){var r=Ot(!0),n=null,i=lg,a=null,s=OE(u);t=typeof t=="function"?t:t===void 0?pL:Ot(t),e=typeof e=="function"?e:e===void 0?mL:Ot(e);function u(c){var f,h=(c=CE(c)).length,m,y=!1,b;for(n==null&&(a=i(b=s())),f=0;f<=h;++f)!(f<h&&r(m=c[f],f,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,f,c),+e(m,f,c));if(b)return a=null,b+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),u):e},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ot(!!c),u):r},u.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),u):i},u.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),u):n},u}function Zh(t,e,r){var n=null,i=Ot(!0),a=null,s=lg,u=null,c=OE(f);t=typeof t=="function"?t:t===void 0?pL:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?mL:Ot(+r);function f(m){var y,b,w,E=(m=CE(m)).length,x,N=!1,C,I=new Array(E),$=new Array(E);for(a==null&&(u=s(C=c())),y=0;y<=E;++y){if(!(y<E&&i(x=m[y],y,m))===N)if(N=!N)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=y-1;w>=b;--w)u.point(I[w],$[w]);u.lineEnd(),u.areaEnd()}N&&(I[y]=+t(x,y,m),$[y]=+e(x,y,m),u.point(n?+n(x,y,m):I[y],r?+r(x,y,m):$[y]))}if(C)return u=null,C+""||null}function h(){return gL().defined(i).curve(s).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ot(+m),n=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ot(+m),f):t},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ot(+m),f):n},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ot(+m),r=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ot(+m),f):e},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ot(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ot(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,a!=null&&(u=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=u=null:u=s(a=m),f):a},f}class yL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function U7(t){return new yL(t,!0)}function B7(t){return new yL(t,!1)}const NE={draw(t,e){const r=Di(e/Up);t.moveTo(r,0),t.arc(0,0,r,0,sg)}},q7={draw(t,e){const r=Di(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},vL=Di(1/3),z7=vL*2,W7={draw(t,e){const r=Di(e/z7),n=r*vL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},H7={draw(t,e){const r=Di(e),n=-r/2;t.rect(n,n,r,r)}},K7=.8908130915292852,bL=Fp(Up/10)/Fp(7*Up/10),G7=Fp(sg/10)*bL,Y7=-fL(sg/10)*bL,X7={draw(t,e){const r=Di(e*K7),n=G7*r,i=Y7*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=sg*a/5,u=fL(s),c=Fp(s);t.lineTo(c*r,-u*r),t.lineTo(u*n-c*i,c*n+u*i)}t.closePath()}},U0=Di(3),Q7={draw(t,e){const r=-Di(e/(U0*3));t.moveTo(0,r*2),t.lineTo(-U0*r,-r),t.lineTo(U0*r,-r),t.closePath()}},ri=-.5,ni=Di(3)/2,cw=1/Di(12),J7=(cw/2+1)*3,Z7={draw(t,e){const r=Di(e/J7),n=r/2,i=r*cw,a=n,s=r*cw+r,u=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(ri*n-ni*i,ni*n+ri*i),t.lineTo(ri*a-ni*s,ni*a+ri*s),t.lineTo(ri*u-ni*c,ni*u+ri*c),t.lineTo(ri*n+ni*i,ri*i-ni*n),t.lineTo(ri*a+ni*s,ri*s-ni*a),t.lineTo(ri*u+ni*c,ri*c-ni*u),t.closePath()}};function eW(t,e){let r=null,n=OE(i);t=typeof t=="function"?t:Ot(t||NE),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ot(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Bp(){}function qp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function _L(t){this._context=t}_L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tW(t){return new _L(t)}function xL(t){this._context=t}xL.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rW(t){return new xL(t)}function wL(t){this._context=t}wL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nW(t){return new wL(t)}function EL(t){this._context=t}EL.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function iW(t){return new EL(t)}function VI(t){return t<0?-1:1}function FI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),u=(a*i+s*n)/(n+i);return(VI(a)+VI(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function UI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function B0(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,s-u*r,a,s)}function zp(t){this._context=t}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:B0(this,this._t0,UI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,B0(this,UI(this,r=FI(this,t,e)),r);break;default:B0(this,this._t0,r=FI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function SL(t){this._context=new TL(t)}(SL.prototype=Object.create(zp.prototype)).point=function(t,e){zp.prototype.point.call(this,e,t)};function TL(t){this._context=t}TL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function aW(t){return new zp(t)}function oW(t){return new SL(t)}function AL(t){this._context=t}AL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=BI(t),i=BI(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function BI(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function sW(t){return new AL(t)}function ug(t,e){this._context=t,this._t=e}ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function lW(t){return new ug(t,.5)}function uW(t){return new ug(t,0)}function cW(t){return new ug(t,1)}function bu(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,u=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function fw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function fW(t,e){return t[e]}function dW(t){const e=[];return e.key=t,e}function hW(){var t=Ot([]),e=fw,r=bu,n=fW;function i(a){var s=Array.from(t.apply(this,arguments),dW),u,c=s.length,f=-1,h;for(const m of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+n(m,s[u].key,f,a)]).data=m;for(u=0,h=CE(e(s));u<c;++u)s[h[u]].index=u;return r(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ot(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?fw:typeof a=="function"?a:Ot(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??bu,i):r},i}function pW(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}bu(t,e)}}function mW(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,u=0;s<i;++s)u+=t[s][r][1]||0;n[r][1]+=n[r][0]=-u/2}bu(t,e)}}function gW(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],m=h[n][1]||0,y=h[n-1][1]||0,b=(m-y)/2,w=0;w<u;++w){var E=t[e[w]],x=E[n][1]||0,N=E[n-1][1]||0;b+=x-N}c+=m,f+=b*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,bu(t,e)}}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}var yW=["type","size","sizeType"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dw.apply(this,arguments)}function qI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(r),!0).forEach(function(n){vW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vW(t,e,r){return e=bW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bW(t){var e=_W(t,"string");return Af(e)=="symbol"?e:e+""}function _W(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xW(t,e){if(t==null)return{};var r=wW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var PL={symbolCircle:NE,symbolCross:q7,symbolDiamond:W7,symbolSquare:H7,symbolStar:X7,symbolTriangle:Q7,symbolWye:Z7},EW=Math.PI/180,SW=function(e){var r="symbol".concat(og(e));return PL[r]||NE},TW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*EW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},AW=function(e,r){PL["symbol".concat(og(e))]=r},RE=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=xW(e,yW),f=zI(zI({},c),{},{type:n,size:a,sizeType:u}),h=function(){var x=SW(n),N=eW().type(x).size(TW(a,u,n));return N()},m=f.className,y=f.cx,b=f.cy,w=Ke(f,!0);return y===+y&&b===+b&&a===+a?W.createElement("path",dw({},w,{className:Ze("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(b,")"),d:h()})):null};RE.registerSymbol=AW;function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(this,arguments)}function WI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(r),!0).forEach(function(n){Pf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IL(n.key),n)}}function OW(t,e,r){return e&&IW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CW(t,e,r){return e=Wp(e),NW(t,kL()?Reflect.construct(e,r||[],Wp(t).constructor):e.apply(t,r))}function NW(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RW(t)}function RW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kL=function(){return!!t})()}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(t)}function jW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pw(t,e)}function pw(t,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pw(t,e)}function Pf(t,e,r){return e=IL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IL(t){var e=MW(t,"string");return _u(e)=="symbol"?e:e+""}function MW(t,e){if(_u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ii=32,jE=function(t){function e(){return kW(this,e),CW(this,e,arguments)}return jW(e,t),OW(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ii/2,s=ii/6,u=ii/3,c=n.inactive?i:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ii,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(ii,"M").concat(2*u,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ii/8,"h").concat(ii,"v").concat(ii*3/4,"h").concat(-ii,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var f=PW({},n);return delete f.legendIcon,W.cloneElement(n.legendIcon,f)}return W.createElement(RE,{fill:c,cx:a,cy:a,size:ii,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:ii,height:ii},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,w){var E=b.formatter||c,x=Ze(Pf(Pf({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",b.inactive));if(b.type==="none")return null;var N=Ye(b.value)?null:b.value;Ni(!Ye(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=b.inactive?f:b.color;return W.createElement("li",hw({className:x,style:m,key:"legend-item-".concat(w)},Js(n.props,b,w)),W.createElement(ow,{width:s,height:s,viewBox:h,style:y},n.renderIcon(b)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},E?E(N,b,w):N))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(G.PureComponent);Pf(jE,"displayName","Legend");Pf(jE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var q0,HI;function DW(){if(HI)return q0;HI=1;var t=ng();function e(){this.__data__=new t,this.size=0}return q0=e,q0}var z0,KI;function LW(){if(KI)return z0;KI=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return z0=t,z0}var W0,GI;function $W(){if(GI)return W0;GI=1;function t(e){return this.__data__.get(e)}return W0=t,W0}var H0,YI;function VW(){if(YI)return H0;YI=1;function t(e){return this.__data__.has(e)}return H0=t,H0}var K0,XI;function FW(){if(XI)return K0;XI=1;var t=ng(),e=SE(),r=TE(),n=200;function i(a,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<n-1)return c.push([a,s]),this.size=++u.size,this;u=this.__data__=new r(c)}return u.set(a,s),this.size=u.size,this}return K0=i,K0}var G0,QI;function OL(){if(QI)return G0;QI=1;var t=ng(),e=DW(),r=LW(),n=$W(),i=VW(),a=FW();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,G0=s,G0}var Y0,JI;function UW(){if(JI)return Y0;JI=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Y0=e,Y0}var X0,ZI;function BW(){if(ZI)return X0;ZI=1;function t(e){return this.__data__.has(e)}return X0=t,X0}var Q0,eO;function CL(){if(eO)return Q0;eO=1;var t=TE(),e=UW(),r=BW();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Q0=n,Q0}var J0,tO;function NL(){if(tO)return J0;tO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return J0=t,J0}var Z0,rO;function RL(){if(rO)return Z0;rO=1;function t(e,r){return e.has(r)}return Z0=t,Z0}var eb,nO;function jL(){if(nO)return eb;nO=1;var t=CL(),e=NL(),r=RL(),n=1,i=2;function a(s,u,c,f,h,m){var y=c&n,b=s.length,w=u.length;if(b!=w&&!(y&&w>b))return!1;var E=m.get(s),x=m.get(u);if(E&&x)return E==u&&x==s;var N=-1,C=!0,I=c&i?new t:void 0;for(m.set(s,u),m.set(u,s);++N<b;){var $=s[N],O=u[N];if(f)var j=y?f(O,$,N,u,s,m):f($,O,N,s,u,m);if(j!==void 0){if(j)continue;C=!1;break}if(I){if(!e(u,function(A,P){if(!r(I,P)&&($===A||h($,A,c,f,m)))return I.push(P)})){C=!1;break}}else if(!($===O||h($,O,c,f,m))){C=!1;break}}return m.delete(s),m.delete(u),C}return eb=a,eb}var tb,iO;function qW(){if(iO)return tb;iO=1;var t=ua(),e=t.Uint8Array;return tb=e,tb}var rb,aO;function zW(){if(aO)return rb;aO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return rb=t,rb}var nb,oO;function ME(){if(oO)return nb;oO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return nb=t,nb}var ib,sO;function WW(){if(sO)return ib;sO=1;var t=Sd(),e=qW(),r=EE(),n=jL(),i=zW(),a=ME(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",b="[object RegExp]",w="[object Set]",E="[object String]",x="[object Symbol]",N="[object ArrayBuffer]",C="[object DataView]",I=t?t.prototype:void 0,$=I?I.valueOf:void 0;function O(j,A,P,R,V,L,F){switch(P){case C:if(j.byteLength!=A.byteLength||j.byteOffset!=A.byteOffset)return!1;j=j.buffer,A=A.buffer;case N:return!(j.byteLength!=A.byteLength||!L(new e(j),new e(A)));case c:case f:case y:return r(+j,+A);case h:return j.name==A.name&&j.message==A.message;case b:case E:return j==A+"";case m:var M=i;case w:var ee=R&s;if(M||(M=a),j.size!=A.size&&!ee)return!1;var re=F.get(j);if(re)return re==A;R|=u,F.set(j,A);var ie=n(M(j),M(A),R,V,L,F);return F.delete(j),ie;case x:if($)return $.call(j)==$.call(A)}return!1}return ib=O,ib}var ab,lO;function ML(){if(lO)return ab;lO=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return ab=t,ab}var ob,uO;function HW(){if(uO)return ob;uO=1;var t=ML(),e=kn();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return ob=r,ob}var sb,cO;function KW(){if(cO)return sb;cO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var u=e[n];r(u,n,e)&&(s[a++]=u)}return s}return sb=t,sb}var lb,fO;function GW(){if(fO)return lb;fO=1;function t(){return[]}return lb=t,lb}var ub,dO;function YW(){if(dO)return ub;dO=1;var t=KW(),e=GW(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return n.call(s,u)}))}:e;return ub=a,ub}var cb,hO;function XW(){if(hO)return cb;hO=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return cb=t,cb}var fb,pO;function QW(){if(pO)return fb;pO=1;var t=Xa(),e=Qa(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return fb=n,fb}var db,mO;function DE(){if(mO)return db;mO=1;var t=QW(),e=Qa(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return db=a,db}var Jc={exports:{}},hb,gO;function JW(){if(gO)return hb;gO=1;function t(){return!1}return hb=t,hb}Jc.exports;var yO;function DL(){return yO||(yO=1,function(t,e){var r=ua(),n=JW(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||n;t.exports=f}(Jc,Jc.exports)),Jc.exports}var pb,vO;function LE(){if(vO)return pb;vO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return pb=r,pb}var mb,bO;function $E(){if(bO)return mb;bO=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return mb=e,mb}var gb,_O;function ZW(){if(_O)return gb;_O=1;var t=Xa(),e=$E(),r=Qa(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",y="[object RegExp]",b="[object Set]",w="[object String]",E="[object WeakMap]",x="[object ArrayBuffer]",N="[object DataView]",C="[object Float32Array]",I="[object Float64Array]",$="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",R="[object Uint16Array]",V="[object Uint32Array]",L={};L[C]=L[I]=L[$]=L[O]=L[j]=L[A]=L[P]=L[R]=L[V]=!0,L[n]=L[i]=L[x]=L[a]=L[N]=L[s]=L[u]=L[c]=L[f]=L[h]=L[m]=L[y]=L[b]=L[w]=L[E]=!1;function F(M){return r(M)&&e(M.length)&&!!L[t(M)]}return gb=F,gb}var yb,xO;function LL(){if(xO)return yb;xO=1;function t(e){return function(r){return e(r)}}return yb=t,yb}var Zc={exports:{}};Zc.exports;var wO;function eH(){return wO||(wO=1,function(t,e){var r=nL(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,u=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=u}(Zc,Zc.exports)),Zc.exports}var vb,EO;function $L(){if(EO)return vb;EO=1;var t=ZW(),e=LL(),r=eH(),n=r&&r.isTypedArray,i=n?e(n):t;return vb=i,vb}var bb,SO;function tH(){if(SO)return bb;SO=1;var t=XW(),e=DE(),r=kn(),n=DL(),i=LE(),a=$L(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var m=r(f),y=!m&&e(f),b=!m&&!y&&n(f),w=!m&&!y&&!b&&a(f),E=m||y||b||w,x=E?t(f.length,String):[],N=x.length;for(var C in f)(h||u.call(f,C))&&!(E&&(C=="length"||b&&(C=="offset"||C=="parent")||w&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,N)))&&x.push(C);return x}return bb=c,bb}var _b,TO;function rH(){if(TO)return _b;TO=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return _b=e,_b}var xb,AO;function VL(){if(AO)return xb;AO=1;function t(e,r){return function(n){return e(r(n))}}return xb=t,xb}var wb,PO;function nH(){if(PO)return wb;PO=1;var t=VL(),e=t(Object.keys,Object);return wb=e,wb}var Eb,kO;function iH(){if(kO)return Eb;kO=1;var t=rH(),e=nH(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&s.push(u);return s}return Eb=i,Eb}var Sb,IO;function Pd(){if(IO)return Sb;IO=1;var t=wE(),e=$E();function r(n){return n!=null&&e(n.length)&&!t(n)}return Sb=r,Sb}var Tb,OO;function cg(){if(OO)return Tb;OO=1;var t=tH(),e=iH(),r=Pd();function n(i){return r(i)?t(i):e(i)}return Tb=n,Tb}var Ab,CO;function aH(){if(CO)return Ab;CO=1;var t=HW(),e=YW(),r=cg();function n(i){return t(i,r,e)}return Ab=n,Ab}var Pb,NO;function oH(){if(NO)return Pb;NO=1;var t=aH(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,u,c,f,h){var m=u&e,y=t(a),b=y.length,w=t(s),E=w.length;if(b!=E&&!m)return!1;for(var x=b;x--;){var N=y[x];if(!(m?N in s:n.call(s,N)))return!1}var C=h.get(a),I=h.get(s);if(C&&I)return C==s&&I==a;var $=!0;h.set(a,s),h.set(s,a);for(var O=m;++x<b;){N=y[x];var j=a[N],A=s[N];if(c)var P=m?c(A,j,N,s,a,h):c(j,A,N,a,s,h);if(!(P===void 0?j===A||f(j,A,u,c,h):P)){$=!1;break}O||(O=N=="constructor")}if($&&!O){var R=a.constructor,V=s.constructor;R!=V&&"constructor"in a&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof V=="function"&&V instanceof V)&&($=!1)}return h.delete(a),h.delete(s),$}return Pb=i,Pb}var kb,RO;function sH(){if(RO)return kb;RO=1;var t=ll(),e=ua(),r=t(e,"DataView");return kb=r,kb}var Ib,jO;function lH(){if(jO)return Ib;jO=1;var t=ll(),e=ua(),r=t(e,"Promise");return Ib=r,Ib}var Ob,MO;function FL(){if(MO)return Ob;MO=1;var t=ll(),e=ua(),r=t(e,"Set");return Ob=r,Ob}var Cb,DO;function uH(){if(DO)return Cb;DO=1;var t=ll(),e=ua(),r=t(e,"WeakMap");return Cb=r,Cb}var Nb,LO;function cH(){if(LO)return Nb;LO=1;var t=sH(),e=SE(),r=lH(),n=FL(),i=uH(),a=Xa(),s=iL(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",y="[object DataView]",b=s(t),w=s(e),E=s(r),x=s(n),N=s(i),C=a;return(t&&C(new t(new ArrayBuffer(1)))!=y||e&&C(new e)!=u||r&&C(r.resolve())!=f||n&&C(new n)!=h||i&&C(new i)!=m)&&(C=function(I){var $=a(I),O=$==c?I.constructor:void 0,j=O?s(O):"";if(j)switch(j){case b:return y;case w:return u;case E:return f;case x:return h;case N:return m}return $}),Nb=C,Nb}var Rb,$O;function fH(){if($O)return Rb;$O=1;var t=OL(),e=jL(),r=WW(),n=oH(),i=cH(),a=kn(),s=DL(),u=$L(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function w(E,x,N,C,I,$){var O=a(E),j=a(x),A=O?h:i(E),P=j?h:i(x);A=A==f?m:A,P=P==f?m:P;var R=A==m,V=P==m,L=A==P;if(L&&s(E)){if(!s(x))return!1;O=!0,R=!1}if(L&&!R)return $||($=new t),O||u(E)?e(E,x,N,C,I,$):r(E,x,A,N,C,I,$);if(!(N&c)){var F=R&&b.call(E,"__wrapped__"),M=V&&b.call(x,"__wrapped__");if(F||M){var ee=F?E.value():E,re=M?x.value():x;return $||($=new t),I(ee,re,N,C,$)}}return L?($||($=new t),n(E,x,N,C,I,$)):!1}return Rb=w,Rb}var jb,VO;function VE(){if(VO)return jb;VO=1;var t=fH(),e=Qa();function r(n,i,a,s,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,u)}return jb=r,jb}var Mb,FO;function dH(){if(FO)return Mb;FO=1;var t=OL(),e=VE(),r=1,n=2;function i(a,s,u,c){var f=u.length,h=f,m=!c;if(a==null)return!h;for(a=Object(a);f--;){var y=u[f];if(m&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++f<h;){y=u[f];var b=y[0],w=a[b],E=y[1];if(m&&y[2]){if(w===void 0&&!(b in a))return!1}else{var x=new t;if(c)var N=c(w,E,b,a,s,x);if(!(N===void 0?e(E,w,r|n,c,x):N))return!1}}return!0}return Mb=i,Mb}var Db,UO;function UL(){if(UO)return Db;UO=1;var t=es();function e(r){return r===r&&!t(r)}return Db=e,Db}var Lb,BO;function hH(){if(BO)return Lb;BO=1;var t=UL(),e=cg();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],u=n[s];i[a]=[s,u,t(u)]}return i}return Lb=r,Lb}var $b,qO;function BL(){if(qO)return $b;qO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return $b=t,$b}var Vb,zO;function pH(){if(zO)return Vb;zO=1;var t=dH(),e=hH(),r=BL();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return Vb=n,Vb}var Fb,WO;function mH(){if(WO)return Fb;WO=1;function t(e,r){return e!=null&&r in Object(e)}return Fb=t,Fb}var Ub,HO;function gH(){if(HO)return Ub;HO=1;var t=sL(),e=DE(),r=kn(),n=LE(),i=$E(),a=ag();function s(u,c,f){c=t(c,u);for(var h=-1,m=c.length,y=!1;++h<m;){var b=a(c[h]);if(!(y=u!=null&&f(u,b)))break;u=u[b]}return y||++h!=m?y:(m=u==null?0:u.length,!!m&&i(m)&&n(b,m)&&(r(u)||e(u)))}return Ub=s,Ub}var Bb,KO;function yH(){if(KO)return Bb;KO=1;var t=mH(),e=gH();function r(n,i){return n!=null&&e(n,i,t)}return Bb=r,Bb}var qb,GO;function vH(){if(GO)return qb;GO=1;var t=VE(),e=lL(),r=yH(),n=xE(),i=UL(),a=BL(),s=ag(),u=1,c=2;function f(h,m){return n(h)&&i(m)?a(s(h),m):function(y){var b=e(y,h);return b===void 0&&b===m?r(y,h):t(m,b,u|c)}}return qb=f,qb}var zb,YO;function Yu(){if(YO)return zb;YO=1;function t(e){return e}return zb=t,zb}var Wb,XO;function bH(){if(XO)return Wb;XO=1;function t(e){return function(r){return r?.[e]}}return Wb=t,Wb}var Hb,QO;function _H(){if(QO)return Hb;QO=1;var t=PE();function e(r){return function(n){return t(n,r)}}return Hb=e,Hb}var Kb,JO;function xH(){if(JO)return Kb;JO=1;var t=bH(),e=_H(),r=xE(),n=ag();function i(a){return r(a)?t(n(a)):e(a)}return Kb=i,Kb}var Gb,ZO;function ca(){if(ZO)return Gb;ZO=1;var t=pH(),e=vH(),r=Yu(),n=kn(),i=xH();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return Gb=a,Gb}var Yb,eC;function qL(){if(eC)return Yb;eC=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return Yb=t,Yb}var Xb,tC;function wH(){if(tC)return Xb;tC=1;function t(e){return e!==e}return Xb=t,Xb}var Qb,rC;function EH(){if(rC)return Qb;rC=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Qb=t,Qb}var Jb,nC;function SH(){if(nC)return Jb;nC=1;var t=qL(),e=wH(),r=EH();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return Jb=n,Jb}var Zb,iC;function TH(){if(iC)return Zb;iC=1;var t=SH();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Zb=e,Zb}var e_,aC;function AH(){if(aC)return e_;aC=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return e_=t,e_}var t_,oC;function PH(){if(oC)return t_;oC=1;function t(){}return t_=t,t_}var r_,sC;function kH(){if(sC)return r_;sC=1;var t=FL(),e=PH(),r=ME(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return r_=i,r_}var n_,lC;function IH(){if(lC)return n_;lC=1;var t=CL(),e=TH(),r=AH(),n=RL(),i=kH(),a=ME(),s=200;function u(c,f,h){var m=-1,y=e,b=c.length,w=!0,E=[],x=E;if(h)w=!1,y=r;else if(b>=s){var N=f?null:i(c);if(N)return a(N);w=!1,y=n,x=new t}else x=f?[]:E;e:for(;++m<b;){var C=c[m],I=f?f(C):C;if(C=h||C!==0?C:0,w&&I===I){for(var $=x.length;$--;)if(x[$]===I)continue e;f&&x.push(I),E.push(C)}else y(x,I,h)||(x!==E&&x.push(I),E.push(C))}return E}return n_=u,n_}var i_,uC;function OH(){if(uC)return i_;uC=1;var t=ca(),e=IH();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return i_=r,i_}var CH=OH();const cC=yt(CH);function zL(t,e,r){return e===!0?cC(t,r):Ye(e)?cC(t,e):t}function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}var NH=["ref"];function fC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(r),!0).forEach(function(n){fg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HL(n.key),n)}}function jH(t,e,r){return e&&dC(t.prototype,e),r&&dC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MH(t,e,r){return e=Hp(e),DH(t,WL()?Reflect.construct(e,r||[],Hp(t).constructor):e.apply(t,r))}function DH(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LH(t)}function LH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WL=function(){return!!t})()}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(t)}function $H(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mw(t,e)}function mw(t,e){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mw(t,e)}function fg(t,e,r){return e=HL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HL(t){var e=VH(t,"string");return xu(e)=="symbol"?e:e+""}function VH(t,e){if(xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function FH(t,e){if(t==null)return{};var r=UH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BH(t){return t.value}function qH(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=FH(e,NH);return W.createElement(jE,r)}var hC=1,qo=function(t){function e(){var r;RH(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=MH(this,e,[].concat(i)),fg(r,"lastBoundingBox",{width:-1,height:-1}),r}return $H(e,t),jH(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>hC||Math.abs(i.height-this.lastBoundingBox.height)>hC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Oa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();m={left:((f||0)-b.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();y={top:((h||0)-w.height)/2}}else y=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Oa(Oa({},m),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=Oa(Oa({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return W.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(b){n.wrapperNode=b}},qH(a,Oa(Oa({},this.props),{},{payload:zL(h,f,BH)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Oa(Oa({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&be(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(G.PureComponent);fg(qo,"displayName","Legend");fg(qo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var a_,pC;function zH(){if(pC)return a_;pC=1;var t=Sd(),e=DE(),r=kn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return a_=i,a_}var o_,mC;function KL(){if(mC)return o_;mC=1;var t=ML(),e=zH();function r(n,i,a,s,u){var c=-1,f=n.length;for(a||(a=e),u||(u=[]);++c<f;){var h=n[c];i>0&&a(h)?i>1?r(h,i-1,a,s,u):t(u,h):s||(u[u.length]=h)}return u}return o_=r,o_}var s_,gC;function WH(){if(gC)return s_;gC=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),u=i(r),c=u.length;c--;){var f=u[e?c:++a];if(n(s[f],f,s)===!1)break}return r}}return s_=t,s_}var l_,yC;function HH(){if(yC)return l_;yC=1;var t=WH(),e=t();return l_=e,l_}var u_,vC;function GL(){if(vC)return u_;vC=1;var t=HH(),e=cg();function r(n,i){return n&&t(n,i,e)}return u_=r,u_}var c_,bC;function KH(){if(bC)return c_;bC=1;var t=Pd();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,u=n?s:-1,c=Object(i);(n?u--:++u<s)&&a(c[u],u,c)!==!1;);return i}}return c_=e,c_}var f_,_C;function FE(){if(_C)return f_;_C=1;var t=GL(),e=KH(),r=e(t);return f_=r,f_}var d_,xC;function YL(){if(xC)return d_;xC=1;var t=FE(),e=Pd();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(u,c,f){s[++a]=i(u,c,f)}),s}return d_=r,d_}var h_,wC;function GH(){if(wC)return h_;wC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return h_=t,h_}var p_,EC;function YH(){if(EC)return p_;EC=1;var t=Ku();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,u=t(r),c=n!==void 0,f=n===null,h=n===n,m=t(n);if(!f&&!m&&!u&&r>n||u&&c&&h&&!f&&!m||a&&c&&h||!i&&h||!s)return 1;if(!a&&!u&&!m&&r<n||m&&i&&s&&!a&&!u||f&&i&&s||!c&&s||!h)return-1}return 0}return p_=e,p_}var m_,SC;function XH(){if(SC)return m_;SC=1;var t=YH();function e(r,n,i){for(var a=-1,s=r.criteria,u=n.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],u[a]);if(h){if(a>=f)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return r.index-n.index}return m_=e,m_}var g_,TC;function QH(){if(TC)return g_;TC=1;var t=AE(),e=PE(),r=ca(),n=YL(),i=GH(),a=LL(),s=XH(),u=Yu(),c=kn();function f(h,m,y){m.length?m=t(m,function(E){return c(E)?function(x){return e(x,E.length===1?E[0]:E)}:E}):m=[u];var b=-1;m=t(m,a(r));var w=n(h,function(E,x,N){var C=t(m,function(I){return I(E)});return{criteria:C,index:++b,value:E}});return i(w,function(E,x){return s(E,x,y)})}return g_=f,g_}var y_,AC;function JH(){if(AC)return y_;AC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return y_=t,y_}var v_,PC;function ZH(){if(PC)return v_;PC=1;var t=JH(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),f=Array(c);++u<c;)f[u]=s[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=s[u];return h[i]=a(f),t(n,this,h)}}return v_=r,v_}var b_,kC;function eK(){if(kC)return b_;kC=1;function t(e){return function(){return e}}return b_=t,b_}var __,IC;function XL(){if(IC)return __;IC=1;var t=ll(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return __=e,__}var x_,OC;function tK(){if(OC)return x_;OC=1;var t=eK(),e=XL(),r=Yu(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return x_=n,x_}var w_,CC;function rK(){if(CC)return w_;CC=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var u=r(),c=e-(u-s);if(s=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return w_=n,w_}var E_,NC;function nK(){if(NC)return E_;NC=1;var t=tK(),e=rK(),r=e(t);return E_=r,E_}var S_,RC;function iK(){if(RC)return S_;RC=1;var t=Yu(),e=ZH(),r=nK();function n(i,a){return r(e(i,a,t),i+"")}return S_=n,S_}var T_,jC;function dg(){if(jC)return T_;jC=1;var t=EE(),e=Pd(),r=LE(),n=es();function i(a,s,u){if(!n(u))return!1;var c=typeof s;return(c=="number"?e(u)&&r(s,u.length):c=="string"&&s in u)?t(u[s],a):!1}return T_=i,T_}var A_,MC;function aK(){if(MC)return A_;MC=1;var t=KL(),e=QH(),r=iK(),n=dg(),i=r(function(a,s){if(a==null)return[];var u=s.length;return u>1&&n(a,s[0],s[1])?s=[]:u>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return A_=i,A_}var oK=aK();const UE=yt(oK);function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gw.apply(this,arguments)}function sK(t,e){return fK(t)||cK(t,e)||uK(t,e)||lK()}function lK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uK(t,e){if(t){if(typeof t=="string")return DC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DC(t,e)}}function DC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function fK(t){if(Array.isArray(t))return t}function LC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(r),!0).forEach(function(n){dK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dK(t,e,r){return e=hK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hK(t){var e=pK(t,"string");return kf(e)=="symbol"?e:e+""}function pK(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mK(t){return Array.isArray(t)&&vr(t[0])&&vr(t[1])?t.join(" ~ "):t}var gK=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,y=e.itemSorter,b=e.wrapperClassName,w=e.labelClassName,E=e.label,x=e.labelFormatter,N=e.accessibilityLayer,C=N===void 0?!1:N,I=function(){if(h&&h.length){var F={padding:0,margin:0},M=(y?UE(h,y):h).map(function(ee,re){if(ee.type==="none")return null;var ie=P_({display:"block",paddingTop:4,paddingBottom:4,color:ee.color||"#000"},u),oe=ee.formatter||m||mK,Q=ee.value,ae=ee.name,se=Q,q=ae;if(oe&&se!=null&&q!=null){var K=oe(Q,ae,ee,re,h);if(Array.isArray(K)){var fe=sK(K,2);se=fe[0],q=fe[1]}else se=K}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(re),style:ie},vr(q)?W.createElement("span",{className:"recharts-tooltip-item-name"},q):null,vr(q)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},se),W.createElement("span",{className:"recharts-tooltip-item-unit"},ee.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:F},M)}return null},$=P_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),O=P_({margin:0},f),j=!tt(E),A=j?E:"",P=Ze("recharts-default-tooltip",b),R=Ze("recharts-tooltip-label",w);j&&x&&h!==void 0&&h!==null&&(A=x(E,h));var V=C?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",gw({className:P,style:$},V),W.createElement("p",{className:R,style:O},W.isValidElement(A)?A:"".concat(A)),I())};function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function ep(t,e,r){return e=yK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yK(t){var e=vK(t,"string");return If(e)=="symbol"?e:e+""}function vK(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dc="recharts-tooltip-wrapper",bK={visibility:"hidden"};function _K(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ze(Dc,ep(ep(ep(ep({},"".concat(Dc,"-right"),be(r)&&e&&be(e.x)&&r>=e.x),"".concat(Dc,"-left"),be(r)&&e&&be(e.x)&&r<e.x),"".concat(Dc,"-bottom"),be(n)&&e&&be(e.y)&&n>=e.y),"".concat(Dc,"-top"),be(n)&&e&&be(e.y)&&n<e.y))}function $C(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&be(a[n]))return a[n];var h=r[n]-u-i,m=r[n]+i;if(e[n])return s[n]?h:m;if(s[n]){var y=h,b=c[n];return y<b?Math.max(m,c[n]):Math.max(h,c[n])}var w=m+u,E=c[n]+f;return w>E?Math.max(h,c[n]):Math.max(m,c[n])}function xK(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function wK(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,m;return s.height>0&&s.width>0&&r?(h=$C({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=$C({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=xK({translateX:h,translateY:m,useTranslate3d:u})):f=bK,{cssProperties:f,cssClasses:_K({translateX:h,translateY:m,coordinate:r})}}function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function VC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(r),!0).forEach(function(n){vw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JL(n.key),n)}}function TK(t,e,r){return e&&SK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AK(t,e,r){return e=Kp(e),PK(t,QL()?Reflect.construct(e,r||[],Kp(t).constructor):e.apply(t,r))}function PK(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kK(t)}function kK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QL=function(){return!!t})()}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kp(t)}function IK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yw(t,e)}function vw(t,e,r){return e=JL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JL(t){var e=OK(t,"string");return wu(e)=="symbol"?e:e+""}function OK(t,e){if(wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UC=1,CK=function(t){function e(){var r;EK(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=AK(this,e,[].concat(i)),vw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),vw(r,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return IK(e,t),TK(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>UC||Math.abs(n.height-this.state.lastBoundingBox.height)>UC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,b=i.offset,w=i.position,E=i.reverseDirection,x=i.useTranslate3d,N=i.viewBox,C=i.wrapperStyle,I=wK({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:b,position:w,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:N}),$=I.cssClasses,O=I.cssProperties,j=FC(FC({transition:y&&a?"transform ".concat(u,"ms ").concat(c):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},C);return W.createElement("div",{tabIndex:-1,className:$,style:j,ref:function(P){n.wrapperNode=P}},f)}}])}(G.PureComponent),NK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xu={isSsr:NK()};function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function BC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(r),!0).forEach(function(n){BE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e$(n.key),n)}}function MK(t,e,r){return e&&jK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DK(t,e,r){return e=Gp(e),LK(t,ZL()?Reflect.construct(e,r||[],Gp(t).constructor):e.apply(t,r))}function LK(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $K(t)}function $K(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gp(t)}function VK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bw(t,e)}function BE(t,e,r){return e=e$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e$(t){var e=FK(t,"string");return Eu(e)=="symbol"?e:e+""}function FK(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UK(t){return t.dataKey}function BK(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(gK,e)}var oi=function(t){function e(){return RK(this,e),DK(this,e,arguments)}return VK(e,t),MK(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,y=i.isAnimationActive,b=i.offset,w=i.payload,E=i.payloadUniqBy,x=i.position,N=i.reverseDirection,C=i.useTranslate3d,I=i.viewBox,$=i.wrapperStyle,O=w??[];m&&O.length&&(O=zL(w.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),E,UK));var j=O.length>0;return W.createElement(CK,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:y,active:a,coordinate:h,hasPayload:j,offset:b,position:x,reverseDirection:N,useTranslate3d:C,viewBox:I,wrapperStyle:$},BK(f,qC(qC({},this.props),{},{payload:O})))}}])}(G.PureComponent);BE(oi,"displayName","Tooltip");BE(oi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var k_,zC;function qK(){if(zC)return k_;zC=1;var t=ua(),e=function(){return t.Date.now()};return k_=e,k_}var I_,WC;function zK(){if(WC)return I_;WC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return I_=e,I_}var O_,HC;function WK(){if(HC)return O_;HC=1;var t=zK(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return O_=r,O_}var C_,KC;function t$(){if(KC)return C_;KC=1;var t=WK(),e=es(),r=Ku(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||s.test(f)?u(f.slice(2),m?2:8):i.test(f)?n:+f}return C_=c,C_}var N_,GC;function HK(){if(GC)return N_;GC=1;var t=es(),e=qK(),r=t$(),n="Expected a function",i=Math.max,a=Math.min;function s(u,c,f){var h,m,y,b,w,E,x=0,N=!1,C=!1,I=!0;if(typeof u!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(N=!!f.leading,C="maxWait"in f,y=C?i(r(f.maxWait)||0,c):y,I="trailing"in f?!!f.trailing:I);function $(M){var ee=h,re=m;return h=m=void 0,x=M,b=u.apply(re,ee),b}function O(M){return x=M,w=setTimeout(P,c),N?$(M):b}function j(M){var ee=M-E,re=M-x,ie=c-ee;return C?a(ie,y-re):ie}function A(M){var ee=M-E,re=M-x;return E===void 0||ee>=c||ee<0||C&&re>=y}function P(){var M=e();if(A(M))return R(M);w=setTimeout(P,j(M))}function R(M){return w=void 0,I&&h?$(M):(h=m=void 0,b)}function V(){w!==void 0&&clearTimeout(w),x=0,h=E=m=w=void 0}function L(){return w===void 0?b:R(e())}function F(){var M=e(),ee=A(M);if(h=arguments,m=this,E=M,ee){if(w===void 0)return O(E);if(C)return clearTimeout(w),w=setTimeout(P,c),$(E)}return w===void 0&&(w=setTimeout(P,c)),b}return F.cancel=V,F.flush=L,F}return N_=s,N_}var R_,YC;function KK(){if(YC)return R_;YC=1;var t=HK(),e=es(),r="Expected a function";function n(i,a,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return R_=n,R_}var GK=KK();const r$=yt(GK);function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function XC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(r),!0).forEach(function(n){YK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YK(t,e,r){return e=XK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XK(t){var e=QK(t,"string");return Of(e)=="symbol"?e:e+""}function QK(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JK(t,e){return rG(t)||tG(t,e)||eG(t,e)||ZK()}function ZK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(t,e){if(t){if(typeof t=="string")return QC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QC(t,e)}}function QC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function rG(t){if(Array.isArray(t))return t}var qE=G.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,y=t.maxHeight,b=t.children,w=t.debounce,E=w===void 0?0:w,x=t.id,N=t.className,C=t.onResize,I=t.style,$=I===void 0?{}:I,O=G.useRef(null),j=G.useRef();j.current=C,G.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var A=G.useState({containerWidth:i.width,containerHeight:i.height}),P=JK(A,2),R=P[0],V=P[1],L=G.useCallback(function(M,ee){V(function(re){var ie=Math.round(M),oe=Math.round(ee);return re.containerWidth===ie&&re.containerHeight===oe?re:{containerWidth:ie,containerHeight:oe}})},[]);G.useEffect(function(){var M=function(ae){var se,q=ae[0].contentRect,K=q.width,fe=q.height;L(K,fe),(se=j.current)===null||se===void 0||se.call(j,K,fe)};E>0&&(M=r$(M,E,{trailing:!0,leading:!1}));var ee=new ResizeObserver(M),re=O.current.getBoundingClientRect(),ie=re.width,oe=re.height;return L(ie,oe),ee.observe(O.current),function(){ee.disconnect()}},[L,E]);var F=G.useMemo(function(){var M=R.containerWidth,ee=R.containerHeight;if(M<0||ee<0)return null;Ni(Ds(s)||Ds(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ni(!r||r>0,"The aspect(%s) must be greater than zero.",r);var re=Ds(s)?M:s,ie=Ds(c)?ee:c;r&&r>0&&(re?ie=re/r:ie&&(re=ie*r),y&&ie>y&&(ie=y)),Ni(re>0||ie>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,re,ie,s,c,h,m,r);var oe=!Array.isArray(b)&&Va(b.type).endsWith("Chart");return W.Children.map(b,function(Q){return W.isValidElement(Q)?G.cloneElement(Q,tp({width:re,height:ie},oe?{style:tp({height:"100%",width:"100%",maxHeight:ie,maxWidth:re},Q.props.style)}:{})):Q})},[r,b,c,y,m,h,R,s]);return W.createElement("div",{id:x?"".concat(x):void 0,className:Ze("recharts-responsive-container",N),style:tp(tp({},$),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:y}),ref:O},F)}),hg=function(e){return null};hg.displayName="Cell";function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function JC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(r),!0).forEach(function(n){nG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nG(t,e,r){return e=iG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iG(t){var e=aG(t,"string");return Cf(e)=="symbol"?e:e+""}function aG(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hl={widthCache:{},cacheCount:0},oG=2e3,sG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZC="recharts_measurement_span";function lG(t){var e=_w({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var uf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xu.isSsr)return{width:0,height:0};var n=lG(r),i=JSON.stringify({text:e,copyStyle:n});if(Hl.widthCache[i])return Hl.widthCache[i];try{var a=document.getElementById(ZC);a||(a=document.createElement("span"),a.setAttribute("id",ZC),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=_w(_w({},sG),n);Object.assign(a.style,s),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return Hl.widthCache[i]=c,++Hl.cacheCount>oG&&(Hl.cacheCount=0,Hl.widthCache={}),c}catch{return{width:0,height:0}}},uG=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function Yp(t,e){return hG(t)||dG(t,e)||fG(t,e)||cG()}function cG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fG(t,e){if(t){if(typeof t=="string")return eN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eN(t,e)}}function eN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function hG(t){if(Array.isArray(t))return t}function pG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gG(n.key),n)}}function mG(t,e,r){return e&&tN(t.prototype,e),r&&tN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gG(t){var e=yG(t,"string");return Nf(e)=="symbol"?e:e+""}function yG(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,n$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_G=Object.keys(n$),Zl="NaN";function xG(t,e){return t*n$[e]}var rp=function(){function t(e,r){pG(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!vG.test(r)&&(this.num=NaN,this.unit=""),_G.includes(r)&&(this.num=xG(e,r),this.unit="px")}return mG(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=bG.exec(r))!==null&&n!==void 0?n:[],a=Yp(i,3),s=a[1],u=a[2];return new t(parseFloat(s),u??"")}}])}();function i$(t){if(t.includes(Zl))return Zl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=rN.exec(e))!==null&&r!==void 0?r:[],i=Yp(n,4),a=i[1],s=i[2],u=i[3],c=rp.parse(a??""),f=rp.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return Zl;e=e.replace(rN,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=nN.exec(e))!==null&&m!==void 0?m:[],b=Yp(y,4),w=b[1],E=b[2],x=b[3],N=rp.parse(w??""),C=rp.parse(x??""),I=E==="+"?N.add(C):N.subtract(C);if(I.isNaN())return Zl;e=e.replace(nN,I.toString())}return e}var iN=/\(([^()]*)\)/;function wG(t){for(var e=t;e.includes("(");){var r=iN.exec(e),n=Yp(r,2),i=n[1];e=e.replace(iN,i$(i))}return e}function EG(t){var e=t.replace(/\s+/g,"");return e=wG(e),e=i$(e),e}function SG(t){try{return EG(t)}catch{return Zl}}function j_(t){var e=SG(t.slice(5,-1));return e===Zl?"":e}var TG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],AG=["dx","dy","angle","className","breakAll"];function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xw.apply(this,arguments)}function aN(t,e){if(t==null)return{};var r=PG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oN(t,e){return CG(t)||OG(t,e)||IG(t,e)||kG()}function kG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IG(t,e){if(t){if(typeof t=="string")return sN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sN(t,e)}}function sN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function CG(t){if(Array.isArray(t))return t}var a$=/[ \f\n\r\t\v\u2028\u2029]+/,o$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];tt(r)||(n?a=r.toString().split(""):a=r.toString().split(a$));var s=a.map(function(c){return{word:c,width:uf(c,i).width}}),u=n?0:uf("",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},NG=function(e,r,n,i,a){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=be(s),m=u,y=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re.reduce(function(ie,oe){var Q=oe.word,ae=oe.width,se=ie[ie.length-1];if(se&&(i==null||a||se.width+ae+n<Number(i)))se.words.push(Q),se.width+=ae+n;else{var q={words:[Q],width:ae};ie.push(q)}return ie},[])},b=y(r),w=function(re){return re.reduce(function(ie,oe){return ie.width>oe.width?ie:oe})};if(!h)return b;for(var E="",x=function(re){var ie=m.slice(0,re),oe=o$({breakAll:f,style:c,children:ie+E}).wordsWithComputedWidth,Q=y(oe),ae=Q.length>s||w(Q).width>Number(i);return[ae,Q]},N=0,C=m.length-1,I=0,$;N<=C&&I<=m.length-1;){var O=Math.floor((N+C)/2),j=O-1,A=x(j),P=oN(A,2),R=P[0],V=P[1],L=x(O),F=oN(L,1),M=F[0];if(!R&&!M&&(N=O+1),R&&M&&(C=O-1),!R&&M){$=V;break}I++}return $||b},lN=function(e){var r=tt(e)?[]:e.toString().split(a$);return[{words:r}]},RG=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,u=e.maxLines;if((r||n)&&!Xu.isSsr){var c,f,h=o$({breakAll:s,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,y=h.spaceWidth;c=m,f=y}else return lN(i);return NG({breakAll:s,children:i,maxLines:u,style:a},c,f,r,n)}return lN(i)},uN="#808080",Zs=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,y=e.textAnchor,b=y===void 0?"start":y,w=e.verticalAnchor,E=w===void 0?"end":w,x=e.fill,N=x===void 0?uN:x,C=aN(e,TG),I=G.useMemo(function(){return RG({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:m,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,m,C.style,C.width]),$=C.dx,O=C.dy,j=C.angle,A=C.className,P=C.breakAll,R=aN(C,AG);if(!vr(n)||!vr(a))return null;var V=n+(be($)?$:0),L=a+(be(O)?O:0),F;switch(E){case"start":F=j_("calc(".concat(f,")"));break;case"middle":F=j_("calc(".concat((I.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:F=j_("calc(".concat(I.length-1," * -").concat(u,")"));break}var M=[];if(m){var ee=I[0].width,re=C.width;M.push("scale(".concat((be(re)?re/ee:1)/ee,")"))}return j&&M.push("rotate(".concat(j,", ").concat(V,", ").concat(L,")")),M.length&&(R.transform=M.join(" ")),W.createElement("text",xw({},Ke(R,!0),{x:V,y:L,className:Ze("recharts-text",A),textAnchor:b,fill:N.includes("url")?uN:N}),I.map(function(ie,oe){var Q=ie.words.join(P?"":" ");return W.createElement("tspan",{x:V,dy:oe===0?F:u,key:"".concat(Q,"-").concat(oe)},Q)}))};function zo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zE(t){let e,r,n;t.length!==2?(e=zo,r=(u,c)=>zo(t(u),c),n=(u,c)=>t(u)-c):(e=t===zo||t===jG?t:MG,r=t,n=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;r(u[m],c)<0?f=m+1:h=m}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;r(u[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(u,c,f=0,h=u.length){const m=i(u,c,f,h-1);return m>f&&n(u[m-1],c)>-n(u[m],c)?m-1:m}return{left:i,center:s,right:a}}function MG(){return 0}function s$(t){return t===null?NaN:+t}function*DG(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const LG=zE(zo),kd=LG.right;zE(s$).center;class cN extends Map{constructor(e,r=FG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(fN(this,e))}has(e){return super.has(fN(this,e))}set(e,r){return super.set($G(this,e),r)}delete(e){return super.delete(VG(this,e))}}function fN({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function $G({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function VG({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function FG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function UG(t=zo){if(t===zo)return l$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function l$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const BG=Math.sqrt(50),qG=Math.sqrt(10),zG=Math.sqrt(2);function Xp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=BG?10:a>=qG?5:a>=zG?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=r&&r<2?Xp(t,e,r*2):[u,c,f]}function ww(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Xp(e,t,r):Xp(t,e,r);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(n)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function Ew(t,e,r){return e=+e,t=+t,r=+r,Xp(t,e,r)[2]}function Sw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Ew(e,t,r):Ew(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function dN(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function hN(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function u$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?l$:UG(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,h=Math.log(c),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),b=Math.max(r,Math.floor(e-f*m/c+y)),w=Math.min(n,Math.floor(e+(c-f)*m/c+y));u$(t,e,b,w,i)}const a=t[e];let s=r,u=n;for(Lc(t,r,e),i(t[n],a)>0&&Lc(t,r,n);s<u;){for(Lc(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?Lc(t,r,u):(++u,Lc(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Lc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function WG(t,e,r){if(t=Float64Array.from(DG(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return hN(t);if(e>=1)return dN(t);var n,i=(n-1)*e,a=Math.floor(i),s=dN(u$(t,a).subarray(0,a+1)),u=hN(t.subarray(a+1));return s+(u-s)*(i-a)}}function HG(t,e,r=s$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function KG(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function fi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ja(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Tw=Symbol("implicit");function WE(){var t=new cN,e=[],r=[],n=Tw;function i(a){let s=t.get(a);if(s===void 0){if(n!==Tw)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new cN;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return WE(e,r).unknown(n)},fi.apply(i,arguments),i}function Rf(){var t=WE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var y=e().length,b=i<n,w=b?i:n,E=b?n:i;a=(E-w)/Math.max(1,y-c+f*2),u&&(a=Math.floor(a)),w+=(E-w-a*(y-c))*h,s=a*(1-c),u&&(w=Math.round(w),s=Math.round(s));var x=KG(y).map(function(N){return w+a*N});return r(b?x.reverse():x)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,m()):u},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),m()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,m()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return Rf(e(),[n,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},fi.apply(m(),arguments)}function c$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return c$(e())},t}function cf(){return c$(Rf.apply(null,arguments).paddingInner(1))}function HE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function f$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Id(){}var jf=.7,Qp=1/jf,cu="\\s*([+-]?\\d+)\\s*",Mf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GG=/^#([0-9a-f]{3,8})$/,YG=new RegExp(`^rgb\\(${cu},${cu},${cu}\\)$`),XG=new RegExp(`^rgb\\(${na},${na},${na}\\)$`),QG=new RegExp(`^rgba\\(${cu},${cu},${cu},${Mf}\\)$`),JG=new RegExp(`^rgba\\(${na},${na},${na},${Mf}\\)$`),ZG=new RegExp(`^hsl\\(${Mf},${na},${na}\\)$`),eY=new RegExp(`^hsla\\(${Mf},${na},${na},${Mf}\\)$`),pN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HE(Id,Df,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mN,formatHex:mN,formatHex8:tY,formatHsl:rY,formatRgb:gN,toString:gN});function mN(){return this.rgb().formatHex()}function tY(){return this.rgb().formatHex8()}function rY(){return d$(this).formatHsl()}function gN(){return this.rgb().formatRgb()}function Df(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=GG.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?yN(e):r===3?new Pn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?np(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?np(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=YG.exec(t))?new Pn(e[1],e[2],e[3],1):(e=XG.exec(t))?new Pn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=QG.exec(t))?np(e[1],e[2],e[3],e[4]):(e=JG.exec(t))?np(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ZG.exec(t))?_N(e[1],e[2]/100,e[3]/100,1):(e=eY.exec(t))?_N(e[1],e[2]/100,e[3]/100,e[4]):pN.hasOwnProperty(t)?yN(pN[t]):t==="transparent"?new Pn(NaN,NaN,NaN,0):null}function yN(t){return new Pn(t>>16&255,t>>8&255,t&255,1)}function np(t,e,r,n){return n<=0&&(t=e=r=NaN),new Pn(t,e,r,n)}function nY(t){return t instanceof Id||(t=Df(t)),t?(t=t.rgb(),new Pn(t.r,t.g,t.b,t.opacity)):new Pn}function Aw(t,e,r,n){return arguments.length===1?nY(t):new Pn(t,e,r,n??1)}function Pn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}HE(Pn,Aw,f$(Id,{brighter(t){return t=t==null?Qp:Math.pow(Qp,t),new Pn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jf:Math.pow(jf,t),new Pn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pn(Bs(this.r),Bs(this.g),Bs(this.b),Jp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vN,formatHex:vN,formatHex8:iY,formatRgb:bN,toString:bN}));function vN(){return`#${Ls(this.r)}${Ls(this.g)}${Ls(this.b)}`}function iY(){return`#${Ls(this.r)}${Ls(this.g)}${Ls(this.b)}${Ls((isNaN(this.opacity)?1:this.opacity)*255)}`}function bN(){const t=Jp(this.opacity);return`${t===1?"rgb(":"rgba("}${Bs(this.r)}, ${Bs(this.g)}, ${Bs(this.b)}${t===1?")":`, ${t})`}`}function Jp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ls(t){return t=Bs(t),(t<16?"0":"")+t.toString(16)}function _N(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Oi(t,e,r,n)}function d$(t){if(t instanceof Oi)return new Oi(t.h,t.s,t.l,t.opacity);if(t instanceof Id||(t=Df(t)),!t)return new Oi;if(t instanceof Oi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(r-n)/u+(r<n)*6:r===a?s=(n-e)/u+2:s=(e-r)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new Oi(s,u,c,t.opacity)}function aY(t,e,r,n){return arguments.length===1?d$(t):new Oi(t,e,r,n??1)}function Oi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}HE(Oi,aY,f$(Id,{brighter(t){return t=t==null?Qp:Math.pow(Qp,t),new Oi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jf:Math.pow(jf,t),new Oi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Pn(M_(t>=240?t-240:t+120,i,n),M_(t,i,n),M_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Oi(xN(this.h),ip(this.s),ip(this.l),Jp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jp(this.opacity);return`${t===1?"hsl(":"hsla("}${xN(this.h)}, ${ip(this.s)*100}%, ${ip(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xN(t){return t=(t||0)%360,t<0?t+360:t}function ip(t){return Math.max(0,Math.min(1,t||0))}function M_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const KE=t=>()=>t;function oY(t,e){return function(r){return t+r*e}}function sY(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function lY(t){return(t=+t)==1?h$:function(e,r){return r-e?sY(e,r,t):KE(isNaN(e)?r:e)}}function h$(t,e){var r=e-t;return r?oY(t,r):KE(isNaN(t)?e:t)}const wN=function t(e){var r=lY(e);function n(i,a){var s=r((i=Aw(i)).r,(a=Aw(a)).r),u=r(i.g,a.g),c=r(i.b,a.b),f=h$(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return n.gamma=t,n}(1);function uY(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function cY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fY(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Qu(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(u){for(s=0;s<n;++s)a[s]=i[s](u);return a}}function dY(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Zp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function hY(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Qu(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Pw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,D_=new RegExp(Pw.source,"g");function pY(t){return function(){return t}}function mY(t){return function(e){return t(e)+""}}function gY(t,e){var r=Pw.lastIndex=D_.lastIndex=0,n,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(n=Pw.exec(t))&&(i=D_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[s]?u[s]+=a:u[++s]=a),(n=n[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Zp(n,i)})),r=D_.lastIndex;return r<e.length&&(a=e.slice(r),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?mY(c[0].x):pY(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)u[(m=c[h]).i]=m.x(f);return u.join("")})}function Qu(t,e){var r=typeof e,n;return e==null||r==="boolean"?KE(e):(r==="number"?Zp:r==="string"?(n=Df(e))?(e=n,wN):gY:e instanceof Df?wN:e instanceof Date?dY:cY(e)?uY:Array.isArray(e)?fY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?hY:Zp)(t,e)}function GE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function yY(t,e){e===void 0&&(e=t,t=Qu);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var u=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[u](s-u)}}function vY(t){return function(){return t}}function em(t){return+t}var EN=[0,1];function dn(t){return t}function kw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:vY(isNaN(e)?NaN:.5)}function bY(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function _Y(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=kw(i,n),a=r(s,a)):(n=kw(n,i),a=r(a,s)),function(u){return a(n(u))}}function xY(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=kw(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(u){var c=kd(t,u,1,n)-1;return a[c](i[c](u))}}function Od(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pg(){var t=EN,e=EN,r=Qu,n,i,a,s=dn,u,c,f;function h(){var y=Math.min(t.length,e.length);return s!==dn&&(s=bY(t[0],t[y-1])),u=y>2?xY:_Y,c=f=null,m}function m(y){return y==null||isNaN(y=+y)?a:(c||(c=u(t.map(n),e,r)))(n(s(y)))}return m.invert=function(y){return s(i((f||(f=u(e,t.map(n),Zp)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,em),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=GE,h()},m.clamp=function(y){return arguments.length?(s=y?!0:dn,h()):s!==dn},m.interpolate=function(y){return arguments.length?(r=y,h()):r},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,b){return n=y,i=b,h()}}function YE(){return pg()(dn,dn)}function wY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Su(t){return t=tm(Math.abs(t)),t?t[1]:NaN}function EY(t,e){return function(r,n){for(var i=r.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),a.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function SY(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var TY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lf(t){if(!(e=TY.exec(t)))throw new Error("invalid format: "+t);var e;return new XE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lf.prototype=XE.prototype;function XE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}XE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AY(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var p$;function PY(t,e){var r=tm(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(p$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+tm(t,Math.max(0,e+a-1))[0]}function SN(t,e){var r=tm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const TN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>SN(t*100,e),r:SN,s:PY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function AN(t){return t}var PN=Array.prototype.map,kN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kY(t){var e=t.grouping===void 0||t.thousands===void 0?AN:EY(PN.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?AN:SY(PN.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Lf(m);var y=m.fill,b=m.align,w=m.sign,E=m.symbol,x=m.zero,N=m.width,C=m.comma,I=m.precision,$=m.trim,O=m.type;O==="n"?(C=!0,O="g"):TN[O]||(I===void 0&&(I=12),$=!0,O="g"),(x||y==="0"&&b==="=")&&(x=!0,y="0",b="=");var j=E==="$"?r:E==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",A=E==="$"?n:/[%p]/.test(O)?s:"",P=TN[O],R=/[defgprs%]/.test(O);I=I===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function V(L){var F=j,M=A,ee,re,ie;if(O==="c")M=P(L)+M,L="";else{L=+L;var oe=L<0||1/L<0;if(L=isNaN(L)?c:P(Math.abs(L),I),$&&(L=AY(L)),oe&&+L==0&&w!=="+"&&(oe=!1),F=(oe?w==="("?w:u:w==="-"||w==="("?"":w)+F,M=(O==="s"?kN[8+p$/3]:"")+M+(oe&&w==="("?")":""),R){for(ee=-1,re=L.length;++ee<re;)if(ie=L.charCodeAt(ee),48>ie||ie>57){M=(ie===46?i+L.slice(ee+1):L.slice(ee))+M,L=L.slice(0,ee);break}}}C&&!x&&(L=e(L,1/0));var Q=F.length+L.length+M.length,ae=Q<N?new Array(N-Q+1).join(y):"";switch(C&&x&&(L=e(ae+L,ae.length?N-M.length:1/0),ae=""),b){case"<":L=F+L+M+ae;break;case"=":L=F+ae+L+M;break;case"^":L=ae.slice(0,Q=ae.length>>1)+F+L+M+ae.slice(Q);break;default:L=ae+F+L+M;break}return a(L)}return V.toString=function(){return m+""},V}function h(m,y){var b=f((m=Lf(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(Su(y)/3)))*3,E=Math.pow(10,-w),x=kN[8+w/3];return function(N){return b(E*N)+x}}return{format:f,formatPrefix:h}}var ap,QE,m$;IY({thousands:",",grouping:[3],currency:["$",""]});function IY(t){return ap=kY(t),QE=ap.format,m$=ap.formatPrefix,ap}function OY(t){return Math.max(0,-Su(Math.abs(t)))}function CY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Su(e)/3)))*3-Su(Math.abs(t)))}function NY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Su(e)-Su(t))+1}function g$(t,e,r,n){var i=Sw(t,e,r),a;switch(n=Lf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=CY(i,s))&&(n.precision=a),m$(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=NY(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=OY(i))&&(n.precision=a-(n.type==="%")*2);break}}return QE(n)}function ts(t){var e=t.domain;return t.ticks=function(r){var n=e();return ww(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return g$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],u=n[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=Ew(s,u,r),f===c)return n[i]=s,n[a]=u,e(n);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function rm(){var t=YE();return t.copy=function(){return Od(t,rm())},fi.apply(t,arguments),ts(t)}function y$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,em),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return y$(t).unknown(e)},t=arguments.length?Array.from(t,em):[0,1],ts(r)}function v$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function IN(t){return Math.log(t)}function ON(t){return Math.exp(t)}function RY(t){return-Math.log(-t)}function jY(t){return-Math.exp(-t)}function MY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function DY(t){return t===10?MY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function LY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function CN(t){return(e,r)=>-t(-e,r)}function JE(t){const e=t(IN,ON),r=e.domain;let n=10,i,a;function s(){return i=LY(n),a=DY(n),r()[0]<0?(i=CN(i),a=CN(a),t(RY,jY)):t(IN,ON),e}return e.base=function(u){return arguments.length?(n=+u,s()):n},e.domain=function(u){return arguments.length?(r(u),s()):r()},e.ticks=u=>{const c=r();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let y=i(f),b=i(h),w,E;const x=u==null?10:+u;let N=[];if(!(n%1)&&b-y<x){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(w=1;w<n;++w)if(E=y<0?w/a(-y):w*a(y),!(E<f)){if(E>h)break;N.push(E)}}else for(;y<=b;++y)for(w=n-1;w>=1;--w)if(E=y>0?w/a(-y):w*a(y),!(E<f)){if(E>h)break;N.push(E)}N.length*2<x&&(N=ww(f,h,x))}else N=ww(y,b,Math.min(b-y,x)).map(a);return m?N.reverse():N},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Lf(c)).precision==null&&(c.trim=!0),c=QE(c)),u===1/0)return c;const f=Math.max(1,n*u/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*n<n-.5&&(m*=n),m<=f?c(h):""}},e.nice=()=>r(v$(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function b$(){const t=JE(pg()).domain([1,10]);return t.copy=()=>Od(t,b$()).base(t.base()),fi.apply(t,arguments),t}function NN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function RN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ZE(t){var e=1,r=t(NN(e),RN(e));return r.constant=function(n){return arguments.length?t(NN(e=+n),RN(e)):e},ts(r)}function _$(){var t=ZE(pg());return t.copy=function(){return Od(t,_$()).constant(t.constant())},fi.apply(t,arguments)}function jN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $Y(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function VY(t){return t<0?-t*t:t*t}function eS(t){var e=t(dn,dn),r=1;function n(){return r===1?t(dn,dn):r===.5?t($Y,VY):t(jN(r),jN(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ts(e)}function tS(){var t=eS(pg());return t.copy=function(){return Od(t,tS()).exponent(t.exponent())},fi.apply(t,arguments),t}function FY(){return tS.apply(null,arguments).exponent(.5)}function MN(t){return Math.sign(t)*t*t}function UY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function x$(){var t=YE(),e=[0,1],r=!1,n;function i(a){var s=UY(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(MN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,em)).map(MN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return x$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},fi.apply(i,arguments),ts(i)}function w$(){var t=[],e=[],r=[],n;function i(){var s=0,u=Math.max(1,e.length);for(r=new Array(u-1);++s<u;)r[s-1]=HG(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?n:e[kd(r,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(zo),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return w$().domain(t).range(e).unknown(n)},fi.apply(a,arguments)}function E$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[kd(n,c,0,r)]:a}function u(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return E$().domain([t,e]).range(i).unknown(a)},fi.apply(ts(s),arguments)}function S$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[kd(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return S$().domain(t).range(e).unknown(r)},fi.apply(i,arguments)}const L_=new Date,$_=new Date;function _r(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>_r(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(L_.setTime(+a),$_.setTime(+s),t(L_),t($_),Math.floor(r(L_,$_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const nm=_r(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);nm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_r(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):nm);nm.range;const Ma=1e3,li=Ma*60,Da=li*60,Ha=Da*24,rS=Ha*7,DN=Ha*30,V_=Ha*365,$s=_r(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ma)},(t,e)=>(e-t)/Ma,t=>t.getUTCSeconds());$s.range;const nS=_r(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ma)},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getMinutes());nS.range;const iS=_r(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getUTCMinutes());iS.range;const aS=_r(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ma-t.getMinutes()*li)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getHours());aS.range;const oS=_r(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getUTCHours());oS.range;const Cd=_r(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*li)/Ha,t=>t.getDate()-1);Cd.range;const mg=_r(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ha,t=>t.getUTCDate()-1);mg.range;const T$=_r(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ha,t=>Math.floor(t/Ha));T$.range;function ul(t){return _r(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*li)/rS)}const gg=ul(0),im=ul(1),BY=ul(2),qY=ul(3),Tu=ul(4),zY=ul(5),WY=ul(6);gg.range;im.range;BY.range;qY.range;Tu.range;zY.range;WY.range;function cl(t){return _r(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/rS)}const yg=cl(0),am=cl(1),HY=cl(2),KY=cl(3),Au=cl(4),GY=cl(5),YY=cl(6);yg.range;am.range;HY.range;KY.range;Au.range;GY.range;YY.range;const sS=_r(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());sS.range;const lS=_r(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());lS.range;const Ka=_r(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ka.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_r(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ka.range;const Ga=_r(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ga.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_r(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ga.range;function A$(t,e,r,n,i,a){const s=[[$s,1,Ma],[$s,5,5*Ma],[$s,15,15*Ma],[$s,30,30*Ma],[a,1,li],[a,5,5*li],[a,15,15*li],[a,30,30*li],[i,1,Da],[i,3,3*Da],[i,6,6*Da],[i,12,12*Da],[n,1,Ha],[n,2,2*Ha],[r,1,rS],[e,1,DN],[e,3,3*DN],[t,1,V_]];function u(f,h,m){const y=h<f;y&&([f,h]=[h,f]);const b=m&&typeof m.range=="function"?m:c(f,h,m),w=b?b.range(f,+h+1):[];return y?w.reverse():w}function c(f,h,m){const y=Math.abs(h-f)/m,b=zE(([,,x])=>x).right(s,y);if(b===s.length)return t.every(Sw(f/V_,h/V_,m));if(b===0)return nm.every(Math.max(Sw(f,h,m),1));const[w,E]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return w.every(E)}return[u,c]}const[XY,QY]=A$(Ga,lS,yg,T$,oS,iS),[JY,ZY]=A$(Ka,sS,gg,Cd,aS,nS);function F_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function U_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $c(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function eX(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=Vc(i),h=Fc(i),m=Vc(a),y=Fc(a),b=Vc(s),w=Fc(s),E=Vc(u),x=Fc(u),N=Vc(c),C=Fc(c),I={a:oe,A:Q,b:ae,B:se,c:null,d:BN,e:BN,f:EX,g:RX,G:MX,H:_X,I:xX,j:wX,L:P$,m:SX,M:TX,p:q,q:K,Q:WN,s:HN,S:AX,u:PX,U:kX,V:IX,w:OX,W:CX,x:null,X:null,y:NX,Y:jX,Z:DX,"%":zN},$={a:fe,A:Se,b:je,B:xe,c:null,d:qN,e:qN,f:FX,g:XX,G:JX,H:LX,I:$X,j:VX,L:I$,m:UX,M:BX,p:$e,q:Fe,Q:WN,s:HN,S:qX,u:zX,U:WX,V:HX,w:KX,W:GX,x:null,X:null,y:YX,Y:QX,Z:ZX,"%":zN},O={a:V,A:L,b:F,B:M,c:ee,d:FN,e:FN,f:gX,g:VN,G:$N,H:UN,I:UN,j:dX,L:mX,m:fX,M:hX,p:R,q:cX,Q:vX,s:bX,S:pX,u:aX,U:oX,V:sX,w:iX,W:lX,x:re,X:ie,y:VN,Y:$N,Z:uX,"%":yX};I.x=j(r,I),I.X=j(n,I),I.c=j(e,I),$.x=j(r,$),$.X=j(n,$),$.c=j(e,$);function j(me,Ce){return function(qe){var ue=[],lt=-1,We=0,ht=me.length,St,Gt,fr;for(qe instanceof Date||(qe=new Date(+qe));++lt<ht;)me.charCodeAt(lt)===37&&(ue.push(me.slice(We,lt)),(Gt=LN[St=me.charAt(++lt)])!=null?St=me.charAt(++lt):Gt=St==="e"?" ":"0",(fr=Ce[St])&&(St=fr(qe,Gt)),ue.push(St),We=lt+1);return ue.push(me.slice(We,lt)),ue.join("")}}function A(me,Ce){return function(qe){var ue=$c(1900,void 0,1),lt=P(ue,me,qe+="",0),We,ht;if(lt!=qe.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Ce&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(We=U_($c(ue.y,0,1)),ht=We.getUTCDay(),We=ht>4||ht===0?am.ceil(We):am(We),We=mg.offset(We,(ue.V-1)*7),ue.y=We.getUTCFullYear(),ue.m=We.getUTCMonth(),ue.d=We.getUTCDate()+(ue.w+6)%7):(We=F_($c(ue.y,0,1)),ht=We.getDay(),We=ht>4||ht===0?im.ceil(We):im(We),We=Cd.offset(We,(ue.V-1)*7),ue.y=We.getFullYear(),ue.m=We.getMonth(),ue.d=We.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),ht="Z"in ue?U_($c(ue.y,0,1)).getUTCDay():F_($c(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(ht+5)%7:ue.w+ue.U*7-(ht+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,U_(ue)):F_(ue)}}function P(me,Ce,qe,ue){for(var lt=0,We=Ce.length,ht=qe.length,St,Gt;lt<We;){if(ue>=ht)return-1;if(St=Ce.charCodeAt(lt++),St===37){if(St=Ce.charAt(lt++),Gt=O[St in LN?Ce.charAt(lt++):St],!Gt||(ue=Gt(me,qe,ue))<0)return-1}else if(St!=qe.charCodeAt(ue++))return-1}return ue}function R(me,Ce,qe){var ue=f.exec(Ce.slice(qe));return ue?(me.p=h.get(ue[0].toLowerCase()),qe+ue[0].length):-1}function V(me,Ce,qe){var ue=b.exec(Ce.slice(qe));return ue?(me.w=w.get(ue[0].toLowerCase()),qe+ue[0].length):-1}function L(me,Ce,qe){var ue=m.exec(Ce.slice(qe));return ue?(me.w=y.get(ue[0].toLowerCase()),qe+ue[0].length):-1}function F(me,Ce,qe){var ue=N.exec(Ce.slice(qe));return ue?(me.m=C.get(ue[0].toLowerCase()),qe+ue[0].length):-1}function M(me,Ce,qe){var ue=E.exec(Ce.slice(qe));return ue?(me.m=x.get(ue[0].toLowerCase()),qe+ue[0].length):-1}function ee(me,Ce,qe){return P(me,e,Ce,qe)}function re(me,Ce,qe){return P(me,r,Ce,qe)}function ie(me,Ce,qe){return P(me,n,Ce,qe)}function oe(me){return s[me.getDay()]}function Q(me){return a[me.getDay()]}function ae(me){return c[me.getMonth()]}function se(me){return u[me.getMonth()]}function q(me){return i[+(me.getHours()>=12)]}function K(me){return 1+~~(me.getMonth()/3)}function fe(me){return s[me.getUTCDay()]}function Se(me){return a[me.getUTCDay()]}function je(me){return c[me.getUTCMonth()]}function xe(me){return u[me.getUTCMonth()]}function $e(me){return i[+(me.getUTCHours()>=12)]}function Fe(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Ce=j(me+="",I);return Ce.toString=function(){return me},Ce},parse:function(me){var Ce=A(me+="",!1);return Ce.toString=function(){return me},Ce},utcFormat:function(me){var Ce=j(me+="",$);return Ce.toString=function(){return me},Ce},utcParse:function(me){var Ce=A(me+="",!0);return Ce.toString=function(){return me},Ce}}}var LN={"-":"",_:" ",0:"0"},Ir=/^\s*\d+/,tX=/^%/,rX=/[\\^$*+?|[\]().{}]/g;function dt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function nX(t){return t.replace(rX,"\\$&")}function Vc(t){return new RegExp("^(?:"+t.map(nX).join("|")+")","i")}function Fc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function iX(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function aX(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function oX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function sX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function lX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function $N(t,e,r){var n=Ir.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function VN(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uX(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function cX(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function fX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function FN(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function dX(t,e,r){var n=Ir.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function UN(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function hX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function pX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function mX(t,e,r){var n=Ir.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function gX(t,e,r){var n=Ir.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function yX(t,e,r){var n=tX.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function vX(t,e,r){var n=Ir.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function bX(t,e,r){var n=Ir.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function BN(t,e){return dt(t.getDate(),e,2)}function _X(t,e){return dt(t.getHours(),e,2)}function xX(t,e){return dt(t.getHours()%12||12,e,2)}function wX(t,e){return dt(1+Cd.count(Ka(t),t),e,3)}function P$(t,e){return dt(t.getMilliseconds(),e,3)}function EX(t,e){return P$(t,e)+"000"}function SX(t,e){return dt(t.getMonth()+1,e,2)}function TX(t,e){return dt(t.getMinutes(),e,2)}function AX(t,e){return dt(t.getSeconds(),e,2)}function PX(t){var e=t.getDay();return e===0?7:e}function kX(t,e){return dt(gg.count(Ka(t)-1,t),e,2)}function k$(t){var e=t.getDay();return e>=4||e===0?Tu(t):Tu.ceil(t)}function IX(t,e){return t=k$(t),dt(Tu.count(Ka(t),t)+(Ka(t).getDay()===4),e,2)}function OX(t){return t.getDay()}function CX(t,e){return dt(im.count(Ka(t)-1,t),e,2)}function NX(t,e){return dt(t.getFullYear()%100,e,2)}function RX(t,e){return t=k$(t),dt(t.getFullYear()%100,e,2)}function jX(t,e){return dt(t.getFullYear()%1e4,e,4)}function MX(t,e){var r=t.getDay();return t=r>=4||r===0?Tu(t):Tu.ceil(t),dt(t.getFullYear()%1e4,e,4)}function DX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function qN(t,e){return dt(t.getUTCDate(),e,2)}function LX(t,e){return dt(t.getUTCHours(),e,2)}function $X(t,e){return dt(t.getUTCHours()%12||12,e,2)}function VX(t,e){return dt(1+mg.count(Ga(t),t),e,3)}function I$(t,e){return dt(t.getUTCMilliseconds(),e,3)}function FX(t,e){return I$(t,e)+"000"}function UX(t,e){return dt(t.getUTCMonth()+1,e,2)}function BX(t,e){return dt(t.getUTCMinutes(),e,2)}function qX(t,e){return dt(t.getUTCSeconds(),e,2)}function zX(t){var e=t.getUTCDay();return e===0?7:e}function WX(t,e){return dt(yg.count(Ga(t)-1,t),e,2)}function O$(t){var e=t.getUTCDay();return e>=4||e===0?Au(t):Au.ceil(t)}function HX(t,e){return t=O$(t),dt(Au.count(Ga(t),t)+(Ga(t).getUTCDay()===4),e,2)}function KX(t){return t.getUTCDay()}function GX(t,e){return dt(am.count(Ga(t)-1,t),e,2)}function YX(t,e){return dt(t.getUTCFullYear()%100,e,2)}function XX(t,e){return t=O$(t),dt(t.getUTCFullYear()%100,e,2)}function QX(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function JX(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Au(t):Au.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function ZX(){return"+0000"}function zN(){return"%"}function WN(t){return+t}function HN(t){return Math.floor(+t/1e3)}var Kl,C$,N$;eQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eQ(t){return Kl=eX(t),C$=Kl.format,Kl.parse,N$=Kl.utcFormat,Kl.utcParse,Kl}function tQ(t){return new Date(t)}function rQ(t){return t instanceof Date?+t:+new Date(+t)}function uS(t,e,r,n,i,a,s,u,c,f){var h=YE(),m=h.invert,y=h.domain,b=f(".%L"),w=f(":%S"),E=f("%I:%M"),x=f("%I %p"),N=f("%a %d"),C=f("%b %d"),I=f("%B"),$=f("%Y");function O(j){return(c(j)<j?b:u(j)<j?w:s(j)<j?E:a(j)<j?x:n(j)<j?i(j)<j?N:C:r(j)<j?I:$)(j)}return h.invert=function(j){return new Date(m(j))},h.domain=function(j){return arguments.length?y(Array.from(j,rQ)):y().map(tQ)},h.ticks=function(j){var A=y();return t(A[0],A[A.length-1],j??10)},h.tickFormat=function(j,A){return A==null?O:f(A)},h.nice=function(j){var A=y();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?y(v$(A,j)):h},h.copy=function(){return Od(h,uS(t,e,r,n,i,a,s,u,c,f))},h}function nQ(){return fi.apply(uS(JY,ZY,Ka,sS,gg,Cd,aS,nS,$s,C$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iQ(){return fi.apply(uS(XY,QY,Ga,lS,yg,mg,oS,iS,$s,N$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vg(){var t=0,e=1,r,n,i,a,s=dn,u=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-r)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(y){var b,w;return arguments.length?([b,w]=y,s=m(b,w),f):[s(0),s(1)]}}return f.range=h(Qu),f.rangeRound=h(GE),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),f}}function rs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function R$(){var t=ts(vg()(dn));return t.copy=function(){return rs(t,R$())},Ja.apply(t,arguments)}function j$(){var t=JE(vg()).domain([1,10]);return t.copy=function(){return rs(t,j$()).base(t.base())},Ja.apply(t,arguments)}function M$(){var t=ZE(vg());return t.copy=function(){return rs(t,M$()).constant(t.constant())},Ja.apply(t,arguments)}function cS(){var t=eS(vg());return t.copy=function(){return rs(t,cS()).exponent(t.exponent())},Ja.apply(t,arguments)}function aQ(){return cS.apply(null,arguments).exponent(.5)}function D$(){var t=[],e=dn;function r(n){if(n!=null&&!isNaN(n=+n))return e((kd(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>WG(t,a/n))},r.copy=function(){return D$(e).domain(t)},Ja.apply(r,arguments)}function bg(){var t=0,e=.5,r=1,n=1,i,a,s,u,c,f=dn,h,m=!1,y;function b(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-a)*(n*E<n*a?u:c),f(m?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,r]=E,i=h(t=+t),a=h(e=+e),s=h(r=+r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,b):[t,e,r]},b.clamp=function(E){return arguments.length?(m=!!E,b):m},b.interpolator=function(E){return arguments.length?(f=E,b):f};function w(E){return function(x){var N,C,I;return arguments.length?([N,C,I]=x,f=yY(E,[N,C,I]),b):[f(0),f(.5),f(1)]}}return b.range=w(Qu),b.rangeRound=w(GE),b.unknown=function(E){return arguments.length?(y=E,b):y},function(E){return h=E,i=E(t),a=E(e),s=E(r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,b}}function L$(){var t=ts(bg()(dn));return t.copy=function(){return rs(t,L$())},Ja.apply(t,arguments)}function $$(){var t=JE(bg()).domain([.1,1,10]);return t.copy=function(){return rs(t,$$()).base(t.base())},Ja.apply(t,arguments)}function V$(){var t=ZE(bg());return t.copy=function(){return rs(t,V$()).constant(t.constant())},Ja.apply(t,arguments)}function fS(){var t=eS(bg());return t.copy=function(){return rs(t,fS()).exponent(t.exponent())},Ja.apply(t,arguments)}function oQ(){return fS.apply(null,arguments).exponent(.5)}const KN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rf,scaleDiverging:L$,scaleDivergingLog:$$,scaleDivergingPow:fS,scaleDivergingSqrt:oQ,scaleDivergingSymlog:V$,scaleIdentity:y$,scaleImplicit:Tw,scaleLinear:rm,scaleLog:b$,scaleOrdinal:WE,scalePoint:cf,scalePow:tS,scaleQuantile:w$,scaleQuantize:E$,scaleRadial:x$,scaleSequential:R$,scaleSequentialLog:j$,scaleSequentialPow:cS,scaleSequentialQuantile:D$,scaleSequentialSqrt:aQ,scaleSequentialSymlog:M$,scaleSqrt:FY,scaleSymlog:_$,scaleThreshold:S$,scaleTime:nQ,scaleUtc:iQ,tickFormat:g$},Symbol.toStringTag,{value:"Module"}));var B_,GN;function _g(){if(GN)return B_;GN=1;var t=Ku();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var u=r[a],c=n(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return B_=e,B_}var q_,YN;function F$(){if(YN)return q_;YN=1;function t(e,r){return e>r}return q_=t,q_}var z_,XN;function sQ(){if(XN)return z_;XN=1;var t=_g(),e=F$(),r=Yu();function n(i){return i&&i.length?t(i,r,e):void 0}return z_=n,z_}var lQ=sQ();const xg=yt(lQ);var W_,QN;function U$(){if(QN)return W_;QN=1;function t(e,r){return e<r}return W_=t,W_}var H_,JN;function uQ(){if(JN)return H_;JN=1;var t=_g(),e=U$(),r=Yu();function n(i){return i&&i.length?t(i,r,e):void 0}return H_=n,H_}var cQ=uQ();const wg=yt(cQ);var K_,ZN;function fQ(){if(ZN)return K_;ZN=1;var t=AE(),e=ca(),r=YL(),n=kn();function i(a,s){var u=n(a)?t:r;return u(a,e(s,3))}return K_=i,K_}var G_,eR;function dQ(){if(eR)return G_;eR=1;var t=KL(),e=fQ();function r(n,i){return t(e(n,i),1)}return G_=r,G_}var hQ=dQ();const pQ=yt(hQ);var Y_,tR;function mQ(){if(tR)return Y_;tR=1;var t=VE();function e(r,n){return t(r,n)}return Y_=e,Y_}var gQ=mQ();const Eg=yt(gQ);var Ju=1e9,yQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hS,Bt=!0,ci="[DecimalError] ",qs=ci+"Invalid argument: ",dS=ci+"Exponent out of range: ",Zu=Math.floor,Rs=Math.pow,vQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn,Pr=1e7,Mt=7,B$=9007199254740991,om=Zu(B$/Mt),ke={};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ke.comparedTo=ke.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(t){return Fa(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.idiv=function(t){var e=this,r=e.constructor;return Pt(Fa(e,new r(t),0,1),r.precision)};ke.equals=ke.eq=function(t){return!this.cmp(t)};ke.exponent=function(){return cr(this)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){return this.cmp(t)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Fn))throw Error(ci+"NaN");if(r.s<1)throw Error(ci+(r.s?"NaN":"-Infinity"));return r.eq(Fn)?new n(0):(Bt=!1,e=Fa($f(r,a),$f(t,a),a),Bt=!0,Pt(e,i))};ke.minus=ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?W$(e,t):q$(e,(t.s=-t.s,t))};ke.modulo=ke.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ci+"NaN");return r.s?(Bt=!1,e=Fa(r,t,0,1).times(t),Bt=!0,r.minus(e)):Pt(new n(r),i)};ke.naturalExponential=ke.exp=function(){return z$(this)};ke.naturalLogarithm=ke.ln=function(){return $f(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ke.plus=ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?q$(e,t):W$(e,(t.s=-t.s,t))};ke.precision=ke.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qs+t);if(e=cr(i)+1,n=i.d.length-1,r=n*Mt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ke.squareRoot=ke.sqrt=function(){var t,e,r,n,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(ci+"NaN")}for(t=cr(u),Bt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Qi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Zu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Fa(u,a,s+2)).times(.5),Qi(a.d).slice(0,s)===(e=Qi(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Pt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;s+=4}return Bt=!0,Pt(n,r)};ke.times=ke.mul=function(t){var e,r,n,i,a,s,u,c,f,h=this,m=h.constructor,y=h.d,b=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,r=h.e+t.e,c=y.length,f=b.length,c<f&&(a=y,y=b,b=a,s=c,c=f,f=s),a=[],s=c+f,n=s;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)u=a[i]+b[n]*y[i-n-1]+e,a[i--]=u%Pr|0,e=u/Pr|0;a[i]=(a[i]+e)%Pr|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Bt?Pt(t,m.precision):t};ke.toDecimalPlaces=ke.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(oa(t,0,Ju),e===void 0?e=n.rounding:oa(e,0,8),Pt(r,t+cr(r)+1,e))};ke.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=el(n,!0):(oa(t,0,Ju),e===void 0?e=i.rounding:oa(e,0,8),n=Pt(new i(n),t+1,e),r=el(n,!0,t+1)),r};ke.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?el(i):(oa(t,0,Ju),e===void 0?e=a.rounding:oa(e,0,8),n=Pt(new a(i),t+cr(i)+1,e),r=el(n.abs(),!1,t+cr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var t=this,e=t.constructor;return Pt(new e(t),cr(t)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(t){var e,r,n,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Fn);if(u=new c(u),!u.s){if(t.s<1)throw Error(ci+"Infinity");return u}if(u.eq(Fn))return u;if(n=c.precision,t.eq(Fn))return Pt(u,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=u.s,s){if((r=h<0?-h:h)<=B$){for(i=new c(Fn),e=Math.ceil(n/Mt+4),Bt=!1;r%2&&(i=i.times(u),nR(i.d,e)),r=Zu(r/2),r!==0;)u=u.times(u),nR(u.d,e);return Bt=!0,t.s<0?new c(Fn).div(i):Pt(i,n)}}else if(a<0)throw Error(ci+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Bt=!1,i=t.times($f(u,n+f)),Bt=!0,i=z$(i),i.s=a,i};ke.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=cr(i),n=el(i,r<=a.toExpNeg||r>=a.toExpPos)):(oa(t,1,Ju),e===void 0?e=a.rounding:oa(e,0,8),i=Pt(new a(i),t,e),r=cr(i),n=el(i,t<=r||r<=a.toExpNeg,t)),n};ke.toSignificantDigits=ke.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(oa(t,1,Ju),e===void 0?e=n.rounding:oa(e,0,8)),Pt(new n(r),t,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cr(t),r=t.constructor;return el(t,e<=r.toExpNeg||e>=r.toExpPos)};function q$(t,e){var r,n,i,a,s,u,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Bt?Pt(e,m):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,u=f.length):(n=f,i=s,u=c.length),s=Math.ceil(m/Mt),u=s>u?s+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,n=f,f=c,c=n),r=0;a;)r=(c[--a]=c[a]+f[a]+r)/Pr|0,c[a]%=Pr;for(r&&(c.unshift(r),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Bt?Pt(e,m):e}function oa(t,e,r){if(t!==~~t||t<e||t>r)throw Error(qs+t)}function Qi(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Mt-n.length,r&&(a+=Oo(r)),a+=n;s=t[e],n=s+"",r=Mt-n.length,r&&(a+=Oo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Fa=function(){function t(n,i){var a,s=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+s,n[u]=a%Pr|0,s=a/Pr|0;return s&&n.unshift(s),n}function e(n,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(n[u]!=i[u]){c=n[u]>i[u]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Pr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var u,c,f,h,m,y,b,w,E,x,N,C,I,$,O,j,A,P,R=n.constructor,V=n.s==i.s?1:-1,L=n.d,F=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(ci+"Division by zero");for(c=n.e-i.e,A=F.length,O=L.length,b=new R(V),w=b.d=[],f=0;F[f]==(L[f]||0);)++f;if(F[f]>(L[f]||0)&&--c,a==null?C=a=R.precision:s?C=a+(cr(n)-cr(i))+1:C=a,C<0)return new R(0);if(C=C/Mt+2|0,f=0,A==1)for(h=0,F=F[0],C++;(f<O||h)&&C--;f++)I=h*Pr+(L[f]||0),w[f]=I/F|0,h=I%F|0;else{for(h=Pr/(F[0]+1)|0,h>1&&(F=t(F,h),L=t(L,h),A=F.length,O=L.length),$=A,E=L.slice(0,A),x=E.length;x<A;)E[x++]=0;P=F.slice(),P.unshift(0),j=F[0],F[1]>=Pr/2&&++j;do h=0,u=e(F,E,A,x),u<0?(N=E[0],A!=x&&(N=N*Pr+(E[1]||0)),h=N/j|0,h>1?(h>=Pr&&(h=Pr-1),m=t(F,h),y=m.length,x=E.length,u=e(m,E,y,x),u==1&&(h--,r(m,A<y?P:F,y))):(h==0&&(u=h=1),m=F.slice()),y=m.length,y<x&&m.unshift(0),r(E,m,x),u==-1&&(x=E.length,u=e(F,E,A,x),u<1&&(h++,r(E,A<x?P:F,x))),x=E.length):u===0&&(h++,E=[0]),w[f++]=h,u&&E[0]?E[x++]=L[$]||0:(E=[L[$]],x=1);while(($++<O||E[0]!==void 0)&&C--)}return w[0]||w.shift(),b.e=c,Pt(b,s?a+cr(b)+1:a)}}();function z$(t,e){var r,n,i,a,s,u,c=0,f=0,h=t.constructor,m=h.precision;if(cr(t)>16)throw Error(dS+cr(t));if(!t.s)return new h(Fn);for(Bt=!1,u=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(Rs(2,f))/Math.LN10*2+5|0,u+=n,r=i=a=new h(Fn),h.precision=u;;){if(i=Pt(i.times(t),u),r=r.times(++c),s=a.plus(Fa(i,r,u)),Qi(s.d).slice(0,u)===Qi(a.d).slice(0,u)){for(;f--;)a=Pt(a.times(a),u);return h.precision=m,e==null?(Bt=!0,Pt(a,m)):a}a=s}}function cr(t){for(var e=t.e*Mt,r=t.d[0];r>=10;r/=10)e++;return e}function X_(t,e,r){if(e>t.LN10.sd())throw Bt=!0,r&&(t.precision=r),Error(ci+"LN10 precision limit exceeded");return Pt(new t(t.LN10),e)}function Oo(t){for(var e="";t--;)e+="0";return e}function $f(t,e){var r,n,i,a,s,u,c,f,h,m=1,y=10,b=t,w=b.d,E=b.constructor,x=E.precision;if(b.s<1)throw Error(ci+(b.s?"NaN":"-Infinity"));if(b.eq(Fn))return new E(0);if(e==null?(Bt=!1,f=x):f=e,b.eq(10))return e==null&&(Bt=!0),X_(E,f);if(f+=y,E.precision=f,r=Qi(w),n=r.charAt(0),a=cr(b),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=Qi(b.d),n=r.charAt(0),m++;a=cr(b),n>1?(b=new E("0."+r),a++):b=new E(n+"."+r.slice(1))}else return c=X_(E,f+2,x).times(a+""),b=$f(new E(n+"."+r.slice(1)),f-y).plus(c),E.precision=x,e==null?(Bt=!0,Pt(b,x)):b;for(u=s=b=Fa(b.minus(Fn),b.plus(Fn),f),h=Pt(b.times(b),f),i=3;;){if(s=Pt(s.times(h),f),c=u.plus(Fa(s,new E(i),f)),Qi(c.d).slice(0,f)===Qi(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(X_(E,f+2,x).times(a+""))),u=Fa(u,new E(m),f),E.precision=x,e==null?(Bt=!0,Pt(u,x)):u;u=c,i+=2}}function rR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Zu(r/Mt),t.d=[],n=(r+1)%Mt,r<0&&(n+=Mt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Mt;n<i;)t.d.push(+e.slice(n,n+=Mt));e=e.slice(n),n=Mt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Bt&&(t.e>om||t.e<-om))throw Error(dS+r)}else t.s=0,t.e=0,t.d=[0];return t}function Pt(t,e,r){var n,i,a,s,u,c,f,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Mt,i=e,f=m[h=0];else{if(h=Math.ceil((n+1)/Mt),a=m.length,h>=a)return t;for(f=a=m[h],s=1;a>=10;a/=10)s++;n%=Mt,i=n-Mt+s}if(r!==void 0&&(a=Rs(10,s-i-1),u=f/a%10|0,c=e<0||m[h+1]!==void 0||f%a,c=r<4?(u||c)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||c||r==6&&(n>0?i>0?f/Rs(10,s-i):0:m[h-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(a=cr(t),m.length=1,e=e-a-1,m[0]=Rs(10,(Mt-e%Mt)%Mt),t.e=Zu(-e/Mt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=h,a=1,h--):(m.length=h+1,a=Rs(10,Mt-n),m[h]=i>0?(f/Rs(10,s-i)%Rs(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==Pr&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=Pr)break;m[h--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Bt&&(t.e>om||t.e<-om))throw Error(dS+cr(t));return t}function W$(t,e){var r,n,i,a,s,u,c,f,h,m,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Bt?Pt(e,b):e;if(c=t.d,m=e.d,n=e.e,f=t.e,c=c.slice(),s=f-n,s){for(h=s<0,h?(r=c,s=-s,u=m.length):(r=m,n=f,u=c.length),i=Math.max(Math.ceil(b/Mt),u)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(r=c,c=m,m=r,e.s=-e.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Pr-1;--c[a],c[i]+=Pr}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Bt?Pt(e,b):e):new y(0)}function el(t,e,r){var n,i=cr(t),a=Qi(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Oo(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Oo(-i-1)+a,r&&(n=r-s)>0&&(a+=Oo(n))):i>=s?(a+=Oo(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Oo(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Oo(n))),t.s<0?"-"+a:a}function nR(t,e){if(t.length>e)return t.length=e,!0}function H$(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(qs+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return rR(s,a.toString())}else if(typeof a!="string")throw Error(qs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,vQ.test(a))rR(s,a);else throw Error(qs+a)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=H$,i.config=i.set=bQ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function bQ(t){if(!t||typeof t!="object")throw Error(ci+"Object expected");var e,r,n,i=["precision",1,Ju,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Zu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(qs+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qs+r+": "+n);return this}var hS=H$(yQ);Fn=new hS(1);const Et=hS;function _Q(t){return SQ(t)||EQ(t)||wQ(t)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wQ(t,e){if(t){if(typeof t=="string")return Iw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iw(t,e)}}function EQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function SQ(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var TQ=function(e){return e},K$={},G$=function(e){return e===K$},iR=function(e){return function r(){return arguments.length===0||arguments.length===1&&G$(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},AQ=function t(e,r){return e===1?r:iR(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(u){return u!==K$}).length;return s>=e?r.apply(void 0,i):t(e-s,iR(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(m){return G$(m)?c.shift():m});return r.apply(void 0,_Q(h).concat(c))}))})},Sg=function(e){return AQ(e.length,e)},Ow=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},PQ=Sg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),kQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return TQ;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},Cw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Y$=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(u,c){return u===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function IQ(t){var e;return t===0?e=1:e=Math.floor(new Et(t).abs().log(10).toNumber())+1,e}function OQ(t,e,r){for(var n=new Et(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var CQ=Sg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),NQ=Sg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),RQ=Sg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Tg={rangeStep:OQ,getDigitCount:IQ,interpolateNumber:CQ,uninterpolateNumber:NQ,uninterpolateTruncation:RQ};function Nw(t){return DQ(t)||MQ(t)||X$(t)||jQ()}function jQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function DQ(t){if(Array.isArray(t))return Rw(t)}function Vf(t,e){return VQ(t)||$Q(t,e)||X$(t,e)||LQ()}function LQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X$(t,e){if(t){if(typeof t=="string")return Rw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rw(t,e)}}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Q(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function VQ(t){if(Array.isArray(t))return t}function Q$(t){var e=Vf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function J$(t,e,r){if(t.lte(0))return new Et(0);var n=Tg.getDigitCount(t.toNumber()),i=new Et(10).pow(n),a=t.div(i),s=n!==1?.05:.1,u=new Et(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=u.mul(i);return e?c:new Et(Math.ceil(c))}function FQ(t,e,r){var n=1,i=new Et(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Et(10).pow(Tg.getDigitCount(t)-1),i=new Et(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Et(Math.floor(t)))}else t===0?i=new Et(Math.floor((e-1)/2)):r||(i=new Et(Math.floor(t)));var s=Math.floor((e-1)/2),u=kQ(PQ(function(c){return i.add(new Et(c-s).mul(n)).toNumber()}),Ow);return u(0,e)}function Z$(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var a=J$(new Et(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Et(0):(s=new Et(t).add(e).div(2),s=s.sub(new Et(s).mod(a)));var u=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new Et(e).sub(s).div(a).toNumber()),f=u+c+1;return f>r?Z$(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,u=e>0?u:u+(r-f)),{step:a,tickMin:s.sub(new Et(u).mul(a)),tickMax:s.add(new Et(c).mul(a))})}function UQ(t){var e=Vf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=Q$([r,n]),c=Vf(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(Nw(Ow(0,i-1).map(function(){return 1/0}))):[].concat(Nw(Ow(0,i-1).map(function(){return-1/0})),[h]);return r>n?Cw(m):m}if(f===h)return FQ(f,i,a);var y=Z$(f,h,s,a),b=y.step,w=y.tickMin,E=y.tickMax,x=Tg.rangeStep(w,E.add(new Et(.1).mul(b)),b);return r>n?Cw(x):x}function BQ(t,e){var r=Vf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Q$([n,i]),u=Vf(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var h=Math.max(e,2),m=J$(new Et(f).sub(c).div(h-1),a,0),y=[].concat(Nw(Tg.rangeStep(new Et(c),new Et(f).sub(new Et(.99).mul(m)),m)),[f]);return n>i?Cw(y):y}var qQ=Y$(UQ),zQ=Y$(BQ),WQ="Invariant failed";function tl(t,e){throw new Error(WQ)}var HQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sm.apply(this,arguments)}function KQ(t,e){return QQ(t)||XQ(t,e)||YQ(t,e)||GQ()}function GQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(t,e){if(t){if(typeof t=="string")return aR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(t,e)}}function aR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function QQ(t){if(Array.isArray(t))return t}function JQ(t,e){if(t==null)return{};var r=ZQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r4(n.key),n)}}function rJ(t,e,r){return e&&tJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nJ(t,e,r){return e=lm(e),iJ(t,e4()?Reflect.construct(e,r||[],lm(t).constructor):e.apply(t,r))}function iJ(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aJ(t)}function aJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e4=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lm(t)}function oJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jw(t,e)}function t4(t,e,r){return e=r4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r4(t){var e=sJ(t,"string");return Pu(e)=="symbol"?e:e+""}function sJ(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ag=function(t){function e(){return eJ(this,e),nJ(this,e,arguments)}return oJ(e,t),rJ(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,u=n.dataKey,c=n.data,f=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,y=JQ(n,HQ),b=Ke(y,!1);this.props.direction==="x"&&h.type!=="number"&&tl();var w=c.map(function(E){var x=f(E,u),N=x.x,C=x.y,I=x.value,$=x.errorVal;if(!$)return null;var O=[],j,A;if(Array.isArray($)){var P=KQ($,2);j=P[0],A=P[1]}else j=A=$;if(a==="vertical"){var R=h.scale,V=C+i,L=V+s,F=V-s,M=R(I-j),ee=R(I+A);O.push({x1:ee,y1:L,x2:ee,y2:F}),O.push({x1:M,y1:V,x2:ee,y2:V}),O.push({x1:M,y1:L,x2:M,y2:F})}else if(a==="horizontal"){var re=m.scale,ie=N+i,oe=ie-s,Q=ie+s,ae=re(I-j),se=re(I+A);O.push({x1:oe,y1:se,x2:Q,y2:se}),O.push({x1:ie,y1:ae,x2:ie,y2:se}),O.push({x1:oe,y1:ae,x2:Q,y2:ae})}return W.createElement(_t,sm({className:"recharts-errorBar",key:"bar-".concat(O.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},b),O.map(function(q){return W.createElement("line",sm({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return W.createElement(_t,{className:"recharts-errorBars"},w)}}])}(W.Component);t4(Ag,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});t4(Ag,"displayName","ErrorBar");function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function oR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ks(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(r),!0).forEach(function(n){lJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lJ(t,e,r){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uJ(t){var e=cJ(t,"string");return Ff(e)=="symbol"?e:e+""}function cJ(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n4=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Vn(r,qo);if(!s)return null;var u=qo.defaultProps,c=u!==void 0?ks(ks({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(n||[]).reduce(function(h,m){var y=m.item,b=m.props,w=b.sectors||b.data||[];return h.concat(w.map(function(E){return{type:s.props.iconType||y.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(n||[]).map(function(h){var m=h.item,y=m.type.defaultProps,b=y!==void 0?ks(ks({},y),m.props):{},w=b.dataKey,E=b.name,x=b.legendType,N=b.hide;return{inactive:N,dataKey:w,type:c.iconType||x||"square",color:pS(m),value:E||w,payload:b}}),ks(ks(ks({},c),qo.getWithHeight(s,i)),{},{payload:f,item:s})};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function sR(t){return pJ(t)||hJ(t)||dJ(t)||fJ()}function fJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dJ(t,e){if(t){if(typeof t=="string")return Mw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(t,e)}}function hJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pJ(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(r),!0).forEach(function(n){fu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fu(t,e,r){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mJ(t){var e=gJ(t,"string");return Uf(e)=="symbol"?e:e+""}function gJ(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jr(t,e,r){return tt(t)||tt(e)?r:vr(e)?zn(t,e,r):Ye(e)?e(t):r}function ff(t,e,r,n){var i=pQ(t,function(u){return Jr(u,e)});if(r==="number"){var a=i.filter(function(u){return be(u)||parseFloat(u)});return a.length?[wg(a),xg(a)]:[1/0,-1/0]}var s=n?i.filter(function(u){return!tt(u)}):i;return s.map(function(u){return vr(u)||u instanceof Date?u:""})}var yJ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,m=i[f].coordinate,y=f>=u-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(cn(m-h)!==cn(y-m)){var w=[];if(cn(y-m)===cn(c[1]-c[0])){b=y;var E=m+c[1]-c[0];w[0]=Math.min(E,(E+h)/2),w[1]=Math.max(E,(E+h)/2)}else{b=h;var x=y+c[1]-c[0];w[0]=Math.min(m,(x+m)/2),w[1]=Math.max(m,(x+m)/2)}var N=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(e>N[0]&&e<=N[1]||e>=w[0]&&e<=w[1]){s=i[f].index;break}}else{var C=Math.min(h,y),I=Math.max(h,y);if(e>(C+m)/2&&e<=(I+m)/2){s=i[f].index;break}}}else for(var $=0;$<u;$++)if($===0&&e<=(n[$].coordinate+n[$+1].coordinate)/2||$>0&&$<u-1&&e>(n[$].coordinate+n[$-1].coordinate)/2&&e<=(n[$].coordinate+n[$+1].coordinate)/2||$===u-1&&e>(n[$].coordinate+n[$-1].coordinate)/2){s=n[$].index;break}return s},pS=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,s=a.stroke,u=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},vJ=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},u=Object.keys(a),c=0,f=u.length;c<f;c++)for(var h=a[u[c]].stackGroups,m=Object.keys(h),y=0,b=m.length;y<b;y++){var w=h[m[y]],E=w.items,x=w.cateAxisId,N=E.filter(function(A){return Va(A.type).indexOf("Bar")>=0});if(N&&N.length){var C=N[0].type.defaultProps,I=C!==void 0?Zt(Zt({},C),N[0].props):N[0].props,$=I.barSize,O=I[x];s[O]||(s[O]=[]);var j=tt($)?r:$;s[O].push({item:N[0],stackList:N.slice(1),barSize:tt(j)?void 0:fn(j,n,0)})}}return s},bJ=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=fn(r,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var y=!1,b=i/c,w=s.reduce(function($,O){return $+O.barSize||0},0);w+=(c-1)*f,w>=i&&(w-=(c-1)*f,f=0),w>=i&&b>0&&(y=!0,b*=.9,w=c*b);var E=(i-w)/2>>0,x={offset:E-f,size:0};h=s.reduce(function($,O){var j={item:O.item,position:{offset:x.offset+x.size+f,size:y?b:O.barSize}},A=[].concat(sR($),[j]);return x=A[A.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(P){A.push({item:P,position:x})}),A},m)}else{var N=fn(n,i,0,!0);i-2*N-(c-1)*f<=0&&(f=0);var C=(i-2*N-(c-1)*f)/c;C>1&&(C>>=0);var I=u===+u?Math.min(C,u):C;h=s.reduce(function($,O,j){var A=[].concat(sR($),[{item:O.item,position:{offset:N+(C+f)*j+(C-I)/2,size:I}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},m)}return h},_J=function(e,r,n,i){var a=n.children,s=n.width,u=n.margin,c=s-(u.left||0)-(u.right||0),f=n4({children:a,legendWidth:c});if(f){var h=i||{},m=h.width,y=h.height,b=f.align,w=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&w==="middle")&&b!=="center"&&be(e[b]))return Zt(Zt({},e),{},fu({},b,e[b]+(m||0)));if((E==="horizontal"||E==="vertical"&&b==="center")&&w!=="middle"&&be(e[w]))return Zt(Zt({},e),{},fu({},w,e[w]+(y||0)))}return e},xJ=function(e,r,n){return tt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},i4=function(e,r,n,i,a){var s=r.props.children,u=ui(s,Ag).filter(function(f){return xJ(i,a,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=Jr(h,n);if(tt(m))return f;var y=Array.isArray(m)?[wg(m),xg(m)]:[m,m],b=c.reduce(function(w,E){var x=Jr(h,E,0),N=y[0]-Math.abs(Array.isArray(x)?x[0]:x),C=y[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(N,w[0]),Math.max(C,w[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},wJ=function(e,r,n,i,a){var s=r.map(function(u){return i4(e,u,n,a,i)}).filter(function(u){return!tt(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},a4=function(e,r,n,i,a){var s=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&i4(e,c,f,i)||ff(e,f,n,a)});if(n==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},o4=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},s4=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,s,u=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||u.push(r),s||u.push(n),u},La=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?cn(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+f,value:m,offset:f}});return h.filter(function(m){return!Td(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+f,value:m,index:y,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,y){return{coordinate:i(m)+f,value:a?a[m]:m,index:y,offset:f}})},Q_=new WeakMap,op=function(e,r){if(typeof r!="function")return e;Q_.has(e)||Q_.set(e,new WeakMap);var n=Q_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},l4=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Rf(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:rm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:cf(),realScaleType:"point"}:a==="category"?{scale:Rf(),realScaleType:"band"}:{scale:rm(),realScaleType:"linear"};if(Qs(i)){var c="scale".concat(og(i));return{scale:(KN[c]||cf)(),realScaleType:KN[c]?c:"point"}}return Ye(i)?{scale:i}:{scale:cf(),realScaleType:"point"}},uR=1e-4,u4=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-uR,s=Math.max(i[0],i[1])+uR,u=e(r[0]),c=e(r[n-1]);(u<a||u>s||c<a||c>s)&&e.domain([r[0],r[n-1]])}},EJ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},SJ=function(e,r){if(!r||r.length!==2||!be(r[0])||!be(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!be(e[0])||e[0]<n)&&(a[0]=n),(!be(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},TJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,u=0;u<r;++u){var c=Td(e[u][n][1])?e[u][n][0]:e[u][n][1];c>=0?(e[u][n][0]=a,e[u][n][1]=a+c,a=e[u][n][1]):(e[u][n][0]=s,e[u][n][1]=s+c,s=e[u][n][1])}},AJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var u=Td(e[s][n][1])?e[s][n][0]:e[s][n][1];u>=0?(e[s][n][0]=a,e[s][n][1]=a+u,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},PJ={sign:TJ,expand:pW,none:bu,silhouette:mW,wiggle:gW,positive:AJ},kJ=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=PJ[n],s=hW().keys(i).value(function(u,c){return+Jr(u,c,0)}).order(fw).offset(a);return s(e)},IJ=function(e,r,n,i,a,s){if(!e)return null;var u=s?r.reverse():r,c={},f=u.reduce(function(m,y){var b,w=(b=y.type)!==null&&b!==void 0&&b.defaultProps?Zt(Zt({},y.type.defaultProps),y.props):y.props,E=w.stackId,x=w.hide;if(x)return m;var N=w[n],C=m[N]||{hasStack:!1,stackGroups:{}};if(vr(E)){var I=C.stackGroups[E]||{numericAxisId:n,cateAxisId:i,items:[]};I.items.push(y),C.hasStack=!0,C.stackGroups[E]=I}else C.stackGroups[Ad("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Zt(Zt({},m),{},fu({},N,C))},c),h={};return Object.keys(f).reduce(function(m,y){var b=f[y];if(b.hasStack){var w={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(E,x){var N=b.stackGroups[x];return Zt(Zt({},E),{},fu({},x,{numericAxisId:n,cateAxisId:i,items:N.items,stackedData:kJ(e,N.items,a)}))},w)}return Zt(Zt({},m),{},fu({},y,b))},h)},c4=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,u=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=qQ(f,a,u);return e.domain([wg(h),xg(h)]),{niceTicks:h}}if(a&&i==="number"){var m=e.domain(),y=zQ(m,a,u);return{niceTicks:y}}return null},cR=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var c=Jr(s,r.dataKey,r.domain[u]);return tt(c)?null:r.scale(c)-a/2+i},OJ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},CJ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(vr(a)){var s=r[a];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},NJ=function(e){return e.reduce(function(r,n){return[wg(n.concat([r[0]]).filter(be)),xg(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},f4=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],u=s.stackedData,c=u.reduce(function(f,h){var m=NJ(h.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},fR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dw=function(e,r,n){if(Ye(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(be(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(fR.test(e[0])){var a=+fR.exec(e[0])[1];i[0]=r[0]-a}else Ye(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(be(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(dR.test(e[1])){var s=+dR.exec(e[1])[1];i[1]=r[1]+s}else Ye(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},um=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=UE(r,function(m){return m.coordinate}),s=1/0,u=1,c=a.length;u<c;u++){var f=a[u],h=a[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},hR=function(e,r,n){return!e||!e.length||Eg(e,zn(n,"type.defaultProps.domain"))?r:e},d4=function(e,r){var n=e.type.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,u=n.formatter,c=n.tooltipType,f=n.chartType,h=n.hide;return Zt(Zt({},Ke(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:a||i,color:pS(e),value:Jr(r,i),type:c,payload:r,chartType:f,hide:h})};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function pR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(r),!0).forEach(function(n){h4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h4(t,e,r){return e=RJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RJ(t){var e=jJ(t,"string");return Bf(e)=="symbol"?e:e+""}function jJ(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MJ(t,e){return VJ(t)||$J(t,e)||LJ(t,e)||DJ()}function DJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LJ(t,e){if(t){if(typeof t=="string")return mR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mR(t,e)}}function mR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $J(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function VJ(t){if(Array.isArray(t))return t}var cm=Math.PI/180,FJ=function(e){return e*180/Math.PI},Ct=function(e,r,n,i){return{x:e+Math.cos(-cm*i)*n,y:r+Math.sin(-cm*i)*n}},p4=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},UJ=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.startAngle,f=e.endAngle,h=fn(e.cx,s,s/2),m=fn(e.cy,u,u/2),y=p4(s,u,n),b=fn(e.innerRadius,y,0),w=fn(e.outerRadius,y,y*.8),E=Object.keys(r);return E.reduce(function(x,N){var C=r[N],I=C.domain,$=C.reversed,O;if(tt(C.range))i==="angleAxis"?O=[c,f]:i==="radiusAxis"&&(O=[b,w]),$&&(O=[O[1],O[0]]);else{O=C.range;var j=O,A=MJ(j,2);c=A[0],f=A[1]}var P=l4(C,a),R=P.realScaleType,V=P.scale;V.domain(I).range(O),u4(V);var L=c4(V,Ca(Ca({},C),{},{realScaleType:R})),F=Ca(Ca(Ca({},C),L),{},{range:O,radius:w,realScaleType:R,scale:V,cx:h,cy:m,innerRadius:b,outerRadius:w,startAngle:c,endAngle:f});return Ca(Ca({},x),{},h4({},N,F))},{})},BJ=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},qJ=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,u=BJ({x:n,y:i},{x:a,y:s});if(u<=0)return{radius:u};var c=(n-a)/u,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:u,angle:FJ(f),angleInRadian:f}},zJ=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},WJ=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),u=Math.min(a,s);return e+u*360},gR=function(e,r){var n=e.x,i=e.y,a=qJ({x:n,y:i},r),s=a.radius,u=a.angle,c=r.innerRadius,f=r.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=zJ(r),m=h.startAngle,y=h.endAngle,b=u,w;if(m<=y){for(;b>y;)b-=360;for(;b<m;)b+=360;w=b>=m&&b<=y}else{for(;b>m;)b-=360;for(;b<y;)b+=360;w=b>=y&&b<=m}return w?Ca(Ca({},r),{},{radius:s,angle:WJ(b,r)}):null},m4=function(e){return!G.isValidElement(e)&&!Ye(e)&&typeof e!="boolean"?e.className:""};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var HJ=["offset"];function KJ(t){return QJ(t)||XJ(t)||YJ(t)||GJ()}function GJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YJ(t,e){if(t){if(typeof t=="string")return Lw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lw(t,e)}}function XJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QJ(t){if(Array.isArray(t))return Lw(t)}function Lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JJ(t,e){if(t==null)return{};var r=ZJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){eZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eZ(t,e,r){return e=tZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tZ(t){var e=rZ(t,"string");return qf(e)=="symbol"?e:e+""}function rZ(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zf.apply(this,arguments)}var nZ=function(e){var r=e.value,n=e.formatter,i=tt(e.children)?r:e.children;return Ye(n)?n(i):i},iZ=function(e,r){var n=cn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},aZ=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,u=e.className,c=a,f=c.cx,h=c.cy,m=c.innerRadius,y=c.outerRadius,b=c.startAngle,w=c.endAngle,E=c.clockWise,x=(m+y)/2,N=iZ(b,w),C=N>=0?1:-1,I,$;i==="insideStart"?(I=b+C*s,$=E):i==="insideEnd"?(I=w-C*s,$=!E):i==="end"&&(I=w+C*s,$=E),$=N<=0?$:!$;var O=Ct(f,h,x,I),j=Ct(f,h,x,I+($?1:-1)*359),A="M".concat(O.x,",").concat(O.y,`
    A`).concat(x,",").concat(x,",0,1,").concat($?0:1,`,
    `).concat(j.x,",").concat(j.y),P=tt(e.id)?Ad("recharts-radial-line-"):e.id;return W.createElement("text",zf({},n,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",u)}),W.createElement("defs",null,W.createElement("path",{id:P,d:A})),W.createElement("textPath",{xlinkHref:"#".concat(P)},r))},oZ=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,u=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,m=a.endAngle,y=(h+m)/2;if(i==="outside"){var b=Ct(s,u,f+n,y),w=b.x,E=b.y;return{x:w,y:E,textAnchor:w>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var x=(c+f)/2,N=Ct(s,u,x,y),C=N.x,I=N.y;return{x:C,y:I,textAnchor:"middle",verticalAnchor:"middle"}},sZ=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,u=s.x,c=s.y,f=s.width,h=s.height,m=h>=0?1:-1,y=m*i,b=m>0?"end":"start",w=m>0?"start":"end",E=f>=0?1:-1,x=E*i,N=E>0?"end":"start",C=E>0?"start":"end";if(a==="top"){var I={x:u+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:b};return yr(yr({},I),n?{height:Math.max(c-n.y,0),width:f}:{})}if(a==="bottom"){var $={x:u+f/2,y:c+h+y,textAnchor:"middle",verticalAnchor:w};return yr(yr({},$),n?{height:Math.max(n.y+n.height-(c+h),0),width:f}:{})}if(a==="left"){var O={x:u-x,y:c+h/2,textAnchor:N,verticalAnchor:"middle"};return yr(yr({},O),n?{width:Math.max(O.x-n.x,0),height:h}:{})}if(a==="right"){var j={x:u+f+x,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return yr(yr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:h}:{})}var A=n?{width:f,height:h}:{};return a==="insideLeft"?yr({x:u+x,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},A):a==="insideRight"?yr({x:u+f-x,y:c+h/2,textAnchor:N,verticalAnchor:"middle"},A):a==="insideTop"?yr({x:u+f/2,y:c+y,textAnchor:"middle",verticalAnchor:w},A):a==="insideBottom"?yr({x:u+f/2,y:c+h-y,textAnchor:"middle",verticalAnchor:b},A):a==="insideTopLeft"?yr({x:u+x,y:c+y,textAnchor:C,verticalAnchor:w},A):a==="insideTopRight"?yr({x:u+f-x,y:c+y,textAnchor:N,verticalAnchor:w},A):a==="insideBottomLeft"?yr({x:u+x,y:c+h-y,textAnchor:C,verticalAnchor:b},A):a==="insideBottomRight"?yr({x:u+f-x,y:c+h-y,textAnchor:N,verticalAnchor:b},A):Gu(a)&&(be(a.x)||Ds(a.x))&&(be(a.y)||Ds(a.y))?yr({x:u+fn(a.x,f),y:c+fn(a.y,h),textAnchor:"end",verticalAnchor:"end"},A):yr({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},lZ=function(e){return"cx"in e&&be(e.cx)};function kr(t){var e=t.offset,r=e===void 0?5:e,n=JJ(t,HJ),i=yr({offset:r},n),a=i.viewBox,s=i.position,u=i.value,c=i.children,f=i.content,h=i.className,m=h===void 0?"":h,y=i.textBreakAll;if(!a||tt(u)&&tt(c)&&!G.isValidElement(f)&&!Ye(f))return null;if(G.isValidElement(f))return G.cloneElement(f,i);var b;if(Ye(f)){if(b=G.createElement(f,i),G.isValidElement(b))return b}else b=nZ(i);var w=lZ(a),E=Ke(i,!0);if(w&&(s==="insideStart"||s==="insideEnd"||s==="end"))return aZ(i,b,E);var x=w?oZ(i):sZ(i);return W.createElement(Zs,zf({className:Ze("recharts-label",m)},E,x,{breakAll:y}),b)}kr.displayName="Label";var g4=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,y=e.y,b=e.top,w=e.left,E=e.width,x=e.height,N=e.clockWise,C=e.labelViewBox;if(C)return C;if(be(E)&&be(x)){if(be(m)&&be(y))return{x:m,y,width:E,height:x};if(be(b)&&be(w))return{x:b,y:w,width:E,height:x}}return be(m)&&be(y)?{x:m,y,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:N}:e.viewBox?e.viewBox:{}},uZ=function(e,r){return e?e===!0?W.createElement(kr,{key:"label-implicit",viewBox:r}):vr(e)?W.createElement(kr,{key:"label-implicit",viewBox:r,value:e}):G.isValidElement(e)?e.type===kr?G.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(kr,{key:"label-implicit",content:e,viewBox:r}):Ye(e)?W.createElement(kr,{key:"label-implicit",content:e,viewBox:r}):Gu(e)?W.createElement(kr,zf({viewBox:r},e,{key:"label-implicit"})):null:null},cZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=g4(e),s=ui(i,kr).map(function(c,f){return G.cloneElement(c,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return s;var u=uZ(e.label,r||a);return[u].concat(KJ(s))};kr.parseViewBox=g4;kr.renderCallByParent=cZ;var J_,vR;function fZ(){if(vR)return J_;vR=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return J_=t,J_}var dZ=fZ();const hZ=yt(dZ);function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}var pZ=["valueAccessor"],mZ=["data","dataKey","clockWise","id","textBreakAll"];function gZ(t){return _Z(t)||bZ(t)||vZ(t)||yZ()}function yZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vZ(t,e){if(t){if(typeof t=="string")return $w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(t,e)}}function bZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Z(t){if(Array.isArray(t))return $w(t)}function $w(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fm.apply(this,arguments)}function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){xZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xZ(t,e,r){return e=wZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wZ(t){var e=EZ(t,"string");return Wf(e)=="symbol"?e:e+""}function EZ(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xR(t,e){if(t==null)return{};var r=SZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var TZ=function(e){return Array.isArray(e.value)?hZ(e.value):e.value};function Wo(t){var e=t.valueAccessor,r=e===void 0?TZ:e,n=xR(t,pZ),i=n.data,a=n.dataKey,s=n.clockWise,u=n.id,c=n.textBreakAll,f=xR(n,mZ);return!i||!i.length?null:W.createElement(_t,{className:"recharts-label-list"},i.map(function(h,m){var y=tt(a)?r(h,m):Jr(h&&h.payload,a),b=tt(u)?{}:{id:"".concat(u,"-").concat(m)};return W.createElement(kr,fm({},Ke(h,!0),f,b,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:kr.parseViewBox(tt(s)?h:_R(_R({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}Wo.displayName="LabelList";function AZ(t,e){return t?t===!0?W.createElement(Wo,{key:"labelList-implicit",data:e}):W.isValidElement(t)||Ye(t)?W.createElement(Wo,{key:"labelList-implicit",data:e,content:t}):Gu(t)?W.createElement(Wo,fm({data:e},t,{key:"labelList-implicit"})):null:null}function PZ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ui(n,Wo).map(function(s,u){return G.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=AZ(t.label,e);return[a].concat(gZ(i))}Wo.renderCallByParent=PZ;function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vw.apply(this,arguments)}function wR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ER(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(r),!0).forEach(function(n){kZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kZ(t,e,r){return e=IZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IZ(t){var e=OZ(t,"string");return Hf(e)=="symbol"?e:e+""}function OZ(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CZ=function(e,r){var n=cn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},sp=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,m=Math.asin(c/h)/cm,y=f?a:a+s*m,b=Ct(r,n,h,y),w=Ct(r,n,i,y),E=f?a-s*m:a,x=Ct(r,n,h*Math.cos(m*cm),E);return{center:b,circleTangency:w,lineTangency:x,theta:m}},y4=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,u=e.endAngle,c=CZ(s,u),f=s+c,h=Ct(r,n,a,s),m=Ct(r,n,a,f),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var b=Ct(r,n,i,s),w=Ct(r,n,i,f);y+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},NZ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=cn(h-f),y=sp({cx:r,cy:n,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),b=y.circleTangency,w=y.lineTangency,E=y.theta,x=sp({cx:r,cy:n,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),N=x.circleTangency,C=x.lineTangency,I=x.theta,$=c?Math.abs(f-h):Math.abs(f-h)-E-I;if($<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):y4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var O="M ".concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var j=sp({cx:r,cy:n,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=j.circleTangency,P=j.lineTangency,R=j.theta,V=sp({cx:r,cy:n,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),L=V.circleTangency,F=V.lineTangency,M=V.theta,ee=c?Math.abs(f-h):Math.abs(f-h)-R-M;if(ee<0&&s===0)return"".concat(O,"L").concat(r,",").concat(n,"Z");O+="L".concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ee>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else O+="L".concat(r,",").concat(n,"Z");return O},RZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mS=function(e){var r=ER(ER({},RZ),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,u=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,y=r.className;if(s<a||h===m)return null;var b=Ze("recharts-sector",y),w=s-a,E=fn(u,w,0,!0),x;return E>0&&Math.abs(h-m)<360?x=NZ({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,w/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):x=y4({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),W.createElement("path",Vw({},Ke(r,!0),{className:b,d:x,role:"img"}))};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fw.apply(this,arguments)}function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){jZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jZ(t,e,r){return e=MZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MZ(t){var e=DZ(t,"string");return Kf(e)=="symbol"?e:e+""}function DZ(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AR={curveBasisClosed:rW,curveBasisOpen:nW,curveBasis:tW,curveBumpX:U7,curveBumpY:B7,curveLinearClosed:iW,curveLinear:lg,curveMonotoneX:aW,curveMonotoneY:oW,curveNatural:sW,curveStep:lW,curveStepAfter:cW,curveStepBefore:uW},lp=function(e){return e.x===+e.x&&e.y===+e.y},Uc=function(e){return e.x},Bc=function(e){return e.y},LZ=function(e,r){if(Ye(e))return e;var n="curve".concat(og(e));return(n==="curveMonotone"||n==="curveBump")&&r?AR["".concat(n).concat(r==="vertical"?"Y":"X")]:AR[n]||lg},$Z=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=LZ(n,u),m=f?a.filter(function(E){return lp(E)}):a,y;if(Array.isArray(s)){var b=f?s.filter(function(E){return lp(E)}):s,w=m.map(function(E,x){return TR(TR({},E),{},{base:b[x]})});return u==="vertical"?y=Zh().y(Bc).x1(Uc).x0(function(E){return E.base.x}):y=Zh().x(Uc).y1(Bc).y0(function(E){return E.base.y}),y.defined(lp).curve(h),y(w)}return u==="vertical"&&be(s)?y=Zh().y(Bc).x1(Uc).x0(s):be(s)?y=Zh().x(Uc).y1(Bc).y0(s):y=gL().x(Uc).y(Bc),y.defined(lp).curve(h),y(m)},Uw=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?$Z(e):i;return G.createElement("path",Fw({},Ke(e,!1),Vp(e),{className:Ze("recharts-curve",r),d:s,ref:a}))},Z_={exports:{}},ex,PR;function VZ(){if(PR)return ex;PR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ex=t,ex}var tx,kR;function FZ(){if(kR)return tx;kR=1;var t=VZ();function e(){}function r(){}return r.resetWarningCache=e,tx=function(){function n(s,u,c,f,h,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},tx}var IR;function UZ(){return IR||(IR=1,Z_.exports=FZ()()),Z_.exports}var BZ=UZ();const mt=yt(BZ);var qZ=Object.getOwnPropertyNames,zZ=Object.getOwnPropertySymbols,WZ=Object.prototype.hasOwnProperty;function OR(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function up(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),u=a.get(n);if(s&&u)return s===n&&u===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function CR(t){return qZ(t).concat(zZ(t))}var HZ=Object.hasOwn||function(t,e){return WZ.call(t,e)};function fl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var KZ="__v",GZ="__o",YZ="_owner",NR=Object.getOwnPropertyDescriptor,RR=Object.keys;function XZ(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function QZ(t,e){return fl(t.getTime(),e.getTime())}function JZ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ZZ(t,e){return t===e}function jR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,u,c=0;(s=a.next())&&!s.done;){for(var f=e.entries(),h=!1,m=0;(u=f.next())&&!u.done;){if(i[m]){m++;continue}var y=s.value,b=u.value;if(r.equals(y[0],b[0],c,m,t,e,r)&&r.equals(y[1],b[1],y[0],b[0],t,e,r)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}var eee=fl;function tee(t,e,r){var n=RR(t),i=n.length;if(RR(e).length!==i)return!1;for(;i-- >0;)if(!v4(t,e,r,n[i]))return!1;return!0}function qc(t,e,r){var n=CR(t),i=n.length;if(CR(e).length!==i)return!1;for(var a,s,u;i-- >0;)if(a=n[i],!v4(t,e,r,a)||(s=NR(t,a),u=NR(e,a),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function ree(t,e){return fl(t.valueOf(),e.valueOf())}function nee(t,e){return t.source===e.source&&t.flags===e.flags}function MR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,u;(s=a.next())&&!s.done;){for(var c=e.values(),f=!1,h=0;(u=c.next())&&!u.done;){if(!i[h]&&r.equals(s.value,u.value,s.value,u.value,t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function iee(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function aee(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function v4(t,e,r,n){return(n===YZ||n===GZ||n===KZ)&&(t.$$typeof||e.$$typeof)?!0:HZ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var oee="[object Arguments]",see="[object Boolean]",lee="[object Date]",uee="[object Error]",cee="[object Map]",fee="[object Number]",dee="[object Object]",hee="[object RegExp]",pee="[object Set]",mee="[object String]",gee="[object URL]",yee=Array.isArray,DR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,LR=Object.assign,vee=Object.prototype.toString.call.bind(Object.prototype.toString);function bee(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,u=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(w,E,x){if(w===E)return!0;if(w==null||E==null)return!1;var N=typeof w;if(N!==typeof E)return!1;if(N!=="object")return N==="number"?s(w,E,x):N==="function"?i(w,E,x):!1;var C=w.constructor;if(C!==E.constructor)return!1;if(C===Object)return u(w,E,x);if(yee(w))return e(w,E,x);if(DR!=null&&DR(w))return m(w,E,x);if(C===Date)return r(w,E,x);if(C===RegExp)return f(w,E,x);if(C===Map)return a(w,E,x);if(C===Set)return h(w,E,x);var I=vee(w);return I===lee?r(w,E,x):I===hee?f(w,E,x):I===cee?a(w,E,x):I===pee?h(w,E,x):I===dee?typeof w.then!="function"&&typeof E.then!="function"&&u(w,E,x):I===gee?y(w,E,x):I===uee?n(w,E,x):I===oee?u(w,E,x):I===see||I===fee||I===mee?c(w,E,x):!1}}function _ee(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?qc:XZ,areDatesEqual:QZ,areErrorsEqual:JZ,areFunctionsEqual:ZZ,areMapsEqual:n?OR(jR,qc):jR,areNumbersEqual:eee,areObjectsEqual:n?qc:tee,arePrimitiveWrappersEqual:ree,areRegExpsEqual:nee,areSetsEqual:n?OR(MR,qc):MR,areTypedArraysEqual:n?qc:iee,areUrlsEqual:aee};if(r&&(i=LR({},i,r(i))),e){var a=up(i.areArraysEqual),s=up(i.areMapsEqual),u=up(i.areObjectsEqual),c=up(i.areSetsEqual);i=LR({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:u,areSetsEqual:c})}return i}function xee(t){return function(e,r,n,i,a,s,u){return t(e,r,u)}}function wee(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,f){var h=n(),m=h.cache,y=m===void 0?e?new WeakMap:void 0:m,b=h.meta;return r(c,f,{cache:y,equals:i,meta:b,strict:a})};if(e)return function(c,f){return r(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,f){return r(c,f,s)}}var Eee=ns();ns({strict:!0});ns({circular:!0});ns({circular:!0,strict:!0});ns({createInternalComparator:function(){return fl}});ns({strict:!0,createInternalComparator:function(){return fl}});ns({circular:!0,createInternalComparator:function(){return fl}});ns({circular:!0,createInternalComparator:function(){return fl},strict:!0});function ns(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,u=_ee(t),c=bee(u),f=n?n(c):xee(c);return wee({circular:r,comparator:c,createState:i,equals:f,strict:s})}function See(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function $R(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):See(i)};requestAnimationFrame(n)}function Bw(t){"@babel/helpers - typeof";return Bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bw(t)}function Tee(t){return Iee(t)||kee(t)||Pee(t)||Aee()}function Aee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pee(t,e){if(t){if(typeof t=="string")return VR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VR(t,e)}}function VR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Iee(t){if(Array.isArray(t))return t}function Oee(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,u=Tee(s),c=u[0],f=u.slice(1);if(typeof c=="number"){$R(i.bind(null,f),c);return}i(c),$R(i.bind(null,f));return}Bw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function FR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(r),!0).forEach(function(n){b4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b4(t,e,r){return e=Cee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cee(t){var e=Nee(t,"string");return Gf(e)==="symbol"?e:String(e)}function Nee(t,e){if(Gf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ree=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},jee=function(e){return e},Mee=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},df=function(e,r){return Object.keys(r).reduce(function(n,i){return UR(UR({},n),{},b4({},i,e(i,r[i])))},{})},BR=function(e,r,n){return e.map(function(i){return"".concat(Mee(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Dee(t,e){return Vee(t)||$ee(t,e)||_4(t,e)||Lee()}function Lee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Vee(t){if(Array.isArray(t))return t}function Fee(t){return qee(t)||Bee(t)||_4(t)||Uee()}function Uee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _4(t,e){if(t){if(typeof t=="string")return qw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qw(t,e)}}function Bee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qee(t){if(Array.isArray(t))return qw(t)}function qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dm=1e-4,x4=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},w4=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},qR=function(e,r){return function(n){var i=x4(e,r);return w4(i,n)}},zee=function(e,r){return function(n){var i=x4(e,r),a=[].concat(Fee(i.map(function(s,u){return s*u}).slice(1)),[0]);return w4(a,n)}},zR=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,u=1;break;case"ease":i=.25,a=.1,s=.25,u=1;break;case"ease-in":i=.42,a=0,s=1,u=1;break;case"ease-out":i=.42,a=0,s=.58,u=1;break;case"ease-in-out":i=0,a=0,s=.58,u=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=Dee(f,4);i=h[0],a=h[1],s=h[2],u=h[3]}}}var m=qR(i,s),y=qR(a,u),b=zee(i,s),w=function(N){return N>1?1:N<0?0:N},E=function(N){for(var C=N>1?1:N,I=C,$=0;$<8;++$){var O=m(I)-C,j=b(I);if(Math.abs(O-C)<dm||j<dm)return y(I);I=w(I-O/j)}return y(I)};return E.isStepper=!1,E},Wee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(h,m,y){var b=-(h-m)*n,w=y*a,E=y+(b-w)*u/1e3,x=y*u/1e3+h;return Math.abs(x-m)<dm&&Math.abs(E)<dm?[m,0]:[x,E]};return c.isStepper=!0,c.dt=u,c},Hee=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zR(i);case"spring":return Wee();default:if(i.split("(")[0]==="cubic-bezier")return zR(i)}return typeof i=="function"?i:null};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function WR(t){return Yee(t)||Gee(t)||E4(t)||Kee()}function Kee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yee(t){if(Array.isArray(t))return Ww(t)}function HR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(r),!0).forEach(function(n){zw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zw(t,e,r){return e=Xee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xee(t){var e=Qee(t,"string");return Yf(e)==="symbol"?e:String(e)}function Qee(t,e){if(Yf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jee(t,e){return tte(t)||ete(t,e)||E4(t,e)||Zee()}function Zee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E4(t,e){if(t){if(typeof t=="string")return Ww(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(t,e)}}function Ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ete(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function tte(t){if(Array.isArray(t))return t}var hm=function(e,r,n){return e+(r-e)*n},Hw=function(e){var r=e.from,n=e.to;return r!==n},rte=function t(e,r,n){var i=df(function(a,s){if(Hw(s)){var u=e(s.from,s.to,s.velocity),c=Jee(u,2),f=c[0],h=c[1];return Dr(Dr({},s),{},{from:f,velocity:h})}return s},r);return n<1?df(function(a,s){return Hw(s)?Dr(Dr({},s),{},{velocity:hm(s.velocity,i[a].velocity,n),from:hm(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const nte=function(t,e,r,n,i){var a=Ree(t,e),s=a.reduce(function(x,N){return Dr(Dr({},x),{},zw({},N,[t[N],e[N]]))},{}),u=a.reduce(function(x,N){return Dr(Dr({},x),{},zw({},N,{from:t[N],velocity:0,to:e[N]}))},{}),c=-1,f,h,m=function(){return null},y=function(){return df(function(N,C){return C.from},u)},b=function(){return!Object.values(u).filter(Hw).length},w=function(N){f||(f=N);var C=N-f,I=C/r.dt;u=rte(r,u,I),i(Dr(Dr(Dr({},t),e),y())),f=N,b()||(c=requestAnimationFrame(m))},E=function(N){h||(h=N);var C=(N-h)/n,I=df(function(O,j){return hm.apply(void 0,WR(j).concat([r(C)]))},s);if(i(Dr(Dr(Dr({},t),e),I)),C<1)c=requestAnimationFrame(m);else{var $=df(function(O,j){return hm.apply(void 0,WR(j).concat([r(1)]))},s);i(Dr(Dr(Dr({},t),e),$))}};return m=r.isStepper?w:E,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}var ite=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ate(t,e){if(t==null)return{};var r=ote(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ote(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rx(t){return cte(t)||ute(t)||lte(t)||ste()}function ste(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lte(t,e){if(t){if(typeof t=="string")return Kw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(t,e)}}function ute(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cte(t){if(Array.isArray(t))return Kw(t)}function Kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ki(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(r),!0).forEach(function(n){ef(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ef(t,e,r){return e=S4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S4(n.key),n)}}function hte(t,e,r){return e&&dte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S4(t){var e=pte(t,"string");return ku(e)==="symbol"?e:String(e)}function pte(t,e){if(ku(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ku(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gw(t,e)}function gte(t){var e=yte();return function(){var n=pm(t),i;if(e){var a=pm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Yw(this,i)}}function Yw(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xw(t)}function Xw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pm(t)}var Ya=function(t){mte(r,t);var e=gte(r);function r(n,i){var a;fte(this,r),a=e.call(this,n,i);var s=a.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,m=s.steps,y=s.children,b=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Xw(a)),a.changeStyle=a.changeStyle.bind(Xw(a)),!u||b<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:h}),Yw(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof y=="function")return a.state={style:f},Yw(a);a.state={style:c?ef({},c,f):f}}else a.state={style:{}};return a}return hte(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,u=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,m=a.from,y=this.state.style;if(u){if(!s){var b={style:c?ef({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(b);return}if(!(Eee(i.to,h)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=w||f?m:i.to;if(this.state&&y){var x={style:c?ef({},c,E):E};(c&&y[c]!==E||!c&&y!==E)&&this.setState(x)}this.runAnimation(ki(ki({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,b=nte(s,u,Hee(f),c,this.changeStyle),w=function(){a.stopJSAnimation=b()};this.manager.start([y,h,w,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,u=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,m=f.duration,y=m===void 0?0:m,b=function(E,x,N){if(N===0)return E;var C=x.duration,I=x.easing,$=I===void 0?"ease":I,O=x.style,j=x.properties,A=x.onAnimationEnd,P=N>0?s[N-1]:x,R=j||Object.keys(O);if(typeof $=="function"||$==="spring")return[].concat(rx(E),[a.runJSAnimation.bind(a,{from:P.style,to:O,duration:C,easing:$}),C]);var V=BR(R,C,$),L=ki(ki(ki({},P.style),O),{},{transition:V});return[].concat(rx(E),[L,C,A]).filter(jee)};return this.manager.start([c].concat(rx(s.reduce(b,[h,Math.max(y,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Oee());var a=i.begin,s=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,b=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var E=u?ef({},u,c):c,x=BR(Object.keys(E),s,f);w.start([h,a,ki(ki({},E),{},{transition:x}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=ate(i,ite),f=G.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!u||f===0||s<=0)return a;var m=function(b){var w=b.props,E=w.style,x=E===void 0?{}:E,N=w.className,C=G.cloneElement(b,ki(ki({},c),{},{style:ki(ki({},x),h),className:N}));return C};return f===1?m(G.Children.only(a)):W.createElement("div",null,G.Children.map(a,function(y){return m(y)}))}}]),r}(G.PureComponent);Ya.displayName="Animate";Ya.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ya.propTypes={from:mt.oneOfType([mt.object,mt.string]),to:mt.oneOfType([mt.object,mt.string]),attributeName:mt.string,duration:mt.number,begin:mt.number,easing:mt.oneOfType([mt.string,mt.func]),steps:mt.arrayOf(mt.shape({duration:mt.number.isRequired,style:mt.object.isRequired,easing:mt.oneOfType([mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mt.func]),properties:mt.arrayOf("string"),onAnimationEnd:mt.func})),children:mt.oneOfType([mt.node,mt.func]),isActive:mt.bool,canBegin:mt.bool,onAnimationEnd:mt.func,shouldReAnimate:mt.bool,onAnimationStart:mt.func,onAnimationReStart:mt.func};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mm.apply(this,arguments)}function vte(t,e){return wte(t)||xte(t,e)||_te(t,e)||bte()}function bte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _te(t,e){if(t){if(typeof t=="string")return GR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GR(t,e)}}function GR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function wte(t){if(Array.isArray(t))return t}function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){Ete(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ete(t,e,r){return e=Ste(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ste(t){var e=Tte(t,"string");return Xf(e)=="symbol"?e:e+""}function Tte(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QR=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,b=4;y<b;y++)m[y]=a[y]>s?s:a[y];h="M".concat(e,",").concat(r+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(r)),h+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*m[1])),h+="L ".concat(e+n,",").concat(r+i-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-c*m[2],",").concat(r+i)),h+="L ".concat(e+c*m[3],",").concat(r+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var w=Math.min(s,a);h="M ".concat(e,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+c*w,",").concat(r,`
            L `).concat(e+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*w,`
            L `).concat(e+n,",").concat(r+i-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n-c*w,",").concat(r+i,`
            L `).concat(e+c*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*w," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},Ate=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,u=r.width,c=r.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(a,a+u),h=Math.max(a,a+u),m=Math.min(s,s+c),y=Math.max(s,s+c);return n>=f&&n<=h&&i>=m&&i<=y}return!1},Pte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gS=function(e){var r=XR(XR({},Pte),e),n=G.useRef(),i=G.useState(-1),a=vte(i,2),s=a[0],u=a[1];G.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&u($)}catch{}},[]);var c=r.x,f=r.y,h=r.width,m=r.height,y=r.radius,b=r.className,w=r.animationEasing,E=r.animationDuration,x=r.animationBegin,N=r.isAnimationActive,C=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var I=Ze("recharts-rectangle",b);return C?W.createElement(Ya,{canBegin:s>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:E,animationEasing:w,isActive:C},function($){var O=$.width,j=$.height,A=$.x,P=$.y;return W.createElement(Ya,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:E,isActive:N,easing:w},W.createElement("path",mm({},Ke(r,!0),{className:I,d:QR(A,P,O,j,y),ref:n})))}):W.createElement("path",mm({},Ke(r,!0),{className:I,d:QR(c,f,h,m,y)}))},kte=["points","className","baseLinePoints","connectNulls"];function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eu.apply(this,arguments)}function Ite(t,e){if(t==null)return{};var r=Ote(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ote(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JR(t){return jte(t)||Rte(t)||Nte(t)||Cte()}function Cte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nte(t,e){if(t){if(typeof t=="string")return Qw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qw(t,e)}}function Rte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jte(t){if(Array.isArray(t))return Qw(t)}function Qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ZR=function(e){return e&&e.x===+e.x&&e.y===+e.y},Mte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){ZR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),ZR(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},hf=function(e,r){var n=Mte(e);r&&(n=[n.reduce(function(a,s){return[].concat(JR(a),JR(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Dte=function(e,r,n){var i=hf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(hf(r.reverse(),n).slice(1))},Lte=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=Ite(e,kte);if(!r||!r.length)return null;var u=Ze("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=Dte(r,i,a);return W.createElement("g",{className:u},W.createElement("path",eu({},Ke(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?W.createElement("path",eu({},Ke(s,!0),{fill:"none",d:hf(r,a)})):null,c?W.createElement("path",eu({},Ke(s,!0),{fill:"none",d:hf(i,a)})):null)}var h=hf(r,a);return W.createElement("path",eu({},Ke(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jw.apply(this,arguments)}var yS=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Ze("recharts-dot",a);return r===+r&&n===+n&&i===+i?G.createElement("circle",Jw({},Ke(e,!1),Vp(e),{className:s,cx:r,cy:n,r:i})):null};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}var $te=["x","y","top","left","width","height","className"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zw.apply(this,arguments)}function ej(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(r),!0).forEach(function(n){Fte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fte(t,e,r){return e=Ute(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ute(t){var e=Bte(t,"string");return Qf(e)=="symbol"?e:e+""}function Bte(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qte(t,e){if(t==null)return{};var r=zte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Wte=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Hte=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,y=e.height,b=y===void 0?0:y,w=e.className,E=qte(e,$te),x=Vte({x:n,y:a,top:u,left:f,width:m,height:b},E);return!be(n)||!be(a)||!be(m)||!be(b)||!be(u)||!be(f)?null:W.createElement("path",Zw({},Ke(x,!0),{className:Ze("recharts-cross",w),d:Wte(n,a,m,b,u,f)}))},nx,tj;function Kte(){if(tj)return nx;tj=1;var t=_g(),e=F$(),r=ca();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return nx=n,nx}var Gte=Kte();const Yte=yt(Gte);var ix,rj;function Xte(){if(rj)return ix;rj=1;var t=_g(),e=ca(),r=U$();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return ix=n,ix}var Qte=Xte();const Jte=yt(Qte);var Zte=["cx","cy","angle","ticks","axisLine"],ere=["ticks","tick","angle","tickFormatter","stroke"];function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pf.apply(this,arguments)}function nj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Is(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(r),!0).forEach(function(n){Pg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ij(t,e){if(t==null)return{};var r=tre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A4(n.key),n)}}function nre(t,e,r){return e&&aj(t.prototype,e),r&&aj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ire(t,e,r){return e=gm(e),are(t,T4()?Reflect.construct(e,r||[],gm(t).constructor):e.apply(t,r))}function are(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ore(t)}function ore(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T4=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(t)}function sre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e1(t,e)}function e1(t,e){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e1(t,e)}function Pg(t,e,r){return e=A4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A4(t){var e=lre(t,"string");return Iu(e)=="symbol"?e:e+""}function lre(t,e){if(Iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kg=function(t){function e(){return rre(this,e),ire(this,e,arguments)}return sre(e,t),nre(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,u=a.cx,c=a.cy;return Ct(u,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=Yte(u,function(h){return h.coordinate||0}),f=Jte(u,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=n.axisLine,f=ij(n,Zte),h=u.reduce(function(w,E){return[Math.min(w[0],E.coordinate),Math.max(w[1],E.coordinate)]},[1/0,-1/0]),m=Ct(i,a,h[0],s),y=Ct(i,a,h[1],s),b=Is(Is(Is({},Ke(f,!1)),{},{fill:"none"},Ke(c,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return W.createElement("line",pf({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.angle,c=i.tickFormatter,f=i.stroke,h=ij(i,ere),m=this.getTickTextAnchor(),y=Ke(h,!1),b=Ke(s,!1),w=a.map(function(E,x){var N=n.getTickValueCoord(E),C=Is(Is(Is(Is({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(N.x,", ").concat(N.y,")")},y),{},{stroke:"none",fill:f},b),{},{index:x},N),{},{payload:E});return W.createElement(_t,pf({className:Ze("recharts-polar-radius-axis-tick",m4(s)),key:"tick-".concat(E.coordinate)},Js(n.props,E,x)),e.renderTickItem(s,C,c?c(E.value,x):E.value))});return W.createElement(_t,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:W.createElement(_t,{className:Ze("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),kr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Ye(n)?s=n(i):s=W.createElement(Zs,pf({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(G.PureComponent);Pg(kg,"displayName","PolarRadiusAxis");Pg(kg,"axisType","radiusAxis");Pg(kg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},js.apply(this,arguments)}function oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(r),!0).forEach(function(n){Ig(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ure(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k4(n.key),n)}}function cre(t,e,r){return e&&sj(t.prototype,e),r&&sj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fre(t,e,r){return e=ym(e),dre(t,P4()?Reflect.construct(e,r||[],ym(t).constructor):e.apply(t,r))}function dre(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hre(t)}function hre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P4=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(t)}function pre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t1(t,e)}function t1(t,e){return t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t1(t,e)}function Ig(t,e,r){return e=k4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k4(t){var e=mre(t,"string");return Ou(e)=="symbol"?e:e+""}function mre(t,e){if(Ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gre=Math.PI/180,lj=1e-5,Og=function(t){function e(){return ure(this,e),fre(this,e,arguments)}return pre(e,t),cre(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,u=i.radius,c=i.orientation,f=i.tickSize,h=f||8,m=Ct(a,s,u,n.coordinate),y=Ct(a,s,u+(c==="inner"?-1:1)*h,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*gre),s;return a>lj?s=i==="outer"?"start":"end":a<-lj?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,u=n.axisLine,c=n.axisLineType,f=Os(Os({},Ke(this.props,!1)),{},{fill:"none"},Ke(u,!1));if(c==="circle")return W.createElement(yS,js({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var h=this.props.ticks,m=h.map(function(y){return Ct(i,a,s,y.coordinate)});return W.createElement(Lte,js({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.tickLine,c=i.tickFormatter,f=i.stroke,h=Ke(this.props,!1),m=Ke(s,!1),y=Os(Os({},h),{},{fill:"none"},Ke(u,!1)),b=a.map(function(w,E){var x=n.getTickLineCoord(w),N=n.getTickTextAnchor(w),C=Os(Os(Os({textAnchor:N},h),{},{stroke:"none",fill:f},m),{},{index:E,payload:w,x:x.x2,y:x.y2});return W.createElement(_t,js({className:Ze("recharts-polar-angle-axis-tick",m4(s)),key:"tick-".concat(w.coordinate)},Js(n.props,w,E)),u&&W.createElement("line",js({className:"recharts-polar-angle-axis-tick-line"},y,x)),s&&e.renderTickItem(s,C,c?c(w.value,E):w.value))});return W.createElement(_t,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:W.createElement(_t,{className:Ze("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Ye(n)?s=n(i):s=W.createElement(Zs,js({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(G.PureComponent);Ig(Og,"displayName","PolarAngleAxis");Ig(Og,"axisType","angleAxis");Ig(Og,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ax,uj;function yre(){if(uj)return ax;uj=1;var t=VL(),e=t(Object.getPrototypeOf,Object);return ax=e,ax}var ox,cj;function vre(){if(cj)return ox;cj=1;var t=Xa(),e=yre(),r=Qa(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var m=e(h);if(m===null)return!0;var y=u.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==c}return ox=f,ox}var bre=vre();const _re=yt(bre);var sx,fj;function xre(){if(fj)return sx;fj=1;var t=Xa(),e=Qa(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return sx=n,sx}var wre=xre();const Ere=yt(wre);function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vm.apply(this,arguments)}function Sre(t,e){return kre(t)||Pre(t,e)||Are(t,e)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(t,e){if(t){if(typeof t=="string")return dj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dj(t,e)}}function dj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function kre(t){if(Array.isArray(t))return t}function hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(r),!0).forEach(function(n){Ire(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ire(t,e,r){return e=Ore(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ore(t){var e=Cre(t,"string");return Jf(e)=="symbol"?e:e+""}function Cre(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mj=function(e,r,n,i,a){var s=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-s/2,",").concat(r+a),u+="L ".concat(e+n-s/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},Nre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rre=function(e){var r=pj(pj({},Nre),e),n=G.useRef(),i=G.useState(-1),a=Sre(i,2),s=a[0],u=a[1];G.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&u(I)}catch{}},[]);var c=r.x,f=r.y,h=r.upperWidth,m=r.lowerWidth,y=r.height,b=r.className,w=r.animationEasing,E=r.animationDuration,x=r.animationBegin,N=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||y!==+y||h===0&&m===0||y===0)return null;var C=Ze("recharts-trapezoid",b);return N?W.createElement(Ya,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:y,x:c,y:f},duration:E,animationEasing:w,isActive:N},function(I){var $=I.upperWidth,O=I.lowerWidth,j=I.height,A=I.x,P=I.y;return W.createElement(Ya,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:E,easing:w},W.createElement("path",vm({},Ke(r,!0),{className:C,d:mj(A,P,$,O,j),ref:n})))}):W.createElement("g",null,W.createElement("path",vm({},Ke(r,!0),{className:C,d:mj(c,f,h,m,y)})))},jre=["option","shapeType","propTransformer","activeClassName","isActive"];function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function Mre(t,e){if(t==null)return{};var r=Dre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(r),!0).forEach(function(n){Lre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lre(t,e,r){return e=$re(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $re(t){var e=Vre(t,"string");return Zf(e)=="symbol"?e:e+""}function Vre(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fre(t,e){return bm(bm({},e),t)}function Ure(t,e){return t==="symbols"}function yj(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(gS,r);case"trapezoid":return W.createElement(Rre,r);case"sector":return W.createElement(mS,r);case"symbols":if(Ure(e))return W.createElement(RE,r);break;default:return null}}function Bre(t){return G.isValidElement(t)?t.props:t}function I4(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Fre:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,u=t.isActive,c=Mre(t,jre),f;if(G.isValidElement(e))f=G.cloneElement(e,bm(bm({},c),Bre(e)));else if(Ye(e))f=e(c);else if(_re(e)&&!Ere(e)){var h=i(e,c);f=W.createElement(yj,{shapeType:r,elementProps:h})}else{var m=c;f=W.createElement(yj,{shapeType:r,elementProps:m})}return u?W.createElement(_t,{className:s},f):f}function Cg(t,e){return e!=null&&"trapezoids"in t.props}function Ng(t,e){return e!=null&&"sectors"in t.props}function ed(t,e){return e!=null&&"points"in t.props}function qre(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function zre(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Wre(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Hre(t,e){var r;return Cg(t,e)?r=qre:Ng(t,e)?r=zre:ed(t,e)&&(r=Wre),r}function Kre(t,e){var r;return Cg(t,e)?r="trapezoids":Ng(t,e)?r="sectors":ed(t,e)&&(r="points"),r}function Gre(t,e){if(Cg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ng(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ed(t,e)?e.payload:{}}function Yre(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Kre(r,e),a=Gre(r,e),s=n.filter(function(c,f){var h=Eg(a,c),m=r.props[i].filter(function(w){var E=Hre(r,e);return E(w,e)}),y=r.props[i].indexOf(m[m.length-1]),b=f===y;return h&&b}),u=n.indexOf(s[s.length-1]);return u}var xp;function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tu.apply(this,arguments)}function vj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function It(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C4(n.key),n)}}function Qre(t,e,r){return e&&bj(t.prototype,e),r&&bj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jre(t,e,r){return e=_m(e),Zre(t,O4()?Reflect.construct(e,r||[],_m(t).constructor):e.apply(t,r))}function Zre(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ene(t)}function ene(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O4=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(t)}function tne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r1(t,e)}function r1(t,e){return r1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r1(t,e)}function si(t,e,r){return e=C4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C4(t){var e=rne(t,"string");return Cu(e)=="symbol"?e:e+""}function rne(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Za=function(t){function e(r){var n;return Xre(this,e),n=Jre(this,e,[r]),si(n,"pieRef",null),si(n,"sectorRefs",[]),si(n,"id",Ad("recharts-pie-")),si(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ye(i)&&i()}),si(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ye(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return tne(e,t),Qre(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,u=a.labelLine,c=a.dataKey,f=a.valueKey,h=Ke(this.props,!1),m=Ke(s,!1),y=Ke(u,!1),b=s&&s.offsetRadius||20,w=n.map(function(E,x){var N=(E.startAngle+E.endAngle)/2,C=Ct(E.cx,E.cy,E.outerRadius+b,N),I=It(It(It(It({},h),E),{},{stroke:"none"},m),{},{index:x,textAnchor:e.getTextAnchor(C.x,E.cx)},C),$=It(It(It(It({},h),E),{},{fill:"none",stroke:E.fill},y),{},{index:x,points:[Ct(E.cx,E.cy,E.outerRadius,N),C]}),O=c;return tt(c)&&tt(f)?O="value":tt(c)&&(O=f),W.createElement(_t,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(x)},u&&e.renderLabelLineItem(u,$,"line"),e.renderLabelItem(s,I,Jr(E,O)))});return W.createElement(_t,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,u=a.blendStroke,c=a.inactiveShape;return n.map(function(f,h){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var m=i.isActiveIndex(h),y=c&&i.hasActiveIndex()?c:null,b=m?s:y,w=It(It({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return W.createElement(_t,tu({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Js(i.props,f,h),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(h)}),W.createElement(I4,tu({option:b,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state,y=m.prevSectors,b=m.prevIsAnimationActive;return W.createElement(Ya,{begin:u,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var E=w.t,x=[],N=a&&a[0],C=N.startAngle;return a.forEach(function(I,$){var O=y&&y[$],j=$>0?zn(I,"paddingAngle",0):0;if(O){var A=Io(O.endAngle-O.startAngle,I.endAngle-I.startAngle),P=It(It({},I),{},{startAngle:C+j,endAngle:C+A(E)+j});x.push(P),C=P.endAngle}else{var R=I.endAngle,V=I.startAngle,L=Io(0,R-V),F=L(E),M=It(It({},I),{},{startAngle:C+j,endAngle:C+F+j});x.push(M),C=M.endAngle}}),W.createElement(_t,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Eg(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,u=i.className,c=i.label,f=i.cx,h=i.cy,m=i.innerRadius,y=i.outerRadius,b=i.isAnimationActive,w=this.state.isAnimationFinished;if(a||!s||!s.length||!be(f)||!be(h)||!be(m)||!be(y))return null;var E=Ze("recharts-pie",u);return W.createElement(_t,{tabIndex:this.props.rootTabIndex,className:E,ref:function(N){n.pieRef=N}},this.renderSectors(),c&&this.renderLabels(s),kr.renderCallByParent(this.props,null,!1),(!b||w)&&Wo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(W.isValidElement(n))return W.cloneElement(n,i);if(Ye(n))return n(i);var s=Ze("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return W.createElement(Uw,tu({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(W.isValidElement(n))return W.cloneElement(n,i);var s=a;if(Ye(n)&&(s=n(i),W.isValidElement(s)))return s;var u=Ze("recharts-pie-label-text",typeof n!="boolean"&&!Ye(n)?n.className:"");return W.createElement(Zs,tu({},i,{alignmentBaseline:"middle",className:u}),s)}}])}(G.PureComponent);xp=Za;si(Za,"displayName","Pie");si(Za,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Xu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});si(Za,"parseDeltaAngle",function(t,e){var r=cn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});si(Za,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ke(t,!1),i=ui(r,hg);return e&&e.length?e.map(function(a,s){return It(It(It({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return It(It({},n),a.props)}):[]});si(Za,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=p4(i,a),u=n+fn(t.cx,i,i/2),c=r+fn(t.cy,a,a/2),f=fn(t.innerRadius,s,0),h=fn(t.outerRadius,s,s*.8),m=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:h,maxRadius:m}});si(Za,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?It(It({},e.type.defaultProps),e.props):e.props,i=xp.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,u=n.endAngle,c=n.paddingAngle,f=n.dataKey,h=n.nameKey,m=n.valueKey,y=n.tooltipType,b=Math.abs(n.minAngle),w=xp.parseCoordinateOfPie(n,r),E=xp.parseDeltaAngle(s,u),x=Math.abs(E),N=f;tt(f)&&tt(m)?(Ni(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):tt(f)&&(Ni(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var C=i.filter(function(P){return Jr(P,N,0)!==0}).length,I=(x>=360?C:C-1)*c,$=x-C*b-I,O=i.reduce(function(P,R){var V=Jr(R,N,0);return P+(be(V)?V:0)},0),j;if(O>0){var A;j=i.map(function(P,R){var V=Jr(P,N,0),L=Jr(P,h,R),F=(be(V)?V:0)/O,M;R?M=A.endAngle+cn(E)*c*(V!==0?1:0):M=s;var ee=M+cn(E)*((V!==0?b:0)+F*$),re=(M+ee)/2,ie=(w.innerRadius+w.outerRadius)/2,oe=[{name:L,value:V,payload:P,dataKey:N,type:y}],Q=Ct(w.cx,w.cy,ie,re);return A=It(It(It({percent:F,cornerRadius:a,name:L,tooltipPayload:oe,midAngle:re,middleRadius:ie,tooltipPosition:Q},P),w),{},{value:Jr(P,N),startAngle:M,endAngle:ee,payload:P,paddingAngle:cn(E)*c}),A})}return It(It({},w),{},{sectors:j,data:i})});var lx,_j;function nne(){if(_j)return lx;_j=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var u=-1,c=e(t((i-n)/(a||1)),0),f=Array(c);c--;)f[s?c:++u]=n,n+=a;return f}return lx=r,lx}var ux,xj;function N4(){if(xj)return ux;xj=1;var t=t$(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return ux=n,ux}var cx,wj;function ine(){if(wj)return cx;wj=1;var t=nne(),e=dg(),r=N4();function n(i){return function(a,s,u){return u&&typeof u!="number"&&e(a,s,u)&&(s=u=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),u=u===void 0?a<s?1:-1:r(u),t(a,s,u,i)}}return cx=n,cx}var fx,Ej;function ane(){if(Ej)return fx;Ej=1;var t=ine(),e=t();return fx=e,fx}var one=ane();const xm=yt(one);function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function Sj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(r),!0).forEach(function(n){R4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R4(t,e,r){return e=sne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sne(t){var e=lne(t,"string");return td(e)=="symbol"?e:e+""}function lne(t,e){if(td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var une=["Webkit","Moz","O","ms"],cne=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=une.reduce(function(a,s){return Tj(Tj({},a),{},R4({},s+n,r))},{});return i[e]=r,i};function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wm.apply(this,arguments)}function Aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M4(n.key),n)}}function dne(t,e,r){return e&&Pj(t.prototype,e),r&&Pj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hne(t,e,r){return e=Em(e),pne(t,j4()?Reflect.construct(e,r||[],Em(t).constructor):e.apply(t,r))}function pne(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mne(t)}function mne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(t)}function gne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n1(t,e)}function n1(t,e){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n1(t,e)}function $n(t,e,r){return e=M4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M4(t){var e=yne(t,"string");return Nu(e)=="symbol"?e:e+""}function yne(t,e){if(Nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vne=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=cf().domain(xm(0,c)).range([a,a+s-u]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},kj=function(e){return e.changedTouches&&!!e.changedTouches.length},Ru=function(t){function e(r){var n;return fne(this,e),n=hne(this,e,[r]),$n(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),$n(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),$n(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,u=i.startIndex;s?.({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),$n(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),$n(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),$n(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),$n(n,"handleSlideDragStart",function(i){var a=kj(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return gne(e,t),dne(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,m=Math.min(i,a),y=Math.max(i,a),b=e.getIndexInRange(s,m),w=e.getIndexInRange(s,y);return{startIndex:b-b%c,endIndex:w===h?h:w-w%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,u=i.dataKey,c=Jr(a[n],u,n);return Ye(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,y=c.startIndex,b=c.endIndex,w=c.onChange,E=n.pageX-a;E>0?E=Math.min(E,f+h-m-u,f+h-m-s):E<0&&(E=Math.max(E,f-s,f-u));var x=this.getIndex({startX:s+E,endX:u+E});(x.startIndex!==y||x.endIndex!==b)&&w&&w(x),this.setState({startX:s+E,endX:u+E,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=kj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[s],h=this.props,m=h.x,y=h.width,b=h.travellerWidth,w=h.onChange,E=h.gap,x=h.data,N={startX:this.state.startX,endX:this.state.endX},C=n.pageX-a;C>0?C=Math.min(C,m+y-b-f):C<0&&(C=Math.max(C,m-f)),N[s]=f+C;var I=this.getIndex(N),$=I.startIndex,O=I.endIndex,j=function(){var P=x.length-1;return s==="startX"&&(u>c?$%E===0:O%E===0)||u<c&&O===P||s==="endX"&&(u>c?O%E===0:$%E===0)||u>c&&O===P};this.setState($n($n({},s,f+C),"brushMoveStartX",n.pageX),function(){w&&j()&&w(I)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],m=u.indexOf(h);if(m!==-1){var y=m+n;if(!(y===-1||y>=u.length)){var b=u[y];i==="startX"&&b>=f||i==="endX"&&b<=c||this.setState($n({},i,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.fill,f=n.stroke;return W.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.data,f=n.children,h=n.padding,m=G.Children.only(f);return m?W.cloneElement(m,{x:i,y:a,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,y=c.traveller,b=c.ariaLabel,w=c.data,E=c.startIndex,x=c.endIndex,N=Math.max(n,this.props.x),C=dx(dx({},Ke(this.props,!1)),{},{x:N,y:f,width:h,height:m}),I=b||"Min value: ".concat((a=w[E])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=w[x])===null||s===void 0?void 0:s.name);return W.createElement(_t,{tabIndex:0,role:"slider","aria-label":I,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),u.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,C))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,u=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(n,i)+f,m=Math.max(Math.abs(i-n)-f,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,u=n.height,c=n.travellerWidth,f=n.stroke,h=this.state,m=h.startX,y=h.endX,b=5,w={pointerEvents:"none",fill:f};return W.createElement(_t,{className:"recharts-brush-texts"},W.createElement(Zs,wm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-b,y:s+u/2},w),this.getTextOfTick(i)),W.createElement(Zs,wm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+c+b,y:s+u/2},w),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,u=n.x,c=n.y,f=n.width,h=n.height,m=n.alwaysShowText,y=this.state,b=y.startX,w=y.endX,E=y.isTextActive,x=y.isSlideMoving,N=y.isTravellerMoving,C=y.isTravellerFocused;if(!i||!i.length||!be(u)||!be(c)||!be(f)||!be(h)||f<=0||h<=0)return null;var I=Ze("recharts-brush",a),$=W.Children.count(s)===1,O=cne("userSelect","none");return W.createElement(_t,{className:I,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(b,w),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(w,"endX"),(E||x||N||C||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,u=n.height,c=n.stroke,f=Math.floor(a+u/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:a,width:s,height:u,fill:c,stroke:"none"}),W.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return W.isValidElement(n)?a=W.cloneElement(n,i):Ye(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,u=n.x,c=n.travellerWidth,f=n.updateId,h=n.startIndex,m=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return dx({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},a&&a.length?vne({data:a,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var y=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,u=a-1;u-s>1;){var c=Math.floor((s+u)/2);n[c]>i?u=c:s=c}return i>=n[u]?u:s}}])}(G.PureComponent);$n(Ru,"displayName","Brush");$n(Ru,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hx,Ij;function bne(){if(Ij)return hx;Ij=1;var t=FE();function e(r,n){var i;return t(r,function(a,s,u){return i=n(a,s,u),!i}),!!i}return hx=e,hx}var px,Oj;function _ne(){if(Oj)return px;Oj=1;var t=NL(),e=ca(),r=bne(),n=kn(),i=dg();function a(s,u,c){var f=n(s)?t:r;return c&&i(s,u,c)&&(u=void 0),f(s,e(u,3))}return px=a,px}var xne=_ne();const wne=yt(xne);var ia=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},mx,Cj;function Ene(){if(Cj)return mx;Cj=1;var t=XL();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return mx=e,mx}var gx,Nj;function Sne(){if(Nj)return gx;Nj=1;var t=Ene(),e=GL(),r=ca();function n(i,a){var s={};return a=r(a,3),e(i,function(u,c,f){t(s,c,a(u,c,f))}),s}return gx=n,gx}var Tne=Sne();const Ane=yt(Tne);var yx,Rj;function Pne(){if(Rj)return yx;Rj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return yx=t,yx}var vx,jj;function kne(){if(jj)return vx;jj=1;var t=FE();function e(r,n){var i=!0;return t(r,function(a,s,u){return i=!!n(a,s,u),i}),i}return vx=e,vx}var bx,Mj;function Ine(){if(Mj)return bx;Mj=1;var t=Pne(),e=kne(),r=ca(),n=kn(),i=dg();function a(s,u,c){var f=n(s)?t:e;return c&&i(s,u,c)&&(u=void 0),f(s,r(u,3))}return bx=a,bx}var One=Ine();const D4=yt(One);var Cne=["x","y"];function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i1.apply(this,arguments)}function Dj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(r),!0).forEach(function(n){Nne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nne(t,e,r){return e=Rne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rne(t){var e=jne(t,"string");return rd(e)=="symbol"?e:e+""}function jne(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mne(t,e){if(t==null)return{};var r=Dne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lne(t,e){var r=t.x,n=t.y,i=Mne(t,Cne),a="".concat(r),s=parseInt(a,10),u="".concat(n),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),y=parseInt(m,10);return zc(zc(zc(zc(zc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function Lj(t){return W.createElement(I4,i1({shapeType:"rectangle",propTransformer:Lne,activeClassName:"recharts-active-bar"},t))}var $ne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=be(n)||u7(n);return a?e(n,i):(a||tl(),r)}},Vne=["value","background"],L4;function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function Fne(t,e){if(t==null)return{};var r=Une(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Une(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sm.apply(this,arguments)}function $j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(r),!0).forEach(function(n){$o(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V4(n.key),n)}}function qne(t,e,r){return e&&Vj(t.prototype,e),r&&Vj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zne(t,e,r){return e=Tm(e),Wne(t,$4()?Reflect.construct(e,r||[],Tm(t).constructor):e.apply(t,r))}function Wne(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hne(t)}function Hne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(t)}function Kne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a1(t,e)}function a1(t,e){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a1(t,e)}function $o(t,e,r){return e=V4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V4(t){var e=Gne(t,"string");return ju(e)=="symbol"?e:e+""}function Gne(t,e){if(ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sa=function(t){function e(){var r;Bne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=zne(this,e,[].concat(i)),$o(r,"state",{isAnimationFinished:!1}),$o(r,"id",Ad("recharts-bar-")),$o(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),$o(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Kne(e,t),qne(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,u=a.dataKey,c=a.activeIndex,f=a.activeBar,h=Ke(this.props,!1);return n&&n.map(function(m,y){var b=y===c,w=b?f:s,E=lr(lr(lr({},h),m),{},{isActive:b,option:w,index:y,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(_t,Sm({className:"recharts-bar-rectangle"},Js(i.props,m,y),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(y)}),W.createElement(Lj,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,y=this.state.prevData;return W.createElement(Ya,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t,E=a.map(function(x,N){var C=y&&y[N];if(C){var I=Io(C.x,x.x),$=Io(C.y,x.y),O=Io(C.width,x.width),j=Io(C.height,x.height);return lr(lr({},x),{},{x:I(w),y:$(w),width:O(w),height:j(w)})}if(s==="horizontal"){var A=Io(0,x.height),P=A(w);return lr(lr({},x),{},{y:x.y+x.height-P,height:P})}var R=Io(0,x.width),V=R(w);return lr(lr({},x),{},{width:V})});return W.createElement(_t,null,n.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Eg(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,u=i.activeIndex,c=Ke(this.props.background,!1);return a.map(function(f,h){f.value;var m=f.background,y=Fne(f,Vne);if(!m)return null;var b=lr(lr(lr(lr(lr({},y),{},{fill:"#eee"},m),c),Js(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return W.createElement(Lj,Sm({key:"background-bar-".concat(h),option:n.props.background,isActive:h===u},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,u=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,m=ui(h,Ag);if(!m)return null;var y=f==="vertical"?s[0].height/2:s[0].width/2,b=function(x,N){var C=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:C,errorVal:Jr(x,N)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return W.createElement(_t,w,m.map(function(E){return W.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,offset:y,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,u=n.xAxis,c=n.yAxis,f=n.left,h=n.top,m=n.width,y=n.height,b=n.isAnimationActive,w=n.background,E=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,N=Ze("recharts-bar",s),C=u&&u.allowDataOverflow,I=c&&c.allowDataOverflow,$=C||I,O=tt(E)?this.id:E;return W.createElement(_t,{className:N},C||I?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(O)},W.createElement("rect",{x:C?f:f-m/2,y:I?h:h-y/2,width:C?m:m*2,height:I?y:y*2}))):null,W.createElement(_t,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(O,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,O),(!b||x)&&Wo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(G.PureComponent);L4=sa;$o(sa,"displayName","Bar");$o(sa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$o(sa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,y=t.offset,b=EJ(n,r);if(!b)return null;var w=e.layout,E=r.type.defaultProps,x=E!==void 0?lr(lr({},E),r.props):r.props,N=x.dataKey,C=x.children,I=x.minPointSize,$=w==="horizontal"?s:a,O=f?$.scale.domain():null,j=OJ({numericAxis:$}),A=ui(C,hg),P=m.map(function(R,V){var L,F,M,ee,re,ie;f?L=SJ(f[h+V],O):(L=Jr(R,N),Array.isArray(L)||(L=[j,L]));var oe=$ne(I,L4.defaultProps.minPointSize)(L[1],V);if(w==="horizontal"){var Q,ae=[s.scale(L[0]),s.scale(L[1])],se=ae[0],q=ae[1];F=cR({axis:a,ticks:u,bandSize:i,offset:b.offset,entry:R,index:V}),M=(Q=q??se)!==null&&Q!==void 0?Q:void 0,ee=b.size;var K=se-q;if(re=Number.isNaN(K)?0:K,ie={x:F,y:s.y,width:ee,height:s.height},Math.abs(oe)>0&&Math.abs(re)<Math.abs(oe)){var fe=cn(re||oe)*(Math.abs(oe)-Math.abs(re));M-=fe,re+=fe}}else{var Se=[a.scale(L[0]),a.scale(L[1])],je=Se[0],xe=Se[1];if(F=je,M=cR({axis:s,ticks:c,bandSize:i,offset:b.offset,entry:R,index:V}),ee=xe-je,re=b.size,ie={x:a.x,y:M,width:a.width,height:re},Math.abs(oe)>0&&Math.abs(ee)<Math.abs(oe)){var $e=cn(ee||oe)*(Math.abs(oe)-Math.abs(ee));ee+=$e}}return lr(lr(lr({},R),{},{x:F,y:M,width:ee,height:re,value:f?L:L[1],payload:R,background:ie},A&&A[V]&&A[V].props),{},{tooltipPayload:[d4(r,R)],tooltipPosition:{x:F+ee/2,y:M+re/2}})});return lr({data:P,layout:w},y)});function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function Yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F4(n.key),n)}}function Xne(t,e,r){return e&&Fj(t.prototype,e),r&&Fj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(r),!0).forEach(function(n){Rg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rg(t,e,r){return e=F4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F4(t){var e=Qne(t,"string");return nd(e)=="symbol"?e:e+""}function Qne(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jne=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!Vn(f,sa);return h.reduce(function(b,w){var E=r[w],x=E.orientation,N=E.domain,C=E.padding,I=C===void 0?{}:C,$=E.mirror,O=E.reversed,j="".concat(x).concat($?"Mirror":""),A,P,R,V,L;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var F=N[1]-N[0],M=1/0,ee=E.categoricalDomain.sort(d7);if(ee.forEach(function(Se,je){je>0&&(M=Math.min((Se||0)-(ee[je-1]||0),M))}),Number.isFinite(M)){var re=M/F,ie=E.layout==="vertical"?n.height:n.width;if(E.padding==="gap"&&(A=re*ie/2),E.padding==="no-gap"){var oe=fn(e.barCategoryGap,re*ie),Q=re*ie/2;A=Q-oe-(Q-oe)/ie*oe}}}i==="xAxis"?P=[n.left+(I.left||0)+(A||0),n.left+n.width-(I.right||0)-(A||0)]:i==="yAxis"?P=c==="horizontal"?[n.top+n.height-(I.bottom||0),n.top+(I.top||0)]:[n.top+(I.top||0)+(A||0),n.top+n.height-(I.bottom||0)-(A||0)]:P=E.range,O&&(P=[P[1],P[0]]);var ae=l4(E,a,y),se=ae.scale,q=ae.realScaleType;se.domain(N).range(P),u4(se);var K=c4(se,Ii(Ii({},E),{},{realScaleType:q}));i==="xAxis"?(L=x==="top"&&!$||x==="bottom"&&$,R=n.left,V=m[j]-L*E.height):i==="yAxis"&&(L=x==="left"&&!$||x==="right"&&$,R=m[j]-L*E.width,V=n.top);var fe=Ii(Ii(Ii({},E),K),{},{realScaleType:q,x:R,y:V,scale:se,width:i==="xAxis"?n.width:E.width,height:i==="yAxis"?n.height:E.height});return fe.bandSize=um(fe,K),!E.hide&&i==="xAxis"?m[j]+=(L?-1:1)*fe.height:E.hide||(m[j]+=(L?-1:1)*fe.width),Ii(Ii({},b),{},Rg({},w,fe))},{})},U4=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Zne=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return U4({x:r,y:n},{x:i,y:a})},B4=function(){function t(e){Yne(this,t),this.scale=e}return Xne(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Rg(B4,"EPS",1e-4);var vS=function(e){var r=Object.keys(e).reduce(function(n,i){return Ii(Ii({},n),{},Rg({},i,B4.create(e[i])))},{});return Ii(Ii({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,u=a.position;return Ane(i,function(c,f){return r[f].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return D4(i,function(a,s){return r[s].isInRange(a)})}})};function eie(t){return(t%180+180)%180}var tie=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=eie(i),s=a*Math.PI/180,u=Math.atan(n/r),c=s>u&&s<Math.PI-u?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},_x,Bj;function rie(){if(Bj)return _x;Bj=1;var t=ca(),e=Pd(),r=cg();function n(i){return function(a,s,u){var c=Object(a);if(!e(a)){var f=t(s,3);a=r(a),s=function(m){return f(c[m],m,c)}}var h=i(a,s,u);return h>-1?c[f?a[h]:h]:void 0}}return _x=n,_x}var xx,qj;function nie(){if(qj)return xx;qj=1;var t=N4();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return xx=e,xx}var wx,zj;function iie(){if(zj)return wx;zj=1;var t=qL(),e=ca(),r=nie(),n=Math.max;function i(a,s,u){var c=a==null?0:a.length;if(!c)return-1;var f=u==null?0:r(u);return f<0&&(f=n(c+f,0)),t(a,e(s,3),f)}return wx=i,wx}var Ex,Wj;function aie(){if(Wj)return Ex;Wj=1;var t=rie(),e=iie(),r=t(e);return Ex=r,Ex}var oie=aie();const sie=yt(oie);var lie=aL();const uie=yt(lie);var cie=uie(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),bS=G.createContext(void 0),_S=G.createContext(void 0),q4=G.createContext(void 0),z4=G.createContext({}),W4=G.createContext(void 0),H4=G.createContext(0),K4=G.createContext(0),Hj=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=cie(a);return W.createElement(bS.Provider,{value:n},W.createElement(_S.Provider,{value:i},W.createElement(z4.Provider,{value:a},W.createElement(q4.Provider,{value:h},W.createElement(W4.Provider,{value:s},W.createElement(H4.Provider,{value:f},W.createElement(K4.Provider,{value:c},u)))))))},fie=function(){return G.useContext(W4)},G4=function(e){var r=G.useContext(bS);r==null&&tl();var n=r[e];return n==null&&tl(),n},die=function(){var e=G.useContext(bS);return Do(e)},hie=function(){var e=G.useContext(_S),r=sie(e,function(n){return D4(n.domain,Number.isFinite)});return r||Do(e)},Y4=function(e){var r=G.useContext(_S);r==null&&tl();var n=r[e];return n==null&&tl(),n},pie=function(){var e=G.useContext(q4);return e},mie=function(){return G.useContext(z4)},xS=function(){return G.useContext(K4)},wS=function(){return G.useContext(H4)};function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function gie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q4(n.key),n)}}function vie(t,e,r){return e&&yie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bie(t,e,r){return e=Am(e),_ie(t,X4()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function _ie(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xie(t)}function xie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X4=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function wie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o1(t,e)}function o1(t,e){return o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o1(t,e)}function Kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(r),!0).forEach(function(n){ES(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ES(t,e,r){return e=Q4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q4(t){var e=Eie(t,"string");return Mu(e)=="symbol"?e:e+""}function Eie(t,e){if(Mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sie(t,e){return kie(t)||Pie(t,e)||Aie(t,e)||Tie()}function Tie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aie(t,e){if(t){if(typeof t=="string")return Yj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yj(t,e)}}function Yj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function kie(t){if(Array.isArray(t))return t}function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s1.apply(this,arguments)}var Iie=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):Ye(e)?n=e(r):n=W.createElement("line",s1({},r,{className:"recharts-reference-line-line"})),n},Oie=function(e,r,n,i,a,s,u,c,f){var h=a.x,m=a.y,y=a.width,b=a.height;if(n){var w=f.y,E=e.y.apply(w,{position:s});if(ia(f,"discard")&&!e.y.isInRange(E))return null;var x=[{x:h+y,y:E},{x:h,y:E}];return c==="left"?x.reverse():x}if(r){var N=f.x,C=e.x.apply(N,{position:s});if(ia(f,"discard")&&!e.x.isInRange(C))return null;var I=[{x:C,y:m+b},{x:C,y:m}];return u==="top"?I.reverse():I}if(i){var $=f.segment,O=$.map(function(j){return e.apply(j,{position:s})});return ia(f,"discard")&&wne(O,function(j){return!e.isInRange(j)})?null:O}return null};function Cie(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=fie(),h=G4(i),m=Y4(a),y=pie();if(!f||!y)return null;Ni(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=vS({x:h.scale,y:m.scale}),w=vr(e),E=vr(r),x=n&&n.length===2,N=Oie(b,w,E,x,y,t.position,h.orientation,m.orientation,t);if(!N)return null;var C=Sie(N,2),I=C[0],$=I.x,O=I.y,j=C[1],A=j.x,P=j.y,R=ia(t,"hidden")?"url(#".concat(f,")"):void 0,V=Gj(Gj({clipPath:R},Ke(t,!0)),{},{x1:$,y1:O,x2:A,y2:P});return W.createElement(_t,{className:Ze("recharts-reference-line",u)},Iie(s,V),kr.renderCallByParent(t,Zne({x1:$,y1:O,x2:A,y2:P})))}var SS=function(t){function e(){return gie(this,e),bie(this,e,arguments)}return wie(e,t),vie(e,[{key:"render",value:function(){return W.createElement(Cie,this.props)}}])}(W.Component);ES(SS,"displayName","ReferenceLine");ES(SS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l1.apply(this,arguments)}function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function Xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(r),!0).forEach(function(n){jg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z4(n.key),n)}}function jie(t,e,r){return e&&Rie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mie(t,e,r){return e=Pm(e),Die(t,J4()?Reflect.construct(e,r||[],Pm(t).constructor):e.apply(t,r))}function Die(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lie(t)}function Lie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J4=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(t)}function $ie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u1(t,e)}function u1(t,e){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u1(t,e)}function jg(t,e,r){return e=Z4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z4(t){var e=Vie(t,"string");return Du(e)=="symbol"?e:e+""}function Vie(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fie=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=vS({x:i.scale,y:a.scale}),u=s.apply({x:r,y:n},{bandAware:!0});return ia(e,"discard")&&!s.isInRange(u)?null:u},Mg=function(t){function e(){return Nie(this,e),Mie(this,e,arguments)}return $ie(e,t),jie(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,u=n.alwaysShow,c=n.clipPathId,f=vr(i),h=vr(a);if(Ni(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=Fie(this.props);if(!m)return null;var y=m.x,b=m.y,w=this.props,E=w.shape,x=w.className,N=ia(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=Qj(Qj({clipPath:N},Ke(this.props,!0)),{},{cx:y,cy:b});return W.createElement(_t,{className:Ze("recharts-reference-dot",x)},e.renderDot(E,C),kr.renderCallByParent(this.props,{x:y-s,y:b-s,width:2*s,height:2*s}))}}])}(W.Component);jg(Mg,"displayName","ReferenceDot");jg(Mg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jg(Mg,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Ye(t)?r=t(e):r=W.createElement(yS,l1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c1.apply(this,arguments)}function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function Jj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(r),!0).forEach(function(n){Dg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tV(n.key),n)}}function qie(t,e,r){return e&&Bie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zie(t,e,r){return e=km(e),Wie(t,eV()?Reflect.construct(e,r||[],km(t).constructor):e.apply(t,r))}function Wie(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hie(t)}function Hie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eV=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},km(t)}function Kie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f1(t,e)}function f1(t,e){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f1(t,e)}function Dg(t,e,r){return e=tV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tV(t){var e=Gie(t,"string");return Lu(e)=="symbol"?e:e+""}function Gie(t,e){if(Lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yie=function(e,r,n,i,a){var s=a.x1,u=a.x2,c=a.y1,f=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var y=vS({x:h.scale,y:m.scale}),b={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(c,{position:"start"}):y.y.rangeMin},w={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return ia(a,"discard")&&(!y.isInRange(b)||!y.isInRange(w))?null:U4(b,w)},Lg=function(t){function e(){return Uie(this,e),zie(this,e,arguments)}return Kie(e,t),qie(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,u=n.y2,c=n.className,f=n.alwaysShow,h=n.clipPathId;Ni(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=vr(i),y=vr(a),b=vr(s),w=vr(u),E=this.props.shape;if(!m&&!y&&!b&&!w&&!E)return null;var x=Yie(m,y,b,w,this.props);if(!x&&!E)return null;var N=ia(this.props,"hidden")?"url(#".concat(h,")"):void 0;return W.createElement(_t,{className:Ze("recharts-reference-area",c)},e.renderRect(E,Zj(Zj({clipPath:N},Ke(this.props,!0)),x)),kr.renderCallByParent(this.props,x))}}])}(W.Component);Dg(Lg,"displayName","ReferenceArea");Dg(Lg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dg(Lg,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Ye(t)?r=t(e):r=W.createElement(gS,c1({},e,{className:"recharts-reference-area-rect"})),r});function rV(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Xie(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return tie(n,r)}function Qie(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,u=t.height;return e===1?{start:n?i:a,end:n?i+s:a+u}:{start:n?i+s:a+u,end:n?i:a}}function Im(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Jie(t,e){return rV(t,e+1)}function Zie(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,u=e.end,c=0,f=1,h=s,m=function(){var w=n?.[c];if(w===void 0)return{v:rV(n,f)};var E=c,x,N=function(){return x===void 0&&(x=r(w,E)),x},C=w.coordinate,I=c===0||Im(t,C,N,h,u);I||(c=0,h=s,f+=1),I&&(h=C+t*(N()/2+i),c+=f)},y;f<=a.length;)if(y=m(),y)return y.v;return[]}function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function e2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(r),!0).forEach(function(n){eae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eae(t,e,r){return e=tae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tae(t){var e=rae(t,"string");return id(e)=="symbol"?e:e+""}function rae(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nae(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,u=e.start,c=e.end,f=function(y){var b=a[y],w,E=function(){return w===void 0&&(w=r(b,y)),w};if(y===s-1){var x=t*(b.coordinate+t*E()/2-c);a[y]=b=Gr(Gr({},b),{},{tickCoord:x>0?b.coordinate-x*t:b.coordinate})}else a[y]=b=Gr(Gr({},b),{},{tickCoord:b.coordinate});var N=Im(t,b.tickCoord,E,u,c);N&&(c=b.tickCoord-t*(E()/2+i),a[y]=Gr(Gr({},b),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function iae(t,e,r,n,i,a){var s=(n||[]).slice(),u=s.length,c=e.start,f=e.end;if(a){var h=n[u-1],m=r(h,u-1),y=t*(h.coordinate+t*m/2-f);s[u-1]=h=Gr(Gr({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var b=Im(t,h.tickCoord,function(){return m},c,f);b&&(f=h.tickCoord-t*(m/2+i),s[u-1]=Gr(Gr({},h),{},{isShow:!0}))}for(var w=a?u-1:u,E=function(C){var I=s[C],$,O=function(){return $===void 0&&($=r(I,C)),$};if(C===0){var j=t*(I.coordinate-t*O()/2-c);s[C]=I=Gr(Gr({},I),{},{tickCoord:j<0?I.coordinate-j*t:I.coordinate})}else s[C]=I=Gr(Gr({},I),{},{tickCoord:I.coordinate});var A=Im(t,I.tickCoord,O,c,f);A&&(c=I.tickCoord+t*(O()/2+i),s[C]=Gr(Gr({},I),{},{isShow:!0}))},x=0;x<w;x++)E(x);return s}function TS(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(be(c)||Xu.isSsr)return Jie(i,typeof c=="number"&&be(c)?c:0);var y=[],b=u==="top"||u==="bottom"?"width":"height",w=h&&b==="width"?uf(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},E=function(I,$){var O=Ye(f)?f(I.value,$):I.value;return b==="width"?Xie(uf(O,{fontSize:e,letterSpacing:r}),w,m):uf(O,{fontSize:e,letterSpacing:r})[b]},x=i.length>=2?cn(i[1].coordinate-i[0].coordinate):1,N=Qie(a,x,b);return c==="equidistantPreserveStart"?Zie(x,N,E,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=iae(x,N,E,i,s,c==="preserveStartEnd"):y=nae(x,N,E,i,s),y.filter(function(C){return C.isShow}))}var aae=["viewBox"],oae=["viewBox"],sae=["ticks"];function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ru.apply(this,arguments)}function t2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(r),!0).forEach(function(n){AS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sx(t,e){if(t==null)return{};var r=lae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iV(n.key),n)}}function cae(t,e,r){return e&&r2(t.prototype,e),r&&r2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fae(t,e,r){return e=Om(e),dae(t,nV()?Reflect.construct(e,r||[],Om(t).constructor):e.apply(t,r))}function dae(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hae(t)}function hae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!t})()}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(t)}function pae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d1(t,e)}function d1(t,e){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d1(t,e)}function AS(t,e,r){return e=iV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iV(t){var e=mae(t,"string");return $u(e)=="symbol"?e:e+""}function mae(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ec=function(t){function e(r){var n;return uae(this,e),n=fae(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return pae(e,t),cae(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=Sx(n,aae),u=this.props,c=u.viewBox,f=Sx(u,oae);return!uu(a,c)||!uu(s,f)||!uu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,u=i.width,c=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,y=i.tickMargin,b,w,E,x,N,C,I=m?-1:1,$=n.tickSize||h,O=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":b=w=n.coordinate,x=s+ +!m*c,E=x-I*$,C=E-I*y,N=O;break;case"left":E=x=n.coordinate,w=a+ +!m*u,b=w-I*$,N=b-I*y,C=O;break;case"right":E=x=n.coordinate,w=a+ +m*u,b=w+I*$,N=b+I*y,C=O;break;default:b=w=n.coordinate,x=s+ +m*c,E=x+I*$,C=E+I*y,N=O;break}return{line:{x1:b,y1:E,x2:w,y2:x},tick:{x:N,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.orientation,f=n.mirror,h=n.axisLine,m=gr(gr(gr({},Ke(this.props,!1)),Ke(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);m=gr(gr({},m),{},{x1:i,y1:a+y*u,x2:i+s,y2:a+y*u})}else{var b=+(c==="left"&&!f||c==="right"&&f);m=gr(gr({},m),{},{x1:i+b*s,y1:a,x2:i+b*s,y2:a+u})}return W.createElement("line",ru({},m,{className:Ze("recharts-cartesian-axis-line",zn(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,m=u.tickFormatter,y=u.unit,b=TS(gr(gr({},this.props),{},{ticks:n}),i,a),w=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),x=Ke(this.props,!1),N=Ke(h,!1),C=gr(gr({},x),{},{fill:"none"},Ke(c,!1)),I=b.map(function($,O){var j=s.getTickLineCoord($),A=j.line,P=j.tick,R=gr(gr(gr(gr({textAnchor:w,verticalAnchor:E},x),{},{stroke:"none",fill:f},N),P),{},{index:O,payload:$,visibleTicksCount:b.length,tickFormatter:m});return W.createElement(_t,ru({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Js(s.props,$,O)),c&&W.createElement("line",ru({},C,A,{className:Ze("recharts-cartesian-axis-tick-line",zn(c,"className"))})),h&&e.renderTickItem(h,R,"".concat(Ye(m)?m($.value,O):$.value).concat(y||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},I)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,u=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,y=m.ticks,b=Sx(m,sae),w=y;return Ye(c)&&(w=y&&y.length>0?c(this.props):c(b)),s<=0||u<=0||!w||!w.length?null:W.createElement(_t,{className:Ze("recharts-cartesian-axis",f),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),kr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,u=Ze(i.className,"recharts-cartesian-axis-tick-value");return W.isValidElement(n)?s=W.cloneElement(n,gr(gr({},i),{},{className:u})):Ye(n)?s=n(gr(gr({},i),{},{className:u})):s=W.createElement(Zs,ru({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(G.Component);AS(ec,"displayName","CartesianAxis");AS(ec,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gae=["x1","y1","x2","y2","key"],yae=["offset"];function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function n2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(r),!0).forEach(function(n){vae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vae(t,e,r){return e=bae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bae(t){var e=_ae(t,"string");return rl(e)=="symbol"?e:e+""}function _ae(t,e){if(rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vs(){return Vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vs.apply(this,arguments)}function i2(t,e){if(t==null)return{};var r=xae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wae=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,u=e.height,c=e.ry;return W.createElement("rect",{x:i,y:a,ry:c,width:s,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function aV(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(Ye(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,u=e.key,c=i2(e,gae),f=Ke(c,!1);f.offset;var h=i2(f,yae);r=W.createElement("line",Vs({},h,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:u}))}return r}function Eae(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=Qr(Qr({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(c),index:c});return aV(i,f)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Sae(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=Qr(Qr({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(c),index:c});return aV(i,f)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Tae(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(y){return Math.round(y+i-i)}).sort(function(y,b){return y-b});i!==h[0]&&h.unshift(0);var m=h.map(function(y,b){var w=!h[b+1],E=w?i+s-y:h[b+1]-y;if(E<=0)return null;var x=b%e.length;return W.createElement("rect",{key:"react-".concat(b),y,x:n,height:E,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Aae(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(y){return Math.round(y+a-a)}).sort(function(y,b){return y-b});a!==h[0]&&h.unshift(0);var m=h.map(function(y,b){var w=!h[b+1],E=w?a+u-y:h[b+1]-y;if(E<=0)return null;var x=b%n.length;return W.createElement("rect",{key:"react-".concat(b),x:y,y:s,width:E,height:c,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Pae=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return s4(TS(Qr(Qr(Qr({},ec.defaultProps),n),{},{ticks:La(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},kae=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return s4(TS(Qr(Qr(Qr({},ec.defaultProps),n),{},{ticks:La(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Gl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function PS(t){var e,r,n,i,a,s,u=xS(),c=wS(),f=mie(),h=Qr(Qr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Gl.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Gl.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Gl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Gl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Gl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Gl.verticalFill,x:be(t.x)?t.x:f.left,y:be(t.y)?t.y:f.top,width:be(t.width)?t.width:f.width,height:be(t.height)?t.height:f.height}),m=h.x,y=h.y,b=h.width,w=h.height,E=h.syncWithTicks,x=h.horizontalValues,N=h.verticalValues,C=die(),I=hie();if(!be(b)||b<=0||!be(w)||w<=0||!be(m)||m!==+m||!be(y)||y!==+y)return null;var $=h.verticalCoordinatesGenerator||Pae,O=h.horizontalCoordinatesGenerator||kae,j=h.horizontalPoints,A=h.verticalPoints;if((!j||!j.length)&&Ye(O)){var P=x&&x.length,R=O({yAxis:I?Qr(Qr({},I),{},{ticks:P?x:I.ticks}):void 0,width:u,height:c,offset:f},P?!0:E);Ni(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(rl(R),"]")),Array.isArray(R)&&(j=R)}if((!A||!A.length)&&Ye($)){var V=N&&N.length,L=$({xAxis:C?Qr(Qr({},C),{},{ticks:V?N:C.ticks}):void 0,width:u,height:c,offset:f},V?!0:E);Ni(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(rl(L),"]")),Array.isArray(L)&&(A=L)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(wae,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),W.createElement(Eae,Vs({},h,{offset:f,horizontalPoints:j,xAxis:C,yAxis:I})),W.createElement(Sae,Vs({},h,{offset:f,verticalPoints:A,xAxis:C,yAxis:I})),W.createElement(Tae,Vs({},h,{horizontalPoints:j})),W.createElement(Aae,Vs({},h,{verticalPoints:A})))}PS.displayName="CartesianGrid";function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function Iae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lV(n.key),n)}}function Cae(t,e,r){return e&&Oae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nae(t,e,r){return e=Cm(e),Rae(t,oV()?Reflect.construct(e,r||[],Cm(t).constructor):e.apply(t,r))}function Rae(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jae(t)}function jae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(t)}function Mae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h1(t,e)}function h1(t,e){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h1(t,e)}function sV(t,e,r){return e=lV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lV(t){var e=Dae(t,"string");return Vu(e)=="symbol"?e:e+""}function Dae(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p1.apply(this,arguments)}function Lae(t){var e=t.xAxisId,r=xS(),n=wS(),i=G4(e);return i==null?null:G.createElement(ec,p1({},i,{className:Ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return La(s,!0)}}))}var Nd=function(t){function e(){return Iae(this,e),Nae(this,e,arguments)}return Mae(e,t),Cae(e,[{key:"render",value:function(){return G.createElement(Lae,this.props)}}])}(G.Component);sV(Nd,"displayName","XAxis");sV(Nd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function $ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fV(n.key),n)}}function Fae(t,e,r){return e&&Vae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uae(t,e,r){return e=Nm(e),Bae(t,uV()?Reflect.construct(e,r||[],Nm(t).constructor):e.apply(t,r))}function Bae(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qae(t)}function qae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nm(t)}function zae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m1(t,e)}function m1(t,e){return m1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m1(t,e)}function cV(t,e,r){return e=fV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fV(t){var e=Wae(t,"string");return Fu(e)=="symbol"?e:e+""}function Wae(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g1.apply(this,arguments)}var Hae=function(e){var r=e.yAxisId,n=xS(),i=wS(),a=Y4(r);return a==null?null:G.createElement(ec,g1({},a,{className:Ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return La(u,!0)}}))},Rd=function(t){function e(){return $ae(this,e),Uae(this,e,arguments)}return zae(e,t),Fae(e,[{key:"render",value:function(){return G.createElement(Hae,this.props)}}])}(G.Component);cV(Rd,"displayName","YAxis");cV(Rd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function a2(t){return Xae(t)||Yae(t)||Gae(t)||Kae()}function Kae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gae(t,e){if(t){if(typeof t=="string")return y1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y1(t,e)}}function Yae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xae(t){if(Array.isArray(t))return y1(t)}function y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v1=function(e,r,n,i,a){var s=ui(e,SS),u=ui(e,Mg),c=[].concat(a2(s),a2(u)),f=ui(e,Lg),h="".concat(i,"Id"),m=i[0],y=r;if(c.length&&(y=c.reduce(function(E,x){if(x.props[h]===n&&ia(x.props,"extendDomain")&&be(x.props[m])){var N=x.props[m];return[Math.min(E[0],N),Math.max(E[1],N)]}return E},y)),f.length){var b="".concat(m,"1"),w="".concat(m,"2");y=f.reduce(function(E,x){if(x.props[h]===n&&ia(x.props,"extendDomain")&&be(x.props[b])&&be(x.props[w])){var N=x.props[b],C=x.props[w];return[Math.min(E[0],N,C),Math.max(E[1],N,C)]}return E},y)}return a&&a.length&&(y=a.reduce(function(E,x){return be(x)?[Math.min(E[0],x),Math.max(E[1],x)]:E},y)),y},Tx={exports:{}},o2;function Qae(){return o2||(o2=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,m||c,y),w=r?r+f:f;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],b]:c._events[w].push(b):(c._events[w]=b,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,b=m.length,w=new Array(b);y<b;y++)w[y]=m[y].fn;return w},u.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,y,b,w){var E=r?r+f:f;if(!this._events[E])return!1;var x=this._events[E],N=arguments.length,C,I;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),N){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,m),!0;case 4:return x.fn.call(x.context,h,m,y),!0;case 5:return x.fn.call(x.context,h,m,y,b),!0;case 6:return x.fn.call(x.context,h,m,y,b,w),!0}for(I=1,C=new Array(N-1);I<N;I++)C[I-1]=arguments[I];x.fn.apply(x.context,C)}else{var $=x.length,O;for(I=0;I<$;I++)switch(x[I].once&&this.removeListener(f,x[I].fn,void 0,!0),N){case 1:x[I].fn.call(x[I].context);break;case 2:x[I].fn.call(x[I].context,h);break;case 3:x[I].fn.call(x[I].context,h,m);break;case 4:x[I].fn.call(x[I].context,h,m,y);break;default:if(!C)for(O=1,C=new Array(N-1);O<N;O++)C[O-1]=arguments[O];x[I].fn.apply(x[I].context,C)}}return!0},u.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,y){var b=r?r+f:f;if(!this._events[b])return this;if(!h)return s(this,b),this;var w=this._events[b];if(w.fn)w.fn===h&&(!y||w.once)&&(!m||w.context===m)&&s(this,b);else{for(var E=0,x=[],N=w.length;E<N;E++)(w[E].fn!==h||y&&!w[E].once||m&&w[E].context!==m)&&x.push(w[E]);x.length?this._events[b]=x.length===1?x[0]:x:s(this,b)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}(Tx)),Tx.exports}var Jae=Qae();const Zae=yt(Jae);var Ax=new Zae,Px="recharts.syncMouseEvents";function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function eoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function toe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dV(n.key),n)}}function roe(t,e,r){return e&&toe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kx(t,e,r){return e=dV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dV(t){var e=noe(t,"string");return ad(e)=="symbol"?e:e+""}function noe(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ioe=function(){function t(){eoe(this,t),kx(this,"activeIndex",0),kx(this,"coordinateList",[]),kx(this,"layout","horizontal")}return roe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,u=s===void 0?null:s,c=r.layout,f=c===void 0?null:c,h=r.offset,m=h===void 0?null:h,y=r.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+c+f,y=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function aoe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&be(n)&&be(i))return!0}return!1}function ooe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function hV(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Ct(e,r,n,i),u=Ct(e,r,n,a);return{points:[s,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function soe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,y=Ct(u,c,f,m),b=Ct(u,c,h,m);n=y.x,i=y.y,a=b.x,s=b.y}else return hV(e);return[{x:n,y:i},{x:a,y:s}]}function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function s2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(r),!0).forEach(function(n){loe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function loe(t,e,r){return e=uoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uoe(t){var e=coe(t,"string");return od(e)=="symbol"?e:e+""}function coe(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function foe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!a||!s||y!=="ScatterChart"&&i!=="axis")return null;var w,E=Uw;if(y==="ScatterChart")w=s,E=Hte;else if(y==="BarChart")w=ooe(m,s,c,h),E=gS;else if(m==="radial"){var x=hV(s),N=x.cx,C=x.cy,I=x.radius,$=x.startAngle,O=x.endAngle;w={cx:N,cy:C,startAngle:$,endAngle:O,innerRadius:I,outerRadius:I},E=mS}else w={points:soe(m,s,c)},E=Uw;var j=cp(cp(cp(cp({stroke:"#ccc",pointerEvents:"none"},c),w),Ke(b,!1)),{},{payload:u,payloadIndex:f,className:Ze("recharts-tooltip-cursor",b.className)});return G.isValidElement(b)?G.cloneElement(b,j):G.createElement(E,j)}var doe=["item"],hoe=["children","className","width","height","style","compact","title","desc"];function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nu.apply(this,arguments)}function l2(t,e){return goe(t)||moe(t,e)||mV(t,e)||poe()}function poe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function moe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function goe(t){if(Array.isArray(t))return t}function u2(t,e){if(t==null)return{};var r=yoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function boe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gV(n.key),n)}}function _oe(t,e,r){return e&&boe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xoe(t,e,r){return e=Rm(e),woe(t,pV()?Reflect.construct(e,r||[],Rm(t).constructor):e.apply(t,r))}function woe(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eoe(t)}function Eoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pV=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(t)}function Soe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b1(t,e)}function b1(t,e){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b1(t,e)}function Bu(t){return Poe(t)||Aoe(t)||mV(t)||Toe()}function Toe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mV(t,e){if(t){if(typeof t=="string")return _1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _1(t,e)}}function Aoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Poe(t){if(Array.isArray(t))return _1(t)}function _1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(r),!0).forEach(function(n){ze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ze(t,e,r){return e=gV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gV(t){var e=koe(t,"string");return Uu(e)=="symbol"?e:e+""}function koe(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ioe={xAxis:["bottom","top"],yAxis:["left","right"]},Ooe={width:"100%",height:"100%"},yV={x:0,y:0};function fp(t){return t}var Coe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Noe=function(e,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,u=i.radius;return le(le(le({},i),Ct(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=a.coordinate,f=i.angle;return le(le(le({},i),Ct(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return yV},$g=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Bu(u),Bu(f)):u},[]);return s.length>0?s:e&&e.length&&be(i)&&be(a)?e.slice(i,a+1):[]};function vV(t){return t==="number"?[0,"auto"]:void 0}var x1=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,u=$g(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var b=m===void 0?u:m;y=rw(b,s.dataKey,i)}else y=m&&m[n]||u[n];return y?[].concat(Bu(c),[d4(f,y)]):c},[])},f2=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Coe(a,n),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=yJ(s,u,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,y=x1(e,r,h,m),b=Noe(n,u,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:y,activeCoordinate:b}}return null},Roe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,y=e.stackOffset,b=o4(h,a);return n.reduce(function(w,E){var x,N=E.type.defaultProps!==void 0?le(le({},E.type.defaultProps),E.props):E.props,C=N.type,I=N.dataKey,$=N.allowDataOverflow,O=N.allowDuplicatedCategory,j=N.scale,A=N.ticks,P=N.includeHidden,R=N[s];if(w[R])return w;var V=$g(e.data,{graphicalItems:i.filter(function(K){var fe,Se=s in K.props?K.props[s]:(fe=K.type.defaultProps)===null||fe===void 0?void 0:fe[s];return Se===R}),dataStartIndex:c,dataEndIndex:f}),L=V.length,F,M,ee;aoe(N.domain,$,C)&&(F=Dw(N.domain,null,$),b&&(C==="number"||j!=="auto")&&(ee=ff(V,I,"category")));var re=vV(C);if(!F||F.length===0){var ie,oe=(ie=N.domain)!==null&&ie!==void 0?ie:re;if(I){if(F=ff(V,I,C),C==="category"&&b){var Q=f7(F);O&&Q?(M=F,F=xm(0,L)):O||(F=hR(oe,F,E).reduce(function(K,fe){return K.indexOf(fe)>=0?K:[].concat(Bu(K),[fe])},[]))}else if(C==="category")O?F=F.filter(function(K){return K!==""&&!tt(K)}):F=hR(oe,F,E).reduce(function(K,fe){return K.indexOf(fe)>=0||fe===""||tt(fe)?K:[].concat(Bu(K),[fe])},[]);else if(C==="number"){var ae=wJ(V,i.filter(function(K){var fe,Se,je=s in K.props?K.props[s]:(fe=K.type.defaultProps)===null||fe===void 0?void 0:fe[s],xe="hide"in K.props?K.props.hide:(Se=K.type.defaultProps)===null||Se===void 0?void 0:Se.hide;return je===R&&(P||!xe)}),I,a,h);ae&&(F=ae)}b&&(C==="number"||j!=="auto")&&(ee=ff(V,I,"category"))}else b?F=xm(0,L):u&&u[R]&&u[R].hasStack&&C==="number"?F=y==="expand"?[0,1]:f4(u[R].stackGroups,c,f):F=a4(V,i.filter(function(K){var fe=s in K.props?K.props[s]:K.type.defaultProps[s],Se="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return fe===R&&(P||!Se)}),C,h,!0);if(C==="number")F=v1(m,F,R,a,A),oe&&(F=Dw(oe,F,$));else if(C==="category"&&oe){var se=oe,q=F.every(function(K){return se.indexOf(K)>=0});q&&(F=se)}}return le(le({},w),{},ze({},R,le(le({},N),{},{axisType:a,domain:F,categoricalDomain:ee,duplicateDomain:M,originalDomain:(x=N.domain)!==null&&x!==void 0?x:re,isCategorical:b,layout:h})))},{})},joe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,y=$g(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),b=y.length,w=o4(h,a),E=-1;return n.reduce(function(x,N){var C=N.type.defaultProps!==void 0?le(le({},N.type.defaultProps),N.props):N.props,I=C[s],$=vV("number");if(!x[I]){E++;var O;return w?O=xm(0,b):u&&u[I]&&u[I].hasStack?(O=f4(u[I].stackGroups,c,f),O=v1(m,O,I,a)):(O=Dw($,a4(y,n.filter(function(j){var A,P,R=s in j.props?j.props[s]:(A=j.type.defaultProps)===null||A===void 0?void 0:A[s],V="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return R===I&&!V}),"number",h),i.defaultProps.allowDataOverflow),O=v1(m,O,I,a)),le(le({},x),{},ze({},I,le(le({axisType:a},i.defaultProps),{},{hide:!0,orientation:zn(Ioe,"".concat(a,".").concat(E%2),null),domain:O,originalDomain:$,isCategorical:w,layout:h})))}return x},{})},Moe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.children,m="".concat(i,"Id"),y=ui(h,a),b={};return y&&y.length?b=Roe(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(b=joe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),b},Doe=function(e){var r=Do(e),n=La(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:UE(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:um(r,n)}},d2=function(e){var r=e.children,n=e.defaultShowTooltip,i=Vn(r,Ru),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Loe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Va(r&&r.type);return n&&n.indexOf("Bar")>=0})},h2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$oe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,f=n.width,h=n.height,m=n.children,y=n.margin||{},b=Vn(m,Ru),w=Vn(m,qo),E=Object.keys(c).reduce(function(O,j){var A=c[j],P=A.orientation;return!A.mirror&&!A.hide?le(le({},O),{},ze({},P,O[P]+A.width)):O},{left:y.left||0,right:y.right||0}),x=Object.keys(s).reduce(function(O,j){var A=s[j],P=A.orientation;return!A.mirror&&!A.hide?le(le({},O),{},ze({},P,zn(O,"".concat(P))+A.height)):O},{top:y.top||0,bottom:y.bottom||0}),N=le(le({},x),E),C=N.bottom;b&&(N.bottom+=b.props.height||Ru.defaultProps.height),w&&r&&(N=_J(N,i,n,r));var I=f-N.left-N.right,$=h-N.top-N.bottom;return le(le({brushBottom:C},N),{},{width:Math.max(I,0),height:Math.max($,0)})},Voe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},bV=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,y=function(N,C){var I=C.graphicalItems,$=C.stackGroups,O=C.offset,j=C.updateId,A=C.dataStartIndex,P=C.dataEndIndex,R=N.barSize,V=N.layout,L=N.barGap,F=N.barCategoryGap,M=N.maxBarSize,ee=h2(V),re=ee.numericAxisName,ie=ee.cateAxisName,oe=Loe(I),Q=[];return I.forEach(function(ae,se){var q=$g(N.data,{graphicalItems:[ae],dataStartIndex:A,dataEndIndex:P}),K=ae.type.defaultProps!==void 0?le(le({},ae.type.defaultProps),ae.props):ae.props,fe=K.dataKey,Se=K.maxBarSize,je=K["".concat(re,"Id")],xe=K["".concat(ie,"Id")],$e={},Fe=c.reduce(function(zt,Or){var tn=C["".concat(Or.axisType,"Map")],di=K["".concat(Or.axisType,"Id")];tn&&tn[di]||Or.axisType==="zAxis"||tl();var Li=tn[di];return le(le({},zt),{},ze(ze({},Or.axisType,Li),"".concat(Or.axisType,"Ticks"),La(Li)))},$e),me=Fe[ie],Ce=Fe["".concat(ie,"Ticks")],qe=$&&$[je]&&$[je].hasStack&&CJ(ae,$[je].stackGroups),ue=Va(ae.type).indexOf("Bar")>=0,lt=um(me,Ce),We=[],ht=oe&&vJ({barSize:R,stackGroups:$,totalSize:Voe(Fe,ie)});if(ue){var St,Gt,fr=tt(Se)?M:Se,en=(St=(Gt=um(me,Ce,!0))!==null&&Gt!==void 0?Gt:fr)!==null&&St!==void 0?St:0;We=bJ({barGap:L,barCategoryGap:F,bandSize:en!==lt?en:lt,sizeList:ht[xe],maxBarSize:fr}),en!==lt&&(We=We.map(function(zt){return le(le({},zt),{},{position:le(le({},zt.position),{},{offset:zt.position.offset-en/2})})}))}var qt=ae&&ae.type&&ae.type.getComposedData;qt&&Q.push({props:le(le({},qt(le(le({},Fe),{},{displayedData:q,props:N,dataKey:fe,item:ae,bandSize:lt,barPosition:We,offset:O,stackedData:qe,layout:V,dataStartIndex:A,dataEndIndex:P}))),{},ze(ze(ze({key:ae.key||"item-".concat(se)},re,Fe[re]),ie,Fe[ie]),"animationId",j)),childIndex:E7(ae,N.children),item:ae})}),Q},b=function(N,C){var I=N.props,$=N.dataStartIndex,O=N.dataEndIndex,j=N.updateId;if(!kI({props:I}))return null;var A=I.children,P=I.layout,R=I.stackOffset,V=I.data,L=I.reverseStackOrder,F=h2(P),M=F.numericAxisName,ee=F.cateAxisName,re=ui(A,n),ie=IJ(V,re,"".concat(M,"Id"),"".concat(ee,"Id"),R,L),oe=c.reduce(function(K,fe){var Se="".concat(fe.axisType,"Map");return le(le({},K),{},ze({},Se,Moe(I,le(le({},fe),{},{graphicalItems:re,stackGroups:fe.axisType===M&&ie,dataStartIndex:$,dataEndIndex:O}))))},{}),Q=$oe(le(le({},oe),{},{props:I,graphicalItems:re}),C?.legendBBox);Object.keys(oe).forEach(function(K){oe[K]=h(I,oe[K],Q,K.replace("Map",""),r)});var ae=oe["".concat(ee,"Map")],se=Doe(ae),q=y(I,le(le({},oe),{},{dataStartIndex:$,dataEndIndex:O,updateId:j,graphicalItems:re,stackGroups:ie,offset:Q}));return le(le({formattedGraphicalItems:q,graphicalItems:re,offset:Q,stackGroups:ie},se),oe)},w=function(x){function N(C){var I,$,O;return voe(this,N),O=xoe(this,N,[C]),ze(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(O,"accessibilityManager",new ioe),ze(O,"handleLegendBBoxUpdate",function(j){if(j){var A=O.state,P=A.dataStartIndex,R=A.dataEndIndex,V=A.updateId;O.setState(le({legendBBox:j},b({props:O.props,dataStartIndex:P,dataEndIndex:R,updateId:V},le(le({},O.state),{},{legendBBox:j}))))}}),ze(O,"handleReceiveSyncEvent",function(j,A,P){if(O.props.syncId===j){if(P===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(A)}}),ze(O,"handleBrushChange",function(j){var A=j.startIndex,P=j.endIndex;if(A!==O.state.dataStartIndex||P!==O.state.dataEndIndex){var R=O.state.updateId;O.setState(function(){return le({dataStartIndex:A,dataEndIndex:P},b({props:O.props,dataStartIndex:A,dataEndIndex:P,updateId:R},O.state))}),O.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),ze(O,"handleMouseEnter",function(j){var A=O.getMouseInfo(j);if(A){var P=le(le({},A),{},{isTooltipActive:!0});O.setState(P),O.triggerSyncEvent(P);var R=O.props.onMouseEnter;Ye(R)&&R(P,j)}}),ze(O,"triggeredAfterMouseMove",function(j){var A=O.getMouseInfo(j),P=A?le(le({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(P),O.triggerSyncEvent(P);var R=O.props.onMouseMove;Ye(R)&&R(P,j)}),ze(O,"handleItemMouseEnter",function(j){O.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),ze(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),ze(O,"handleMouseMove",function(j){j.persist(),O.throttleTriggeredAfterMouseMove(j)}),ze(O,"handleMouseLeave",function(j){O.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};O.setState(A),O.triggerSyncEvent(A);var P=O.props.onMouseLeave;Ye(P)&&P(A,j)}),ze(O,"handleOuterEvent",function(j){var A=w7(j),P=zn(O.props,"".concat(A));if(A&&Ye(P)){var R,V;/.*touch.*/i.test(A)?V=O.getMouseInfo(j.changedTouches[0]):V=O.getMouseInfo(j),P((R=V)!==null&&R!==void 0?R:{},j)}}),ze(O,"handleClick",function(j){var A=O.getMouseInfo(j);if(A){var P=le(le({},A),{},{isTooltipActive:!0});O.setState(P),O.triggerSyncEvent(P);var R=O.props.onClick;Ye(R)&&R(P,j)}}),ze(O,"handleMouseDown",function(j){var A=O.props.onMouseDown;if(Ye(A)){var P=O.getMouseInfo(j);A(P,j)}}),ze(O,"handleMouseUp",function(j){var A=O.props.onMouseUp;if(Ye(A)){var P=O.getMouseInfo(j);A(P,j)}}),ze(O,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),ze(O,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.handleMouseDown(j.changedTouches[0])}),ze(O,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.handleMouseUp(j.changedTouches[0])}),ze(O,"handleDoubleClick",function(j){var A=O.props.onDoubleClick;if(Ye(A)){var P=O.getMouseInfo(j);A(P,j)}}),ze(O,"handleContextMenu",function(j){var A=O.props.onContextMenu;if(Ye(A)){var P=O.getMouseInfo(j);A(P,j)}}),ze(O,"triggerSyncEvent",function(j){O.props.syncId!==void 0&&Ax.emit(Px,O.props.syncId,j,O.eventEmitterSymbol)}),ze(O,"applySyncEvent",function(j){var A=O.props,P=A.layout,R=A.syncMethod,V=O.state.updateId,L=j.dataStartIndex,F=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)O.setState(le({dataStartIndex:L,dataEndIndex:F},b({props:O.props,dataStartIndex:L,dataEndIndex:F,updateId:V},O.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,ee=j.chartY,re=j.activeTooltipIndex,ie=O.state,oe=ie.offset,Q=ie.tooltipTicks;if(!oe)return;if(typeof R=="function")re=R(Q,j);else if(R==="value"){re=-1;for(var ae=0;ae<Q.length;ae++)if(Q[ae].value===j.activeLabel){re=ae;break}}var se=le(le({},oe),{},{x:oe.left,y:oe.top}),q=Math.min(M,se.x+se.width),K=Math.min(ee,se.y+se.height),fe=Q[re]&&Q[re].value,Se=x1(O.state,O.props.data,re),je=Q[re]?{x:P==="horizontal"?Q[re].coordinate:q,y:P==="horizontal"?K:Q[re].coordinate}:yV;O.setState(le(le({},j),{},{activeLabel:fe,activeCoordinate:je,activePayload:Se,activeTooltipIndex:re}))}else O.setState(j)}),ze(O,"renderCursor",function(j){var A,P=O.state,R=P.isTooltipActive,V=P.activeCoordinate,L=P.activePayload,F=P.offset,M=P.activeTooltipIndex,ee=P.tooltipAxisBandSize,re=O.getTooltipEventType(),ie=(A=j.props.active)!==null&&A!==void 0?A:R,oe=O.props.layout,Q=j.key||"_recharts-cursor";return W.createElement(foe,{key:Q,activeCoordinate:V,activePayload:L,activeTooltipIndex:M,chartName:r,element:j,isActive:ie,layout:oe,offset:F,tooltipAxisBandSize:ee,tooltipEventType:re})}),ze(O,"renderPolarAxis",function(j,A,P){var R=zn(j,"type.axisType"),V=zn(O.state,"".concat(R,"Map")),L=j.type.defaultProps,F=L!==void 0?le(le({},L),j.props):j.props,M=V&&V[F["".concat(R,"Id")]];return G.cloneElement(j,le(le({},M),{},{className:Ze(R,M.className),key:j.key||"".concat(A,"-").concat(P),ticks:La(M,!0)}))}),ze(O,"renderPolarGrid",function(j){var A=j.props,P=A.radialLines,R=A.polarAngles,V=A.polarRadius,L=O.state,F=L.radiusAxisMap,M=L.angleAxisMap,ee=Do(F),re=Do(M),ie=re.cx,oe=re.cy,Q=re.innerRadius,ae=re.outerRadius;return G.cloneElement(j,{polarAngles:Array.isArray(R)?R:La(re,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(V)?V:La(ee,!0).map(function(se){return se.coordinate}),cx:ie,cy:oe,innerRadius:Q,outerRadius:ae,key:j.key||"polar-grid",radialLines:P})}),ze(O,"renderLegend",function(){var j=O.state.formattedGraphicalItems,A=O.props,P=A.children,R=A.width,V=A.height,L=O.props.margin||{},F=R-(L.left||0)-(L.right||0),M=n4({children:P,formattedGraphicalItems:j,legendWidth:F,legendContent:f});if(!M)return null;var ee=M.item,re=u2(M,doe);return G.cloneElement(ee,le(le({},re),{},{chartWidth:R,chartHeight:V,margin:L,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),ze(O,"renderTooltip",function(){var j,A=O.props,P=A.children,R=A.accessibilityLayer,V=Vn(P,oi);if(!V)return null;var L=O.state,F=L.isTooltipActive,M=L.activeCoordinate,ee=L.activePayload,re=L.activeLabel,ie=L.offset,oe=(j=V.props.active)!==null&&j!==void 0?j:F;return G.cloneElement(V,{viewBox:le(le({},ie),{},{x:ie.left,y:ie.top}),active:oe,label:re,payload:oe?ee:[],coordinate:M,accessibilityLayer:R})}),ze(O,"renderBrush",function(j){var A=O.props,P=A.margin,R=A.data,V=O.state,L=V.offset,F=V.dataStartIndex,M=V.dataEndIndex,ee=V.updateId;return G.cloneElement(j,{key:j.key||"_recharts-brush",onChange:op(O.handleBrushChange,j.props.onChange),data:R,x:be(j.props.x)?j.props.x:L.left,y:be(j.props.y)?j.props.y:L.top+L.height+L.brushBottom-(P.bottom||0),width:be(j.props.width)?j.props.width:L.width,startIndex:F,endIndex:M,updateId:"brush-".concat(ee)})}),ze(O,"renderReferenceElement",function(j,A,P){if(!j)return null;var R=O,V=R.clipPathId,L=O.state,F=L.xAxisMap,M=L.yAxisMap,ee=L.offset,re=j.type.defaultProps||{},ie=j.props,oe=ie.xAxisId,Q=oe===void 0?re.xAxisId:oe,ae=ie.yAxisId,se=ae===void 0?re.yAxisId:ae;return G.cloneElement(j,{key:j.key||"".concat(A,"-").concat(P),xAxis:F[Q],yAxis:M[se],viewBox:{x:ee.left,y:ee.top,width:ee.width,height:ee.height},clipPathId:V})}),ze(O,"renderActivePoints",function(j){var A=j.item,P=j.activePoint,R=j.basePoint,V=j.childIndex,L=j.isRange,F=[],M=A.props.key,ee=A.item.type.defaultProps!==void 0?le(le({},A.item.type.defaultProps),A.item.props):A.item.props,re=ee.activeDot,ie=ee.dataKey,oe=le(le({index:V,dataKey:ie,cx:P.x,cy:P.y,r:4,fill:pS(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Ke(re,!1)),Vp(re));return F.push(N.renderActiveDot(re,oe,"".concat(M,"-activePoint-").concat(V))),R?F.push(N.renderActiveDot(re,le(le({},oe),{},{cx:R.x,cy:R.y}),"".concat(M,"-basePoint-").concat(V))):L&&F.push(null),F}),ze(O,"renderGraphicChild",function(j,A,P){var R=O.filterFormatItem(j,A,P);if(!R)return null;var V=O.getTooltipEventType(),L=O.state,F=L.isTooltipActive,M=L.tooltipAxis,ee=L.activeTooltipIndex,re=L.activeLabel,ie=O.props.children,oe=Vn(ie,oi),Q=R.props,ae=Q.points,se=Q.isRange,q=Q.baseLine,K=R.item.type.defaultProps!==void 0?le(le({},R.item.type.defaultProps),R.item.props):R.item.props,fe=K.activeDot,Se=K.hide,je=K.activeBar,xe=K.activeShape,$e=!!(!Se&&F&&oe&&(fe||je||xe)),Fe={};V!=="axis"&&oe&&oe.props.trigger==="click"?Fe={onClick:op(O.handleItemMouseEnter,j.props.onClick)}:V!=="axis"&&(Fe={onMouseLeave:op(O.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:op(O.handleItemMouseEnter,j.props.onMouseEnter)});var me=G.cloneElement(j,le(le({},R.props),Fe));function Ce(Or){return typeof M.dataKey=="function"?M.dataKey(Or.payload):null}if($e)if(ee>=0){var qe,ue;if(M.dataKey&&!M.allowDuplicatedCategory){var lt=typeof M.dataKey=="function"?Ce:"payload.".concat(M.dataKey.toString());qe=rw(ae,lt,re),ue=se&&q&&rw(q,lt,re)}else qe=ae?.[ee],ue=se&&q&&q[ee];if(xe||je){var We=j.props.activeIndex!==void 0?j.props.activeIndex:ee;return[G.cloneElement(j,le(le(le({},R.props),Fe),{},{activeIndex:We})),null,null]}if(!tt(qe))return[me].concat(Bu(O.renderActivePoints({item:R,activePoint:qe,basePoint:ue,childIndex:ee,isRange:se})))}else{var ht,St=(ht=O.getItemByXY(O.state.activeCoordinate))!==null&&ht!==void 0?ht:{graphicalItem:me},Gt=St.graphicalItem,fr=Gt.item,en=fr===void 0?j:fr,qt=Gt.childIndex,zt=le(le(le({},R.props),Fe),{},{activeIndex:qt});return[G.cloneElement(en,zt),null,null]}return se?[me,null,null]:[me,null]}),ze(O,"renderCustomized",function(j,A,P){return G.cloneElement(j,le(le({key:"recharts-customized-".concat(P)},O.props),O.state))}),ze(O,"renderMap",{CartesianGrid:{handler:fp,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:fp},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:fp},YAxis:{handler:fp},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((I=C.id)!==null&&I!==void 0?I:Ad("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=r$(O.triggeredAfterMouseMove,($=C.throttleDelay)!==null&&$!==void 0?$:1e3/60),O.state={},O}return Soe(N,x),_oe(N,[{key:"componentDidMount",value:function(){var I,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var I=this.props,$=I.children,O=I.data,j=I.height,A=I.layout,P=Vn($,oi);if(P){var R=P.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,L=x1(this.state,O,R,V),F=this.state.tooltipTicks[R].coordinate,M=(this.state.offset.top+j)/2,ee=A==="horizontal",re=ee?{x:F,y:M}:{y:F,x:M},ie=this.state.formattedGraphicalItems.find(function(Q){var ae=Q.item;return ae.type.name==="Scatter"});ie&&(re=le(le({},re),ie.props.points[R].tooltipPosition),L=ie.props.points[R].tooltipPayload);var oe={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:V,activePayload:L,activeCoordinate:re};this.setState(oe),this.renderCursor(P),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(I,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var O,j;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(I){iw([Vn(I.children,oi)],[Vn(this.props.children,oi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=Vn(this.props.children,oi);if(I&&typeof I.props.shared=="boolean"){var $=I.props.shared?"axis":"item";return u.indexOf($)>=0?$:a}return a}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var $=this.container,O=$.getBoundingClientRect(),j=uG(O),A={chartX:Math.round(I.pageX-j.left),chartY:Math.round(I.pageY-j.top)},P=O.width/$.offsetWidth||1,R=this.inRange(A.chartX,A.chartY,P);if(!R)return null;var V=this.state,L=V.xAxisMap,F=V.yAxisMap,M=this.getTooltipEventType(),ee=f2(this.state,this.props.data,this.props.layout,R);if(M!=="axis"&&L&&F){var re=Do(L).scale,ie=Do(F).scale,oe=re&&re.invert?re.invert(A.chartX):null,Q=ie&&ie.invert?ie.invert(A.chartY):null;return le(le({},A),{},{xValue:oe,yValue:Q},ee)}return ee?le(le({},A),ee):null}},{key:"inRange",value:function(I,$){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,A=I/O,P=$/O;if(j==="horizontal"||j==="vertical"){var R=this.state.offset,V=A>=R.left&&A<=R.left+R.width&&P>=R.top&&P<=R.top+R.height;return V?{x:A,y:P}:null}var L=this.state,F=L.angleAxisMap,M=L.radiusAxisMap;if(F&&M){var ee=Do(F);return gR({x:A,y:P},ee)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,$=this.getTooltipEventType(),O=Vn(I,oi),j={};O&&$==="axis"&&(O.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Vp(this.props,this.handleOuterEvent);return le(le({},A),j)}},{key:"addListener",value:function(){Ax.on(Px,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ax.removeListener(Px,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,$,O){for(var j=this.state.formattedGraphicalItems,A=0,P=j.length;A<P;A++){var R=j[A];if(R.item===I||R.props.key===I.key||$===Va(R.item.type)&&O===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var I=this.clipPathId,$=this.state.offset,O=$.left,j=$.top,A=$.height,P=$.width;return W.createElement("defs",null,W.createElement("clipPath",{id:I},W.createElement("rect",{x:O,y:j,height:A,width:P})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function($,O){var j=l2(O,2),A=j[0],P=j[1];return le(le({},$),{},ze({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function($,O){var j=l2(O,2),A=j[0],P=j[1];return le(le({},$),{},ze({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[I])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(I){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[I])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(I){var $=this.state,O=$.formattedGraphicalItems,j=$.activeItem;if(O&&O.length)for(var A=0,P=O.length;A<P;A++){var R=O[A],V=R.props,L=R.item,F=L.type.defaultProps!==void 0?le(le({},L.type.defaultProps),L.props):L.props,M=Va(L.type);if(M==="Bar"){var ee=(V.data||[]).find(function(Q){return Ate(I,Q)});if(ee)return{graphicalItem:R,payload:ee}}else if(M==="RadialBar"){var re=(V.data||[]).find(function(Q){return gR(I,Q)});if(re)return{graphicalItem:R,payload:re}}else if(Cg(R,j)||Ng(R,j)||ed(R,j)){var ie=Yre({graphicalItem:R,activeTooltipItem:j,itemData:F.data}),oe=F.activeIndex===void 0?ie:F.activeIndex;return{graphicalItem:le(le({},R),{},{childIndex:oe}),payload:ed(R,j)?F.data[ie]:R.props.data[ie]}}}return null}},{key:"render",value:function(){var I=this;if(!kI(this))return null;var $=this.props,O=$.children,j=$.className,A=$.width,P=$.height,R=$.style,V=$.compact,L=$.title,F=$.desc,M=u2($,hoe),ee=Ke(M,!1);if(V)return W.createElement(Hj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(ow,nu({},ee,{width:A,height:P,title:L,desc:F}),this.renderClipPath(),OI(O,this.renderMap)));if(this.props.accessibilityLayer){var re,ie;ee.tabIndex=(re=this.props.tabIndex)!==null&&re!==void 0?re:0,ee.role=(ie=this.props.role)!==null&&ie!==void 0?ie:"application",ee.onKeyDown=function(Q){I.accessibilityManager.keyboardEvent(Q)},ee.onFocus=function(){I.accessibilityManager.focus()}}var oe=this.parseEventsOfWrapper();return W.createElement(Hj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",nu({className:Ze("recharts-wrapper",j),style:le({position:"relative",cursor:"default",width:A,height:P},R)},oe,{ref:function(ae){I.container=ae}}),W.createElement(ow,nu({},ee,{width:A,height:P,title:L,desc:F,style:Ooe}),this.renderClipPath(),OI(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(G.Component);ze(w,"displayName",r),ze(w,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),ze(w,"getDerivedStateFromProps",function(x,N){var C=x.dataKey,I=x.data,$=x.children,O=x.width,j=x.height,A=x.layout,P=x.stackOffset,R=x.margin,V=N.dataStartIndex,L=N.dataEndIndex;if(N.updateId===void 0){var F=d2(x);return le(le(le({},F),{},{updateId:0},b(le(le({props:x},F),{},{updateId:0}),N)),{},{prevDataKey:C,prevData:I,prevWidth:O,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:R,prevChildren:$})}if(C!==N.prevDataKey||I!==N.prevData||O!==N.prevWidth||j!==N.prevHeight||A!==N.prevLayout||P!==N.prevStackOffset||!uu(R,N.prevMargin)){var M=d2(x),ee={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},re=le(le({},f2(N,I,A)),{},{updateId:N.updateId+1}),ie=le(le(le({},M),ee),re);return le(le(le({},ie),b(le({props:x},ie),N)),{},{prevDataKey:C,prevData:I,prevWidth:O,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:R,prevChildren:$})}if(!iw($,N.prevChildren)){var oe,Q,ae,se,q=Vn($,Ru),K=q&&(oe=(Q=q.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&oe!==void 0?oe:V,fe=q&&(ae=(se=q.props)===null||se===void 0?void 0:se.endIndex)!==null&&ae!==void 0?ae:L,Se=K!==V||fe!==L,je=!tt(I),xe=je&&!Se?N.updateId:N.updateId+1;return le(le({updateId:xe},b(le(le({props:x},N),{},{updateId:xe,dataStartIndex:K,dataEndIndex:fe}),N)),{},{prevChildren:$,dataStartIndex:K,dataEndIndex:fe})}return null}),ze(w,"renderActiveDot",function(x,N,C){var I;return G.isValidElement(x)?I=G.cloneElement(x,N):Ye(x)?I=x(N):I=W.createElement(yS,N),W.createElement(_t,{className:"recharts-active-dot",key:C},I)});var E=G.forwardRef(function(N,C){return W.createElement(w,nu({},N,{ref:C}))});return E.displayName=w.displayName,E},_V=bV({chartName:"BarChart",GraphicalChild:sa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Nd},{axisType:"yAxis",AxisComp:Rd}],formatAxisMap:Jne}),Foe=bV({chartName:"PieChart",GraphicalChild:Za,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Og},{axisType:"radiusAxis",AxisComp:kg}],formatAxisMap:UJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Uoe={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},Boe=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:i,handleDelete:a})=>{const[s,u]=G.useState(20),[c,f]=G.useState("single-member-llc"),[h,m]=G.useState("quarterly"),[y,b]=G.useState(!1);G.useEffect(()=>{u(Uoe[c])},[c]);const w=G.useMemo(()=>{const I=new Date;let $,O;switch(h){case"weekly":$=new Date(I.setDate(I.getDate()-I.getDay())),O=new Date(I.setDate(I.getDate()-I.getDay()+6));break;case"monthly":$=new Date(I.getFullYear(),I.getMonth(),1),O=new Date(I.getFullYear(),I.getMonth()+1,0);break;case"quarterly":const j=Math.floor(I.getMonth()/3);$=new Date(I.getFullYear(),j*3,1),O=new Date(I.getFullYear(),j*3+3,0);break;case"yearly":$=new Date(I.getFullYear(),0,1),O=new Date(I.getFullYear(),11,31);break;default:$=new Date,O=new Date}return{start:$,end:O}},[h]),E=G.useMemo(()=>{const I=t.filter(F=>{if(!F.date)return!1;const M=new Date(F.date);return M>=w.start&&M<=w.end}),$=e.reduce((F,M)=>F+M.amount,0)+r.reduce((F,M)=>F+M.amount,0)*4.33,O=(w.end-w.start)/(1e3*60*60*24*30.44),j=$*O,A=I.reduce((F,M)=>F+(M.revenue||0),0),P=I.reduce((F,M)=>F+(M.materialCost||0)+(M.laborCost||0),0),R=A-P,V=R-j,L=V>0?V*(s/100):0;return{netProfit:V,estimatedTax:L,grossProfit:R,periodOperatingExpenses:j}},[t,e,r,s,w]),x=G.useMemo(()=>n.filter(I=>{const $=new Date(I.date);return $>=w.start&&$<=w.end}).reduce((I,$)=>I+($.amount||0),0),[n,w]),N=E.estimatedTax-x,C=[{name:"Tax Liability","Estimated Tax":E.estimatedTax,"Taxes Paid":x}];return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),v.jsxs("select",{id:"filingStatus",value:c,onChange:I=>f(I.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[v.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),v.jsx("option",{value:"s-corp",children:"S-Corporation"}),v.jsx("option",{value:"c-corp",children:"C-Corporation"}),v.jsx("option",{value:"partnership",children:"Partnership"})]}),(c==="llc"||c==="single-member-llc")&&v.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),v.jsx("input",{id:"taxRate",type:"number",value:s,onChange:I=>u(parseFloat(I.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),v.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[v.jsx("button",{onClick:()=>m("weekly"),className:`w-full px-2 py-1 text-xs rounded ${h==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),v.jsx("button",{onClick:()=>m("monthly"),className:`w-full px-2 py-1 text-xs rounded ${h==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),v.jsx("button",{onClick:()=>m("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${h==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),v.jsx("button",{onClick:()=>m("yearly"),className:`w-full px-2 py-1 text-xs rounded ${h==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[v.jsx(Gi,{title:`Estimated ${h} Net Profit`,value:`$${E.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:v.jsx(lf,{}),color:"blue"}),v.jsx(Gi,{title:"Estimated Tax Liability",value:`$${E.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:v.jsx(lf,{}),color:"orange",subtext:E.netProfit<=0?"No tax on negative profit":""}),v.jsx(Gi,{title:"Overpayment / (Underpayment)",value:`${N<0?"-":""}$${Math.abs(N).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:v.jsx(lf,{}),color:N<0?"green":"red",subtext:N<0?"You have overpaid":"Remaining balance due"})]}),v.jsxs("div",{className:"mt-4",children:[v.jsxs("button",{onClick:()=>b(!y),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",v.jsx(JD,{className:`transition-transform ${y?"rotate-180":""}`,size:16})]}),y&&v.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Gross Profit (from Jobs):"})," ",v.jsxs("span",{className:"font-mono",children:["$",E.grossProfit.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"- Est. Operating Expenses:"})," ",v.jsxs("span",{className:"font-mono",children:["$",E.periodOperatingExpenses.toFixed(2)]})]}),v.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),v.jsxs("div",{className:"flex justify-between font-bold",children:[v.jsx("span",{children:"= Estimated Net Profit:"})," ",v.jsxs("span",{className:"font-mono",children:["$",E.netProfit.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{children:["x Tax Rate (",s,"%):"]})," ",v.jsxs("span",{className:"font-mono",children:["$",E.estimatedTax.toFixed(2)]})]})]})]}),E.netProfit<=0&&v.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[v.jsx(c8,{size:20}),v.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),v.jsxs("div",{className:"mt-6",children:[v.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),v.jsx(qE,{width:"100%",height:200,children:v.jsxs(_V,{data:C,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[v.jsx(PS,{strokeDasharray:"3 3"}),v.jsx(Nd,{type:"number"}),v.jsx(Rd,{type:"category",dataKey:"name",hide:!0}),v.jsx(oi,{formatter:I=>`$${I.toLocaleString()}`}),v.jsx(qo,{}),v.jsx(sa,{dataKey:"Estimated Tax",fill:"#f97316"}),v.jsx(sa,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),v.jsxs("button",{onClick:()=>i("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Ci,{size:16})," Record Payment"]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:"Date"}),v.jsx("th",{className:"p-3",children:"Notes"}),v.jsx("th",{className:"p-3 text-right",children:"Amount"}),v.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),v.jsx("tbody",{className:"text-sm",children:n.map(I=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[v.jsx("td",{className:"p-3 font-medium",children:I.date}),v.jsx("td",{className:"p-3",children:I.notes}),v.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(I.amount||0).toFixed(2)]}),v.jsxs("td",{className:"p-3 text-center",children:[v.jsx("button",{onClick:()=>i("taxPayment",I),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Xo,{size:16})}),v.jsx("button",{onClick:()=>a("taxPayment",I.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Mi,{size:16})})]})]},I.id))})]})})]})]})},qoe=({jobs:t,tasks:e,openModal:r})=>{const[n,i]=G.useState(new Date),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],u=new Date(n.getFullYear(),n.getMonth(),1),c=new Date(n.getFullYear(),n.getMonth()+1,0),f=u.getDay(),h=c.getDate(),m=[];for(let E=0;E<f;E++)m.push(null);for(let E=1;E<=h;E++)m.push(new Date(n.getFullYear(),n.getMonth(),E));const y=G.useMemo(()=>{const E={};return t.forEach(x=>{const N=new Date(x.date).toISOString().split("T")[0];E[N]||(E[N]=[]),E[N].push({...x,type:"job"})}),e.forEach(x=>{const N=new Date(x.date).toISOString().split("T")[0];E[N]||(E[N]=[]),E[N].push({...x,type:"task"})}),E},[t,e]),b=()=>{i(new Date(n.getFullYear(),n.getMonth()-1,1))},w=()=>{i(new Date(n.getFullYear(),n.getMonth()+1,1))};return v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("button",{onClick:b,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:v.jsx(s8,{})}),v.jsxs("h2",{className:"text-xl font-bold",children:[s[n.getMonth()]," ",n.getFullYear()]}),v.jsx("button",{onClick:w,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:v.jsx(l8,{})})]}),v.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[v.jsxs("button",{onClick:()=>r("task"),className:"flex items-center gap-2 text-sm bg-amber-500 hover:bg-amber-400 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Ci,{size:16})," Add Task"]}),v.jsxs("button",{onClick:()=>r("job"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Ci,{size:16})," Add Job"]})]}),v.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[a.map(E=>v.jsx("div",{className:"font-bold text-sm text-slate-500 dark:text-slate-400 py-2",children:E},E)),m.map((E,x)=>v.jsxs("div",{className:`h-32 border border-slate-200 dark:border-slate-700 rounded-md p-1 overflow-y-auto ${E?"cursor-pointer":"bg-slate-50 dark:bg-slate-800/50"}`,onClick:()=>E&&r("task",{date:E.toISOString().split("T")[0]}),children:[E&&v.jsx("span",{className:"text-xs font-semibold",children:E.getDate()}),E&&y[E.toISOString().split("T")[0]]?.map(N=>v.jsx("div",{onClick:C=>{C.stopPropagation(),r(N.type,N)},className:`text-xs rounded p-1 mt-1 hover:opacity-80 ${N.type==="job"?"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-200":"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200"}`,children:N.name||N.title},N.id))]},x))]})]})},zoe=({children:t,onClose:e})=>v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",children:v.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-lg m-4 relative border dark:border-slate-700",children:[v.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors",children:v.jsx(tL,{size:24})}),v.jsx("div",{className:"p-6",children:t})]})}),Woe=["Software","Fuel","Vehicle","Insurance","Marketing","Supplies","Overhead","Payroll","Taxes","Utilities","General"],Hoe=({item:t,type:e,onSave:r,onClose:n,debts:i,clients:a,vehicles:s})=>{const[u,c]=G.useState({}),[f,h]=G.useState(null),[m,y]=G.useState(!1);G.useEffect(()=>{const N={bill:{name:"",amount:0,dueDay:1,isAutoPay:!1,category:"General",notes:"",attachmentURL:null,isRecurring:!1,vehicleId:""},debt:{name:"",totalAmount:0,paidAmount:0,interestRate:0,notes:""},income:{name:"",amount:0,type:"monthly",notes:"",isRecurring:!1},weekly:{name:"",amount:0,notes:""},job:{name:"",revenue:0,materialCost:0,laborCost:0,notes:"",date:new Date().toISOString().split("T")[0],clientId:""},task:{title:"",date:new Date().toISOString().split("T")[0],notes:"",isComplete:!1},invoice:{billTo:"",customer:"",jobNo:"",completedOn:"",invNum:"",terms:"",net:0,dueDate:"",status:"",grandTotal:0},taxPayment:{date:new Date().toISOString().split("T")[0],amount:0,notes:""},goal:{name:"",type:"revenue",targetValue:5e4,deadline:"",targetId:""},client:{name:"",address:"",phone:"",email:"",parentId:""},inventory:{name:"",quantity:0,cost:0},vehicle:{name:"",make:"",model:"",year:"",vin:"",licensePlate:"",currentMileage:0},maintenanceLog:{date:new Date().toISOString().split("T")[0],mileage:"",workPerformed:"",cost:0,notes:"",vehicleId:t?.vehicleId||""}};c(t||N[e])},[t,e]);const b=N=>{const{name:C,value:I,type:$,checked:O}=N.target;c(j=>({...j,[C]:$==="checkbox"?O:$==="number"?parseFloat(I)||0:I}))},w=N=>{N.target.files[0]&&h(N.target.files[0])},E=async N=>{N.preventDefault(),y(!0),await r(u,f),y(!1)},x=()=>{const N=a.filter(C=>!C.parentId);switch(e){case"bill":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bill Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount"}),v.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Due Day"}),v.jsx("input",{type:"number",name:"dueDay",min:"1",max:"31",value:u.dueDay||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})]})," ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Category"}),v.jsx("input",{list:"bill-categories",type:"text",name:"category",value:u.category||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"}),v.jsx("datalist",{id:"bill-categories",children:Woe.map(C=>v.jsx("option",{value:C},C))})]})," ",u.category==="Vehicle"&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Assign to Vehicle"}),v.jsxs("select",{name:"vehicleId",value:u.vehicleId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[v.jsx("option",{value:"",children:"-- Select Vehicle --"}),s.map(C=>v.jsx("option",{value:C.id,children:C.name},C.id))]})]})," ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"2",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Attach Receipt (Optional)"}),v.jsx("input",{type:"file",onChange:w,className:"w-full text-sm text-slate-500 dark:text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100"})]})," ",v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"isAutoPay",name:"isAutoPay",checked:u.isAutoPay||!1,onChange:b,className:"h-4 w-4 rounded"}),v.jsx("label",{htmlFor:"isAutoPay",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Enabled for Autopay"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"isRecurring",name:"isRecurring",checked:u.isRecurring||!1,onChange:b,className:"h-4 w-4 rounded"}),v.jsx("label",{htmlFor:"isRecurring",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Recurring?"})]})]})," "]});case"invoice":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bill To"}),v.jsx("input",{type:"text",name:"billTo",value:u.billTo||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Customer"}),v.jsx("input",{type:"text",name:"customer",value:u.customer||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Grand Total"}),v.jsx("input",{type:"number",name:"grandTotal",value:u.grandTotal||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Status"}),v.jsx("input",{type:"text",name:"status",value:u.status||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})]});case"taxPayment":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Payment Date"}),v.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount Paid"}),v.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes (e.g., Q2 Federal)"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"debt":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Debt Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Total Amount"}),v.jsx("input",{type:"number",name:"totalAmount",value:u.totalAmount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Paid Amount"}),v.jsx("input",{type:"number",name:"paidAmount",value:u.paidAmount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Interest Rate (%)"}),v.jsx("input",{type:"number",name:"interestRate",value:u.interestRate||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"income":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Income Source"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount"}),v.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"isRecurring",name:"isRecurring",checked:u.isRecurring||!1,onChange:b,className:"h-4 w-4 rounded"}),v.jsx("label",{htmlFor:"isRecurring",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Recurring?"})]})]});case"weekly":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Weekly Amount"}),v.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"job":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Job Name/Client"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Link to Client Location"}),v.jsx("select",{name:"clientId",value:u.clientId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:N.map(C=>v.jsx("optgroup",{label:C.name,children:a.filter(I=>I.parentId===C.id||I.id===C.id).map(I=>v.jsx("option",{value:I.id,children:I.name},I.id))},C.id))})]})," ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Job Date"}),v.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",v.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Revenue"}),v.jsx("input",{type:"number",name:"revenue",value:u.revenue||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Material Cost"}),v.jsx("input",{type:"number",name:"materialCost",value:u.materialCost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Labor Cost"}),v.jsx("input",{type:"number",name:"laborCost",value:u.laborCost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"task":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Task Title"}),v.jsx("input",{type:"text",name:"title",value:u.title||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Date"}),v.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"isComplete",name:"isComplete",checked:u.isComplete||!1,onChange:b,className:"h-4 w-4 rounded"}),v.jsx("label",{htmlFor:"isComplete",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Complete?"})]})]});case"goal":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Goal Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Goal Type"}),v.jsxs("select",{name:"type",value:u.type||"revenue",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[v.jsx("option",{value:"revenue",children:"Revenue"}),v.jsx("option",{value:"debt",children:"Debt Payoff"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Deadline"}),v.jsx("input",{type:"date",name:"deadline",value:u.deadline||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," ",u.type==="revenue"&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Target Revenue ($)"}),v.jsx("input",{type:"number",name:"targetValue",value:u.targetValue||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",u.type==="debt"&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Select Debt to Pay Off"}),v.jsxs("select",{name:"targetId",value:u.targetId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[v.jsx("option",{value:"",children:"-- Select a Debt --"}),i.map(C=>v.jsx("option",{value:C.id,children:C.name},C.id))]})]})," "]});case"client":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Client/Location Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Parent Account (Optional)"}),v.jsxs("select",{name:"parentId",value:u.parentId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[v.jsx("option",{value:"",children:"-- None (Is a Parent Account) --"}),N.map(C=>v.jsx("option",{value:C.id,children:C.name},C.id))]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Address"}),v.jsx("input",{type:"text",name:"address",value:u.address||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Phone Number"}),v.jsx("input",{type:"tel",name:"phone",value:u.phone||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Email"}),v.jsx("input",{type:"email",name:"email",value:u.email||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"inventory":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Item Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Quantity"}),v.jsx("input",{type:"number",name:"quantity",value:u.quantity||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost per Item"}),v.jsx("input",{type:"number",name:"cost",value:u.cost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"vehicle":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Vehicle Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Year"}),v.jsx("input",{type:"text",name:"year",value:u.year||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Model"}),v.jsx("input",{type:"text",name:"model",value:u.model||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"VIN #"}),v.jsx("input",{type:"text",name:"vin",value:u.vin||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"License Plate"}),v.jsx("input",{type:"text",name:"licensePlate",value:u.licensePlate||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"maintenanceLog":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Date"}),v.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Mileage"}),v.jsx("input",{type:"number",name:"mileage",value:u.mileage||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost"}),v.jsx("input",{type:"number",name:"cost",value:u.cost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Work Performed"}),v.jsx("textarea",{name:"workPerformed",value:u.workPerformed||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," "]});default:return v.jsx("p",{children:"This form is not yet implemented."})}};return v.jsx(zoe,{onClose:n,children:v.jsxs("form",{onSubmit:E,children:[v.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:[t?"Edit":"Add"," ",e.charAt(0).toUpperCase()+e.slice(1)]}),x(),v.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[v.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded-md bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-white",children:"Cancel"}),v.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 rounded-md bg-cyan-600 flex items-center gap-2 disabled:bg-slate-500 text-white",children:m?"Saving...":v.jsxs(v.Fragment,{children:[v.jsx(y8,{size:16})," Save"]})})]})]})})},Koe=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f,handleToggleInvoicePaid:h})=>{const m=[{key:"status",header:"Status",render:w=>v.jsx("button",{onClick:()=>h(w.id,w.status),children:w.status==="Paid"?v.jsx(ZD,{className:"text-green-500"}):v.jsx(eL,{className:"text-slate-400 dark:text-slate-600"})})},{key:"billTo",header:"Bill To",render:w=>v.jsx("span",{className:`font-medium ${w.status==="Paid"?"line-through":""}`,children:w.billTo})},{key:"customer",header:"Customer",render:w=>v.jsx("span",{className:w.status==="Paid"?"line-through":"",children:w.customer})},{key:"grandTotal",header:"Amount",className:"text-right",render:w=>v.jsxs("span",{className:`font-mono ${w.status==="Paid"?"line-through":""}`,children:["$",(w.grandTotal||0).toFixed(2)]})},{key:"dueDate",header:"Due Date",className:"text-center",render:w=>v.jsx("span",{className:w.status==="Paid"?"line-through":"",children:w.dueDate})}],y=G.useMemo(()=>t.filter(w=>(w.customer||"").toLowerCase().includes(i.toLowerCase())||(w.billTo||"").toLowerCase().includes(i.toLowerCase())),[t,i]),b=w=>{w.target.checked?u(y.map(E=>E.id)):u([])};return v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",placeholder:"Search Invoices...",value:i,onChange:w=>a(w.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&v.jsxs("button",{onClick:()=>n("invoice",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Mi,{size:16})," Delete (",s.length,")"]}),v.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:w=>c(w.target.files[0],"invoice")}),v.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[v.jsx(eg,{size:16})," Import CSV"]}),v.jsxs("button",{onClick:()=>f(t,"invoices"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Tf,{size:16})," Export to CSV"]}),v.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Ci,{size:16})," Add New"]})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:v.jsx("input",{type:"checkbox",onChange:b})}),m.map(w=>v.jsx("th",{className:`p-3 ${w.className||""}`,children:w.header},w.key)),v.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),v.jsx("tbody",{className:"text-sm",children:y.map(w=>v.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 ${w.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[v.jsx("td",{className:"p-3",children:v.jsx("input",{type:"checkbox",checked:s.includes(w.id),onChange:()=>{u(E=>E.includes(w.id)?E.filter(x=>x!==w.id):[...E,w.id])}})}),m.map(E=>v.jsx("td",{className:`p-3 ${E.className||""}`,children:E.render(w)},E.key)),v.jsxs("td",{className:"p-3 text-center",children:[v.jsx("button",{onClick:()=>e("invoice",w),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Xo,{size:16})}),v.jsx("button",{onClick:()=>r("invoice",w.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Mi,{size:16})})]})]},w.id))})]})})]})},Goe=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f})=>{const h=[{key:"name",header:"Name",render:b=>v.jsx("span",{className:"font-medium",children:b.name})},{key:"address",header:"Address",render:b=>v.jsx("span",{children:b.address})},{key:"phone",header:"Phone",render:b=>v.jsx("span",{children:b.phone})},{key:"email",header:"Email",render:b=>v.jsx("span",{children:b.email})}],m=G.useMemo(()=>t.filter(b=>(b.name||"").toLowerCase().includes(i.toLowerCase())||(b.address||"").toLowerCase().includes(i.toLowerCase())),[t,i]),y=b=>{b.target.checked?u(m.map(w=>w.id)):u([])};return v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",placeholder:"Search Clients...",value:i,onChange:b=>a(b.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&v.jsxs("button",{onClick:()=>n("client",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Mi,{size:16})," Delete (",s.length,")"]}),v.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:b=>c(b.target.files[0],"client")}),v.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[v.jsx(eg,{size:16})," Import CSV"]}),v.jsxs("button",{onClick:()=>f(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Tf,{size:16})," Export to CSV"]}),v.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Ci,{size:16})," Add New"]})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:v.jsx("input",{type:"checkbox",onChange:y})}),h.map(b=>v.jsx("th",{className:`p-3 ${b.className||""}`,children:b.header},b.key)),v.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),v.jsx("tbody",{className:"text-sm",children:m.map(b=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[v.jsx("td",{className:"p-3",children:v.jsx("input",{type:"checkbox",checked:s.includes(b.id),onChange:()=>{u(w=>w.includes(b.id)?w.filter(E=>E!==b.id):[...w,b.id])}})}),h.map(w=>v.jsx("td",{className:`p-3 ${w.className||""}`,children:w.render(b)},w.key)),v.jsxs("td",{className:"p-3 text-center",children:[v.jsx("button",{onClick:()=>e("client",b),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Xo,{size:16})}),v.jsx("button",{onClick:()=>r("client",b.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Mi,{size:16})})]})]},b.id))})]})})]})},Yoe=({vehicles:t,maintenanceLogs:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:a})=>{const[s,u]=G.useState(null),c=h=>{u(m=>m===h?null:h)},f=G.useMemo(()=>t.filter(h=>(h.name||"").toLowerCase().includes(i.toLowerCase())||(h.model||"").toLowerCase().includes(i.toLowerCase())),[t,i]);return v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Management"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",placeholder:"Search Vehicles...",value:i,onChange:h=>a(h.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),v.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Ci,{size:16})," Add New Vehicle"]})]})]}),v.jsx("div",{className:"space-y-2",children:f.map(h=>v.jsxs("div",{children:[v.jsxs("div",{onClick:()=>c(h.id),className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg flex justify-between items-center cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(o8,{size:24,className:"text-cyan-500"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold",children:h.name}),v.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[h.year," ",h.make," ",h.model]})]})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",e.filter(m=>m.vehicleId===h.id).reduce((m,y)=>m+y.cost,0).toFixed(2)]}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total Expenses"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:m=>{m.stopPropagation(),r("vehicle",h)},className:"p-1 text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400",children:v.jsx(Xo,{size:16})}),v.jsx("button",{onClick:m=>{m.stopPropagation(),n("vehicle",h.id)},className:"p-1 text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Mi,{size:16})})]}),s===h.id?v.jsx(u8,{}):v.jsx(JD,{})]})]}),s===h.id&&v.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-b-lg border-t-2 border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-3",children:[v.jsx("h4",{className:"font-bold",children:"Maintenance Log"}),v.jsxs("button",{onClick:()=>r("maintenanceLog",{vehicleId:h.id}),className:"flex items-center gap-2 text-xs bg-green-600 hover:bg-green-500 text-white font-semibold px-2 py-1 rounded-md",children:[v.jsx(Ci,{size:14})," Add Log Entry"]})]}),v.jsxs("table",{className:"w-full text-left text-sm",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-2",children:"Date"}),v.jsx("th",{className:"p-2",children:"Mileage"}),v.jsx("th",{className:"p-2",children:"Work Performed"}),v.jsx("th",{className:"p-2 text-right",children:"Cost"}),v.jsx("th",{className:"p-2 text-center",children:"Actions"})]})}),v.jsx("tbody",{children:e.filter(m=>m.vehicleId===h.id).sort((m,y)=>new Date(y.date)-new Date(m.date)).map(m=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[v.jsx("td",{className:"p-2",children:m.date}),v.jsx("td",{className:"p-2",children:m.mileage?.toLocaleString()||"N/A"}),v.jsx("td",{className:"p-2",children:m.workPerformed}),v.jsxs("td",{className:"p-2 text-right font-mono",children:["$",m.cost.toFixed(2)]}),v.jsxs("td",{className:"p-2 text-center",children:[v.jsx("button",{onClick:()=>r("maintenanceLog",m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Xo,{size:14})}),v.jsx("button",{onClick:()=>n("maintenanceLog",m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Mi,{size:14})})]})]},m.id))})]})]})]},h.id))})]})},Xoe=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f})=>{const h=[{key:"name",header:"Item Name",render:b=>v.jsx("span",{className:"font-medium",children:b.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:b=>v.jsx("span",{children:b.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:b=>v.jsxs("span",{className:"font-mono",children:["$",(b.cost||0).toFixed(2)]})}],m=G.useMemo(()=>t.filter(b=>(b.name||"").toLowerCase().includes(i.toLowerCase())),[t,i]),y=b=>{b.target.checked?u(m.map(w=>w.id)):u([])};return v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",placeholder:"Search Inventory...",value:i,onChange:b=>a(b.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&v.jsxs("button",{onClick:()=>n("inventory",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Mi,{size:16})," Delete (",s.length,")"]}),v.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:b=>c(b.target.files[0],"inventory")}),v.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[v.jsx(eg,{size:16})," Import CSV"]}),v.jsxs("button",{onClick:()=>f(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Tf,{size:16})," Export to CSV"]}),v.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Ci,{size:16})," Add New"]})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:v.jsx("input",{type:"checkbox",onChange:y})}),h.map(b=>v.jsx("th",{className:`p-3 ${b.className||""}`,children:b.header},b.key)),v.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),v.jsx("tbody",{className:"text-sm",children:m.map(b=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[v.jsx("td",{className:"p-3",children:v.jsx("input",{type:"checkbox",checked:s.includes(b.id),onChange:()=>{u(w=>w.includes(b.id)?w.filter(E=>E!==b.id):[...w,b.id])}})}),h.map(w=>v.jsx("td",{className:`p-3 ${w.className||""}`,children:w.render(b)},w.key)),v.jsxs("td",{className:"p-3 text-center",children:[v.jsx("button",{onClick:()=>e("inventory",b),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Xo,{size:16})}),v.jsx("button",{onClick:()=>r("inventory",b.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Mi,{size:16})})]})]},b.id))})]})})]})},Qoe=({clients:t,jobs:e,bills:r,inventory:n})=>{const i=G.useMemo(()=>t.map(u=>{const c=e.filter(m=>m.clientId===u.id),f=c.reduce((m,y)=>m+(y.revenue||0),0),h=c.reduce((m,y)=>m+(y.materialCost||0)+(y.laborCost||0),0);return{name:u.name,netProfit:f-h}}).sort((u,c)=>c.netProfit-u.netProfit),[t,e]),a=G.useMemo(()=>{const u={},c=new Date;return c.setMonth(c.getMonth()-12),e.forEach(f=>{if(f.date&&new Date(f.date)>c){const h=new Date(f.date).toISOString().slice(0,7);u[h]||(u[h]={revenue:0,expenses:0}),u[h].revenue+=f.revenue||0}}),r.forEach(f=>{const h=f.createdAt?.toDate?f.createdAt.toDate():new Date;if(h>c){const m=h.toISOString().slice(0,7);u[m]||(u[m]={revenue:0,expenses:0}),u[m].expenses+=f.amount||0}}),Object.keys(u).map(f=>({month:f,Revenue:u[f].revenue,Expenses:u[f].expenses})).sort((f,h)=>f.month.localeCompare(h.month))},[e,r]),s=G.useMemo(()=>n.map(u=>({name:u.name,totalValue:(u.quantity||0)*(u.cost||0)})).sort((u,c)=>c.totalValue-u.totalValue),[n]);return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),v.jsx(qE,{width:"100%",height:300,children:v.jsxs(_V,{data:a,children:[v.jsx(PS,{strokeDasharray:"3 3"}),v.jsx(Nd,{dataKey:"month",stroke:"#64748b"}),v.jsx(Rd,{stroke:"#64748b",tickFormatter:u=>`$${u/1e3}k`}),v.jsx(oi,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:u=>`$${u.toLocaleString()}`}),v.jsx(qo,{}),v.jsx(sa,{dataKey:"Revenue",fill:"#22c55e"}),v.jsx(sa,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:"Client"}),v.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),v.jsx("tbody",{children:i.map(u=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[v.jsx("td",{className:"p-3 font-medium",children:u.name}),v.jsxs("td",{className:`p-3 text-right font-mono ${u.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",u.netProfit.toFixed(2)]})]},u.name))})]})})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:"Item"}),v.jsx("th",{className:"p-3 text-center",children:"Quantity"}),v.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),v.jsx("tbody",{children:s.map(u=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[v.jsx("td",{className:"p-3 font-medium",children:u.name}),v.jsx("td",{className:"p-3 text-center",children:n.find(c=>c.name===u.name)?.quantity}),v.jsxs("td",{className:"p-3 text-right font-mono",children:["$",u.totalValue.toFixed(2)]})]},u.name))})]})})]})]})},Joe=({bills:t,paidStatus:e,onClose:r})=>{const n=G.useMemo(()=>{const i=new Date,a=new Date;return a.setDate(i.getDate()+3),t.filter(s=>{if(e[s.id])return!1;const u=new Date(i.getFullYear(),i.getMonth(),s.dueDay);return u>=i&&u<=a})},[t,e]);return n.length===0?null:v.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(a8,{size:20,className:"mr-3"}),v.jsxs("div",{children:[v.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),v.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(i=>v.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),v.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:v.jsx(tL,{size:18})})]})},Zoe=({data:t,onSliceClick:e})=>{const[r,n]=G.useState(0),i=G.useCallback((s,u)=>{n(u)},[n]),a=s=>{const{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:m,endAngle:y,fill:b,payload:w}=s;return v.jsxs("g",{className:"cursor-pointer",onClick:()=>e(w.name),children:[v.jsx("text",{x:u,y:c,dy:8,textAnchor:"middle",fill:b,className:"font-bold text-lg",children:w.name}),v.jsx(mS,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:m,endAngle:y,fill:b})]})};return v.jsx(qE,{width:"100%",height:300,children:v.jsxs(Foe,{children:[v.jsx(oi,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:s=>`$${s.toFixed(2)}`}),v.jsx(Za,{activeIndex:r,activeShape:a,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:s=>e(s.name),children:t.map((s,u)=>v.jsx(hg,{fill:s.color},`cell-${u}`))})]})})},ese={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},ai="hvac-finance-dashboard",kS=T2(ese),p2=lM(kS),gt=u9(kS),tse=Lz(kS),rse=[{name:"Adobe",amount:21.19,dueDay:1,isAutoPay:!0,category:"Software",notes:"",attachmentURL:null,isRecurring:!0},{name:"Rent",amount:1600,dueDay:1,isAutoPay:!1,category:"Overhead",notes:"Landlord: John Smith",attachmentURL:null,isRecurring:!0},{name:"GM Financial Black Truck",amount:1307.2,dueDay:6,isAutoPay:!1,category:"Vehicle",notes:"",vehicleId:"1"}],nse=[{name:"Ondeck Credit",totalAmount:7500,paidAmount:0,interestRate:12.5,notes:""},{name:"Chase Card",totalAmount:33795.27,paidAmount:2200,interestRate:21.99,notes:""}],ise=[{name:"NEST Early Pay",amount:15e3,type:"monthly",notes:"",isRecurring:!0},{name:"Job Revenue",amount:5e3,type:"monthly",notes:"",isRecurring:!1}],ase=[{name:"Projected Payroll",amount:1800,notes:""},{name:"Fuel & Maintenance",amount:450,notes:""}],ose=[{name:"Johnson Residence A/C Install",revenue:8500,materialCost:3200,laborCost:1500,notes:"Trane XV20i unit.",date:new Date().toISOString(),clientId:"1"},{name:"Downtown Restaurant PM",revenue:1200,materialCost:150,laborCost:400,notes:"Quarterly maintenance contract.",date:new Date().toISOString(),clientId:"2"}],sse=[{title:"Follow up with Johnson about quote",date:new Date().toISOString().split("T")[0],notes:"Sent quote last week",isComplete:!1},{title:"Order filters for Downtown Restaurant",date:new Date().toISOString().split("T")[0],notes:"Need 10x 20x25x1 filters",isComplete:!0}],lse=[{billTo:"Badawi",customer:"Southern Algeria #00547",jobNo:"1548875887",completedOn:"6/14/2024",invNum:"",terms:"Net 45",net:1291,dueDate:"6/14/2024",status:"Unpaid",grandTotal:1291}],use=[{date:new Date().toISOString().split("T")[0],amount:500,notes:"Q2 Estimated Payment"}],cse=[{name:"Pay off Chase Card",type:"debt",targetId:"Chase Card",targetValue:0,deadline:"2025-12-31"},{name:"Achieve $50k Job Revenue",type:"revenue",targetValue:5e4,deadline:"2025-12-31"}],fse=[{id:"1",name:"John Johnson",address:"123 Main St, Anytown, USA",phone:"555-1234",email:"john@example.com"},{id:"3",name:"Restaurant Group Inc.",address:"789 Corp Blvd, Big City, USA",phone:"555-9999",email:"accounts@restaurantgroup.com"},{id:"2",name:"Downtown Restaurant",address:"456 Oak Ave, Anytown, USA",phone:"555-5678",email:"contact@downtownrestaurant.com",parentId:"3"}],dse=[{name:"Standard 1-inch Filter",quantity:50,cost:5.5},{name:"Capacitor 45/5 MFD",quantity:15,cost:25}],hse=[{id:"7",name:"Jason's Truck",make:"FORD",model:"TRANSIT T250",year:"2020",vin:"1FTBR1C84LKA59065",licensePlate:"DD16326",currentMileage:104071},{id:"8",name:"Red Van",make:"FORD",model:"TRANSIT T250",year:"2020",vin:"1FTBR1C85LKA70866",licensePlate:"DD16337",currentMileage:107046},{id:"11",name:"GMC Sierra",make:"GMC",model:"SIERRA",year:"2022",vin:"3GTPUJEK7NG635190",licensePlate:"DF94421",currentMileage:18811}],pse=[{vehicleId:"7",date:"2023-08-11",mileage:75018,workPerformed:"LICENSE TABS",cost:183,notes:""},{vehicleId:"7",date:"2024-06-06",mileage:76504,workPerformed:"oil change",cost:55,notes:""},{vehicleId:"7",date:"2024-09-24",mileage:89627,workPerformed:"oil change, air filter oil cleaner",cost:146.09,notes:""},{vehicleId:"7",date:"2024-11-08",mileage:null,workPerformed:"Replaced front and rear rotors and pads",cost:500,notes:""},{vehicleId:"7",date:"2024-12-12",mileage:99399,workPerformed:"Replaced tires and oil change",cost:958,notes:""},{vehicleId:"8",date:"2023-08-11",mileage:84948,workPerformed:"LICENSE TABS",cost:183,notes:""},{vehicleId:"8",date:"2023-09-25",mileage:87270,workPerformed:"oil change",cost:40,notes:"oil filter pf63 6 quarts 5w20"},{vehicleId:"8",date:"2024-06-06",mileage:98e3,workPerformed:"oil change",cost:55,notes:""},{vehicleId:"8",date:"2024-11-01",mileage:null,workPerformed:"Replace Rear rotor and pads",cost:241,notes:""},{vehicleId:"11",date:"2023-08-11",mileage:9435,workPerformed:"LICENSE TABS",cost:302,notes:""},{vehicleId:"11",date:"2023-09-20",mileage:10008,workPerformed:"Oil Change",cost:50,notes:"PF66 oil filter 6 quarts 5w30 full synthetic"},{vehicleId:"11",date:"2025-02-11",mileage:19024,workPerformed:"Oil Change / air filter",cost:143.17,notes:"valvoline oil shop"}],mse=()=>{const[t,e]=G.useState(null),[r,n]=G.useState(!0),[i,a]=G.useState(!1),[s,u]=G.useState([]),[c,f]=G.useState([]),[h,m]=G.useState([]),[y,b]=G.useState([]),[w,E]=G.useState([]),[x,N]=G.useState([]),[C,I]=G.useState([]),[$,O]=G.useState([]),[j,A]=G.useState([]),[P,R]=G.useState([]),[V,L]=G.useState([]),[F,M]=G.useState([]),[ee,re]=G.useState([]),[ie,oe]=G.useState({}),[Q,ae]=G.useState(!1),[se,q]=G.useState(null),[K,fe]=G.useState("bill"),[Se,je]=G.useState({key:"dueDay",direction:"ascending"}),[xe,$e]=G.useState("dashboard"),[Fe,me]=G.useState(null),[Ce,qe]=G.useState(25e3),[ue,lt]=G.useState({start:new Date,end:new Date}),[We,ht]=G.useState("monthly"),[St,Gt]=G.useState(!0),[fr,en]=G.useState("dark"),[qt,zt]=G.useState(""),[Or,tn]=G.useState([]),[di,Li]=G.useState(null),Yt=G.useCallback(async()=>{const we=await(await fetch("http://localhost:8000/api/create_link_token",{method:"POST"})).json();Li(we.link_token)},[]);G.useEffect(()=>{t&&Yt()},[t,Yt]);const rr=G.useCallback((Z,we)=>{fetch("http://localhost:8000/api/exchange_public_token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_token:Z})})},[]),{open:hi,ready:is}=Zz({token:di,onSuccess:rr});G.useEffect(()=>{fr==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[fr]);const $i=()=>{en(fr==="light"?"dark":"light")};G.useEffect(()=>{const Z=new Date;let we,Oe;if(We==="monthly")we=new Date(Z.getFullYear(),Z.getMonth(),1),Oe=new Date(Z.getFullYear(),Z.getMonth()+1,0);else if(We==="quarterly"){const he=Math.floor(Z.getMonth()/3);we=new Date(Z.getFullYear(),he*3,1),Oe=new Date(Z.getFullYear(),he*3+3,0)}else we=new Date(Z.getFullYear(),0,1),Oe=new Date(Z.getFullYear(),11,31);lt({start:we,end:Oe})},[We]);const Wn=G.useMemo(()=>ue.start.getFullYear()+"-"+String(ue.start.getMonth()+1).padStart(2,"0"),[ue]);G.useEffect(()=>{const Z=dU(p2,async we=>{if(we){e(we.uid);const Oe=mr(gt,"artifacts",ai,"users",we.uid,"bills");if((await x9(Oe)).empty){a(!0),console.log("No data found. Seeding initial data...");const Ee=Xh(gt),Le=["artifacts",ai,"users",we.uid];rse.forEach(De=>Ee.set(Ut(mr(gt,...Le,"bills")),{...De,createdAt:Tr()})),nse.forEach(De=>Ee.set(Ut(mr(gt,...Le,"debts")),{...De,createdAt:Tr()})),ise.forEach(De=>Ee.set(Ut(mr(gt,...Le,"incomes")),{...De,createdAt:Tr()})),ase.forEach(De=>Ee.set(Ut(mr(gt,...Le,"weeklyCosts")),{...De,createdAt:Tr()})),ose.forEach(De=>Ee.set(Ut(mr(gt,...Le,"jobs")),{...De,createdAt:Tr()})),sse.forEach(De=>Ee.set(Ut(mr(gt,...Le,"tasks")),{...De,createdAt:Tr()})),lse.forEach(De=>Ee.set(Ut(mr(gt,...Le,"invoices")),{...De,createdAt:Tr()})),use.forEach(De=>Ee.set(Ut(mr(gt,...Le,"taxPayments")),{...De,createdAt:Tr()})),cse.forEach(De=>Ee.set(Ut(mr(gt,...Le,"goals")),{...De,createdAt:Tr()})),fse.forEach(De=>Ee.set(Ut(mr(gt,...Le,"clients")),{...De,createdAt:Tr()})),dse.forEach(De=>Ee.set(Ut(mr(gt,...Le,"inventory")),{...De,createdAt:Tr()})),hse.forEach(De=>Ee.set(Ut(mr(gt,...Le,"vehicles")),{...De,createdAt:Tr()})),pse.forEach(De=>Ee.set(Ut(mr(gt,...Le,"maintenanceLogs")),{...De,createdAt:Tr()}));const nt=new Date().getFullYear()+"-"+String(new Date().getMonth()+1).padStart(2,"0");Ee.set(Ut(gt,...Le,"paidStatus",nt),{status:{}}),await Ee.commit(),a(!1)}}else e(null);n(!1)});return()=>Z()},[]),G.useEffect(()=>{if(!t)return;const we=Object.entries({bills:u,debts:f,incomes:m,weeklyCosts:b,jobs:E,tasks:N,invoices:I,taxPayments:O,goals:A,clients:R,inventory:L,vehicles:M,maintenanceLogs:re}).map(([he,Ee])=>sk(v9(mr(gt,"artifacts",ai,"users",t,he)),Le=>{Ee(Le.docs.map(nt=>({id:nt.id,...nt.data()})))},Le=>console.error(`Error fetching ${he}:`,Le))),Oe=sk(Ut(gt,"artifacts",ai,"users",t,"paidStatus",Wn),he=>{oe(he.exists()?he.data().status:{})},he=>console.error("Error fetching paid status:",he));return()=>{we.forEach(he=>he()),Oe()}},[t,Wn]);const mn=G.useMemo(()=>w.filter(Z=>{if(!Z.date)return!1;const we=new Date(Z.date);return we>=ue.start&&we<=ue.end}),[w,ue]),eo=G.useMemo(()=>s.filter(Z=>!Fe||Z.category===Fe),[s,Fe]),pi=G.useMemo(()=>{const Z=h.reduce((De,Tt)=>De+(Tt.amount||0),0),we=s.reduce((De,Tt)=>De+(Tt.amount||0),0),Oe=y.reduce((De,Tt)=>De+(Tt.amount||0),0)*4.33,he=we+Oe,Ee=Z-he,Le=c.reduce((De,Tt)=>De+((Tt.totalAmount||0)-(Tt.paidAmount||0)),0),nt=s.filter(De=>ie[De.id]).reduce((De,Tt)=>De+Tt.amount,0);return{totalIncome:Z,totalOutflow:he,netCashFlow:Ee,paidThisMonth:nt,totalDebt:Le,totalMonthlyBills:we,projectedMonthlyWeekly:Oe}},[s,c,h,y,ie]),$t=G.useMemo(()=>{const Z=mn.reduce((Tt,Qt)=>Tt+(Qt.revenue||0),0),we=mn.reduce((Tt,Qt)=>Tt+(Qt.materialCost||0)+(Qt.laborCost||0),0),Oe=Z-we,he=s.reduce((Tt,Qt)=>Tt+Qt.amount,0)+y.reduce((Tt,Qt)=>Tt+Qt.amount,0)*4.33,Ee=Oe-he,nt=Ee>0?Ee*.06:0,De=Ee-nt;return{revenue:Z,cogs:we,grossProfit:Oe,operatingExpenses:he,netProfit:Ee,estimatedTax:nt,netProfitAfterTax:De}},[mn,s,y]),as=G.useMemo(()=>{const Z=[{name:"Next 30 Days",Inflow:0,Outflow:0},{name:"Next 60 Days",Inflow:0,Outflow:0},{name:"Next 90 Days",Inflow:0,Outflow:0}],we=new Date,Oe=s.filter(he=>he.isRecurring).reduce((he,Ee)=>he+Ee.amount,0)+y.reduce((he,Ee)=>he+Ee.amount,0)*4.33;return Z[0].Outflow=Oe,Z[1].Outflow=Oe*2,Z[2].Outflow=Oe*3,C.forEach(he=>{if(he.status!=="Paid"&&he.dueDate){const Le=(new Date(he.dueDate)-we)/(1e3*60*60*24);Le<=30&&(Z[0].Inflow+=he.grandTotal),Le<=60&&(Z[1].Inflow+=he.grandTotal),Le<=90&&(Z[2].Inflow+=he.grandTotal)}}),Z.map(he=>({...he,"Net Change":he.Inflow-he.Outflow}))},[C,s,y]),fa=G.useMemo(()=>j.map(Z=>{let we=0;if(Z.type==="debt"){const Oe=c.find(he=>he.id===Z.targetId);Oe&&(we=Oe.paidAmount/Oe.totalAmount*100)}else Z.type==="revenue"&&(we=w.reduce((he,Ee)=>he+(Ee.revenue||0),0)/Z.targetValue*100);return{...Z,progress:Math.min(we,100)}}),[j,c,w]),da=G.useMemo(()=>{const Z=s.reduce((Oe,he)=>{const Ee=he.category||"Uncategorized";return Oe[Ee]=(Oe[Ee]||0)+he.amount,Oe},{}),we=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(Z).map(([Oe,he],Ee)=>({name:Oe,value:he,color:we[Ee%we.length]})).sort((Oe,he)=>he.value-Oe.value)},[s]),In=G.useMemo(()=>{let we={bills:eo,debts:c,incomes:h,weeklyCosts:y,jobs:w,goals:fa,clients:P,inventory:V,vehicles:F,invoices:C}[xe==="dashboard"?"bills":xe]||[];return qt&&(we=we.filter(Oe=>Object.values(Oe).some(he=>he&&String(he).toLowerCase().includes(qt.toLowerCase())))),[...we].sort((Oe,he)=>Se.key?Oe[Se.key]<he[Se.key]?Se.direction==="ascending"?-1:1:Oe[Se.key]>he[Se.key]?Se.direction==="ascending"?1:-1:0:0)},[eo,c,h,y,w,fa,P,V,F,C,Se,xe,qt]),ha=G.useMemo(()=>{const Z=c.map(he=>({...he,remaining:he.totalAmount-he.paidAmount})).filter(he=>he.remaining>0),we=[...Z].sort((he,Ee)=>Ee.interestRate-he.interestRate),Oe=[...Z].sort((he,Ee)=>he.remaining-Ee.remaining);return{avalanche:we,snowball:Oe}},[c]),Ur=Z=>je(we=>({key:Z,direction:we.key===Z&&we.direction==="ascending"?"descending":"ascending"})),Hn=async Z=>{t&&await w9(Ut(gt,"artifacts",ai,"users",t,"paidStatus",Wn),{status:{...ie,[Z]:!ie[Z]}},{merge:!0})},to=async(Z,we)=>{if(!t)return;const Oe=we==="Paid"?"Unpaid":"Paid";await ok(Ut(gt,"artifacts",ai,"users",t,"invoices",Z),{status:Oe})},Xt=(Z,we=null)=>{fe(Z),q(we),ae(!0)},os=async(Z,we)=>{if(!t)return;const he={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[K],Ee=["artifacts",ai,"users",t,he],Le={...Z,modifiedAt:Tr()};if(we){console.log("Uploading file:",we.name);const nt=Dz(tse,`receipts/${t}/${Date.now()}-${we.name}`);try{await jz(nt,we),Le.attachmentURL=await Mz(nt)}catch(De){console.error("File upload failed:",De),alert("File upload failed. Please try again.");return}}se?.id?await ok(Ut(gt,...Ee,se.id),Le):await S9(mr(gt,...Ee),{...Le,createdAt:Tr()}),ae(!1),q(null)},rn=async(Z,we)=>{if(!t||!window.confirm("Delete this item?"))return;const he={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[Z];await E9(Ut(gt,"artifacts",ai,"users",t,he,we))},mi=(Z,we)=>{if(!Z.length)return;const Oe=Object.keys(Z[0]),he=Z.map(De=>Oe.map(Tt=>{const Qt=De[Tt];return typeof Qt=="string"&&Qt.includes(",")?`"${Qt}"`:Qt}).join(",")),Ee="data:text/csv;charset=utf-8,"+[Oe.join(","),...he].join(`
`),Le=encodeURI(Ee),nt=document.createElement("a");nt.setAttribute("href",Le),nt.setAttribute("download",`hvac_${we}_${Wn}.csv`),document.body.appendChild(nt),nt.click(),document.body.removeChild(nt)},gn=(Z,we)=>{if(!Z||!t)return;const Oe=new FileReader;Oe.onload=async he=>{const Le=he.target.result.split(`
`).filter(yn=>yn),nt=Le[0].split(",").map(yn=>yn.trim()),De=Le.slice(1).map(yn=>{const gi=yn.split(",").map(nn=>nn.trim());return nt.reduce((nn,Cr,ga)=>{const Kn=gi[ga];return nn[Cr]=isNaN(Kn)||Kn===""?Kn:parseFloat(Kn),nn},{})}),Qt={client:"clients",job:"jobs",inventory:"inventory",invoice:"invoices"}[we];if(!Qt){alert("Invalid import type.");return}const dl=Xh(gt),wt=mr(gt,"artifacts",ai,"users",t,Qt);De.forEach(yn=>{const gi=Ut(wt),nn=Object.entries(yn).reduce((Cr,[ga,Kn])=>(Cr[ga]=Kn===void 0?null:Kn,Cr),{});dl.set(gi,{...nn,createdAt:Tr()})});try{await dl.commit(),alert(`Successfully imported ${De.length} ${Qt}!`)}catch(yn){console.error("Error importing CSV:",yn),alert("Failed to import CSV. Please check the console for errors.")}},Oe.readAsText(Z)},ss=async()=>{if(!t||!window.confirm("This will generate recurring transactions for next month. Continue?"))return;const Z=new Date(ue.start);Z.setMonth(Z.getMonth()+1);const we=Z.getFullYear()+"-"+String(new Date().getMonth()+1).padStart(2,"0"),Oe=s.filter(Le=>Le.isRecurring),he=h.filter(Le=>Le.isRecurring),Ee=Xh(gt);Oe.forEach(Le=>{const nt={...Le,createdAt:Tr(),notes:`Generated for ${we}`};delete nt.id;const De=Ut(mr(gt,"artifacts",ai,"users",t,"bills"));Ee.set(De,nt)}),he.forEach(Le=>{const nt={...Le,createdAt:Tr(),notes:`Generated for ${we}`};delete nt.id;const De=Ut(mr(gt,"artifacts",ai,"users",t,"incomes"));Ee.set(De,nt)});try{await Ee.commit(),alert(`Generated ${Oe.length} bills and ${he.length} incomes for next month.`)}catch(Le){console.error("Error generating recurring transactions:",Le),alert("Failed to generate recurring transactions.")}},Nt=async(Z,we)=>{if(!t||!we.length||!window.confirm(`Delete ${we.length} selected items?`))return;const he={inventory:"inventory",invoice:"invoices",client:"clients"}[Z];if(!he){alert("Invalid bulk delete type.");return}const Ee=Xh(gt);we.forEach(Le=>{const nt=Ut(gt,"artifacts",ai,"users",t,he,Le);Ee.delete(nt)}),await Ee.commit(),tn([])};if(r)return v.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})});if(!t)return v.jsx(w8,{setUserId:e});const ro=()=>v.jsxs(v.Fragment,{children:[St&&v.jsx(Joe,{bills:s,paidStatus:ie,onClose:()=>Gt(!1)}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[v.jsx(Gi,{title:"Total Monthly Income",value:`$${pi.totalIncome.toLocaleString()}`,icon:v.jsx(i8,{size:24}),color:"green"}),v.jsx(Gi,{title:"Total Monthly Outflow",value:`$${pi.totalOutflow.toLocaleString()}`,icon:v.jsx(n8,{size:24}),color:"red"}),v.jsx(Gi,{title:"Projected Net",value:`$${pi.netCashFlow.toLocaleString()}`,icon:v.jsx(lf,{size:24}),color:pi.netCashFlow>=0?"cyan":"amber"}),v.jsx(Gi,{title:"Outstanding Debt",value:`$${pi.totalDebt.toLocaleString()}`,icon:v.jsx(x8,{size:24}),color:"orange"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[v.jsx(Gi,{title:"Gross Profit Margin",value:`${$t.revenue>0?($t.grossProfit/$t.revenue*100).toFixed(1):"0.0"}%`,icon:v.jsx(m8,{size:24}),color:"teal",subtext:"For selected period"}),v.jsx(Gi,{title:"Avg. Job Revenue",value:`$${($t.revenue/(mn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:v.jsx(_8,{size:24}),color:"indigo",subtext:`${mn.length} jobs`}),v.jsx(Gi,{title:"Avg. Job Profit",value:`$${($t.grossProfit/(mn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:v.jsx(b8,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[v.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),Fe&&v.jsxs("button",{onClick:()=>me(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",Fe]}),v.jsxs("button",{onClick:()=>mi(In,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Tf,{size:16})," Export to CSV"]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:"Status"}),v.jsx("th",{className:"p-3 cursor-pointer",onClick:()=>Ur("name"),children:"Name"}),v.jsx("th",{className:"p-3",children:"Notes"}),v.jsx("th",{className:"p-3",children:"Receipt"}),v.jsx("th",{className:"p-3 cursor-pointer text-right",onClick:()=>Ur("amount"),children:"Amount"}),v.jsx("th",{className:"p-3 cursor-pointer text-center",onClick:()=>Ur("dueDay"),children:"Due Day"}),v.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),v.jsx("tbody",{children:In.map(Z=>v.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 ${ie[Z.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[v.jsx("td",{className:"p-3",children:v.jsx("button",{onClick:()=>Hn(Z.id),children:ie[Z.id]?v.jsx(ZD,{className:"text-green-500"}):v.jsx(eL,{className:"text-slate-400 dark:text-slate-600"})})}),v.jsx("td",{className:`p-3 font-medium ${ie[Z.id]?"line-through":""}`,children:Z.name}),v.jsxs("td",{className:"p-3 text-center",children:[" ",Z.notes&&v.jsxs("div",{className:"group relative flex justify-center",children:[v.jsx(h8,{size:16,className:"text-slate-500"}),v.jsx("span",{className:"absolute top-[-30px] w-max scale-0 transition-all rounded bg-slate-700 p-2 text-xs text-white group-hover:scale-100",children:Z.notes})]})," "]}),v.jsxs("td",{className:"p-3 text-center",children:[" ",Z.attachmentURL?v.jsx("a",{href:Z.attachmentURL,target:"_blank",rel:"noopener noreferrer",children:v.jsx(bk,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):v.jsx(bk,{size:16,className:"text-slate-400 dark:text-slate-600"})," "]}),v.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(Z.amount||0).toFixed(2)]}),v.jsx("td",{className:"p-3 text-center",children:Z.dueDay}),v.jsxs("td",{className:"p-3 text-center",children:[v.jsx("button",{onClick:()=>Xt("bill",Z),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Xo,{size:16})}),v.jsx("button",{onClick:()=>rn("bill",Z.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Mi,{size:16})})]})]},Z.id))})]})}),v.jsxs("button",{onClick:()=>Xt("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold",children:[v.jsx(Ci,{size:18})," Add New Bill"]})]}),v.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),v.jsx(Zoe,{data:da,onSliceClick:me})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Automations"}),v.jsxs("button",{onClick:ss,className:"w-full flex items-center justify-center gap-2 text-sm bg-indigo-600 hover:bg-indigo-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(g8,{size:16})," Generate Next Month's Bills"]})]})]})]})]}),Br=(Z,we,Oe,he)=>v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:Z}),v.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[v.jsx("input",{type:"text",placeholder:"Search...",value:qt,onChange:Ee=>zt(Ee.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(he==="client"||he==="job"||he==="inventory"||he==="invoice")&&v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"file",id:"csv-importer",className:"hidden",accept:".csv",onChange:Ee=>gn(Ee.target.files[0],he)}),v.jsxs("label",{htmlFor:"csv-importer",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[v.jsx(eg,{size:16})," Import CSV"]})]}),v.jsxs("button",{onClick:()=>mi(we,he),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Tf,{size:16})," Export to CSV"]})]})]}),he==="debt"&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),v.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),v.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:ha.avalanche.map(Ee=>v.jsxs("li",{children:[Ee.name," ",v.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",Ee.interestRate,"%)"]})]},Ee.id))})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),v.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),v.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:ha.snowball.map(Ee=>v.jsxs("li",{children:[Ee.name," ",v.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",Ee.remaining.toFixed(2),")"]})]},Ee.id))})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[Oe.map(Ee=>v.jsx("th",{className:`p-3 ${Ee.className||""}`,children:Ee.header},Ee.key)),v.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),v.jsx("tbody",{className:"text-sm",children:we.map(Ee=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[Oe.map(Le=>v.jsx("td",{className:`p-3 ${Le.className||""}`,children:Le.render(Ee)},Le.key)),v.jsxs("td",{className:"p-3 text-center",children:[v.jsx("button",{onClick:()=>Xt(he,Ee),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Xo,{size:16})}),v.jsx("button",{onClick:()=>rn(he,Ee.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Mi,{size:16})})]})]},Ee.id))})]})}),v.jsxs("button",{onClick:()=>Xt(he),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold",children:[v.jsx(Ci,{size:18})," Add New ",he.charAt(0).toUpperCase()+he.slice(1)]})]}),pa=()=>v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Profit & Loss Statement"}),v.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["For ",We==="monthly"?ue.start.toLocaleString("default",{month:"long",year:"numeric"}):`${ue.start.toLocaleDateString()} - ${ue.end.toLocaleDateString()}`]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[v.jsx("span",{className:"font-semibold",children:"Total Revenue (from Jobs)"}),v.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",$t.revenue.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),v.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["($",$t.cogs.toFixed(2),")"]})]}),v.jsx("hr",{className:"border-slate-200 dark:border-slate-700"}),v.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[v.jsx("span",{className:"font-bold text-lg",children:"Gross Profit"}),v.jsxs("span",{className:"font-mono font-bold text-lg",children:["$",$t.grossProfit.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Operating Expenses (Bills & Weekly)"}),v.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["($",$t.operatingExpenses.toFixed(2),")"]})]}),v.jsx("hr",{className:"border-slate-300 dark:border-slate-600 border-2"}),v.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-200 dark:bg-slate-900/50 rounded-lg",children:[v.jsx("span",{className:"font-bold text-xl",children:"Net Profit / (Loss) Before Tax"}),v.jsxs("span",{className:`font-mono font-bold text-xl ${$t.netProfit>=0?"text-slate-800 dark:text-white":"text-red-500"}`,children:[$t.netProfit<0&&"(","$",Math.abs($t.netProfit).toFixed(2),$t.netProfit<0&&")"]})]}),v.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Estimated Tax Liability (6%)"}),v.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["($",$t.estimatedTax.toFixed(2),")"]})]}),v.jsx("hr",{className:"border-slate-300 dark:border-slate-600 border-2"}),v.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-200 dark:bg-slate-900 rounded-lg",children:[v.jsx("span",{className:"font-bold text-xl text-cyan-600 dark:text-cyan-400",children:"Net Profit / (Loss) After Tax"}),v.jsxs("span",{className:`font-mono font-bold text-xl ${$t.netProfitAfterTax>=0?"text-cyan-600 dark:text-cyan-400":"text-red-500"}`,children:[$t.netProfitAfterTax<0&&"(","$",Math.abs($t.netProfitAfterTax).toFixed(2),$t.netProfitAfterTax<0&&")"]})]})]})]}),ma=()=>v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),v.jsxs("button",{onClick:()=>Xt("goal"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Ci,{size:16})," Add New Goal"]})]}),v.jsx("div",{className:"space-y-6",children:fa.map(Z=>v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-end mb-1",children:[v.jsx("span",{className:"font-semibold",children:Z.name}),v.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[Z.progress.toFixed(1),"%"]})]}),v.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:v.jsx("div",{className:"bg-green-500 h-4 rounded-full",style:{width:`${Z.progress}%`}})}),v.jsxs("div",{className:"flex justify-between items-end mt-1 text-xs text-slate-500 dark:text-slate-500",children:[v.jsxs("span",{children:["Target: ",Z.type==="debt"?"Pay Off":`$${Z.targetValue.toLocaleString()}`]}),v.jsxs("span",{children:["Deadline: ",Z.deadline]})]})]},Z.id))})]}),no=()=>v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Cash Flow Forecast"}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Enter Current Bank Balance ($)"}),v.jsx("input",{type:"number",value:Ce,onChange:Z=>qe(parseFloat(Z.target.value)||0),className:"w-full max-w-xs bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4",children:"This forecast projects your balance based on recurring income and expenses."}),v.jsx(ResponsiveContainer,{width:"100%",height:300,children:v.jsxs(LineChart,{data:as,children:[v.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),v.jsx(XAxis,{dataKey:"month",stroke:"#64748b"}),v.jsx(YAxis,{stroke:"#64748b",tickFormatter:Z=>`$${Z/1e3}k`}),v.jsx(Tooltip,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}}),v.jsx(Legend,{}),v.jsx(Line,{type:"monotone",dataKey:"balance",stroke:"#0891b2",strokeWidth:2,activeDot:{r:8}})]})})]}),On=[{key:"name",header:"Name",render:Z=>v.jsx("span",{className:"font-medium",children:Z.name})},{key:"interestRate",header:"Interest Rate",className:"text-center",render:Z=>v.jsxs("span",{className:"font-mono",children:[Z.interestRate||0,"%"]})},{key:"total",header:"Total Amount",className:"text-right",render:Z=>v.jsxs("span",{className:"font-mono",children:["$",(Z.totalAmount||0).toFixed(2)]})},{key:"paid",header:"Paid Amount",className:"text-right",render:Z=>v.jsxs("span",{className:"font-mono",children:["$",(Z.paidAmount||0).toFixed(2)]})},{key:"remaining",header:"Remaining",className:"text-right font-bold",render:Z=>v.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",((Z.totalAmount||0)-(Z.paidAmount||0)).toFixed(2)]})},{key:"progress",header:"Progress",render:Z=>{const we=Z.totalAmount>0?Z.paidAmount/Z.totalAmount*100:0;return v.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:v.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${we}%`}})})}}],ls=[{key:"name",header:"Source",render:Z=>v.jsx("span",{className:"font-medium",children:Z.name})},{key:"amount",header:"Amount",className:"text-right",render:Z=>v.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",(Z.amount||0).toFixed(2)]})},{key:"type",header:"Type",render:Z=>v.jsx("span",{className:"capitalize bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-medium px-2 py-1 rounded-full",children:Z.type})}],tc=[{key:"name",header:"Item",render:Z=>v.jsx("span",{className:"font-medium",children:Z.name})},{key:"amount",header:"Weekly Amount",className:"text-right",render:Z=>v.jsxs("span",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",(Z.amount||0).toFixed(2)]})}],io=[{key:"name",header:"Job/Client",render:Z=>v.jsx("span",{className:"font-medium",children:Z.name})},{key:"client",header:"Client",render:Z=>v.jsx("span",{children:P.find(we=>we.id===Z.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:Z=>v.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(Z.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:Z=>v.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(Z.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:Z=>v.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(Z.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:Z=>v.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((Z.revenue||0)-(Z.materialCost||0)-(Z.laborCost||0)).toFixed(2)]})}];return v.jsxs("div",{className:`${fr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white min-h-screen font-sans`,children:[v.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[v.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"HVAC Financial Dashboard"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Monthly Money Management"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:$i,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:fr==="light"?v.jsx(p8,{size:20}):v.jsx(v8,{size:20})}),v.jsxs("button",{onClick:()=>hi(),disabled:!is,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors disabled:opacity-50",children:[v.jsx(f8,{size:16})," Link Bank Account"]}),v.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-2 rounded-lg",children:[v.jsx("span",{className:"text-sm font-semibold",children:"Reporting Period:"}),v.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[v.jsx("button",{onClick:()=>ht("monthly"),className:`px-2 py-1 text-xs rounded ${We==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),v.jsx("button",{onClick:()=>ht("quarterly"),className:`px-2 py-1 text-xs rounded ${We==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),v.jsx("button",{onClick:()=>ht("yearly"),className:`px-2 py-1 text-xs rounded ${We==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]}),v.jsxs("button",{onClick:()=>hU(p2),className:"flex items-center gap-2 text-sm bg-slate-600 hover:bg-slate-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(d8,{size:16})," Logout"]})]})]}),v.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[v.jsx("button",{onClick:()=>$e("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),v.jsx("button",{onClick:()=>$e("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="reports"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Reports"}),v.jsx("button",{onClick:()=>$e("calendar"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="calendar"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Calendar"}),v.jsx("button",{onClick:()=>$e("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="invoices"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Invoices"}),v.jsx("button",{onClick:()=>$e("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="tax"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Tax Management"}),v.jsx("button",{onClick:()=>$e("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L Statement"}),v.jsx("button",{onClick:()=>$e("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="forecast"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Forecast"}),v.jsx("button",{onClick:()=>$e("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="goals"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Goals"}),v.jsx("button",{onClick:()=>$e("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="clients"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Clients"}),v.jsx("button",{onClick:()=>$e("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="jobs"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Jobs"}),v.jsx("button",{onClick:()=>$e("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="vehicles"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Vehicles"}),v.jsx("button",{onClick:()=>$e("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="inventory"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Inventory"}),v.jsx("button",{onClick:()=>$e("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="debts"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Debt Management"}),v.jsx("button",{onClick:()=>$e("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="incomes"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Income Sources"}),v.jsx("button",{onClick:()=>$e("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="weeklyCosts"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Weekly Costs"})]}),v.jsxs("main",{children:[xe==="dashboard"&&ro(),xe==="reports"&&v.jsx(Qoe,{clients:P,jobs:w,bills:s,inventory:V}),xe==="calendar"&&v.jsx(qoe,{jobs:w,tasks:x,openModal:Xt}),xe==="invoices"&&v.jsx(Koe,{invoices:C,openModal:Xt,handleDelete:rn,handleBulkDelete:Nt,selectedIds:Or,setSelectedIds:tn,searchTerm:qt,setSearchTerm:zt,handleImportCSV:gn,handleExportCSV:mi,handleToggleInvoicePaid:to}),xe==="tax"&&v.jsx(Boe,{jobs:w,bills:s,weeklyCosts:y,taxPayments:$,openModal:Xt,handleDelete:rn}),xe==="pnl"&&pa(),xe==="forecast"&&no(),xe==="goals"&&ma(),xe==="clients"&&v.jsx(Goe,{clients:P,openModal:Xt,handleDelete:rn,handleBulkDelete:Nt,selectedIds:Or,setSelectedIds:tn,searchTerm:qt,setSearchTerm:zt,handleImportCSV:gn,handleExportCSV:mi}),xe==="jobs"&&Br("Job Profitability",In,io,"job"),xe==="vehicles"&&v.jsx(Yoe,{vehicles:F,maintenanceLogs:ee,openModal:Xt,handleDelete:rn,searchTerm:qt,setSearchTerm:zt}),xe==="inventory"&&v.jsx(Xoe,{inventory:V,openModal:Xt,handleDelete:rn,handleBulkDelete:Nt,selectedIds:Or,setSelectedIds:tn,searchTerm:qt,setSearchTerm:zt,handleImportCSV:gn,handleExportCSV:mi}),xe==="debts"&&Br("Debt Management",In,On,"debt"),xe==="incomes"&&Br("Income Sources",In,ls,"income"),xe==="weeklyCosts"&&Br("Recurring Weekly Costs",In,tc,"weekly")]}),v.jsx("footer",{className:"text-center mt-8 py-4 border-t border-slate-200 dark:border-slate-700",children:v.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Powered by ",v.jsx("a",{href:"https://service.money/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-cyan-600 dark:text-cyan-400 hover:underline",children:"Service Coin"})]})})]}),Q&&v.jsx(Hoe,{item:se,type:K,onSave:os,onClose:()=>ae(!1),debts:c,clients:P,vehicles:F})]})};RF.createRoot(document.getElementById("root")).render(v.jsx(W.StrictMode,{children:v.jsx(mse,{})}));
