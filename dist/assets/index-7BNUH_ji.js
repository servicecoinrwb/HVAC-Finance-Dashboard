(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tv={exports:{}},Gu={},Av={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function K$(){if(aE)return at;aE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function b(W,X,Y){this.props=W,this.context=X,this.refs=_,this.updater=Y||x}b.prototype.isReactComponent={},b.prototype.setState=function(W,X){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,X,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function A(){}A.prototype=b.prototype;function E(W,X,Y){this.props=W,this.context=X,this.refs=_,this.updater=Y||x}var P=E.prototype=new A;P.constructor=E,k(P,b.prototype),P.isPureReactComponent=!0;var O=Array.isArray,N=Object.prototype.hasOwnProperty,I={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function C(W,X,Y){var ce,ve={},pe=null,he=null;if(X!=null)for(ce in X.ref!==void 0&&(he=X.ref),X.key!==void 0&&(pe=""+X.key),X)N.call(X,ce)&&!T.hasOwnProperty(ce)&&(ve[ce]=X[ce]);var be=arguments.length-2;if(be===1)ve.children=Y;else if(1<be){for(var q=Array(be),me=0;me<be;me++)q[me]=arguments[me+2];ve.children=q}if(W&&W.defaultProps)for(ce in be=W.defaultProps,be)ve[ce]===void 0&&(ve[ce]=be[ce]);return{$$typeof:t,type:W,key:pe,ref:he,props:ve,_owner:I.current}}function L(W,X){return{$$typeof:t,type:W.type,key:X,ref:W.ref,props:W.props,_owner:W._owner}}function M(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function R(W){var X={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Y){return X[Y]})}var F=/\/+/g;function $(W,X){return typeof W=="object"&&W!==null&&W.key!=null?R(""+W.key):X.toString(36)}function ee(W,X,Y,ce,ve){var pe=typeof W;(pe==="undefined"||pe==="boolean")&&(W=null);var he=!1;if(W===null)he=!0;else switch(pe){case"string":case"number":he=!0;break;case"object":switch(W.$$typeof){case t:case e:he=!0}}if(he)return he=W,ve=ve(he),W=ce===""?"."+$(he,0):ce,O(ve)?(Y="",W!=null&&(Y=W.replace(F,"$&/")+"/"),ee(ve,X,Y,"",function(me){return me})):ve!=null&&(M(ve)&&(ve=L(ve,Y+(!ve.key||he&&he.key===ve.key?"":(""+ve.key).replace(F,"$&/")+"/")+W)),X.push(ve)),1;if(he=0,ce=ce===""?".":ce+":",O(W))for(var be=0;be<W.length;be++){pe=W[be];var q=ce+$(pe,be);he+=ee(pe,X,Y,q,ve)}else if(q=y(W),typeof q=="function")for(W=q.call(W),be=0;!(pe=W.next()).done;)pe=pe.value,q=ce+$(pe,be++),he+=ee(pe,X,Y,q,ve);else if(pe==="object")throw X=String(W),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return he}function ie(W,X,Y){if(W==null)return W;var ce=[],ve=0;return ee(W,ce,"","",function(pe){return X.call(Y,pe,ve++)}),ce}function Q(W){if(W._status===-1){var X=W._result;X=X(),X.then(function(Y){(W._status===0||W._status===-1)&&(W._status=1,W._result=Y)},function(Y){(W._status===0||W._status===-1)&&(W._status=2,W._result=Y)}),W._status===-1&&(W._status=0,W._result=X)}if(W._status===1)return W._result.default;throw W._result}var se={current:null},te={transition:null},Z={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:te,ReactCurrentOwner:I};function re(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:ie,forEach:function(W,X,Y){ie(W,function(){X.apply(this,arguments)},Y)},count:function(W){var X=0;return ie(W,function(){X++}),X},toArray:function(W){return ie(W,function(X){return X})||[]},only:function(W){if(!M(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},at.Component=b,at.Fragment=r,at.Profiler=i,at.PureComponent=E,at.StrictMode=n,at.Suspense=d,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,at.act=re,at.cloneElement=function(W,X,Y){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ce=k({},W.props),ve=W.key,pe=W.ref,he=W._owner;if(X!=null){if(X.ref!==void 0&&(pe=X.ref,he=I.current),X.key!==void 0&&(ve=""+X.key),W.type&&W.type.defaultProps)var be=W.type.defaultProps;for(q in X)N.call(X,q)&&!T.hasOwnProperty(q)&&(ce[q]=X[q]===void 0&&be!==void 0?be[q]:X[q])}var q=arguments.length-2;if(q===1)ce.children=Y;else if(1<q){be=Array(q);for(var me=0;me<q;me++)be[me]=arguments[me+2];ce.children=be}return{$$typeof:t,type:W.type,key:ve,ref:pe,props:ce,_owner:he}},at.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},at.createElement=C,at.createFactory=function(W){var X=C.bind(null,W);return X.type=W,X},at.createRef=function(){return{current:null}},at.forwardRef=function(W){return{$$typeof:u,render:W}},at.isValidElement=M,at.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:Q}},at.memo=function(W,X){return{$$typeof:h,type:W,compare:X===void 0?null:X}},at.startTransition=function(W){var X=te.transition;te.transition={};try{W()}finally{te.transition=X}},at.unstable_act=re,at.useCallback=function(W,X){return se.current.useCallback(W,X)},at.useContext=function(W){return se.current.useContext(W)},at.useDebugValue=function(){},at.useDeferredValue=function(W){return se.current.useDeferredValue(W)},at.useEffect=function(W,X){return se.current.useEffect(W,X)},at.useId=function(){return se.current.useId()},at.useImperativeHandle=function(W,X,Y){return se.current.useImperativeHandle(W,X,Y)},at.useInsertionEffect=function(W,X){return se.current.useInsertionEffect(W,X)},at.useLayoutEffect=function(W,X){return se.current.useLayoutEffect(W,X)},at.useMemo=function(W,X){return se.current.useMemo(W,X)},at.useReducer=function(W,X,Y){return se.current.useReducer(W,X,Y)},at.useRef=function(W){return se.current.useRef(W)},at.useState=function(W){return se.current.useState(W)},at.useSyncExternalStore=function(W,X,Y){return se.current.useSyncExternalStore(W,X,Y)},at.useTransition=function(){return se.current.useTransition()},at.version="18.3.1",at}var sE;function qk(){return sE||(sE=1,Av.exports=K$()),Av.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function Y$(){if(oE)return Gu;oE=1;var t=qk(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var p,m={},y=null,x=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)n.call(d,p)&&!a.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:x,props:m,_owner:i.current}}return Gu.Fragment=r,Gu.jsx=l,Gu.jsxs=l,Gu}var lE;function X$(){return lE||(lE=1,Tv.exports=Y$()),Tv.exports}var o=X$(),z=qk();const K=jt(z);var ap={},Pv={exports:{}},An={},Cv={exports:{}},Iv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function Q$(){return cE||(cE=1,function(t){function e(te,Z){var re=te.length;te.push(Z);e:for(;0<re;){var W=re-1>>>1,X=te[W];if(0<i(X,Z))te[W]=Z,te[re]=X,re=W;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var Z=te[0],re=te.pop();if(re!==Z){te[0]=re;e:for(var W=0,X=te.length,Y=X>>>1;W<Y;){var ce=2*(W+1)-1,ve=te[ce],pe=ce+1,he=te[pe];if(0>i(ve,re))pe<X&&0>i(he,ve)?(te[W]=he,te[pe]=re,W=pe):(te[W]=ve,te[ce]=re,W=ce);else if(pe<X&&0>i(he,re))te[W]=he,te[pe]=re,W=pe;else break e}}return Z}function i(te,Z){var re=te.sortIndex-Z.sortIndex;return re!==0?re:te.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,m=null,y=3,x=!1,k=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(te){for(var Z=r(h);Z!==null;){if(Z.callback===null)n(h);else if(Z.startTime<=te)n(h),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=r(h)}}function O(te){if(_=!1,P(te),!k)if(r(d)!==null)k=!0,Q(N);else{var Z=r(h);Z!==null&&se(O,Z.startTime-te)}}function N(te,Z){k=!1,_&&(_=!1,A(C),C=-1),x=!0;var re=y;try{for(P(Z),m=r(d);m!==null&&(!(m.expirationTime>Z)||te&&!R());){var W=m.callback;if(typeof W=="function"){m.callback=null,y=m.priorityLevel;var X=W(m.expirationTime<=Z);Z=t.unstable_now(),typeof X=="function"?m.callback=X:m===r(d)&&n(d),P(Z)}else n(d);m=r(d)}if(m!==null)var Y=!0;else{var ce=r(h);ce!==null&&se(O,ce.startTime-Z),Y=!1}return Y}finally{m=null,y=re,x=!1}}var I=!1,T=null,C=-1,L=5,M=-1;function R(){return!(t.unstable_now()-M<L)}function F(){if(T!==null){var te=t.unstable_now();M=te;var Z=!0;try{Z=T(!0,te)}finally{Z?$():(I=!1,T=null)}}else I=!1}var $;if(typeof E=="function")$=function(){E(F)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ie=ee.port2;ee.port1.onmessage=F,$=function(){ie.postMessage(null)}}else $=function(){b(F,0)};function Q(te){T=te,I||(I=!0,$())}function se(te,Z){C=b(function(){te(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){k||x||(k=!0,Q(N))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(te){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var re=y;y=Z;try{return te()}finally{y=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,Z){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var re=y;y=te;try{return Z()}finally{y=re}},t.unstable_scheduleCallback=function(te,Z,re){var W=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?W+re:W):re=W,te){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=re+X,te={id:p++,callback:Z,priorityLevel:te,startTime:re,expirationTime:X,sortIndex:-1},re>W?(te.sortIndex=re,e(h,te),r(d)===null&&te===r(h)&&(_?(A(C),C=-1):_=!0,se(O,re-W))):(te.sortIndex=X,e(d,te),k||x||(k=!0,Q(N))),te},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(te){var Z=y;return function(){var re=y;y=Z;try{return te.apply(this,arguments)}finally{y=re}}}}(Iv)),Iv}var uE;function J$(){return uE||(uE=1,Cv.exports=Q$()),Cv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function Z$(){if(dE)return An;dE=1;var t=qk(),e=J$();function r(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,c){l(s,c),l(s+"Capture",c)}function l(s,c){for(i[s]=c,s=0;s<c.length;s++)n.add(c[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(s){return d.call(m,s)?!0:d.call(p,s)?!1:h.test(s)?m[s]=!0:(p[s]=!0,!1)}function x(s,c,f,v){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,c,f,v){if(c===null||typeof c>"u"||x(s,c,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function _(s,c,f,v,w,S,V){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=v,this.attributeNamespace=w,this.mustUseProperty=f,this.propertyName=s,this.type=c,this.sanitizeURL=S,this.removeEmptyString=V}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];b[c]=new _(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(A,E);b[c]=new _(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(A,E);b[c]=new _(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(A,E);b[c]=new _(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,c,f,v){var w=b.hasOwnProperty(c)?b[c]:null;(w!==null?w.type!==0:v||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(k(c,f,w,v)&&(f=null),v||w===null?y(c)&&(f===null?s.removeAttribute(c):s.setAttribute(c,""+f)):w.mustUseProperty?s[w.propertyName]=f===null?w.type===3?!1:"":f:(c=w.attributeName,v=w.attributeNamespace,f===null?s.removeAttribute(c):(w=w.type,f=w===3||w===4&&f===!0?"":""+f,v?s.setAttributeNS(v,c,f):s.setAttribute(c,f))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),I=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),te=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var re=Object.assign,W;function X(s){if(W===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);W=c&&c[1]||""}return`
`+W+s}var Y=!1;function ce(s,c){if(!s||Y)return"";Y=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ue){var v=ue}Reflect.construct(s,[],c)}else{try{c.call()}catch(ue){v=ue}s.call(c.prototype)}else{try{throw Error()}catch(ue){v=ue}s()}}catch(ue){if(ue&&v&&typeof ue.stack=="string"){for(var w=ue.stack.split(`
`),S=v.stack.split(`
`),V=w.length-1,H=S.length-1;1<=V&&0<=H&&w[V]!==S[H];)H--;for(;1<=V&&0<=H;V--,H--)if(w[V]!==S[H]){if(V!==1||H!==1)do if(V--,H--,0>H||w[V]!==S[H]){var G=`
`+w[V].replace(" at new "," at ");return s.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",s.displayName)),G}while(1<=V&&0<=H);break}}}finally{Y=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?X(s):""}function ve(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=ce(s.type,!1),s;case 11:return s=ce(s.type.render,!1),s;case 1:return s=ce(s.type,!0),s;default:return""}}function pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case I:return"Portal";case L:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case R:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case F:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ie:return c=s.displayName||null,c!==null?c:pe(s.type)||"Memo";case Q:c=s._payload,s=s._init;try{return pe(s(c))}catch{}}return null}function he(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(c);case 8:return c===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function q(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function me(s){var c=q(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),v=""+s[c];if(!s.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,S=f.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return w.call(this)},set:function(V){v=""+V,S.call(this,V)}}),Object.defineProperty(s,c,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(V){v=""+V},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function xe(s){s._valueTracker||(s._valueTracker=me(s))}function U(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var f=c.getValue(),v="";return s&&(v=q(s)?s.checked?"true":"false":s.value),s=v,s!==f?(c.setValue(s),!0):!1}function de(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function _e(s,c){var f=c.checked;return re({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function Oe(s,c){var f=c.defaultValue==null?"":c.defaultValue,v=c.checked!=null?c.checked:c.defaultChecked;f=be(c.value!=null?c.value:f),s._wrapperState={initialChecked:v,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ze(s,c){c=c.checked,c!=null&&P(s,"checked",c,!1)}function Zt(s,c){ze(s,c);var f=be(c.value),v=c.type;if(f!=null)v==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?on(s,c.type,f):c.hasOwnProperty("defaultValue")&&on(s,c.type,be(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function mr(s,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var v=c.type;if(!(v!=="submit"&&v!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,f||c===s.value||(s.value=c),s.defaultValue=c}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function on(s,c,f){(c!=="number"||de(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Ut=Array.isArray;function qt(s,c,f,v){if(s=s.options,c){c={};for(var w=0;w<f.length;w++)c["$"+f[w]]=!0;for(f=0;f<s.length;f++)w=c.hasOwnProperty("$"+s[f].value),s[f].selected!==w&&(s[f].selected=w),w&&v&&(s[f].defaultSelected=!0)}else{for(f=""+be(f),c=null,w=0;w<s.length;w++){if(s[w].value===f){s[w].selected=!0,v&&(s[w].defaultSelected=!0);return}c!==null||s[w].disabled||(c=s[w])}c!==null&&(c.selected=!0)}}function Or(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return re({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ln(s,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(r(92));if(Ut(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),f=c}s._wrapperState={initialValue:be(f)}}function Bi(s,c){var f=be(c.value),v=be(c.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),c.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),v!=null&&(s.defaultValue=""+v)}function va(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function vt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zt(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?vt(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var wn,ya=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,v,w){MSApp.execUnsafeLocalFunction(function(){return s(c,f,v,w)})}:s}(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(wn=wn||document.createElement("div"),wn.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=wn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function Ui(s,c){if(c){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=c;return}}s.textContent=c}var xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ct=["Webkit","ms","Moz","O"];Object.keys(xa).forEach(function(s){Ct.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),xa[c]=xa[s]})});function oo(s,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||xa.hasOwnProperty(s)&&xa[s]?(""+c).trim():c+"px"}function bi(s,c){s=s.style;for(var f in c)if(c.hasOwnProperty(f)){var v=f.indexOf("--")===0,w=oo(f,c[f],v);f==="float"&&(f="cssFloat"),v?s.setProperty(f,w):s[f]=w}}var lo=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function co(s,c){if(c){if(lo[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function uo(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zn=null;function Mn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ba=null,jr=null,zr=null;function os(s){if(s=Iu(s)){if(typeof ba!="function")throw Error(r(280));var c=s.stateNode;c&&(c=xf(c),ba(s.stateNode,s.type,c))}}function ei(s){jr?zr?zr.push(s):zr=[s]:jr=s}function ho(){if(jr){var s=jr,c=zr;if(zr=jr=null,os(s),c)for(s=0;s<c.length;s++)os(c[s])}}function wa(s,c){return s(c)}function fo(){}var wi=!1;function er(s,c,f){if(wi)return s(c,f);wi=!0;try{return wa(s,c,f)}finally{wi=!1,(jr!==null||zr!==null)&&(fo(),ho())}}function Kt(s,c){var f=s.stateNode;if(f===null)return null;var v=xf(f);if(v===null)return null;f=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var ls=!1;if(u)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{ls=!1}function _a(s,c,f,v,w,S,V,H,G){var ue=Array.prototype.slice.call(arguments,3);try{c.apply(f,ue)}catch(je){this.onError(je)}}var Dn=!1,ti=null,cn=!1,po=null,mu={onError:function(s){Dn=!0,ti=s}};function oe(s,c,f,v,w,S,V,H,G){Dn=!1,ti=null,_a.apply(mu,arguments)}function ge(s,c,f,v,w,S,V,H,G){if(oe.apply(this,arguments),Dn){if(Dn){var ue=ti;Dn=!1,ti=null}else throw Error(r(198));cn||(cn=!0,po=ue)}}function Ce(s){var c=s,f=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(f=c.return),s=c.return;while(s)}return c.tag===3?f:null}function Te(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function Re(s){if(Ce(s)!==s)throw Error(r(188))}function dt(s){var c=s.alternate;if(!c){if(c=Ce(s),c===null)throw Error(r(188));return c!==s?null:s}for(var f=s,v=c;;){var w=f.return;if(w===null)break;var S=w.alternate;if(S===null){if(v=w.return,v!==null){f=v;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===f)return Re(w),s;if(S===v)return Re(w),c;S=S.sibling}throw Error(r(188))}if(f.return!==v.return)f=w,v=S;else{for(var V=!1,H=w.child;H;){if(H===f){V=!0,f=w,v=S;break}if(H===v){V=!0,v=w,f=S;break}H=H.sibling}if(!V){for(H=S.child;H;){if(H===f){V=!0,f=S,v=w;break}if(H===v){V=!0,v=S,f=w;break}H=H.sibling}if(!V)throw Error(r(189))}}if(f.alternate!==v)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:c}function ot(s){return s=dt(s),s!==null?nt(s):null}function nt(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=nt(s);if(c!==null)return c;s=s.sibling}return null}var Ue=e.unstable_scheduleCallback,mt=e.unstable_cancelCallback,wt=e.unstable_shouldYield,It=e.unstable_requestPaint,Je=e.unstable_now,Wr=e.unstable_getCurrentPriorityLevel,ht=e.unstable_ImmediatePriority,Ln=e.unstable_UserBlockingPriority,Hr=e.unstable_NormalPriority,$n=e.unstable_LowPriority,Gh=e.unstable_IdlePriority,mo=null,Fn=null;function Kh(s){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(mo,s,void 0,(s.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:Xh,gu=Math.log,Yh=Math.LN2;function Xh(s){return s>>>=0,s===0?32:31-(gu(s)/Yh|0)|0}var wl=64,_l=4194304;function cs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function go(s,c){var f=s.pendingLanes;if(f===0)return 0;var v=0,w=s.suspendedLanes,S=s.pingedLanes,V=f&268435455;if(V!==0){var H=V&~w;H!==0?v=cs(H):(S&=V,S!==0&&(v=cs(S)))}else V=f&~w,V!==0?v=cs(V):S!==0&&(v=cs(S));if(v===0)return 0;if(c!==0&&c!==v&&(c&w)===0&&(w=v&-v,S=c&-c,w>=S||w===16&&(S&4194240)!==0))return c;if((v&4)!==0&&(v|=f&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=v;0<c;)f=31-un(c),w=1<<f,v|=s[f],c&=~w;return v}function ig(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(s,c){for(var f=s.suspendedLanes,v=s.pingedLanes,w=s.expirationTimes,S=s.pendingLanes;0<S;){var V=31-un(S),H=1<<V,G=w[V];G===-1?((H&f)===0||(H&v)!==0)&&(w[V]=ig(H,c)):G<=c&&(s.expiredLanes|=H),S&=~H}}function Vn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function vo(){var s=wl;return wl<<=1,(wl&4194240)===0&&(wl=64),s}function us(s){for(var c=[],f=0;31>f;f++)c.push(s);return c}function ds(s,c,f){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-un(c),s[c]=f}function At(s,c){var f=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<f;){var w=31-un(f),S=1<<w;c[w]=0,v[w]=-1,s[w]=-1,f&=~S}}function hs(s,c){var f=s.entangledLanes|=c;for(s=s.entanglements;f;){var v=31-un(f),w=1<<v;w&c|s[v]&c&&(s[v]|=c),f&=~w}}var ct=0;function fs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Qh,kl,Jh,Zh,ef,vu=!1,qi=[],Rr=null,_i=null,ki=null,ps=new Map,ri=new Map,zi=[],ag="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tf(s,c){switch(s){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":ps.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(c.pointerId)}}function _n(s,c,f,v,w,S){return s===null||s.nativeEvent!==S?(s={blockedOn:c,domEventName:f,eventSystemFlags:v,nativeEvent:S,targetContainers:[w]},c!==null&&(c=Iu(c),c!==null&&kl(c)),s):(s.eventSystemFlags|=v,c=s.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),s)}function sg(s,c,f,v,w){switch(c){case"focusin":return Rr=_n(Rr,s,c,f,v,w),!0;case"dragenter":return _i=_n(_i,s,c,f,v,w),!0;case"mouseover":return ki=_n(ki,s,c,f,v,w),!0;case"pointerover":var S=w.pointerId;return ps.set(S,_n(ps.get(S)||null,s,c,f,v,w)),!0;case"gotpointercapture":return S=w.pointerId,ri.set(S,_n(ri.get(S)||null,s,c,f,v,w)),!0}return!1}function rf(s){var c=_o(s.target);if(c!==null){var f=Ce(c);if(f!==null){if(c=f.tag,c===13){if(c=Te(f),c!==null){s.blockedOn=c,ef(s.priority,function(){Jh(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ja(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var f=jl(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var v=new f.constructor(f.type,f);Zn=v,f.target.dispatchEvent(v),Zn=null}else return c=Iu(f),c!==null&&kl(c),s.blockedOn=f,!1;c.shift()}return!0}function yo(s,c,f){ja(s)&&f.delete(c)}function nf(){vu=!1,Rr!==null&&ja(Rr)&&(Rr=null),_i!==null&&ja(_i)&&(_i=null),ki!==null&&ja(ki)&&(ki=null),ps.forEach(yo),ri.forEach(yo)}function ji(s,c){s.blockedOn===c&&(s.blockedOn=null,vu||(vu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nf)))}function Si(s){function c(w){return ji(w,s)}if(0<qi.length){ji(qi[0],s);for(var f=1;f<qi.length;f++){var v=qi[f];v.blockedOn===s&&(v.blockedOn=null)}}for(Rr!==null&&ji(Rr,s),_i!==null&&ji(_i,s),ki!==null&&ji(ki,s),ps.forEach(c),ri.forEach(c),f=0;f<zi.length;f++)v=zi[f],v.blockedOn===s&&(v.blockedOn=null);for(;0<zi.length&&(f=zi[0],f.blockedOn===null);)rf(f),f.blockedOn===null&&zi.shift()}var Sa=O.ReactCurrentBatchConfig,ms=!0;function Wt(s,c,f,v){var w=ct,S=Sa.transition;Sa.transition=null;try{ct=1,yu(s,c,f,v)}finally{ct=w,Sa.transition=S}}function og(s,c,f,v){var w=ct,S=Sa.transition;Sa.transition=null;try{ct=4,yu(s,c,f,v)}finally{ct=w,Sa.transition=S}}function yu(s,c,f,v){if(ms){var w=jl(s,c,f,v);if(w===null)yg(s,c,v,xo,f),tf(s,v);else if(sg(w,s,c,f,v))v.stopPropagation();else if(tf(s,v),c&4&&-1<ag.indexOf(s)){for(;w!==null;){var S=Iu(w);if(S!==null&&Qh(S),S=jl(s,c,f,v),S===null&&yg(s,c,v,xo,f),S===w)break;w=S}w!==null&&v.stopPropagation()}else yg(s,c,v,null,f)}}var xo=null;function jl(s,c,f,v){if(xo=null,s=Mn(v),s=_o(s),s!==null)if(c=Ce(s),c===null)s=null;else if(f=c.tag,f===13){if(s=Te(c),s!==null)return s;s=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return xo=s,null}function xu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wr()){case ht:return 1;case Ln:return 4;case Hr:case $n:return 16;case Gh:return 536870912;default:return 16}default:return 16}}var Bn=null,Sl=null,kn=null;function bu(){if(kn)return kn;var s,c=Sl,f=c.length,v,w="value"in Bn?Bn.value:Bn.textContent,S=w.length;for(s=0;s<f&&c[s]===w[s];s++);var V=f-s;for(v=1;v<=V&&c[f-v]===w[S-v];v++);return kn=w.slice(s,1<v?1-v:void 0)}function Nl(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Wi(){return!0}function wu(){return!1}function Mr(s){function c(f,v,w,S,V){this._reactName=f,this._targetInst=w,this.type=v,this.nativeEvent=S,this.target=V,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(f=s[H],this[H]=f?f(S):S[H]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Wi:wu,this.isPropagationStopped=wu,this}return re(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),c}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=Mr(Ni),Hi=re({},Ni,{view:0,detail:0}),lg=Mr(Hi),Tl,Na,gs,bo=re({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gs&&(gs&&s.type==="mousemove"?(Tl=s.screenX-gs.screenX,Na=s.screenY-gs.screenY):Na=Tl=0,gs=s),Tl)},movementY:function(s){return"movementY"in s?s.movementY:Na}}),Al=Mr(bo),_u=re({},bo,{dataTransfer:0}),af=Mr(_u),Pl=re({},Hi,{relatedTarget:0}),Cl=Mr(Pl),sf=re({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Mr(sf),of=re({},Ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),lf=Mr(of),cf=re({},Ni,{data:0}),ku=Mr(cf),Il={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function df(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=uf[s])?!!c[s]:!1}function Gi(){return df}var g=re({},Hi,{key:function(s){if(s.key){var c=Il[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Nl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gi,charCode:function(s){return s.type==="keypress"?Nl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Nl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),j=Mr(g),D=re({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=Mr(D),ne=re({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gi}),fe=Mr(ne),Pe=re({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),St=Mr(Pe),gr=re({},bo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ft=Mr(gr),Sr=[9,13,27,32],lr=u&&"CompositionEvent"in window,ni=null;u&&"documentMode"in document&&(ni=document.documentMode);var Un=u&&"TextEvent"in window&&!ni,wo=u&&(!lr||ni&&8<ni&&11>=ni),Ol=" ",Zj=!1;function eS(s,c){switch(s){case"keyup":return Sr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tS(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Rl=!1;function W6(s,c){switch(s){case"compositionend":return tS(c);case"keypress":return c.which!==32?null:(Zj=!0,Ol);case"textInput":return s=c.data,s===Ol&&Zj?null:s;default:return null}}function H6(s,c){if(Rl)return s==="compositionend"||!lr&&eS(s,c)?(s=bu(),kn=Sl=Bn=null,Rl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return wo&&c.locale!=="ko"?null:c.data;default:return null}}var G6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rS(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!G6[s.type]:c==="textarea"}function nS(s,c,f,v){ei(v),c=gf(c,"onChange"),0<c.length&&(f=new El("onChange","change",null,f,v),s.push({event:f,listeners:c}))}var ju=null,Su=null;function K6(s){wS(s,0)}function hf(s){var c=Fl(s);if(U(c))return s}function Y6(s,c){if(s==="change")return c}var iS=!1;if(u){var cg;if(u){var ug="oninput"in document;if(!ug){var aS=document.createElement("div");aS.setAttribute("oninput","return;"),ug=typeof aS.oninput=="function"}cg=ug}else cg=!1;iS=cg&&(!document.documentMode||9<document.documentMode)}function sS(){ju&&(ju.detachEvent("onpropertychange",oS),Su=ju=null)}function oS(s){if(s.propertyName==="value"&&hf(Su)){var c=[];nS(c,Su,s,Mn(s)),er(K6,c)}}function X6(s,c,f){s==="focusin"?(sS(),ju=c,Su=f,ju.attachEvent("onpropertychange",oS)):s==="focusout"&&sS()}function Q6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hf(Su)}function J6(s,c){if(s==="click")return hf(c)}function Z6(s,c){if(s==="input"||s==="change")return hf(c)}function e$(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Ei=typeof Object.is=="function"?Object.is:e$;function Nu(s,c){if(Ei(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var f=Object.keys(s),v=Object.keys(c);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var w=f[v];if(!d.call(c,w)||!Ei(s[w],c[w]))return!1}return!0}function lS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cS(s,c){var f=lS(s);s=0;for(var v;f;){if(f.nodeType===3){if(v=s+f.textContent.length,s<=c&&v>=c)return{node:f,offset:c-s};s=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=lS(f)}}function uS(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?uS(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function dS(){for(var s=window,c=de();c instanceof s.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)s=c.contentWindow;else break;c=de(s.document)}return c}function dg(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function t$(s){var c=dS(),f=s.focusedElem,v=s.selectionRange;if(c!==f&&f&&f.ownerDocument&&uS(f.ownerDocument.documentElement,f)){if(v!==null&&dg(f)){if(c=v.start,s=v.end,s===void 0&&(s=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(s,f.value.length);else if(s=(c=f.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var w=f.textContent.length,S=Math.min(v.start,w);v=v.end===void 0?S:Math.min(v.end,w),!s.extend&&S>v&&(w=v,v=S,S=w),w=cS(f,S);var V=cS(f,v);w&&V&&(s.rangeCount!==1||s.anchorNode!==w.node||s.anchorOffset!==w.offset||s.focusNode!==V.node||s.focusOffset!==V.offset)&&(c=c.createRange(),c.setStart(w.node,w.offset),s.removeAllRanges(),S>v?(s.addRange(c),s.extend(V.node,V.offset)):(c.setEnd(V.node,V.offset),s.addRange(c)))}}for(c=[],s=f;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)s=c[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var r$=u&&"documentMode"in document&&11>=document.documentMode,Ml=null,hg=null,Eu=null,fg=!1;function hS(s,c,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;fg||Ml==null||Ml!==de(v)||(v=Ml,"selectionStart"in v&&dg(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Eu&&Nu(Eu,v)||(Eu=v,v=gf(hg,"onSelect"),0<v.length&&(c=new El("onSelect","select",null,c,f),s.push({event:c,listeners:v}),c.target=Ml)))}function ff(s,c){var f={};return f[s.toLowerCase()]=c.toLowerCase(),f["Webkit"+s]="webkit"+c,f["Moz"+s]="moz"+c,f}var Dl={animationend:ff("Animation","AnimationEnd"),animationiteration:ff("Animation","AnimationIteration"),animationstart:ff("Animation","AnimationStart"),transitionend:ff("Transition","TransitionEnd")},pg={},fS={};u&&(fS=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function pf(s){if(pg[s])return pg[s];if(!Dl[s])return s;var c=Dl[s],f;for(f in c)if(c.hasOwnProperty(f)&&f in fS)return pg[s]=c[f];return s}var pS=pf("animationend"),mS=pf("animationiteration"),gS=pf("animationstart"),vS=pf("transitionend"),yS=new Map,xS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(s,c){yS.set(s,c),a(c,[s])}for(var mg=0;mg<xS.length;mg++){var gg=xS[mg],n$=gg.toLowerCase(),i$=gg[0].toUpperCase()+gg.slice(1);vs(n$,"on"+i$)}vs(pS,"onAnimationEnd"),vs(mS,"onAnimationIteration"),vs(gS,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(vS,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function bS(s,c,f){var v=s.type||"unknown-event";s.currentTarget=f,ge(v,c,void 0,s),s.currentTarget=null}function wS(s,c){c=(c&4)!==0;for(var f=0;f<s.length;f++){var v=s[f],w=v.event;v=v.listeners;e:{var S=void 0;if(c)for(var V=v.length-1;0<=V;V--){var H=v[V],G=H.instance,ue=H.currentTarget;if(H=H.listener,G!==S&&w.isPropagationStopped())break e;bS(w,H,ue),S=G}else for(V=0;V<v.length;V++){if(H=v[V],G=H.instance,ue=H.currentTarget,H=H.listener,G!==S&&w.isPropagationStopped())break e;bS(w,H,ue),S=G}}}if(cn)throw s=po,cn=!1,po=null,s}function Lt(s,c){var f=c[jg];f===void 0&&(f=c[jg]=new Set);var v=s+"__bubble";f.has(v)||(_S(c,s,2,!1),f.add(v))}function vg(s,c,f){var v=0;c&&(v|=4),_S(f,s,v,c)}var mf="_reactListening"+Math.random().toString(36).slice(2);function Au(s){if(!s[mf]){s[mf]=!0,n.forEach(function(f){f!=="selectionchange"&&(a$.has(f)||vg(f,!1,s),vg(f,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[mf]||(c[mf]=!0,vg("selectionchange",!1,c))}}function _S(s,c,f,v){switch(xu(c)){case 1:var w=Wt;break;case 4:w=og;break;default:w=yu}f=w.bind(null,c,f,s),w=void 0,!ls||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),v?w!==void 0?s.addEventListener(c,f,{capture:!0,passive:w}):s.addEventListener(c,f,!0):w!==void 0?s.addEventListener(c,f,{passive:w}):s.addEventListener(c,f,!1)}function yg(s,c,f,v,w){var S=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var H=v.stateNode.containerInfo;if(H===w||H.nodeType===8&&H.parentNode===w)break;if(V===4)for(V=v.return;V!==null;){var G=V.tag;if((G===3||G===4)&&(G=V.stateNode.containerInfo,G===w||G.nodeType===8&&G.parentNode===w))return;V=V.return}for(;H!==null;){if(V=_o(H),V===null)return;if(G=V.tag,G===5||G===6){v=S=V;continue e}H=H.parentNode}}v=v.return}er(function(){var ue=S,je=Mn(f),Ne=[];e:{var ke=yS.get(s);if(ke!==void 0){var Ie=El,$e=s;switch(s){case"keypress":if(Nl(f)===0)break e;case"keydown":case"keyup":Ie=j;break;case"focusin":$e="focus",Ie=Cl;break;case"focusout":$e="blur",Ie=Cl;break;case"beforeblur":case"afterblur":Ie=Cl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=fe;break;case pS:case mS:case gS:Ie=Ea;break;case vS:Ie=St;break;case"scroll":Ie=lg;break;case"wheel":Ie=ft;break;case"copy":case"cut":case"paste":Ie=lf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=B}var Fe=(c&4)!==0,ar=!Fe&&s==="scroll",ae=Fe?ke!==null?ke+"Capture":null:ke;Fe=[];for(var J=ue,le;J!==null;){le=J;var Ee=le.stateNode;if(le.tag===5&&Ee!==null&&(le=Ee,ae!==null&&(Ee=Kt(J,ae),Ee!=null&&Fe.push(Pu(J,Ee,le)))),ar)break;J=J.return}0<Fe.length&&(ke=new Ie(ke,$e,null,f,je),Ne.push({event:ke,listeners:Fe}))}}if((c&7)===0){e:{if(ke=s==="mouseover"||s==="pointerover",Ie=s==="mouseout"||s==="pointerout",ke&&f!==Zn&&($e=f.relatedTarget||f.fromElement)&&(_o($e)||$e[Ta]))break e;if((Ie||ke)&&(ke=je.window===je?je:(ke=je.ownerDocument)?ke.defaultView||ke.parentWindow:window,Ie?($e=f.relatedTarget||f.toElement,Ie=ue,$e=$e?_o($e):null,$e!==null&&(ar=Ce($e),$e!==ar||$e.tag!==5&&$e.tag!==6)&&($e=null)):(Ie=null,$e=ue),Ie!==$e)){if(Fe=Al,Ee="onMouseLeave",ae="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&(Fe=B,Ee="onPointerLeave",ae="onPointerEnter",J="pointer"),ar=Ie==null?ke:Fl(Ie),le=$e==null?ke:Fl($e),ke=new Fe(Ee,J+"leave",Ie,f,je),ke.target=ar,ke.relatedTarget=le,Ee=null,_o(je)===ue&&(Fe=new Fe(ae,J+"enter",$e,f,je),Fe.target=le,Fe.relatedTarget=ar,Ee=Fe),ar=Ee,Ie&&$e)t:{for(Fe=Ie,ae=$e,J=0,le=Fe;le;le=Ll(le))J++;for(le=0,Ee=ae;Ee;Ee=Ll(Ee))le++;for(;0<J-le;)Fe=Ll(Fe),J--;for(;0<le-J;)ae=Ll(ae),le--;for(;J--;){if(Fe===ae||ae!==null&&Fe===ae.alternate)break t;Fe=Ll(Fe),ae=Ll(ae)}Fe=null}else Fe=null;Ie!==null&&kS(Ne,ke,Ie,Fe,!1),$e!==null&&ar!==null&&kS(Ne,ar,$e,Fe,!0)}}e:{if(ke=ue?Fl(ue):window,Ie=ke.nodeName&&ke.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&ke.type==="file")var Be=Y6;else if(rS(ke))if(iS)Be=Z6;else{Be=Q6;var He=X6}else(Ie=ke.nodeName)&&Ie.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(Be=J6);if(Be&&(Be=Be(s,ue))){nS(Ne,Be,f,je);break e}He&&He(s,ke,ue),s==="focusout"&&(He=ke._wrapperState)&&He.controlled&&ke.type==="number"&&on(ke,"number",ke.value)}switch(He=ue?Fl(ue):window,s){case"focusin":(rS(He)||He.contentEditable==="true")&&(Ml=He,hg=ue,Eu=null);break;case"focusout":Eu=hg=Ml=null;break;case"mousedown":fg=!0;break;case"contextmenu":case"mouseup":case"dragend":fg=!1,hS(Ne,f,je);break;case"selectionchange":if(r$)break;case"keydown":case"keyup":hS(Ne,f,je)}var Ge;if(lr)e:{switch(s){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Rl?eS(s,f)&&(Qe="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Qe="onCompositionStart");Qe&&(wo&&f.locale!=="ko"&&(Rl||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Rl&&(Ge=bu()):(Bn=je,Sl="value"in Bn?Bn.value:Bn.textContent,Rl=!0)),He=gf(ue,Qe),0<He.length&&(Qe=new ku(Qe,s,null,f,je),Ne.push({event:Qe,listeners:He}),Ge?Qe.data=Ge:(Ge=tS(f),Ge!==null&&(Qe.data=Ge)))),(Ge=Un?W6(s,f):H6(s,f))&&(ue=gf(ue,"onBeforeInput"),0<ue.length&&(je=new ku("onBeforeInput","beforeinput",null,f,je),Ne.push({event:je,listeners:ue}),je.data=Ge))}wS(Ne,c)})}function Pu(s,c,f){return{instance:s,listener:c,currentTarget:f}}function gf(s,c){for(var f=c+"Capture",v=[];s!==null;){var w=s,S=w.stateNode;w.tag===5&&S!==null&&(w=S,S=Kt(s,f),S!=null&&v.unshift(Pu(s,S,w)),S=Kt(s,c),S!=null&&v.push(Pu(s,S,w))),s=s.return}return v}function Ll(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function kS(s,c,f,v,w){for(var S=c._reactName,V=[];f!==null&&f!==v;){var H=f,G=H.alternate,ue=H.stateNode;if(G!==null&&G===v)break;H.tag===5&&ue!==null&&(H=ue,w?(G=Kt(f,S),G!=null&&V.unshift(Pu(f,G,H))):w||(G=Kt(f,S),G!=null&&V.push(Pu(f,G,H)))),f=f.return}V.length!==0&&s.push({event:c,listeners:V})}var s$=/\r\n?/g,o$=/\u0000|\uFFFD/g;function jS(s){return(typeof s=="string"?s:""+s).replace(s$,`
`).replace(o$,"")}function vf(s,c,f){if(c=jS(c),jS(s)!==c&&f)throw Error(r(425))}function yf(){}var xg=null,bg=null;function wg(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,l$=typeof clearTimeout=="function"?clearTimeout:void 0,SS=typeof Promise=="function"?Promise:void 0,c$=typeof queueMicrotask=="function"?queueMicrotask:typeof SS<"u"?function(s){return SS.resolve(null).then(s).catch(u$)}:_g;function u$(s){setTimeout(function(){throw s})}function kg(s,c){var f=c,v=0;do{var w=f.nextSibling;if(s.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(v===0){s.removeChild(w),Si(c);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=w}while(f);Si(c)}function ys(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function NS(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return s;c--}else f==="/$"&&c++}s=s.previousSibling}return null}var $l=Math.random().toString(36).slice(2),Ki="__reactFiber$"+$l,Cu="__reactProps$"+$l,Ta="__reactContainer$"+$l,jg="__reactEvents$"+$l,d$="__reactListeners$"+$l,h$="__reactHandles$"+$l;function _o(s){var c=s[Ki];if(c)return c;for(var f=s.parentNode;f;){if(c=f[Ta]||f[Ki]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(s=NS(s);s!==null;){if(f=s[Ki])return f;s=NS(s)}return c}s=f,f=s.parentNode}return null}function Iu(s){return s=s[Ki]||s[Ta],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Fl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function xf(s){return s[Cu]||null}var Sg=[],Vl=-1;function xs(s){return{current:s}}function $t(s){0>Vl||(s.current=Sg[Vl],Sg[Vl]=null,Vl--)}function Ot(s,c){Vl++,Sg[Vl]=s.current,s.current=c}var bs={},Gr=xs(bs),jn=xs(!1),ko=bs;function Bl(s,c){var f=s.type.contextTypes;if(!f)return bs;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===c)return v.__reactInternalMemoizedMaskedChildContext;var w={},S;for(S in f)w[S]=c[S];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=w),w}function Sn(s){return s=s.childContextTypes,s!=null}function bf(){$t(jn),$t(Gr)}function ES(s,c,f){if(Gr.current!==bs)throw Error(r(168));Ot(Gr,c),Ot(jn,f)}function TS(s,c,f){var v=s.stateNode;if(c=c.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var w in v)if(!(w in c))throw Error(r(108,he(s)||"Unknown",w));return re({},f,v)}function wf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||bs,ko=Gr.current,Ot(Gr,s),Ot(jn,jn.current),!0}function AS(s,c,f){var v=s.stateNode;if(!v)throw Error(r(169));f?(s=TS(s,c,ko),v.__reactInternalMemoizedMergedChildContext=s,$t(jn),$t(Gr),Ot(Gr,s)):$t(jn),Ot(jn,f)}var Aa=null,_f=!1,Ng=!1;function PS(s){Aa===null?Aa=[s]:Aa.push(s)}function f$(s){_f=!0,PS(s)}function ws(){if(!Ng&&Aa!==null){Ng=!0;var s=0,c=ct;try{var f=Aa;for(ct=1;s<f.length;s++){var v=f[s];do v=v(!0);while(v!==null)}Aa=null,_f=!1}catch(w){throw Aa!==null&&(Aa=Aa.slice(s+1)),Ue(ht,ws),w}finally{ct=c,Ng=!1}}return null}var Ul=[],ql=0,kf=null,jf=0,ii=[],ai=0,jo=null,Pa=1,Ca="";function So(s,c){Ul[ql++]=jf,Ul[ql++]=kf,kf=s,jf=c}function CS(s,c,f){ii[ai++]=Pa,ii[ai++]=Ca,ii[ai++]=jo,jo=s;var v=Pa;s=Ca;var w=32-un(v)-1;v&=~(1<<w),f+=1;var S=32-un(c)+w;if(30<S){var V=w-w%5;S=(v&(1<<V)-1).toString(32),v>>=V,w-=V,Pa=1<<32-un(c)+w|f<<w|v,Ca=S+s}else Pa=1<<S|f<<w|v,Ca=s}function Eg(s){s.return!==null&&(So(s,1),CS(s,1,0))}function Tg(s){for(;s===kf;)kf=Ul[--ql],Ul[ql]=null,jf=Ul[--ql],Ul[ql]=null;for(;s===jo;)jo=ii[--ai],ii[ai]=null,Ca=ii[--ai],ii[ai]=null,Pa=ii[--ai],ii[ai]=null}var qn=null,zn=null,Ht=!1,Ti=null;function IS(s,c){var f=ci(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=s,c=s.deletions,c===null?(s.deletions=[f],s.flags|=16):c.push(f)}function OS(s,c){switch(s.tag){case 5:var f=s.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,qn=s,zn=ys(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,qn=s,zn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=jo!==null?{id:Pa,overflow:Ca}:null,s.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=ci(18,null,null,0),f.stateNode=c,f.return=s,s.child=f,qn=s,zn=null,!0):!1;default:return!1}}function Ag(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Pg(s){if(Ht){var c=zn;if(c){var f=c;if(!OS(s,c)){if(Ag(s))throw Error(r(418));c=ys(f.nextSibling);var v=qn;c&&OS(s,c)?IS(v,f):(s.flags=s.flags&-4097|2,Ht=!1,qn=s)}}else{if(Ag(s))throw Error(r(418));s.flags=s.flags&-4097|2,Ht=!1,qn=s}}}function RS(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;qn=s}function Sf(s){if(s!==qn)return!1;if(!Ht)return RS(s),Ht=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!wg(s.type,s.memoizedProps)),c&&(c=zn)){if(Ag(s))throw MS(),Error(r(418));for(;c;)IS(s,c),c=ys(c.nextSibling)}if(RS(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(c===0){zn=ys(s.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}s=s.nextSibling}zn=null}}else zn=qn?ys(s.stateNode.nextSibling):null;return!0}function MS(){for(var s=zn;s;)s=ys(s.nextSibling)}function zl(){zn=qn=null,Ht=!1}function Cg(s){Ti===null?Ti=[s]:Ti.push(s)}var p$=O.ReactCurrentBatchConfig;function Ou(s,c,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var v=f.stateNode}if(!v)throw Error(r(147,s));var w=v,S=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===S?c.ref:(c=function(V){var H=w.refs;V===null?delete H[S]:H[S]=V},c._stringRef=S,c)}if(typeof s!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,s))}return s}function Nf(s,c){throw s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function DS(s){var c=s._init;return c(s._payload)}function LS(s){function c(ae,J){if(s){var le=ae.deletions;le===null?(ae.deletions=[J],ae.flags|=16):le.push(J)}}function f(ae,J){if(!s)return null;for(;J!==null;)c(ae,J),J=J.sibling;return null}function v(ae,J){for(ae=new Map;J!==null;)J.key!==null?ae.set(J.key,J):ae.set(J.index,J),J=J.sibling;return ae}function w(ae,J){return ae=As(ae,J),ae.index=0,ae.sibling=null,ae}function S(ae,J,le){return ae.index=le,s?(le=ae.alternate,le!==null?(le=le.index,le<J?(ae.flags|=2,J):le):(ae.flags|=2,J)):(ae.flags|=1048576,J)}function V(ae){return s&&ae.alternate===null&&(ae.flags|=2),ae}function H(ae,J,le,Ee){return J===null||J.tag!==6?(J=_v(le,ae.mode,Ee),J.return=ae,J):(J=w(J,le),J.return=ae,J)}function G(ae,J,le,Ee){var Be=le.type;return Be===T?je(ae,J,le.props.children,Ee,le.key):J!==null&&(J.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Q&&DS(Be)===J.type)?(Ee=w(J,le.props),Ee.ref=Ou(ae,J,le),Ee.return=ae,Ee):(Ee=Xf(le.type,le.key,le.props,null,ae.mode,Ee),Ee.ref=Ou(ae,J,le),Ee.return=ae,Ee)}function ue(ae,J,le,Ee){return J===null||J.tag!==4||J.stateNode.containerInfo!==le.containerInfo||J.stateNode.implementation!==le.implementation?(J=kv(le,ae.mode,Ee),J.return=ae,J):(J=w(J,le.children||[]),J.return=ae,J)}function je(ae,J,le,Ee,Be){return J===null||J.tag!==7?(J=Oo(le,ae.mode,Ee,Be),J.return=ae,J):(J=w(J,le),J.return=ae,J)}function Ne(ae,J,le){if(typeof J=="string"&&J!==""||typeof J=="number")return J=_v(""+J,ae.mode,le),J.return=ae,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return le=Xf(J.type,J.key,J.props,null,ae.mode,le),le.ref=Ou(ae,null,J),le.return=ae,le;case I:return J=kv(J,ae.mode,le),J.return=ae,J;case Q:var Ee=J._init;return Ne(ae,Ee(J._payload),le)}if(Ut(J)||Z(J))return J=Oo(J,ae.mode,le,null),J.return=ae,J;Nf(ae,J)}return null}function ke(ae,J,le,Ee){var Be=J!==null?J.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Be!==null?null:H(ae,J,""+le,Ee);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case N:return le.key===Be?G(ae,J,le,Ee):null;case I:return le.key===Be?ue(ae,J,le,Ee):null;case Q:return Be=le._init,ke(ae,J,Be(le._payload),Ee)}if(Ut(le)||Z(le))return Be!==null?null:je(ae,J,le,Ee,null);Nf(ae,le)}return null}function Ie(ae,J,le,Ee,Be){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ae=ae.get(le)||null,H(J,ae,""+Ee,Be);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case N:return ae=ae.get(Ee.key===null?le:Ee.key)||null,G(J,ae,Ee,Be);case I:return ae=ae.get(Ee.key===null?le:Ee.key)||null,ue(J,ae,Ee,Be);case Q:var He=Ee._init;return Ie(ae,J,le,He(Ee._payload),Be)}if(Ut(Ee)||Z(Ee))return ae=ae.get(le)||null,je(J,ae,Ee,Be,null);Nf(J,Ee)}return null}function $e(ae,J,le,Ee){for(var Be=null,He=null,Ge=J,Qe=J=0,Tr=null;Ge!==null&&Qe<le.length;Qe++){Ge.index>Qe?(Tr=Ge,Ge=null):Tr=Ge.sibling;var yt=ke(ae,Ge,le[Qe],Ee);if(yt===null){Ge===null&&(Ge=Tr);break}s&&Ge&&yt.alternate===null&&c(ae,Ge),J=S(yt,J,Qe),He===null?Be=yt:He.sibling=yt,He=yt,Ge=Tr}if(Qe===le.length)return f(ae,Ge),Ht&&So(ae,Qe),Be;if(Ge===null){for(;Qe<le.length;Qe++)Ge=Ne(ae,le[Qe],Ee),Ge!==null&&(J=S(Ge,J,Qe),He===null?Be=Ge:He.sibling=Ge,He=Ge);return Ht&&So(ae,Qe),Be}for(Ge=v(ae,Ge);Qe<le.length;Qe++)Tr=Ie(Ge,ae,Qe,le[Qe],Ee),Tr!==null&&(s&&Tr.alternate!==null&&Ge.delete(Tr.key===null?Qe:Tr.key),J=S(Tr,J,Qe),He===null?Be=Tr:He.sibling=Tr,He=Tr);return s&&Ge.forEach(function(Ps){return c(ae,Ps)}),Ht&&So(ae,Qe),Be}function Fe(ae,J,le,Ee){var Be=Z(le);if(typeof Be!="function")throw Error(r(150));if(le=Be.call(le),le==null)throw Error(r(151));for(var He=Be=null,Ge=J,Qe=J=0,Tr=null,yt=le.next();Ge!==null&&!yt.done;Qe++,yt=le.next()){Ge.index>Qe?(Tr=Ge,Ge=null):Tr=Ge.sibling;var Ps=ke(ae,Ge,yt.value,Ee);if(Ps===null){Ge===null&&(Ge=Tr);break}s&&Ge&&Ps.alternate===null&&c(ae,Ge),J=S(Ps,J,Qe),He===null?Be=Ps:He.sibling=Ps,He=Ps,Ge=Tr}if(yt.done)return f(ae,Ge),Ht&&So(ae,Qe),Be;if(Ge===null){for(;!yt.done;Qe++,yt=le.next())yt=Ne(ae,yt.value,Ee),yt!==null&&(J=S(yt,J,Qe),He===null?Be=yt:He.sibling=yt,He=yt);return Ht&&So(ae,Qe),Be}for(Ge=v(ae,Ge);!yt.done;Qe++,yt=le.next())yt=Ie(Ge,ae,Qe,yt.value,Ee),yt!==null&&(s&&yt.alternate!==null&&Ge.delete(yt.key===null?Qe:yt.key),J=S(yt,J,Qe),He===null?Be=yt:He.sibling=yt,He=yt);return s&&Ge.forEach(function(G$){return c(ae,G$)}),Ht&&So(ae,Qe),Be}function ar(ae,J,le,Ee){if(typeof le=="object"&&le!==null&&le.type===T&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case N:e:{for(var Be=le.key,He=J;He!==null;){if(He.key===Be){if(Be=le.type,Be===T){if(He.tag===7){f(ae,He.sibling),J=w(He,le.props.children),J.return=ae,ae=J;break e}}else if(He.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Q&&DS(Be)===He.type){f(ae,He.sibling),J=w(He,le.props),J.ref=Ou(ae,He,le),J.return=ae,ae=J;break e}f(ae,He);break}else c(ae,He);He=He.sibling}le.type===T?(J=Oo(le.props.children,ae.mode,Ee,le.key),J.return=ae,ae=J):(Ee=Xf(le.type,le.key,le.props,null,ae.mode,Ee),Ee.ref=Ou(ae,J,le),Ee.return=ae,ae=Ee)}return V(ae);case I:e:{for(He=le.key;J!==null;){if(J.key===He)if(J.tag===4&&J.stateNode.containerInfo===le.containerInfo&&J.stateNode.implementation===le.implementation){f(ae,J.sibling),J=w(J,le.children||[]),J.return=ae,ae=J;break e}else{f(ae,J);break}else c(ae,J);J=J.sibling}J=kv(le,ae.mode,Ee),J.return=ae,ae=J}return V(ae);case Q:return He=le._init,ar(ae,J,He(le._payload),Ee)}if(Ut(le))return $e(ae,J,le,Ee);if(Z(le))return Fe(ae,J,le,Ee);Nf(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,J!==null&&J.tag===6?(f(ae,J.sibling),J=w(J,le),J.return=ae,ae=J):(f(ae,J),J=_v(le,ae.mode,Ee),J.return=ae,ae=J),V(ae)):f(ae,J)}return ar}var Wl=LS(!0),$S=LS(!1),Ef=xs(null),Tf=null,Hl=null,Ig=null;function Og(){Ig=Hl=Tf=null}function Rg(s){var c=Ef.current;$t(Ef),s._currentValue=c}function Mg(s,c,f){for(;s!==null;){var v=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),s===f)break;s=s.return}}function Gl(s,c){Tf=s,Ig=Hl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(Nn=!0),s.firstContext=null)}function si(s){var c=s._currentValue;if(Ig!==s)if(s={context:s,memoizedValue:c,next:null},Hl===null){if(Tf===null)throw Error(r(308));Hl=s,Tf.dependencies={lanes:0,firstContext:s}}else Hl=Hl.next=s;return c}var No=null;function Dg(s){No===null?No=[s]:No.push(s)}function FS(s,c,f,v){var w=c.interleaved;return w===null?(f.next=f,Dg(c)):(f.next=w.next,w.next=f),c.interleaved=f,Ia(s,v)}function Ia(s,c){s.lanes|=c;var f=s.alternate;for(f!==null&&(f.lanes|=c),f=s,s=s.return;s!==null;)s.childLanes|=c,f=s.alternate,f!==null&&(f.childLanes|=c),f=s,s=s.return;return f.tag===3?f.stateNode:null}var _s=!1;function Lg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VS(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Oa(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function ks(s,c,f){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(gt&2)!==0){var w=v.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),v.pending=c,Ia(s,f)}return w=v.interleaved,w===null?(c.next=c,Dg(v)):(c.next=w.next,w.next=c),v.interleaved=c,Ia(s,f)}function Af(s,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var v=c.lanes;v&=s.pendingLanes,f|=v,c.lanes=f,hs(s,f)}}function BS(s,c){var f=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var w=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var V={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?w=S=V:S=S.next=V,f=f.next}while(f!==null);S===null?w=S=c:S=S.next=c}else w=S=c;f={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:v.shared,effects:v.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=c}function Pf(s,c,f,v){var w=s.updateQueue;_s=!1;var S=w.firstBaseUpdate,V=w.lastBaseUpdate,H=w.shared.pending;if(H!==null){w.shared.pending=null;var G=H,ue=G.next;G.next=null,V===null?S=ue:V.next=ue,V=G;var je=s.alternate;je!==null&&(je=je.updateQueue,H=je.lastBaseUpdate,H!==V&&(H===null?je.firstBaseUpdate=ue:H.next=ue,je.lastBaseUpdate=G))}if(S!==null){var Ne=w.baseState;V=0,je=ue=G=null,H=S;do{var ke=H.lane,Ie=H.eventTime;if((v&ke)===ke){je!==null&&(je=je.next={eventTime:Ie,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var $e=s,Fe=H;switch(ke=c,Ie=f,Fe.tag){case 1:if($e=Fe.payload,typeof $e=="function"){Ne=$e.call(Ie,Ne,ke);break e}Ne=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Fe.payload,ke=typeof $e=="function"?$e.call(Ie,Ne,ke):$e,ke==null)break e;Ne=re({},Ne,ke);break e;case 2:_s=!0}}H.callback!==null&&H.lane!==0&&(s.flags|=64,ke=w.effects,ke===null?w.effects=[H]:ke.push(H))}else Ie={eventTime:Ie,lane:ke,tag:H.tag,payload:H.payload,callback:H.callback,next:null},je===null?(ue=je=Ie,G=Ne):je=je.next=Ie,V|=ke;if(H=H.next,H===null){if(H=w.shared.pending,H===null)break;ke=H,H=ke.next,ke.next=null,w.lastBaseUpdate=ke,w.shared.pending=null}}while(!0);if(je===null&&(G=Ne),w.baseState=G,w.firstBaseUpdate=ue,w.lastBaseUpdate=je,c=w.shared.interleaved,c!==null){w=c;do V|=w.lane,w=w.next;while(w!==c)}else S===null&&(w.shared.lanes=0);Ao|=V,s.lanes=V,s.memoizedState=Ne}}function US(s,c,f){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var v=s[c],w=v.callback;if(w!==null){if(v.callback=null,v=f,typeof w!="function")throw Error(r(191,w));w.call(v)}}}var Ru={},Yi=xs(Ru),Mu=xs(Ru),Du=xs(Ru);function Eo(s){if(s===Ru)throw Error(r(174));return s}function $g(s,c){switch(Ot(Du,c),Ot(Mu,s),Ot(Yi,Ru),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:zt(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=zt(c,s)}$t(Yi),Ot(Yi,c)}function Kl(){$t(Yi),$t(Mu),$t(Du)}function qS(s){Eo(Du.current);var c=Eo(Yi.current),f=zt(c,s.type);c!==f&&(Ot(Mu,s),Ot(Yi,f))}function Fg(s){Mu.current===s&&($t(Yi),$t(Mu))}var Xt=xs(0);function Cf(s){for(var c=s;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Vg=[];function Bg(){for(var s=0;s<Vg.length;s++)Vg[s]._workInProgressVersionPrimary=null;Vg.length=0}var If=O.ReactCurrentDispatcher,Ug=O.ReactCurrentBatchConfig,To=0,Qt=null,vr=null,Nr=null,Of=!1,Lu=!1,$u=0,m$=0;function Kr(){throw Error(r(321))}function qg(s,c){if(c===null)return!1;for(var f=0;f<c.length&&f<s.length;f++)if(!Ei(s[f],c[f]))return!1;return!0}function zg(s,c,f,v,w,S){if(To=S,Qt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,If.current=s===null||s.memoizedState===null?x$:b$,s=f(v,w),Lu){S=0;do{if(Lu=!1,$u=0,25<=S)throw Error(r(301));S+=1,Nr=vr=null,c.updateQueue=null,If.current=w$,s=f(v,w)}while(Lu)}if(If.current=Df,c=vr!==null&&vr.next!==null,To=0,Nr=vr=Qt=null,Of=!1,c)throw Error(r(300));return s}function Wg(){var s=$u!==0;return $u=0,s}function Xi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?Qt.memoizedState=Nr=s:Nr=Nr.next=s,Nr}function oi(){if(vr===null){var s=Qt.alternate;s=s!==null?s.memoizedState:null}else s=vr.next;var c=Nr===null?Qt.memoizedState:Nr.next;if(c!==null)Nr=c,vr=s;else{if(s===null)throw Error(r(310));vr=s,s={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Nr===null?Qt.memoizedState=Nr=s:Nr=Nr.next=s}return Nr}function Fu(s,c){return typeof c=="function"?c(s):c}function Hg(s){var c=oi(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var v=vr,w=v.baseQueue,S=f.pending;if(S!==null){if(w!==null){var V=w.next;w.next=S.next,S.next=V}v.baseQueue=w=S,f.pending=null}if(w!==null){S=w.next,v=v.baseState;var H=V=null,G=null,ue=S;do{var je=ue.lane;if((To&je)===je)G!==null&&(G=G.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),v=ue.hasEagerState?ue.eagerState:s(v,ue.action);else{var Ne={lane:je,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};G===null?(H=G=Ne,V=v):G=G.next=Ne,Qt.lanes|=je,Ao|=je}ue=ue.next}while(ue!==null&&ue!==S);G===null?V=v:G.next=H,Ei(v,c.memoizedState)||(Nn=!0),c.memoizedState=v,c.baseState=V,c.baseQueue=G,f.lastRenderedState=v}if(s=f.interleaved,s!==null){w=s;do S=w.lane,Qt.lanes|=S,Ao|=S,w=w.next;while(w!==s)}else w===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Gg(s){var c=oi(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var v=f.dispatch,w=f.pending,S=c.memoizedState;if(w!==null){f.pending=null;var V=w=w.next;do S=s(S,V.action),V=V.next;while(V!==w);Ei(S,c.memoizedState)||(Nn=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),f.lastRenderedState=S}return[S,v]}function zS(){}function WS(s,c){var f=Qt,v=oi(),w=c(),S=!Ei(v.memoizedState,w);if(S&&(v.memoizedState=w,Nn=!0),v=v.queue,Kg(KS.bind(null,f,v,s),[s]),v.getSnapshot!==c||S||Nr!==null&&Nr.memoizedState.tag&1){if(f.flags|=2048,Vu(9,GS.bind(null,f,v,w,c),void 0,null),Er===null)throw Error(r(349));(To&30)!==0||HS(f,c,w)}return w}function HS(s,c,f){s.flags|=16384,s={getSnapshot:c,value:f},c=Qt.updateQueue,c===null?(c={lastEffect:null,stores:null},Qt.updateQueue=c,c.stores=[s]):(f=c.stores,f===null?c.stores=[s]:f.push(s))}function GS(s,c,f,v){c.value=f,c.getSnapshot=v,YS(c)&&XS(s)}function KS(s,c,f){return f(function(){YS(c)&&XS(s)})}function YS(s){var c=s.getSnapshot;s=s.value;try{var f=c();return!Ei(s,f)}catch{return!0}}function XS(s){var c=Ia(s,1);c!==null&&Ii(c,s,1,-1)}function QS(s){var c=Xi();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:s},c.queue=s,s=s.dispatch=y$.bind(null,Qt,s),[c.memoizedState,s]}function Vu(s,c,f,v){return s={tag:s,create:c,destroy:f,deps:v,next:null},c=Qt.updateQueue,c===null?(c={lastEffect:null,stores:null},Qt.updateQueue=c,c.lastEffect=s.next=s):(f=c.lastEffect,f===null?c.lastEffect=s.next=s:(v=f.next,f.next=s,s.next=v,c.lastEffect=s)),s}function JS(){return oi().memoizedState}function Rf(s,c,f,v){var w=Xi();Qt.flags|=s,w.memoizedState=Vu(1|c,f,void 0,v===void 0?null:v)}function Mf(s,c,f,v){var w=oi();v=v===void 0?null:v;var S=void 0;if(vr!==null){var V=vr.memoizedState;if(S=V.destroy,v!==null&&qg(v,V.deps)){w.memoizedState=Vu(c,f,S,v);return}}Qt.flags|=s,w.memoizedState=Vu(1|c,f,S,v)}function ZS(s,c){return Rf(8390656,8,s,c)}function Kg(s,c){return Mf(2048,8,s,c)}function eN(s,c){return Mf(4,2,s,c)}function tN(s,c){return Mf(4,4,s,c)}function rN(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function nN(s,c,f){return f=f!=null?f.concat([s]):null,Mf(4,4,rN.bind(null,c,s),f)}function Yg(){}function iN(s,c){var f=oi();c=c===void 0?null:c;var v=f.memoizedState;return v!==null&&c!==null&&qg(c,v[1])?v[0]:(f.memoizedState=[s,c],s)}function aN(s,c){var f=oi();c=c===void 0?null:c;var v=f.memoizedState;return v!==null&&c!==null&&qg(c,v[1])?v[0]:(s=s(),f.memoizedState=[s,c],s)}function sN(s,c,f){return(To&21)===0?(s.baseState&&(s.baseState=!1,Nn=!0),s.memoizedState=f):(Ei(f,c)||(f=vo(),Qt.lanes|=f,Ao|=f,s.baseState=!0),c)}function g$(s,c){var f=ct;ct=f!==0&&4>f?f:4,s(!0);var v=Ug.transition;Ug.transition={};try{s(!1),c()}finally{ct=f,Ug.transition=v}}function oN(){return oi().memoizedState}function v$(s,c,f){var v=Es(s);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},lN(s))cN(c,f);else if(f=FS(s,c,f,v),f!==null){var w=fn();Ii(f,s,v,w),uN(f,c,v)}}function y$(s,c,f){var v=Es(s),w={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(lN(s))cN(c,w);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var V=c.lastRenderedState,H=S(V,f);if(w.hasEagerState=!0,w.eagerState=H,Ei(H,V)){var G=c.interleaved;G===null?(w.next=w,Dg(c)):(w.next=G.next,G.next=w),c.interleaved=w;return}}catch{}finally{}f=FS(s,c,w,v),f!==null&&(w=fn(),Ii(f,s,v,w),uN(f,c,v))}}function lN(s){var c=s.alternate;return s===Qt||c!==null&&c===Qt}function cN(s,c){Lu=Of=!0;var f=s.pending;f===null?c.next=c:(c.next=f.next,f.next=c),s.pending=c}function uN(s,c,f){if((f&4194240)!==0){var v=c.lanes;v&=s.pendingLanes,f|=v,c.lanes=f,hs(s,f)}}var Df={readContext:si,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},x$={readContext:si,useCallback:function(s,c){return Xi().memoizedState=[s,c===void 0?null:c],s},useContext:si,useEffect:ZS,useImperativeHandle:function(s,c,f){return f=f!=null?f.concat([s]):null,Rf(4194308,4,rN.bind(null,c,s),f)},useLayoutEffect:function(s,c){return Rf(4194308,4,s,c)},useInsertionEffect:function(s,c){return Rf(4,2,s,c)},useMemo:function(s,c){var f=Xi();return c=c===void 0?null:c,s=s(),f.memoizedState=[s,c],s},useReducer:function(s,c,f){var v=Xi();return c=f!==void 0?f(c):c,v.memoizedState=v.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},v.queue=s,s=s.dispatch=v$.bind(null,Qt,s),[v.memoizedState,s]},useRef:function(s){var c=Xi();return s={current:s},c.memoizedState=s},useState:QS,useDebugValue:Yg,useDeferredValue:function(s){return Xi().memoizedState=s},useTransition:function(){var s=QS(!1),c=s[0];return s=g$.bind(null,s[1]),Xi().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,f){var v=Qt,w=Xi();if(Ht){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),Er===null)throw Error(r(349));(To&30)!==0||HS(v,c,f)}w.memoizedState=f;var S={value:f,getSnapshot:c};return w.queue=S,ZS(KS.bind(null,v,S,s),[s]),v.flags|=2048,Vu(9,GS.bind(null,v,S,f,c),void 0,null),f},useId:function(){var s=Xi(),c=Er.identifierPrefix;if(Ht){var f=Ca,v=Pa;f=(v&~(1<<32-un(v)-1)).toString(32)+f,c=":"+c+"R"+f,f=$u++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=m$++,c=":"+c+"r"+f.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},b$={readContext:si,useCallback:iN,useContext:si,useEffect:Kg,useImperativeHandle:nN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:aN,useReducer:Hg,useRef:JS,useState:function(){return Hg(Fu)},useDebugValue:Yg,useDeferredValue:function(s){var c=oi();return sN(c,vr.memoizedState,s)},useTransition:function(){var s=Hg(Fu)[0],c=oi().memoizedState;return[s,c]},useMutableSource:zS,useSyncExternalStore:WS,useId:oN,unstable_isNewReconciler:!1},w$={readContext:si,useCallback:iN,useContext:si,useEffect:Kg,useImperativeHandle:nN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:aN,useReducer:Gg,useRef:JS,useState:function(){return Gg(Fu)},useDebugValue:Yg,useDeferredValue:function(s){var c=oi();return vr===null?c.memoizedState=s:sN(c,vr.memoizedState,s)},useTransition:function(){var s=Gg(Fu)[0],c=oi().memoizedState;return[s,c]},useMutableSource:zS,useSyncExternalStore:WS,useId:oN,unstable_isNewReconciler:!1};function Ai(s,c){if(s&&s.defaultProps){c=re({},c),s=s.defaultProps;for(var f in s)c[f]===void 0&&(c[f]=s[f]);return c}return c}function Xg(s,c,f,v){c=s.memoizedState,f=f(v,c),f=f==null?c:re({},c,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Lf={isMounted:function(s){return(s=s._reactInternals)?Ce(s)===s:!1},enqueueSetState:function(s,c,f){s=s._reactInternals;var v=fn(),w=Es(s),S=Oa(v,w);S.payload=c,f!=null&&(S.callback=f),c=ks(s,S,w),c!==null&&(Ii(c,s,w,v),Af(c,s,w))},enqueueReplaceState:function(s,c,f){s=s._reactInternals;var v=fn(),w=Es(s),S=Oa(v,w);S.tag=1,S.payload=c,f!=null&&(S.callback=f),c=ks(s,S,w),c!==null&&(Ii(c,s,w,v),Af(c,s,w))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var f=fn(),v=Es(s),w=Oa(f,v);w.tag=2,c!=null&&(w.callback=c),c=ks(s,w,v),c!==null&&(Ii(c,s,v,f),Af(c,s,v))}};function dN(s,c,f,v,w,S,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,S,V):c.prototype&&c.prototype.isPureReactComponent?!Nu(f,v)||!Nu(w,S):!0}function hN(s,c,f){var v=!1,w=bs,S=c.contextType;return typeof S=="object"&&S!==null?S=si(S):(w=Sn(c)?ko:Gr.current,v=c.contextTypes,S=(v=v!=null)?Bl(s,w):bs),c=new c(f,S),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Lf,s.stateNode=c,c._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=w,s.__reactInternalMemoizedMaskedChildContext=S),c}function fN(s,c,f,v){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,v),c.state!==s&&Lf.enqueueReplaceState(c,c.state,null)}function Qg(s,c,f,v){var w=s.stateNode;w.props=f,w.state=s.memoizedState,w.refs={},Lg(s);var S=c.contextType;typeof S=="object"&&S!==null?w.context=si(S):(S=Sn(c)?ko:Gr.current,w.context=Bl(s,S)),w.state=s.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(Xg(s,c,S,f),w.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(c=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),c!==w.state&&Lf.enqueueReplaceState(w,w.state,null),Pf(s,f,w,v),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308)}function Yl(s,c){try{var f="",v=c;do f+=ve(v),v=v.return;while(v);var w=f}catch(S){w=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:c,stack:w,digest:null}}function Jg(s,c,f){return{value:s,source:null,stack:f??null,digest:c??null}}function Zg(s,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var _$=typeof WeakMap=="function"?WeakMap:Map;function pN(s,c,f){f=Oa(-1,f),f.tag=3,f.payload={element:null};var v=c.value;return f.callback=function(){zf||(zf=!0,pv=v),Zg(s,c)},f}function mN(s,c,f){f=Oa(-1,f),f.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var w=c.value;f.payload=function(){return v(w)},f.callback=function(){Zg(s,c)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){Zg(s,c),typeof v!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var V=c.stack;this.componentDidCatch(c.value,{componentStack:V!==null?V:""})}),f}function gN(s,c,f){var v=s.pingCache;if(v===null){v=s.pingCache=new _$;var w=new Set;v.set(c,w)}else w=v.get(c),w===void 0&&(w=new Set,v.set(c,w));w.has(f)||(w.add(f),s=D$.bind(null,s,c,f),c.then(s,s))}function vN(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function yN(s,c,f,v,w){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Oa(-1,1),c.tag=2,ks(f,c,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=w,s)}var k$=O.ReactCurrentOwner,Nn=!1;function hn(s,c,f,v){c.child=s===null?$S(c,null,f,v):Wl(c,s.child,f,v)}function xN(s,c,f,v,w){f=f.render;var S=c.ref;return Gl(c,w),v=zg(s,c,f,v,S,w),f=Wg(),s!==null&&!Nn?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~w,Ra(s,c,w)):(Ht&&f&&Eg(c),c.flags|=1,hn(s,c,v,w),c.child)}function bN(s,c,f,v,w){if(s===null){var S=f.type;return typeof S=="function"&&!wv(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=S,wN(s,c,S,v,w)):(s=Xf(f.type,null,v,c,c.mode,w),s.ref=c.ref,s.return=c,c.child=s)}if(S=s.child,(s.lanes&w)===0){var V=S.memoizedProps;if(f=f.compare,f=f!==null?f:Nu,f(V,v)&&s.ref===c.ref)return Ra(s,c,w)}return c.flags|=1,s=As(S,v),s.ref=c.ref,s.return=c,c.child=s}function wN(s,c,f,v,w){if(s!==null){var S=s.memoizedProps;if(Nu(S,v)&&s.ref===c.ref)if(Nn=!1,c.pendingProps=v=S,(s.lanes&w)!==0)(s.flags&131072)!==0&&(Nn=!0);else return c.lanes=s.lanes,Ra(s,c,w)}return ev(s,c,f,v,w)}function _N(s,c,f){var v=c.pendingProps,w=v.children,S=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Ql,Wn),Wn|=f;else{if((f&1073741824)===0)return s=S!==null?S.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,Ot(Ql,Wn),Wn|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=S!==null?S.baseLanes:f,Ot(Ql,Wn),Wn|=v}else S!==null?(v=S.baseLanes|f,c.memoizedState=null):v=f,Ot(Ql,Wn),Wn|=v;return hn(s,c,w,f),c.child}function kN(s,c){var f=c.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function ev(s,c,f,v,w){var S=Sn(f)?ko:Gr.current;return S=Bl(c,S),Gl(c,w),f=zg(s,c,f,v,S,w),v=Wg(),s!==null&&!Nn?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~w,Ra(s,c,w)):(Ht&&v&&Eg(c),c.flags|=1,hn(s,c,f,w),c.child)}function jN(s,c,f,v,w){if(Sn(f)){var S=!0;wf(c)}else S=!1;if(Gl(c,w),c.stateNode===null)Ff(s,c),hN(c,f,v),Qg(c,f,v,w),v=!0;else if(s===null){var V=c.stateNode,H=c.memoizedProps;V.props=H;var G=V.context,ue=f.contextType;typeof ue=="object"&&ue!==null?ue=si(ue):(ue=Sn(f)?ko:Gr.current,ue=Bl(c,ue));var je=f.getDerivedStateFromProps,Ne=typeof je=="function"||typeof V.getSnapshotBeforeUpdate=="function";Ne||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(H!==v||G!==ue)&&fN(c,V,v,ue),_s=!1;var ke=c.memoizedState;V.state=ke,Pf(c,v,V,w),G=c.memoizedState,H!==v||ke!==G||jn.current||_s?(typeof je=="function"&&(Xg(c,f,je,v),G=c.memoizedState),(H=_s||dN(c,f,H,v,ke,G,ue))?(Ne||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(c.flags|=4194308)):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=G),V.props=v,V.state=G,V.context=ue,v=H):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{V=c.stateNode,VS(s,c),H=c.memoizedProps,ue=c.type===c.elementType?H:Ai(c.type,H),V.props=ue,Ne=c.pendingProps,ke=V.context,G=f.contextType,typeof G=="object"&&G!==null?G=si(G):(G=Sn(f)?ko:Gr.current,G=Bl(c,G));var Ie=f.getDerivedStateFromProps;(je=typeof Ie=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(H!==Ne||ke!==G)&&fN(c,V,v,G),_s=!1,ke=c.memoizedState,V.state=ke,Pf(c,v,V,w);var $e=c.memoizedState;H!==Ne||ke!==$e||jn.current||_s?(typeof Ie=="function"&&(Xg(c,f,Ie,v),$e=c.memoizedState),(ue=_s||dN(c,f,ue,v,ke,$e,G)||!1)?(je||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(v,$e,G),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(v,$e,G)),typeof V.componentDidUpdate=="function"&&(c.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof V.componentDidUpdate!="function"||H===s.memoizedProps&&ke===s.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ke===s.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=$e),V.props=v,V.state=$e,V.context=G,v=ue):(typeof V.componentDidUpdate!="function"||H===s.memoizedProps&&ke===s.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ke===s.memoizedState||(c.flags|=1024),v=!1)}return tv(s,c,f,v,S,w)}function tv(s,c,f,v,w,S){kN(s,c);var V=(c.flags&128)!==0;if(!v&&!V)return w&&AS(c,f,!1),Ra(s,c,S);v=c.stateNode,k$.current=c;var H=V&&typeof f.getDerivedStateFromError!="function"?null:v.render();return c.flags|=1,s!==null&&V?(c.child=Wl(c,s.child,null,S),c.child=Wl(c,null,H,S)):hn(s,c,H,S),c.memoizedState=v.state,w&&AS(c,f,!0),c.child}function SN(s){var c=s.stateNode;c.pendingContext?ES(s,c.pendingContext,c.pendingContext!==c.context):c.context&&ES(s,c.context,!1),$g(s,c.containerInfo)}function NN(s,c,f,v,w){return zl(),Cg(w),c.flags|=256,hn(s,c,f,v),c.child}var rv={dehydrated:null,treeContext:null,retryLane:0};function nv(s){return{baseLanes:s,cachePool:null,transitions:null}}function EN(s,c,f){var v=c.pendingProps,w=Xt.current,S=!1,V=(c.flags&128)!==0,H;if((H=V)||(H=s!==null&&s.memoizedState===null?!1:(w&2)!==0),H?(S=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(w|=1),Ot(Xt,w&1),s===null)return Pg(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(V=v.children,s=v.fallback,S?(v=c.mode,S=c.child,V={mode:"hidden",children:V},(v&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=V):S=Qf(V,v,0,null),s=Oo(s,v,f,null),S.return=c,s.return=c,S.sibling=s,c.child=S,c.child.memoizedState=nv(f),c.memoizedState=rv,s):iv(c,V));if(w=s.memoizedState,w!==null&&(H=w.dehydrated,H!==null))return j$(s,c,V,v,H,w,f);if(S){S=v.fallback,V=c.mode,w=s.child,H=w.sibling;var G={mode:"hidden",children:v.children};return(V&1)===0&&c.child!==w?(v=c.child,v.childLanes=0,v.pendingProps=G,c.deletions=null):(v=As(w,G),v.subtreeFlags=w.subtreeFlags&14680064),H!==null?S=As(H,S):(S=Oo(S,V,f,null),S.flags|=2),S.return=c,v.return=c,v.sibling=S,c.child=v,v=S,S=c.child,V=s.child.memoizedState,V=V===null?nv(f):{baseLanes:V.baseLanes|f,cachePool:null,transitions:V.transitions},S.memoizedState=V,S.childLanes=s.childLanes&~f,c.memoizedState=rv,v}return S=s.child,s=S.sibling,v=As(S,{mode:"visible",children:v.children}),(c.mode&1)===0&&(v.lanes=f),v.return=c,v.sibling=null,s!==null&&(f=c.deletions,f===null?(c.deletions=[s],c.flags|=16):f.push(s)),c.child=v,c.memoizedState=null,v}function iv(s,c){return c=Qf({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function $f(s,c,f,v){return v!==null&&Cg(v),Wl(c,s.child,null,f),s=iv(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function j$(s,c,f,v,w,S,V){if(f)return c.flags&256?(c.flags&=-257,v=Jg(Error(r(422))),$f(s,c,V,v)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(S=v.fallback,w=c.mode,v=Qf({mode:"visible",children:v.children},w,0,null),S=Oo(S,w,V,null),S.flags|=2,v.return=c,S.return=c,v.sibling=S,c.child=v,(c.mode&1)!==0&&Wl(c,s.child,null,V),c.child.memoizedState=nv(V),c.memoizedState=rv,S);if((c.mode&1)===0)return $f(s,c,V,null);if(w.data==="$!"){if(v=w.nextSibling&&w.nextSibling.dataset,v)var H=v.dgst;return v=H,S=Error(r(419)),v=Jg(S,v,void 0),$f(s,c,V,v)}if(H=(V&s.childLanes)!==0,Nn||H){if(v=Er,v!==null){switch(V&-V){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(v.suspendedLanes|V))!==0?0:w,w!==0&&w!==S.retryLane&&(S.retryLane=w,Ia(s,w),Ii(v,s,w,-1))}return bv(),v=Jg(Error(r(421))),$f(s,c,V,v)}return w.data==="$?"?(c.flags|=128,c.child=s.child,c=L$.bind(null,s),w._reactRetry=c,null):(s=S.treeContext,zn=ys(w.nextSibling),qn=c,Ht=!0,Ti=null,s!==null&&(ii[ai++]=Pa,ii[ai++]=Ca,ii[ai++]=jo,Pa=s.id,Ca=s.overflow,jo=c),c=iv(c,v.children),c.flags|=4096,c)}function TN(s,c,f){s.lanes|=c;var v=s.alternate;v!==null&&(v.lanes|=c),Mg(s.return,c,f)}function av(s,c,f,v,w){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:w}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=v,S.tail=f,S.tailMode=w)}function AN(s,c,f){var v=c.pendingProps,w=v.revealOrder,S=v.tail;if(hn(s,c,v.children,f),v=Xt.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&TN(s,f,c);else if(s.tag===19)TN(s,f,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(Ot(Xt,v),(c.mode&1)===0)c.memoizedState=null;else switch(w){case"forwards":for(f=c.child,w=null;f!==null;)s=f.alternate,s!==null&&Cf(s)===null&&(w=f),f=f.sibling;f=w,f===null?(w=c.child,c.child=null):(w=f.sibling,f.sibling=null),av(c,!1,w,f,S);break;case"backwards":for(f=null,w=c.child,c.child=null;w!==null;){if(s=w.alternate,s!==null&&Cf(s)===null){c.child=w;break}s=w.sibling,w.sibling=f,f=w,w=s}av(c,!0,f,null,S);break;case"together":av(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Ff(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function Ra(s,c,f){if(s!==null&&(c.dependencies=s.dependencies),Ao|=c.lanes,(f&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,f=As(s,s.pendingProps),c.child=f,f.return=c;s.sibling!==null;)s=s.sibling,f=f.sibling=As(s,s.pendingProps),f.return=c;f.sibling=null}return c.child}function S$(s,c,f){switch(c.tag){case 3:SN(c),zl();break;case 5:qS(c);break;case 1:Sn(c.type)&&wf(c);break;case 4:$g(c,c.stateNode.containerInfo);break;case 10:var v=c.type._context,w=c.memoizedProps.value;Ot(Ef,v._currentValue),v._currentValue=w;break;case 13:if(v=c.memoizedState,v!==null)return v.dehydrated!==null?(Ot(Xt,Xt.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?EN(s,c,f):(Ot(Xt,Xt.current&1),s=Ra(s,c,f),s!==null?s.sibling:null);Ot(Xt,Xt.current&1);break;case 19:if(v=(f&c.childLanes)!==0,(s.flags&128)!==0){if(v)return AN(s,c,f);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Ot(Xt,Xt.current),v)break;return null;case 22:case 23:return c.lanes=0,_N(s,c,f)}return Ra(s,c,f)}var PN,sv,CN,IN;PN=function(s,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},sv=function(){},CN=function(s,c,f,v){var w=s.memoizedProps;if(w!==v){s=c.stateNode,Eo(Yi.current);var S=null;switch(f){case"input":w=_e(s,w),v=_e(s,v),S=[];break;case"select":w=re({},w,{value:void 0}),v=re({},v,{value:void 0}),S=[];break;case"textarea":w=Or(s,w),v=Or(s,v),S=[];break;default:typeof w.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=yf)}co(f,v);var V;f=null;for(ue in w)if(!v.hasOwnProperty(ue)&&w.hasOwnProperty(ue)&&w[ue]!=null)if(ue==="style"){var H=w[ue];for(V in H)H.hasOwnProperty(V)&&(f||(f={}),f[V]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(i.hasOwnProperty(ue)?S||(S=[]):(S=S||[]).push(ue,null));for(ue in v){var G=v[ue];if(H=w?.[ue],v.hasOwnProperty(ue)&&G!==H&&(G!=null||H!=null))if(ue==="style")if(H){for(V in H)!H.hasOwnProperty(V)||G&&G.hasOwnProperty(V)||(f||(f={}),f[V]="");for(V in G)G.hasOwnProperty(V)&&H[V]!==G[V]&&(f||(f={}),f[V]=G[V])}else f||(S||(S=[]),S.push(ue,f)),f=G;else ue==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,H=H?H.__html:void 0,G!=null&&H!==G&&(S=S||[]).push(ue,G)):ue==="children"?typeof G!="string"&&typeof G!="number"||(S=S||[]).push(ue,""+G):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(ue)?(G!=null&&ue==="onScroll"&&Lt("scroll",s),S||H===G||(S=[])):(S=S||[]).push(ue,G))}f&&(S=S||[]).push("style",f);var ue=S;(c.updateQueue=ue)&&(c.flags|=4)}},IN=function(s,c,f,v){f!==v&&(c.flags|=4)};function Bu(s,c){if(!Ht)switch(s.tailMode){case"hidden":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Yr(s){var c=s.alternate!==null&&s.alternate.child===s.child,f=0,v=0;if(c)for(var w=s.child;w!==null;)f|=w.lanes|w.childLanes,v|=w.subtreeFlags&14680064,v|=w.flags&14680064,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)f|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=v,s.childLanes=f,c}function N$(s,c,f){var v=c.pendingProps;switch(Tg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(c),null;case 1:return Sn(c.type)&&bf(),Yr(c),null;case 3:return v=c.stateNode,Kl(),$t(jn),$t(Gr),Bg(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(Sf(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ti!==null&&(vv(Ti),Ti=null))),sv(s,c),Yr(c),null;case 5:Fg(c);var w=Eo(Du.current);if(f=c.type,s!==null&&c.stateNode!=null)CN(s,c,f,v,w),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Yr(c),null}if(s=Eo(Yi.current),Sf(c)){v=c.stateNode,f=c.type;var S=c.memoizedProps;switch(v[Ki]=c,v[Cu]=S,s=(c.mode&1)!==0,f){case"dialog":Lt("cancel",v),Lt("close",v);break;case"iframe":case"object":case"embed":Lt("load",v);break;case"video":case"audio":for(w=0;w<Tu.length;w++)Lt(Tu[w],v);break;case"source":Lt("error",v);break;case"img":case"image":case"link":Lt("error",v),Lt("load",v);break;case"details":Lt("toggle",v);break;case"input":Oe(v,S),Lt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!S.multiple},Lt("invalid",v);break;case"textarea":ln(v,S),Lt("invalid",v)}co(f,S),w=null;for(var V in S)if(S.hasOwnProperty(V)){var H=S[V];V==="children"?typeof H=="string"?v.textContent!==H&&(S.suppressHydrationWarning!==!0&&vf(v.textContent,H,s),w=["children",H]):typeof H=="number"&&v.textContent!==""+H&&(S.suppressHydrationWarning!==!0&&vf(v.textContent,H,s),w=["children",""+H]):i.hasOwnProperty(V)&&H!=null&&V==="onScroll"&&Lt("scroll",v)}switch(f){case"input":xe(v),mr(v,S,!0);break;case"textarea":xe(v),va(v);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(v.onclick=yf)}v=w,c.updateQueue=v,v!==null&&(c.flags|=4)}else{V=w.nodeType===9?w:w.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=vt(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=V.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=V.createElement(f,{is:v.is}):(s=V.createElement(f),f==="select"&&(V=s,v.multiple?V.multiple=!0:v.size&&(V.size=v.size))):s=V.createElementNS(s,f),s[Ki]=c,s[Cu]=v,PN(s,c,!1,!1),c.stateNode=s;e:{switch(V=uo(f,v),f){case"dialog":Lt("cancel",s),Lt("close",s),w=v;break;case"iframe":case"object":case"embed":Lt("load",s),w=v;break;case"video":case"audio":for(w=0;w<Tu.length;w++)Lt(Tu[w],s);w=v;break;case"source":Lt("error",s),w=v;break;case"img":case"image":case"link":Lt("error",s),Lt("load",s),w=v;break;case"details":Lt("toggle",s),w=v;break;case"input":Oe(s,v),w=_e(s,v),Lt("invalid",s);break;case"option":w=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},w=re({},v,{value:void 0}),Lt("invalid",s);break;case"textarea":ln(s,v),w=Or(s,v),Lt("invalid",s);break;default:w=v}co(f,w),H=w;for(S in H)if(H.hasOwnProperty(S)){var G=H[S];S==="style"?bi(s,G):S==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&ya(s,G)):S==="children"?typeof G=="string"?(f!=="textarea"||G!=="")&&Ui(s,G):typeof G=="number"&&Ui(s,""+G):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?G!=null&&S==="onScroll"&&Lt("scroll",s):G!=null&&P(s,S,G,V))}switch(f){case"input":xe(s),mr(s,v,!1);break;case"textarea":xe(s),va(s);break;case"option":v.value!=null&&s.setAttribute("value",""+be(v.value));break;case"select":s.multiple=!!v.multiple,S=v.value,S!=null?qt(s,!!v.multiple,S,!1):v.defaultValue!=null&&qt(s,!!v.multiple,v.defaultValue,!0);break;default:typeof w.onClick=="function"&&(s.onclick=yf)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Yr(c),null;case 6:if(s&&c.stateNode!=null)IN(s,c,s.memoizedProps,v);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(f=Eo(Du.current),Eo(Yi.current),Sf(c)){if(v=c.stateNode,f=c.memoizedProps,v[Ki]=c,(S=v.nodeValue!==f)&&(s=qn,s!==null))switch(s.tag){case 3:vf(v.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&vf(v.nodeValue,f,(s.mode&1)!==0)}S&&(c.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[Ki]=c,c.stateNode=v}return Yr(c),null;case 13:if($t(Xt),v=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ht&&zn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)MS(),zl(),c.flags|=98560,S=!1;else if(S=Sf(c),v!==null&&v.dehydrated!==null){if(s===null){if(!S)throw Error(r(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Ki]=c}else zl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Yr(c),S=!1}else Ti!==null&&(vv(Ti),Ti=null),S=!0;if(!S)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(Xt.current&1)!==0?yr===0&&(yr=3):bv())),c.updateQueue!==null&&(c.flags|=4),Yr(c),null);case 4:return Kl(),sv(s,c),s===null&&Au(c.stateNode.containerInfo),Yr(c),null;case 10:return Rg(c.type._context),Yr(c),null;case 17:return Sn(c.type)&&bf(),Yr(c),null;case 19:if($t(Xt),S=c.memoizedState,S===null)return Yr(c),null;if(v=(c.flags&128)!==0,V=S.rendering,V===null)if(v)Bu(S,!1);else{if(yr!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(V=Cf(s),V!==null){for(c.flags|=128,Bu(S,!1),v=V.updateQueue,v!==null&&(c.updateQueue=v,c.flags|=4),c.subtreeFlags=0,v=f,f=c.child;f!==null;)S=f,s=v,S.flags&=14680066,V=S.alternate,V===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=V.childLanes,S.lanes=V.lanes,S.child=V.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=V.memoizedProps,S.memoizedState=V.memoizedState,S.updateQueue=V.updateQueue,S.type=V.type,s=V.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return Ot(Xt,Xt.current&1|2),c.child}s=s.sibling}S.tail!==null&&Je()>Jl&&(c.flags|=128,v=!0,Bu(S,!1),c.lanes=4194304)}else{if(!v)if(s=Cf(V),s!==null){if(c.flags|=128,v=!0,f=s.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),Bu(S,!0),S.tail===null&&S.tailMode==="hidden"&&!V.alternate&&!Ht)return Yr(c),null}else 2*Je()-S.renderingStartTime>Jl&&f!==1073741824&&(c.flags|=128,v=!0,Bu(S,!1),c.lanes=4194304);S.isBackwards?(V.sibling=c.child,c.child=V):(f=S.last,f!==null?f.sibling=V:c.child=V,S.last=V)}return S.tail!==null?(c=S.tail,S.rendering=c,S.tail=c.sibling,S.renderingStartTime=Je(),c.sibling=null,f=Xt.current,Ot(Xt,v?f&1|2:f&1),c):(Yr(c),null);case 22:case 23:return xv(),v=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(c.flags|=8192),v&&(c.mode&1)!==0?(Wn&1073741824)!==0&&(Yr(c),c.subtreeFlags&6&&(c.flags|=8192)):Yr(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function E$(s,c){switch(Tg(c),c.tag){case 1:return Sn(c.type)&&bf(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Kl(),$t(jn),$t(Gr),Bg(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return Fg(c),null;case 13:if($t(Xt),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));zl()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return $t(Xt),null;case 4:return Kl(),null;case 10:return Rg(c.type._context),null;case 22:case 23:return xv(),null;case 24:return null;default:return null}}var Vf=!1,Xr=!1,T$=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Xl(s,c){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){tr(s,c,v)}else f.current=null}function ov(s,c,f){try{f()}catch(v){tr(s,c,v)}}var ON=!1;function A$(s,c){if(xg=ms,s=dS(),dg(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var w=v.anchorOffset,S=v.focusNode;v=v.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var V=0,H=-1,G=-1,ue=0,je=0,Ne=s,ke=null;t:for(;;){for(var Ie;Ne!==f||w!==0&&Ne.nodeType!==3||(H=V+w),Ne!==S||v!==0&&Ne.nodeType!==3||(G=V+v),Ne.nodeType===3&&(V+=Ne.nodeValue.length),(Ie=Ne.firstChild)!==null;)ke=Ne,Ne=Ie;for(;;){if(Ne===s)break t;if(ke===f&&++ue===w&&(H=V),ke===S&&++je===v&&(G=V),(Ie=Ne.nextSibling)!==null)break;Ne=ke,ke=Ne.parentNode}Ne=Ie}f=H===-1||G===-1?null:{start:H,end:G}}else f=null}f=f||{start:0,end:0}}else f=null;for(bg={focusedElem:s,selectionRange:f},ms=!1,Me=c;Me!==null;)if(c=Me,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Me=s;else for(;Me!==null;){c=Me;try{var $e=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var Fe=$e.memoizedProps,ar=$e.memoizedState,ae=c.stateNode,J=ae.getSnapshotBeforeUpdate(c.elementType===c.type?Fe:Ai(c.type,Fe),ar);ae.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var le=c.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ee){tr(c,c.return,Ee)}if(s=c.sibling,s!==null){s.return=c.return,Me=s;break}Me=c.return}return $e=ON,ON=!1,$e}function Uu(s,c,f){var v=c.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var w=v=v.next;do{if((w.tag&s)===s){var S=w.destroy;w.destroy=void 0,S!==void 0&&ov(c,f,S)}w=w.next}while(w!==v)}}function Bf(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&s)===s){var v=f.create;f.destroy=v()}f=f.next}while(f!==c)}}function lv(s){var c=s.ref;if(c!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof c=="function"?c(s):c.current=s}}function RN(s){var c=s.alternate;c!==null&&(s.alternate=null,RN(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[Ki],delete c[Cu],delete c[jg],delete c[d$],delete c[h$])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function MN(s){return s.tag===5||s.tag===3||s.tag===4}function DN(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||MN(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cv(s,c,f){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(s,c):f.insertBefore(s,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(s,f)):(c=f,c.appendChild(s)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=yf));else if(v!==4&&(s=s.child,s!==null))for(cv(s,c,f),s=s.sibling;s!==null;)cv(s,c,f),s=s.sibling}function uv(s,c,f){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?f.insertBefore(s,c):f.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(uv(s,c,f),s=s.sibling;s!==null;)uv(s,c,f),s=s.sibling}var Dr=null,Pi=!1;function js(s,c,f){for(f=f.child;f!==null;)LN(s,c,f),f=f.sibling}function LN(s,c,f){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(mo,f)}catch{}switch(f.tag){case 5:Xr||Xl(f,c);case 6:var v=Dr,w=Pi;Dr=null,js(s,c,f),Dr=v,Pi=w,Dr!==null&&(Pi?(s=Dr,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):Dr.removeChild(f.stateNode));break;case 18:Dr!==null&&(Pi?(s=Dr,f=f.stateNode,s.nodeType===8?kg(s.parentNode,f):s.nodeType===1&&kg(s,f),Si(s)):kg(Dr,f.stateNode));break;case 4:v=Dr,w=Pi,Dr=f.stateNode.containerInfo,Pi=!0,js(s,c,f),Dr=v,Pi=w;break;case 0:case 11:case 14:case 15:if(!Xr&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){w=v=v.next;do{var S=w,V=S.destroy;S=S.tag,V!==void 0&&((S&2)!==0||(S&4)!==0)&&ov(f,c,V),w=w.next}while(w!==v)}js(s,c,f);break;case 1:if(!Xr&&(Xl(f,c),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(H){tr(f,c,H)}js(s,c,f);break;case 21:js(s,c,f);break;case 22:f.mode&1?(Xr=(v=Xr)||f.memoizedState!==null,js(s,c,f),Xr=v):js(s,c,f);break;default:js(s,c,f)}}function $N(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new T$),c.forEach(function(v){var w=$$.bind(null,s,v);f.has(v)||(f.add(v),v.then(w,w))})}}function Ci(s,c){var f=c.deletions;if(f!==null)for(var v=0;v<f.length;v++){var w=f[v];try{var S=s,V=c,H=V;e:for(;H!==null;){switch(H.tag){case 5:Dr=H.stateNode,Pi=!1;break e;case 3:Dr=H.stateNode.containerInfo,Pi=!0;break e;case 4:Dr=H.stateNode.containerInfo,Pi=!0;break e}H=H.return}if(Dr===null)throw Error(r(160));LN(S,V,w),Dr=null,Pi=!1;var G=w.alternate;G!==null&&(G.return=null),w.return=null}catch(ue){tr(w,c,ue)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)FN(c,s),c=c.sibling}function FN(s,c){var f=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ci(c,s),Qi(s),v&4){try{Uu(3,s,s.return),Bf(3,s)}catch(Fe){tr(s,s.return,Fe)}try{Uu(5,s,s.return)}catch(Fe){tr(s,s.return,Fe)}}break;case 1:Ci(c,s),Qi(s),v&512&&f!==null&&Xl(f,f.return);break;case 5:if(Ci(c,s),Qi(s),v&512&&f!==null&&Xl(f,f.return),s.flags&32){var w=s.stateNode;try{Ui(w,"")}catch(Fe){tr(s,s.return,Fe)}}if(v&4&&(w=s.stateNode,w!=null)){var S=s.memoizedProps,V=f!==null?f.memoizedProps:S,H=s.type,G=s.updateQueue;if(s.updateQueue=null,G!==null)try{H==="input"&&S.type==="radio"&&S.name!=null&&ze(w,S),uo(H,V);var ue=uo(H,S);for(V=0;V<G.length;V+=2){var je=G[V],Ne=G[V+1];je==="style"?bi(w,Ne):je==="dangerouslySetInnerHTML"?ya(w,Ne):je==="children"?Ui(w,Ne):P(w,je,Ne,ue)}switch(H){case"input":Zt(w,S);break;case"textarea":Bi(w,S);break;case"select":var ke=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!S.multiple;var Ie=S.value;Ie!=null?qt(w,!!S.multiple,Ie,!1):ke!==!!S.multiple&&(S.defaultValue!=null?qt(w,!!S.multiple,S.defaultValue,!0):qt(w,!!S.multiple,S.multiple?[]:"",!1))}w[Cu]=S}catch(Fe){tr(s,s.return,Fe)}}break;case 6:if(Ci(c,s),Qi(s),v&4){if(s.stateNode===null)throw Error(r(162));w=s.stateNode,S=s.memoizedProps;try{w.nodeValue=S}catch(Fe){tr(s,s.return,Fe)}}break;case 3:if(Ci(c,s),Qi(s),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Si(c.containerInfo)}catch(Fe){tr(s,s.return,Fe)}break;case 4:Ci(c,s),Qi(s);break;case 13:Ci(c,s),Qi(s),w=s.child,w.flags&8192&&(S=w.memoizedState!==null,w.stateNode.isHidden=S,!S||w.alternate!==null&&w.alternate.memoizedState!==null||(fv=Je())),v&4&&$N(s);break;case 22:if(je=f!==null&&f.memoizedState!==null,s.mode&1?(Xr=(ue=Xr)||je,Ci(c,s),Xr=ue):Ci(c,s),Qi(s),v&8192){if(ue=s.memoizedState!==null,(s.stateNode.isHidden=ue)&&!je&&(s.mode&1)!==0)for(Me=s,je=s.child;je!==null;){for(Ne=Me=je;Me!==null;){switch(ke=Me,Ie=ke.child,ke.tag){case 0:case 11:case 14:case 15:Uu(4,ke,ke.return);break;case 1:Xl(ke,ke.return);var $e=ke.stateNode;if(typeof $e.componentWillUnmount=="function"){v=ke,f=ke.return;try{c=v,$e.props=c.memoizedProps,$e.state=c.memoizedState,$e.componentWillUnmount()}catch(Fe){tr(v,f,Fe)}}break;case 5:Xl(ke,ke.return);break;case 22:if(ke.memoizedState!==null){UN(Ne);continue}}Ie!==null?(Ie.return=ke,Me=Ie):UN(Ne)}je=je.sibling}e:for(je=null,Ne=s;;){if(Ne.tag===5){if(je===null){je=Ne;try{w=Ne.stateNode,ue?(S=w.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(H=Ne.stateNode,G=Ne.memoizedProps.style,V=G!=null&&G.hasOwnProperty("display")?G.display:null,H.style.display=oo("display",V))}catch(Fe){tr(s,s.return,Fe)}}}else if(Ne.tag===6){if(je===null)try{Ne.stateNode.nodeValue=ue?"":Ne.memoizedProps}catch(Fe){tr(s,s.return,Fe)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===s)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===s)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===s)break e;je===Ne&&(je=null),Ne=Ne.return}je===Ne&&(je=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:Ci(c,s),Qi(s),v&4&&$N(s);break;case 21:break;default:Ci(c,s),Qi(s)}}function Qi(s){var c=s.flags;if(c&2){try{e:{for(var f=s.return;f!==null;){if(MN(f)){var v=f;break e}f=f.return}throw Error(r(160))}switch(v.tag){case 5:var w=v.stateNode;v.flags&32&&(Ui(w,""),v.flags&=-33);var S=DN(s);uv(s,S,w);break;case 3:case 4:var V=v.stateNode.containerInfo,H=DN(s);cv(s,H,V);break;default:throw Error(r(161))}}catch(G){tr(s,s.return,G)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function P$(s,c,f){Me=s,VN(s)}function VN(s,c,f){for(var v=(s.mode&1)!==0;Me!==null;){var w=Me,S=w.child;if(w.tag===22&&v){var V=w.memoizedState!==null||Vf;if(!V){var H=w.alternate,G=H!==null&&H.memoizedState!==null||Xr;H=Vf;var ue=Xr;if(Vf=V,(Xr=G)&&!ue)for(Me=w;Me!==null;)V=Me,G=V.child,V.tag===22&&V.memoizedState!==null?qN(w):G!==null?(G.return=V,Me=G):qN(w);for(;S!==null;)Me=S,VN(S),S=S.sibling;Me=w,Vf=H,Xr=ue}BN(s)}else(w.subtreeFlags&8772)!==0&&S!==null?(S.return=w,Me=S):BN(s)}}function BN(s){for(;Me!==null;){var c=Me;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Xr||Bf(5,c);break;case 1:var v=c.stateNode;if(c.flags&4&&!Xr)if(f===null)v.componentDidMount();else{var w=c.elementType===c.type?f.memoizedProps:Ai(c.type,f.memoizedProps);v.componentDidUpdate(w,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var S=c.updateQueue;S!==null&&US(c,S,v);break;case 3:var V=c.updateQueue;if(V!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}US(c,V,f)}break;case 5:var H=c.stateNode;if(f===null&&c.flags&4){f=H;var G=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&f.focus();break;case"img":G.src&&(f.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ue=c.alternate;if(ue!==null){var je=ue.memoizedState;if(je!==null){var Ne=je.dehydrated;Ne!==null&&Si(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Xr||c.flags&512&&lv(c)}catch(ke){tr(c,c.return,ke)}}if(c===s){Me=null;break}if(f=c.sibling,f!==null){f.return=c.return,Me=f;break}Me=c.return}}function UN(s){for(;Me!==null;){var c=Me;if(c===s){Me=null;break}var f=c.sibling;if(f!==null){f.return=c.return,Me=f;break}Me=c.return}}function qN(s){for(;Me!==null;){var c=Me;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Bf(4,c)}catch(G){tr(c,f,G)}break;case 1:var v=c.stateNode;if(typeof v.componentDidMount=="function"){var w=c.return;try{v.componentDidMount()}catch(G){tr(c,w,G)}}var S=c.return;try{lv(c)}catch(G){tr(c,S,G)}break;case 5:var V=c.return;try{lv(c)}catch(G){tr(c,V,G)}}}catch(G){tr(c,c.return,G)}if(c===s){Me=null;break}var H=c.sibling;if(H!==null){H.return=c.return,Me=H;break}Me=c.return}}var C$=Math.ceil,Uf=O.ReactCurrentDispatcher,dv=O.ReactCurrentOwner,li=O.ReactCurrentBatchConfig,gt=0,Er=null,cr=null,Lr=0,Wn=0,Ql=xs(0),yr=0,qu=null,Ao=0,qf=0,hv=0,zu=null,En=null,fv=0,Jl=1/0,Ma=null,zf=!1,pv=null,Ss=null,Wf=!1,Ns=null,Hf=0,Wu=0,mv=null,Gf=-1,Kf=0;function fn(){return(gt&6)!==0?Je():Gf!==-1?Gf:Gf=Je()}function Es(s){return(s.mode&1)===0?1:(gt&2)!==0&&Lr!==0?Lr&-Lr:p$.transition!==null?(Kf===0&&(Kf=vo()),Kf):(s=ct,s!==0||(s=window.event,s=s===void 0?16:xu(s.type)),s)}function Ii(s,c,f,v){if(50<Wu)throw Wu=0,mv=null,Error(r(185));ds(s,f,v),((gt&2)===0||s!==Er)&&(s===Er&&((gt&2)===0&&(qf|=f),yr===4&&Ts(s,Lr)),Tn(s,v),f===1&&gt===0&&(c.mode&1)===0&&(Jl=Je()+500,_f&&ws()))}function Tn(s,c){var f=s.callbackNode;ka(s,c);var v=go(s,s===Er?Lr:0);if(v===0)f!==null&&mt(f),s.callbackNode=null,s.callbackPriority=0;else if(c=v&-v,s.callbackPriority!==c){if(f!=null&&mt(f),c===1)s.tag===0?f$(WN.bind(null,s)):PS(WN.bind(null,s)),c$(function(){(gt&6)===0&&ws()}),f=null;else{switch(fs(v)){case 1:f=ht;break;case 4:f=Ln;break;case 16:f=Hr;break;case 536870912:f=Gh;break;default:f=Hr}f=ZN(f,zN.bind(null,s))}s.callbackPriority=c,s.callbackNode=f}}function zN(s,c){if(Gf=-1,Kf=0,(gt&6)!==0)throw Error(r(327));var f=s.callbackNode;if(Zl()&&s.callbackNode!==f)return null;var v=go(s,s===Er?Lr:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||c)c=Yf(s,v);else{c=v;var w=gt;gt|=2;var S=GN();(Er!==s||Lr!==c)&&(Ma=null,Jl=Je()+500,Co(s,c));do try{R$();break}catch(H){HN(s,H)}while(!0);Og(),Uf.current=S,gt=w,cr!==null?c=0:(Er=null,Lr=0,c=yr)}if(c!==0){if(c===2&&(w=Vn(s),w!==0&&(v=w,c=gv(s,w))),c===1)throw f=qu,Co(s,0),Ts(s,v),Tn(s,Je()),f;if(c===6)Ts(s,v);else{if(w=s.current.alternate,(v&30)===0&&!I$(w)&&(c=Yf(s,v),c===2&&(S=Vn(s),S!==0&&(v=S,c=gv(s,S))),c===1))throw f=qu,Co(s,0),Ts(s,v),Tn(s,Je()),f;switch(s.finishedWork=w,s.finishedLanes=v,c){case 0:case 1:throw Error(r(345));case 2:Io(s,En,Ma);break;case 3:if(Ts(s,v),(v&130023424)===v&&(c=fv+500-Je(),10<c)){if(go(s,0)!==0)break;if(w=s.suspendedLanes,(w&v)!==v){fn(),s.pingedLanes|=s.suspendedLanes&w;break}s.timeoutHandle=_g(Io.bind(null,s,En,Ma),c);break}Io(s,En,Ma);break;case 4:if(Ts(s,v),(v&4194240)===v)break;for(c=s.eventTimes,w=-1;0<v;){var V=31-un(v);S=1<<V,V=c[V],V>w&&(w=V),v&=~S}if(v=w,v=Je()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*C$(v/1960))-v,10<v){s.timeoutHandle=_g(Io.bind(null,s,En,Ma),v);break}Io(s,En,Ma);break;case 5:Io(s,En,Ma);break;default:throw Error(r(329))}}}return Tn(s,Je()),s.callbackNode===f?zN.bind(null,s):null}function gv(s,c){var f=zu;return s.current.memoizedState.isDehydrated&&(Co(s,c).flags|=256),s=Yf(s,c),s!==2&&(c=En,En=f,c!==null&&vv(c)),s}function vv(s){En===null?En=s:En.push.apply(En,s)}function I$(s){for(var c=s;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var w=f[v],S=w.getSnapshot;w=w.value;try{if(!Ei(S(),w))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ts(s,c){for(c&=~hv,c&=~qf,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var f=31-un(c),v=1<<f;s[f]=-1,c&=~v}}function WN(s){if((gt&6)!==0)throw Error(r(327));Zl();var c=go(s,0);if((c&1)===0)return Tn(s,Je()),null;var f=Yf(s,c);if(s.tag!==0&&f===2){var v=Vn(s);v!==0&&(c=v,f=gv(s,v))}if(f===1)throw f=qu,Co(s,0),Ts(s,c),Tn(s,Je()),f;if(f===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,Io(s,En,Ma),Tn(s,Je()),null}function yv(s,c){var f=gt;gt|=1;try{return s(c)}finally{gt=f,gt===0&&(Jl=Je()+500,_f&&ws())}}function Po(s){Ns!==null&&Ns.tag===0&&(gt&6)===0&&Zl();var c=gt;gt|=1;var f=li.transition,v=ct;try{if(li.transition=null,ct=1,s)return s()}finally{ct=v,li.transition=f,gt=c,(gt&6)===0&&ws()}}function xv(){Wn=Ql.current,$t(Ql)}function Co(s,c){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,l$(f)),cr!==null)for(f=cr.return;f!==null;){var v=f;switch(Tg(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&bf();break;case 3:Kl(),$t(jn),$t(Gr),Bg();break;case 5:Fg(v);break;case 4:Kl();break;case 13:$t(Xt);break;case 19:$t(Xt);break;case 10:Rg(v.type._context);break;case 22:case 23:xv()}f=f.return}if(Er=s,cr=s=As(s.current,null),Lr=Wn=c,yr=0,qu=null,hv=qf=Ao=0,En=zu=null,No!==null){for(c=0;c<No.length;c++)if(f=No[c],v=f.interleaved,v!==null){f.interleaved=null;var w=v.next,S=f.pending;if(S!==null){var V=S.next;S.next=w,v.next=V}f.pending=v}No=null}return s}function HN(s,c){do{var f=cr;try{if(Og(),If.current=Df,Of){for(var v=Qt.memoizedState;v!==null;){var w=v.queue;w!==null&&(w.pending=null),v=v.next}Of=!1}if(To=0,Nr=vr=Qt=null,Lu=!1,$u=0,dv.current=null,f===null||f.return===null){yr=1,qu=c,cr=null;break}e:{var S=s,V=f.return,H=f,G=c;if(c=Lr,H.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ue=G,je=H,Ne=je.tag;if((je.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var ke=je.alternate;ke?(je.updateQueue=ke.updateQueue,je.memoizedState=ke.memoizedState,je.lanes=ke.lanes):(je.updateQueue=null,je.memoizedState=null)}var Ie=vN(V);if(Ie!==null){Ie.flags&=-257,yN(Ie,V,H,S,c),Ie.mode&1&&gN(S,ue,c),c=Ie,G=ue;var $e=c.updateQueue;if($e===null){var Fe=new Set;Fe.add(G),c.updateQueue=Fe}else $e.add(G);break e}else{if((c&1)===0){gN(S,ue,c),bv();break e}G=Error(r(426))}}else if(Ht&&H.mode&1){var ar=vN(V);if(ar!==null){(ar.flags&65536)===0&&(ar.flags|=256),yN(ar,V,H,S,c),Cg(Yl(G,H));break e}}S=G=Yl(G,H),yr!==4&&(yr=2),zu===null?zu=[S]:zu.push(S),S=V;do{switch(S.tag){case 3:S.flags|=65536,c&=-c,S.lanes|=c;var ae=pN(S,G,c);BS(S,ae);break e;case 1:H=G;var J=S.type,le=S.stateNode;if((S.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Ss===null||!Ss.has(le)))){S.flags|=65536,c&=-c,S.lanes|=c;var Ee=mN(S,H,c);BS(S,Ee);break e}}S=S.return}while(S!==null)}YN(f)}catch(Be){c=Be,cr===f&&f!==null&&(cr=f=f.return);continue}break}while(!0)}function GN(){var s=Uf.current;return Uf.current=Df,s===null?Df:s}function bv(){(yr===0||yr===3||yr===2)&&(yr=4),Er===null||(Ao&268435455)===0&&(qf&268435455)===0||Ts(Er,Lr)}function Yf(s,c){var f=gt;gt|=2;var v=GN();(Er!==s||Lr!==c)&&(Ma=null,Co(s,c));do try{O$();break}catch(w){HN(s,w)}while(!0);if(Og(),gt=f,Uf.current=v,cr!==null)throw Error(r(261));return Er=null,Lr=0,yr}function O$(){for(;cr!==null;)KN(cr)}function R$(){for(;cr!==null&&!wt();)KN(cr)}function KN(s){var c=JN(s.alternate,s,Wn);s.memoizedProps=s.pendingProps,c===null?YN(s):cr=c,dv.current=null}function YN(s){var c=s;do{var f=c.alternate;if(s=c.return,(c.flags&32768)===0){if(f=N$(f,c,Wn),f!==null){cr=f;return}}else{if(f=E$(f,c),f!==null){f.flags&=32767,cr=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{yr=6,cr=null;return}}if(c=c.sibling,c!==null){cr=c;return}cr=c=s}while(c!==null);yr===0&&(yr=5)}function Io(s,c,f){var v=ct,w=li.transition;try{li.transition=null,ct=1,M$(s,c,f,v)}finally{li.transition=w,ct=v}return null}function M$(s,c,f,v){do Zl();while(Ns!==null);if((gt&6)!==0)throw Error(r(327));f=s.finishedWork;var w=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var S=f.lanes|f.childLanes;if(At(s,S),s===Er&&(cr=Er=null,Lr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Wf||(Wf=!0,ZN(Hr,function(){return Zl(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=li.transition,li.transition=null;var V=ct;ct=1;var H=gt;gt|=4,dv.current=null,A$(s,f),FN(f,s),t$(bg),ms=!!xg,bg=xg=null,s.current=f,P$(f),It(),gt=H,ct=V,li.transition=S}else s.current=f;if(Wf&&(Wf=!1,Ns=s,Hf=w),S=s.pendingLanes,S===0&&(Ss=null),Kh(f.stateNode),Tn(s,Je()),c!==null)for(v=s.onRecoverableError,f=0;f<c.length;f++)w=c[f],v(w.value,{componentStack:w.stack,digest:w.digest});if(zf)throw zf=!1,s=pv,pv=null,s;return(Hf&1)!==0&&s.tag!==0&&Zl(),S=s.pendingLanes,(S&1)!==0?s===mv?Wu++:(Wu=0,mv=s):Wu=0,ws(),null}function Zl(){if(Ns!==null){var s=fs(Hf),c=li.transition,f=ct;try{if(li.transition=null,ct=16>s?16:s,Ns===null)var v=!1;else{if(s=Ns,Ns=null,Hf=0,(gt&6)!==0)throw Error(r(331));var w=gt;for(gt|=4,Me=s.current;Me!==null;){var S=Me,V=S.child;if((Me.flags&16)!==0){var H=S.deletions;if(H!==null){for(var G=0;G<H.length;G++){var ue=H[G];for(Me=ue;Me!==null;){var je=Me;switch(je.tag){case 0:case 11:case 15:Uu(8,je,S)}var Ne=je.child;if(Ne!==null)Ne.return=je,Me=Ne;else for(;Me!==null;){je=Me;var ke=je.sibling,Ie=je.return;if(RN(je),je===ue){Me=null;break}if(ke!==null){ke.return=Ie,Me=ke;break}Me=Ie}}}var $e=S.alternate;if($e!==null){var Fe=$e.child;if(Fe!==null){$e.child=null;do{var ar=Fe.sibling;Fe.sibling=null,Fe=ar}while(Fe!==null)}}Me=S}}if((S.subtreeFlags&2064)!==0&&V!==null)V.return=S,Me=V;else e:for(;Me!==null;){if(S=Me,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Uu(9,S,S.return)}var ae=S.sibling;if(ae!==null){ae.return=S.return,Me=ae;break e}Me=S.return}}var J=s.current;for(Me=J;Me!==null;){V=Me;var le=V.child;if((V.subtreeFlags&2064)!==0&&le!==null)le.return=V,Me=le;else e:for(V=J;Me!==null;){if(H=Me,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Bf(9,H)}}catch(Be){tr(H,H.return,Be)}if(H===V){Me=null;break e}var Ee=H.sibling;if(Ee!==null){Ee.return=H.return,Me=Ee;break e}Me=H.return}}if(gt=w,ws(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(mo,s)}catch{}v=!0}return v}finally{ct=f,li.transition=c}}return!1}function XN(s,c,f){c=Yl(f,c),c=pN(s,c,1),s=ks(s,c,1),c=fn(),s!==null&&(ds(s,1,c),Tn(s,c))}function tr(s,c,f){if(s.tag===3)XN(s,s,f);else for(;c!==null;){if(c.tag===3){XN(c,s,f);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ss===null||!Ss.has(v))){s=Yl(f,s),s=mN(c,s,1),c=ks(c,s,1),s=fn(),c!==null&&(ds(c,1,s),Tn(c,s));break}}c=c.return}}function D$(s,c,f){var v=s.pingCache;v!==null&&v.delete(c),c=fn(),s.pingedLanes|=s.suspendedLanes&f,Er===s&&(Lr&f)===f&&(yr===4||yr===3&&(Lr&130023424)===Lr&&500>Je()-fv?Co(s,0):hv|=f),Tn(s,c)}function QN(s,c){c===0&&((s.mode&1)===0?c=1:(c=_l,_l<<=1,(_l&130023424)===0&&(_l=4194304)));var f=fn();s=Ia(s,c),s!==null&&(ds(s,c,f),Tn(s,f))}function L$(s){var c=s.memoizedState,f=0;c!==null&&(f=c.retryLane),QN(s,f)}function $$(s,c){var f=0;switch(s.tag){case 13:var v=s.stateNode,w=s.memoizedState;w!==null&&(f=w.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(c),QN(s,f)}var JN;JN=function(s,c,f){if(s!==null)if(s.memoizedProps!==c.pendingProps||jn.current)Nn=!0;else{if((s.lanes&f)===0&&(c.flags&128)===0)return Nn=!1,S$(s,c,f);Nn=(s.flags&131072)!==0}else Nn=!1,Ht&&(c.flags&1048576)!==0&&CS(c,jf,c.index);switch(c.lanes=0,c.tag){case 2:var v=c.type;Ff(s,c),s=c.pendingProps;var w=Bl(c,Gr.current);Gl(c,f),w=zg(null,c,v,s,w,f);var S=Wg();return c.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Sn(v)?(S=!0,wf(c)):S=!1,c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Lg(c),w.updater=Lf,c.stateNode=w,w._reactInternals=c,Qg(c,v,s,f),c=tv(null,c,v,!0,S,f)):(c.tag=0,Ht&&S&&Eg(c),hn(null,c,w,f),c=c.child),c;case 16:v=c.elementType;e:{switch(Ff(s,c),s=c.pendingProps,w=v._init,v=w(v._payload),c.type=v,w=c.tag=V$(v),s=Ai(v,s),w){case 0:c=ev(null,c,v,s,f);break e;case 1:c=jN(null,c,v,s,f);break e;case 11:c=xN(null,c,v,s,f);break e;case 14:c=bN(null,c,v,Ai(v.type,s),f);break e}throw Error(r(306,v,""))}return c;case 0:return v=c.type,w=c.pendingProps,w=c.elementType===v?w:Ai(v,w),ev(s,c,v,w,f);case 1:return v=c.type,w=c.pendingProps,w=c.elementType===v?w:Ai(v,w),jN(s,c,v,w,f);case 3:e:{if(SN(c),s===null)throw Error(r(387));v=c.pendingProps,S=c.memoizedState,w=S.element,VS(s,c),Pf(c,v,null,f);var V=c.memoizedState;if(v=V.element,S.isDehydrated)if(S={element:v,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){w=Yl(Error(r(423)),c),c=NN(s,c,v,f,w);break e}else if(v!==w){w=Yl(Error(r(424)),c),c=NN(s,c,v,f,w);break e}else for(zn=ys(c.stateNode.containerInfo.firstChild),qn=c,Ht=!0,Ti=null,f=$S(c,null,v,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(zl(),v===w){c=Ra(s,c,f);break e}hn(s,c,v,f)}c=c.child}return c;case 5:return qS(c),s===null&&Pg(c),v=c.type,w=c.pendingProps,S=s!==null?s.memoizedProps:null,V=w.children,wg(v,w)?V=null:S!==null&&wg(v,S)&&(c.flags|=32),kN(s,c),hn(s,c,V,f),c.child;case 6:return s===null&&Pg(c),null;case 13:return EN(s,c,f);case 4:return $g(c,c.stateNode.containerInfo),v=c.pendingProps,s===null?c.child=Wl(c,null,v,f):hn(s,c,v,f),c.child;case 11:return v=c.type,w=c.pendingProps,w=c.elementType===v?w:Ai(v,w),xN(s,c,v,w,f);case 7:return hn(s,c,c.pendingProps,f),c.child;case 8:return hn(s,c,c.pendingProps.children,f),c.child;case 12:return hn(s,c,c.pendingProps.children,f),c.child;case 10:e:{if(v=c.type._context,w=c.pendingProps,S=c.memoizedProps,V=w.value,Ot(Ef,v._currentValue),v._currentValue=V,S!==null)if(Ei(S.value,V)){if(S.children===w.children&&!jn.current){c=Ra(s,c,f);break e}}else for(S=c.child,S!==null&&(S.return=c);S!==null;){var H=S.dependencies;if(H!==null){V=S.child;for(var G=H.firstContext;G!==null;){if(G.context===v){if(S.tag===1){G=Oa(-1,f&-f),G.tag=2;var ue=S.updateQueue;if(ue!==null){ue=ue.shared;var je=ue.pending;je===null?G.next=G:(G.next=je.next,je.next=G),ue.pending=G}}S.lanes|=f,G=S.alternate,G!==null&&(G.lanes|=f),Mg(S.return,f,c),H.lanes|=f;break}G=G.next}}else if(S.tag===10)V=S.type===c.type?null:S.child;else if(S.tag===18){if(V=S.return,V===null)throw Error(r(341));V.lanes|=f,H=V.alternate,H!==null&&(H.lanes|=f),Mg(V,f,c),V=S.sibling}else V=S.child;if(V!==null)V.return=S;else for(V=S;V!==null;){if(V===c){V=null;break}if(S=V.sibling,S!==null){S.return=V.return,V=S;break}V=V.return}S=V}hn(s,c,w.children,f),c=c.child}return c;case 9:return w=c.type,v=c.pendingProps.children,Gl(c,f),w=si(w),v=v(w),c.flags|=1,hn(s,c,v,f),c.child;case 14:return v=c.type,w=Ai(v,c.pendingProps),w=Ai(v.type,w),bN(s,c,v,w,f);case 15:return wN(s,c,c.type,c.pendingProps,f);case 17:return v=c.type,w=c.pendingProps,w=c.elementType===v?w:Ai(v,w),Ff(s,c),c.tag=1,Sn(v)?(s=!0,wf(c)):s=!1,Gl(c,f),hN(c,v,w),Qg(c,v,w,f),tv(null,c,v,!0,s,f);case 19:return AN(s,c,f);case 22:return _N(s,c,f)}throw Error(r(156,c.tag))};function ZN(s,c){return Ue(s,c)}function F$(s,c,f,v){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(s,c,f,v){return new F$(s,c,f,v)}function wv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function V$(s){if(typeof s=="function")return wv(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===ie)return 14}return 2}function As(s,c){var f=s.alternate;return f===null?(f=ci(s.tag,c,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=c,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,c=s.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Xf(s,c,f,v,w,S){var V=2;if(v=s,typeof s=="function")wv(s)&&(V=1);else if(typeof s=="string")V=5;else e:switch(s){case T:return Oo(f.children,w,S,c);case C:V=8,w|=8;break;case L:return s=ci(12,f,c,w|2),s.elementType=L,s.lanes=S,s;case $:return s=ci(13,f,c,w),s.elementType=$,s.lanes=S,s;case ee:return s=ci(19,f,c,w),s.elementType=ee,s.lanes=S,s;case se:return Qf(f,w,S,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:V=10;break e;case R:V=9;break e;case F:V=11;break e;case ie:V=14;break e;case Q:V=16,v=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return c=ci(V,f,c,w),c.elementType=s,c.type=v,c.lanes=S,c}function Oo(s,c,f,v){return s=ci(7,s,v,c),s.lanes=f,s}function Qf(s,c,f,v){return s=ci(22,s,v,c),s.elementType=se,s.lanes=f,s.stateNode={isHidden:!1},s}function _v(s,c,f){return s=ci(6,s,null,c),s.lanes=f,s}function kv(s,c,f){return c=ci(4,s.children!==null?s.children:[],s.key,c),c.lanes=f,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function B$(s,c,f,v,w){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=us(0),this.expirationTimes=us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.identifierPrefix=v,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function jv(s,c,f,v,w,S,V,H,G){return s=new B$(s,c,f,H,G),c===1?(c=1,S===!0&&(c|=8)):c=0,S=ci(3,null,null,c),s.current=S,S.stateNode=s,S.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lg(S),s}function U$(s,c,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:v==null?null:""+v,children:s,containerInfo:c,implementation:f}}function eE(s){if(!s)return bs;s=s._reactInternals;e:{if(Ce(s)!==s||s.tag!==1)throw Error(r(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Sn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(s.tag===1){var f=s.type;if(Sn(f))return TS(s,f,c)}return c}function tE(s,c,f,v,w,S,V,H,G){return s=jv(f,v,!0,s,w,S,V,H,G),s.context=eE(null),f=s.current,v=fn(),w=Es(f),S=Oa(v,w),S.callback=c??null,ks(f,S,w),s.current.lanes=w,ds(s,w,v),Tn(s,v),s}function Jf(s,c,f,v){var w=c.current,S=fn(),V=Es(w);return f=eE(f),c.context===null?c.context=f:c.pendingContext=f,c=Oa(S,V),c.payload={element:s},v=v===void 0?null:v,v!==null&&(c.callback=v),s=ks(w,c,V),s!==null&&(Ii(s,w,V,S),Af(s,w,V)),V}function Zf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function rE(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<c?f:c}}function Sv(s,c){rE(s,c),(s=s.alternate)&&rE(s,c)}function q$(){return null}var nE=typeof reportError=="function"?reportError:function(s){console.error(s)};function Nv(s){this._internalRoot=s}ep.prototype.render=Nv.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));Jf(s,c,null,null)},ep.prototype.unmount=Nv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;Po(function(){Jf(null,s,null,null)}),c[Ta]=null}};function ep(s){this._internalRoot=s}ep.prototype.unstable_scheduleHydration=function(s){if(s){var c=Zh();s={blockedOn:null,target:s,priority:c};for(var f=0;f<zi.length&&c!==0&&c<zi[f].priority;f++);zi.splice(f,0,s),f===0&&rf(s)}};function Ev(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function tp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function iE(){}function z$(s,c,f,v,w){if(w){if(typeof v=="function"){var S=v;v=function(){var ue=Zf(V);S.call(ue)}}var V=tE(c,v,s,0,null,!1,!1,"",iE);return s._reactRootContainer=V,s[Ta]=V.current,Au(s.nodeType===8?s.parentNode:s),Po(),V}for(;w=s.lastChild;)s.removeChild(w);if(typeof v=="function"){var H=v;v=function(){var ue=Zf(G);H.call(ue)}}var G=jv(s,0,!1,null,null,!1,!1,"",iE);return s._reactRootContainer=G,s[Ta]=G.current,Au(s.nodeType===8?s.parentNode:s),Po(function(){Jf(c,G,f,v)}),G}function rp(s,c,f,v,w){var S=f._reactRootContainer;if(S){var V=S;if(typeof w=="function"){var H=w;w=function(){var G=Zf(V);H.call(G)}}Jf(c,V,s,w)}else V=z$(f,c,s,w,v);return Zf(V)}Qh=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var f=cs(c.pendingLanes);f!==0&&(hs(c,f|1),Tn(c,Je()),(gt&6)===0&&(Jl=Je()+500,ws()))}break;case 13:Po(function(){var v=Ia(s,1);if(v!==null){var w=fn();Ii(v,s,1,w)}}),Sv(s,1)}},kl=function(s){if(s.tag===13){var c=Ia(s,134217728);if(c!==null){var f=fn();Ii(c,s,134217728,f)}Sv(s,134217728)}},Jh=function(s){if(s.tag===13){var c=Es(s),f=Ia(s,c);if(f!==null){var v=fn();Ii(f,s,c,v)}Sv(s,c)}},Zh=function(){return ct},ef=function(s,c){var f=ct;try{return ct=s,c()}finally{ct=f}},ba=function(s,c,f){switch(c){case"input":if(Zt(s,f),c=f.name,f.type==="radio"&&c!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var v=f[c];if(v!==s&&v.form===s.form){var w=xf(v);if(!w)throw Error(r(90));U(v),Zt(v,w)}}}break;case"textarea":Bi(s,f);break;case"select":c=f.value,c!=null&&qt(s,!!f.multiple,c,!1)}},wa=yv,fo=Po;var W$={usingClientEntryPoint:!1,Events:[Iu,Fl,xf,ei,ho,yv]},Hu={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H$={bundleType:Hu.bundleType,version:Hu.version,rendererPackageName:Hu.rendererPackageName,rendererConfig:Hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ot(s),s===null?null:s.stateNode},findFiberByHostInstance:Hu.findFiberByHostInstance||q$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!np.isDisabled&&np.supportsFiber)try{mo=np.inject(H$),Fn=np}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$,An.createPortal=function(s,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ev(c))throw Error(r(200));return U$(s,c,null,f)},An.createRoot=function(s,c){if(!Ev(s))throw Error(r(299));var f=!1,v="",w=nE;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),c=jv(s,1,!1,null,null,f,!1,v,w),s[Ta]=c.current,Au(s.nodeType===8?s.parentNode:s),new Nv(c)},An.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=ot(c),s=s===null?null:s.stateNode,s},An.flushSync=function(s){return Po(s)},An.hydrate=function(s,c,f){if(!tp(c))throw Error(r(200));return rp(null,s,c,!0,f)},An.hydrateRoot=function(s,c,f){if(!Ev(s))throw Error(r(405));var v=f!=null&&f.hydratedSources||null,w=!1,S="",V=nE;if(f!=null&&(f.unstable_strictMode===!0&&(w=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),c=tE(c,null,s,1,f??null,w,!1,S,V),s[Ta]=c.current,Au(s),v)for(s=0;s<v.length;s++)f=v[s],w=f._getVersion,w=w(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,w]:c.mutableSourceEagerHydrationData.push(f,w);return new ep(c)},An.render=function(s,c,f){if(!tp(c))throw Error(r(200));return rp(null,s,c,!1,f)},An.unmountComponentAtNode=function(s){if(!tp(s))throw Error(r(40));return s._reactRootContainer?(Po(function(){rp(null,null,s,!1,function(){s._reactRootContainer=null,s[Ta]=null})}),!0):!1},An.unstable_batchedUpdates=yv,An.unstable_renderSubtreeIntoContainer=function(s,c,f,v){if(!tp(f))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return rp(s,c,f,!1,v)},An.version="18.3.1-next-f1338f8080-20240426",An}var hE;function eF(){if(hE)return Pv.exports;hE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pv.exports=Z$(),Pv.exports}var fE;function tF(){if(fE)return ap;fE=1;var t=eF();return ap.createRoot=t.createRoot,ap.hydrateRoot=t.hydrateRoot,ap}var rF=tF();const nF=jt(rF);var pE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},iF=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],l=t[r++],u=t[r++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],l=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},$R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=a>>2,m=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,x=h&63;d||(x=64,l||(y=64)),n.push(r[p],r[m],r[y],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const h=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||u==null||h==null||m==null)throw new aF;const y=a<<2|u>>4;if(n.push(y),h!==64){const x=u<<4&240|h>>2;if(n.push(x),m!==64){const k=h<<6&192|m;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sF=function(t){const e=LR(t);return $R.encodeByteArray(e,!0)},$p=function(t){return sF(t).replace(/\./g,"")},FR=function(t){try{return $R.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=()=>oF().__FIREBASE_DEFAULTS__,cF=()=>{if(typeof process>"u"||typeof pE>"u")return;const t=pE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FR(t[1]);return e&&JSON.parse(e)},Qm=()=>{try{return lF()||cF()||uF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VR=t=>{var e,r;return(r=(e=Qm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},BR=t=>{const e=VR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},UR=()=>{var t;return(t=Qm())===null||t===void 0?void 0:t.config},qR=t=>{var e;return(e=Qm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$p(JSON.stringify(r)),$p(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function fF(){var t;const e=(t=Qm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vF(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yF(){return!fF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xF(){try{return typeof indexedDB=="object"}catch{return!1}}function bF(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="FirebaseError";class pa extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=wF,Object.setPrototypeOf(this,pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bh.prototype.create)}}class bh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?_F(a,n):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new pa(i,u,n)}}function _F(t,e){return t.replace(kF,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const kF=/\{\$([^}]+)}/g;function jF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],l=e[i];if(mE(a)&&mE(l)){if(!Fp(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function mE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function sd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function od(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function SF(t,e){const r=new NF(t,e);return r.subscribe.bind(r)}class NF{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");EF(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Ov),i.error===void 0&&(i.error=Ov),i.complete===void 0&&(i.complete=Ov);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EF(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Ov(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class Ys{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new dF;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PF(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&l.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:AF(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AF(t){return t===Lo?void 0:t}function PF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new TF(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const IF={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},OF=ut.INFO,RF={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},MF=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=RF[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zk{constructor(e){this.name=e,this._logLevel=OF,this._logHandler=MF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const DF=(t,e)=>e.some(r=>t instanceof r);let gE,vE;function LF(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $F(){return vE||(vE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WR=new WeakMap,Yw=new WeakMap,HR=new WeakMap,Rv=new WeakMap,Wk=new WeakMap;function FF(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{r(Us(t.result)),i()},l=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&WR.set(r,t)}).catch(()=>{}),Wk.set(e,t),e}function VF(t){if(Yw.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{r(),i()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Yw.set(t,e)}let Xw={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Yw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HR.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Us(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BF(t){Xw=t(Xw)}function UF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Mv(this),e,...r);return HR.set(n,e.sort?e.sort():[e]),Us(n)}:$F().includes(t)?function(...e){return t.apply(Mv(this),e),Us(WR.get(this))}:function(...e){return Us(t.apply(Mv(this),e))}}function qF(t){return typeof t=="function"?UF(t):(t instanceof IDBTransaction&&VF(t),DF(t,LF())?new Proxy(t,Xw):t)}function Us(t){if(t instanceof IDBRequest)return FF(t);if(Rv.has(t))return Rv.get(t);const e=qF(t);return e!==t&&(Rv.set(t,e),Wk.set(e,t)),e}const Mv=t=>Wk.get(t);function zF(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=Us(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Us(l.result),d.oldVersion,d.newVersion,Us(l.transaction),d)}),r&&l.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const WF=["get","getKey","getAll","getAllKeys","count"],HF=["put","add","delete","clear"],Dv=new Map;function yE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dv.get(e))return Dv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=HF.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||WF.includes(r)))return;const a=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[r](...u),i&&d.done]))[0]};return Dv.set(e,a),a}BF(t=>({...t,get:(e,r,n)=>yE(e,r)||t.get(e,r,n),has:(e,r)=>!!yE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(KF(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function KF(t){const e=t.getComponent();return e?.type==="VERSION"}const Qw="@firebase/app",xE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new zk("@firebase/app"),YF="@firebase/app-compat",XF="@firebase/analytics-compat",QF="@firebase/analytics",JF="@firebase/app-check-compat",ZF="@firebase/app-check",e5="@firebase/auth",t5="@firebase/auth-compat",r5="@firebase/database",n5="@firebase/data-connect",i5="@firebase/database-compat",a5="@firebase/functions",s5="@firebase/functions-compat",o5="@firebase/installations",l5="@firebase/installations-compat",c5="@firebase/messaging",u5="@firebase/messaging-compat",d5="@firebase/performance",h5="@firebase/performance-compat",f5="@firebase/remote-config",p5="@firebase/remote-config-compat",m5="@firebase/storage",g5="@firebase/storage-compat",v5="@firebase/firestore",y5="@firebase/vertexai-preview",x5="@firebase/firestore-compat",b5="firebase",w5="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="[DEFAULT]",_5={[Qw]:"fire-core",[YF]:"fire-core-compat",[QF]:"fire-analytics",[XF]:"fire-analytics-compat",[ZF]:"fire-app-check",[JF]:"fire-app-check-compat",[e5]:"fire-auth",[t5]:"fire-auth-compat",[r5]:"fire-rtdb",[n5]:"fire-data-connect",[i5]:"fire-rtdb-compat",[a5]:"fire-fn",[s5]:"fire-fn-compat",[o5]:"fire-iid",[l5]:"fire-iid-compat",[c5]:"fire-fcm",[u5]:"fire-fcm-compat",[d5]:"fire-perf",[h5]:"fire-perf-compat",[f5]:"fire-rc",[p5]:"fire-rc-compat",[m5]:"fire-gcs",[g5]:"fire-gcs-compat",[v5]:"fire-fst",[x5]:"fire-fst-compat",[y5]:"fire-vertex","fire-js":"fire-js",[b5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Map,k5=new Map,Zw=new Map;function bE(t,e){try{t.container.addComponent(e)}catch(r){Ga.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Zo(t){const e=t.name;if(Zw.has(e))return Ga.debug(`There were multiple attempts to register component ${e}.`),!1;Zw.set(e,t);for(const r of Vp.values())bE(r,t);for(const r of k5.values())bE(r,t);return!0}function Jm(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ea(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new bh("app","Firebase",j5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=w5;function GR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Jw,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw qs.create("bad-app-name",{appName:String(i)});if(r||(r=UR()),!r)throw qs.create("no-options");const a=Vp.get(i);if(a){if(Fp(r,a.options)&&Fp(n,a.config))return a;throw qs.create("duplicate-app",{appName:i})}const l=new CF(i);for(const d of Zw.values())l.addComponent(d);const u=new S5(r,n,l);return Vp.set(i,u),u}function Hk(t=Jw){const e=Vp.get(t);if(!e&&t===Jw&&UR())return GR();if(!e)throw qs.create("no-app",{appName:t});return e}function na(t,e,r){var n;let i=(n=_5[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ga.warn(u.join(" "));return}Zo(new Ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="firebase-heartbeat-database",E5=1,Ed="firebase-heartbeat-store";let Lv=null;function KR(){return Lv||(Lv=zF(N5,E5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ed)}catch(r){console.warn(r)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),Lv}async function T5(t){try{const r=(await KR()).transaction(Ed),n=await r.objectStore(Ed).get(YR(t));return await r.done,n}catch(e){if(e instanceof pa)Ga.warn(e.message);else{const r=qs.create("idb-get",{originalErrorMessage:e?.message});Ga.warn(r.message)}}}async function wE(t,e){try{const n=(await KR()).transaction(Ed,"readwrite");await n.objectStore(Ed).put(e,YR(t)),await n.done}catch(r){if(r instanceof pa)Ga.warn(r.message);else{const n=qs.create("idb-set",{originalErrorMessage:r?.message});Ga.warn(n.message)}}}function YR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=1024,P5=30*24*60*60*1e3;class C5{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new O5(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_E();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=P5}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ga.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=_E(),{heartbeatsToSend:n,unsentEntries:i}=I5(this._heartbeatsCache.heartbeats),a=$p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ga.warn(r),""}}}function _E(){return new Date().toISOString().substring(0,10)}function I5(t,e=A5){const r=[];let n=t.slice();for(const i of t){const a=r.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),kE(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),kE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class O5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xF()?bF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await T5(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return wE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return wE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kE(t){return $p(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t){Zo(new Ys("platform-logger",e=>new GF(e),"PRIVATE")),Zo(new Ys("heartbeat",e=>new C5(e),"PRIVATE")),na(Qw,xE,t),na(Qw,xE,"esm2017"),na("fire-js","")}R5("");var M5="firebase",D5="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na(M5,D5,"app");function Gk(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function XR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L5=XR,QR=new bh("auth","Firebase",XR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new zk("@firebase/auth");function $5(t,...e){Bp.logLevel<=ut.WARN&&Bp.warn(`Auth (${hl}): ${t}`,...e)}function Ep(t,...e){Bp.logLevel<=ut.ERROR&&Bp.error(`Auth (${hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,...e){throw Kk(t,...e)}function ia(t,...e){return Kk(t,...e)}function JR(t,e,r){const n=Object.assign(Object.assign({},L5()),{[e]:r});return new bh("auth","Firebase",n).create(e,{appName:t.name})}function za(t){return JR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kk(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return QR.create(t,...e)}function Ye(t,e,...r){if(!t)throw Kk(e,...r)}function $a(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ep(e),new Error(e)}function Ka(t,e){t||$a(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function F5(){return jE()==="http:"||jE()==="https:"}function jE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F5()||mF()||"connection"in navigator)?navigator.onLine:!0}function B5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ka(r>e,"Short delay should be less than long delay!"),this.isMobile=hF()||gF()}get(){return V5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t,e){Ka(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=new _h(3e4,6e4);function Zs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function eo(t,e,r,n,i={}){return eM(t,i,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const u=wh(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},a);return pF()||(h.referrerPolicy="no-referrer"),ZR.fetch()(tM(t,t.config.apiHost,r,u),h)})}async function eM(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},U5),e);try{const i=new W5(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw sp(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw sp(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw sp(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw sp(t,"user-disabled",l);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw JR(t,p,h);$i(t,p)}}catch(i){if(i instanceof pa)throw i;$i(t,"network-request-failed",{message:String(i)})}}async function kh(t,e,r,n,i={}){const a=await eo(t,e,r,n,i);return"mfaPendingCredential"in a&&$i(t,"multi-factor-auth-required",{_serverResponse:a}),a}function tM(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Yk(t.config,i):`${t.config.apiScheme}://${i}`}function z5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ia(this.auth,"network-request-failed")),q5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ia(t,e,n);return i.customData._tokenResponse=r,i}function SE(t){return t!==void 0&&t.enterprise!==void 0}class H5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return z5(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function G5(t,e){return eo(t,"GET","/v2/recaptchaConfig",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e){return eo(t,"POST","/v1/accounts:delete",e)}async function rM(t,e){return eo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y5(t,e=!1){const r=Bt(t),n=await r.getIdToken(e),i=Xk(n);Ye(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:n,authTime:md($v(i.auth_time)),issuedAtTime:md($v(i.iat)),expirationTime:md($v(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function $v(t){return Number(t)*1e3}function Xk(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Ep("JWT malformed, contained fewer than 3 sections"),null;try{const i=FR(r);return i?JSON.parse(i):(Ep("Failed to decode base64 JWT payload"),null)}catch(i){return Ep("Caught error parsing JWT payload as JSON",i?.toString()),null}}function NE(t){const e=Xk(t);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof pa&&X5(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function X5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=md(this.lastLoginAt),this.creationTime=md(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Td(t,rM(r,{idToken:n}));Ye(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?nM(a.providerUserInfo):[],u=Z5(t.providerData,l),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!u?.length,p=d?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new t_(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function J5(t){const e=Bt(t);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z5(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function nM(t){return t.map(e=>{var{providerId:r}=e,n=Gk(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e){const r=await eM(t,{},async()=>{const n=wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=tM(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",ZR.fetch()(l,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function tV(t,e){return eo(t,"POST","/v2/accounts:revokeToken",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const r=NE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await eV(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,l=new pc;return n&&(Ye(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Ye(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ye(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pc,this.toJSON())}_performRefresh(){return $a("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,e){Ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fa{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=Gk(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new t_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Td(this,this.stsTokenManager.getToken(this.auth,e));return Ye(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Y5(this,e)}reload(){return J5(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Fa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Up(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ea(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await Td(this,K5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,l,u,d,h,p;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,x=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,k=(l=r.photoURL)!==null&&l!==void 0?l:void 0,_=(u=r.tenantId)!==null&&u!==void 0?u:void 0,b=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,A=(h=r.createdAt)!==null&&h!==void 0?h:void 0,E=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:O,isAnonymous:N,providerData:I,stsTokenManager:T}=r;Ye(P&&T,e,"internal-error");const C=pc.fromJSON(this.name,T);Ye(typeof P=="string",e,"internal-error"),Cs(m,e.name),Cs(y,e.name),Ye(typeof O=="boolean",e,"internal-error"),Ye(typeof N=="boolean",e,"internal-error"),Cs(x,e.name),Cs(k,e.name),Cs(_,e.name),Cs(b,e.name),Cs(A,e.name),Cs(E,e.name);const L=new Fa({uid:P,auth:e,email:y,emailVerified:O,displayName:m,isAnonymous:N,photoURL:k,phoneNumber:x,tenantId:_,stsTokenManager:C,createdAt:A,lastLoginAt:E});return I&&Array.isArray(I)&&(L.providerData=I.map(M=>Object.assign({},M))),b&&(L._redirectEventId=b),L}static async _fromIdTokenResponse(e,r,n=!1){const i=new pc;i.updateFromServerResponse(r);const a=new Fa({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Up(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ye(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?nM(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new pc;u.updateFromIdToken(n);const d=new Fa({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new t_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function Va(t){Ka(t instanceof Function,"Expected a class definition");let e=EE.get(t);return e?(Ka(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}iM.type="NONE";const TE=iM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e,r){return`firebase:${t}:${e}:${r}`}class mc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Tp(this.userKey,i.apiKey,a),this.fullPersistenceKey=Tp("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new mc(Va(TE),e,n);const i=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Va(TE);const l=Tp(n,e.config.apiKey,e.name);let u=null;for(const h of r)try{const p=await h._get(l);if(p){const m=Fa._fromJSON(e,p);h!==a&&(u=m),a=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new mc(a,e,n):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(r.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new mc(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uM(e))return"Blackberry";if(dM(e))return"Webos";if(sM(e))return"Safari";if((e.includes("chrome/")||oM(e))&&!e.includes("edge/"))return"Chrome";if(cM(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function aM(t=sn()){return/firefox\//i.test(t)}function sM(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oM(t=sn()){return/crios\//i.test(t)}function lM(t=sn()){return/iemobile/i.test(t)}function cM(t=sn()){return/android/i.test(t)}function uM(t=sn()){return/blackberry/i.test(t)}function dM(t=sn()){return/webos/i.test(t)}function Qk(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rV(t=sn()){var e;return Qk(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nV(){return vF()&&document.documentMode===10}function hM(t=sn()){return Qk(t)||cM(t)||dM(t)||uM(t)||/windows phone/i.test(t)||lM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e=[]){let r;switch(t){case"Browser":r=AE(sn());break;case"Worker":r=`${AE(sn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${hl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e={}){return eo(t,"GET","/v2/passwordPolicy",Zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=6;class oV{constructor(e){var r,n,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:sV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PE(this),this.idTokenSubscription=new PE(this),this.beforeStateQueue=new iV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Va(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await mc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await rM(this,{idToken:e}),n=await Fa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ea(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ea(this.app))return Promise.reject(za(this));const r=e?Bt(e):null;return r&&Ye(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ea(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ea(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Va(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aV(this),r=new oV(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await tV(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Va(e)||this._popupRedirectResolver;Ye(r,this,"argument-error"),this.redirectPersistenceManager=await mc.create(this,[Va(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(r);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&$5(`Error while retrieving App Check token: ${r.error}`),r?.token}}function fl(t){return Bt(t)}class PE{constructor(e){this.auth=e,this.observer=null,this.addObserver=SF(r=>this.observer=r)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cV(t){Zm=t}function pM(t){return Zm.loadJS(t)}function uV(){return Zm.recaptchaEnterpriseScript}function dV(){return Zm.gapiScript}function hV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const fV="recaptcha-enterprise",pV="NO_RECAPTCHA";class mV{constructor(e){this.type=fV,this.auth=fl(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{G5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new H5(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(a,l,u){const d=window.grecaptcha;SE(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{l(h)}).catch(()=>{l(pV)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{n(this.auth).then(u=>{if(!r&&SE(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=uV();d.length!==0&&(d+=u),pM(d).then(()=>{i(u,a,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function CE(t,e,r,n=!1){const i=new mV(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const l=Object.assign({},e);return n?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function r_(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await CE(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await CE(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t,e){const r=Jm(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Fp(a,e??{}))return i;$i(i,"already-initialized")}return r.initialize({options:e})}function vV(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Va);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function yV(t,e,r){const n=fl(t);Ye(n._canInitEmulator,n,"emulator-config-failed"),Ye(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=mM(e),{host:l,port:u}=xV(e),d=u===null?"":`:${u}`;n.config.emulator={url:`${a}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),bV()}function mM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xV(t){const e=mM(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:IE(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:IE(l)}}}function IE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bV(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return $a("not implemented")}_getIdTokenResponse(e){return $a("not implemented")}_linkToIdToken(e,r){return $a("not implemented")}_getReauthenticationResolver(e){return $a("not implemented")}}async function wV(t,e){return eo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(t,e){return kh(t,"POST","/v1/accounts:signInWithPassword",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(t,e){return kh(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}async function jV(t,e){return kh(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends Jk{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Ad(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Ad(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r_(e,r,"signInWithPassword",_V);case"emailLink":return kV(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r_(e,n,"signUpPassword",wV);case"emailLink":return jV(e,{idToken:r,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t,e){return kh(t,"POST","/v1/accounts:signInWithIdp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="http://localhost";class el extends Jk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new el(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):$i("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=Gk(r,["providerId","signInMethod"]);if(!n||!i)return null;const l=new el(n,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return gc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,gc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,gc(e,r)}buildRequest(){const e={requestUri:SV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=wh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EV(t){const e=sd(od(t)).link,r=e?sd(od(e)).deep_link_id:null,n=sd(od(t)).deep_link_id;return(n?sd(od(n)).link:null)||n||r||e||t}class Zk{constructor(e){var r,n,i,a,l,u;const d=sd(od(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,m=NV((i=d.mode)!==null&&i!==void 0?i:null);Ye(h&&p&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=p,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=EV(e);try{return new Zk(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.providerId=tu.PROVIDER_ID}static credential(e,r){return Ad._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Zk.parseLink(r);return Ye(n,"argument-error"),Ad._fromEmailAndCode(e,n.code,n.tenantId)}}tu.PROVIDER_ID="password";tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends gM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends jh{constructor(){super("facebook.com")}static credential(e){return el._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends jh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return el._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ms.credential(r,n)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends jh{constructor(){super("github.com")}static credential(e){return el._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com";Ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends jh{constructor(){super("twitter.com")}static credential(e,r){return el._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ls.credential(r,n)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e){return kh(t,"POST","/v1/accounts:signUp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Fa._fromIdTokenResponse(e,n,i),l=OE(n);return new tl({user:a,providerId:l,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=OE(n);return new tl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function OE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends pa{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,qp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new qp(e,r,n,i)}}function vM(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?qp._fromErrorAndOperation(t,a,e,n):a})}async function AV(t,e,r=!1){const n=await Td(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return tl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(t,e,r=!1){const{auth:n}=t;if(ea(n.app))return Promise.reject(za(n));const i="reauthenticate";try{const a=await Td(t,vM(n,i,e,t),r);Ye(a.idToken,n,"internal-error");const l=Xk(a.idToken);Ye(l,n,"internal-error");const{sub:u}=l;return Ye(t.uid===u,n,"user-mismatch"),tl._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&$i(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,e,r=!1){if(ea(t.app))return Promise.reject(za(t));const n="signIn",i=await vM(t,n,e),a=await tl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function CV(t,e){return yM(fl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t){const e=fl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IV(t,e,r){if(ea(t.app))return Promise.reject(za(t));const n=fl(t),l=await r_(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TV).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&xM(t),d}),u=await tl._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(u.user),u}function OV(t,e,r){return ea(t.app)?Promise.reject(za(t)):CV(Bt(t),tu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&xM(t),n})}function RV(t,e,r,n){return Bt(t).onIdTokenChanged(e,r,n)}function MV(t,e,r){return Bt(t).beforeAuthStateChanged(e,r)}function DV(t,e,r,n){return Bt(t).onAuthStateChanged(e,r,n)}function LV(t){return Bt(t).signOut()}const zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=1e3,FV=10;class wM extends bM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!r&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);nV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,FV):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},$V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}wM.type="LOCAL";const VV=wM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M extends bM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}_M.type="SESSION";const kM=_M;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new e0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,l=this.handlersMap[i];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(l).map(async h=>h(r.origin,a)),d=await BV(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const h=e1("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(){return window}function qV(t){aa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){return typeof aa().WorkerGlobalScope<"u"&&typeof aa().importScripts=="function"}async function zV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HV(){return jM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="firebaseLocalStorageDb",GV=1,Wp="firebaseLocalStorage",NM="fbase_key";class Sh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function t0(t,e){return t.transaction([Wp],e?"readwrite":"readonly").objectStore(Wp)}function KV(){const t=indexedDB.deleteDatabase(SM);return new Sh(t).toPromise()}function n_(){const t=indexedDB.open(SM,GV);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Wp,{keyPath:NM})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Wp)?e(n):(n.close(),await KV(),e(await n_()))})})}async function RE(t,e,r){const n=t0(t,!0).put({[NM]:e,value:r});return new Sh(n).toPromise()}async function YV(t,e){const r=t0(t,!1).get(e),n=await new Sh(r).toPromise();return n===void 0?null:n.value}function ME(t,e){const r=t0(t,!0).delete(e);return new Sh(r).toPromise()}const XV=800,QV=3;class EM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>QV)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=e0._getInstance(HV()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await zV(),!this.activeServiceWorker)return;this.sender=new UV(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await n_();return await RE(e,zp,"1"),await ME(e,zp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>RE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>YV(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>ME(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=t0(i,!1).getAll();return new Sh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EM.type="LOCAL";const JV=EM;new _h(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t,e){return e?Va(e):(Ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1 extends Jk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return gc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return gc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function eB(t){return yM(t.auth,new t1(t),t.bypassAuthState)}function tB(t){const{auth:e,user:r}=t;return Ye(r,e,"internal-error"),PV(r,new t1(t),t.bypassAuthState)}async function rB(t){const{auth:e,user:r}=t;return Ye(r,e,"internal-error"),AV(r,new t1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eB;case"linkViaPopup":case"linkViaRedirect":return rB;case"reauthViaPopup":case"reauthViaRedirect":return tB;default:$i(this.auth,"internal-error")}}resolve(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=new _h(2e3,1e4);class lc extends TM{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,lc.currentPopupAction&&lc.currentPopupAction.cancel(),lc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Ka(this.filter.length===1,"Popup operations only handle one event");const e=e1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ia(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ia(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ia(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nB.get())};e()}}lc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB="pendingRedirect",Ap=new Map;class aB extends TM{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Ap.get(this.auth._key());if(!e){try{const n=await sB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Ap.set(this.auth._key(),e)}return this.bypassAuthState||Ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sB(t,e){const r=cB(e),n=lB(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function oB(t,e){Ap.set(t._key(),e)}function lB(t){return Va(t._redirectPersistence)}function cB(t){return Tp(iB,t.config.apiKey,t.name)}async function uB(t,e,r=!1){if(ea(t.app))return Promise.reject(za(t));const n=fl(t),i=ZV(n,e),l=await new aB(n,i,r).execute();return l&&!r&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=10*60*1e3;class hB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fB(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!AM(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ia(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dB&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function fB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pB(t,e={}){return eo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gB=/^https?/;async function vB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pB(t);for(const r of e)try{if(yB(r))return}catch{}$i(t,"unauthorized-domain")}function yB(t){const e=e_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===n}if(!gB.test(r))return!1;if(mB.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new _h(3e4,6e4);function LE(){const t=aa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function bB(t){return new Promise((e,r)=>{var n,i,a;function l(){LE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LE(),r(ia(t,"network-request-failed"))},timeout:xB.get()})}if(!((i=(n=aa().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=aa().gapi)===null||a===void 0)&&a.load)l();else{const u=hV("iframefcb");return aa()[u]=()=>{gapi.load?l():r(ia(t,"network-request-failed"))},pM(`${dV()}?onload=${u}`).catch(d=>r(d))}}).catch(e=>{throw Pp=null,e})}let Pp=null;function wB(t){return Pp=Pp||bB(t),Pp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=new _h(5e3,15e3),kB="__/auth/iframe",jB="emulator/auth/iframe",SB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EB(t){const e=t.config;Ye(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Yk(e,jB):`https://${t.config.authDomain}/${kB}`,n={apiKey:e.apiKey,appName:t.name,v:hl},i=NB.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${wh(n).slice(1)}`}async function TB(t){const e=await wB(t),r=aa().gapi;return Ye(r,t,"internal-error"),e.open({where:document.body,url:EB(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SB,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const l=ia(t,"network-request-failed"),u=aa().setTimeout(()=>{a(l)},_B.get());function d(){aa().clearTimeout(u),i(n)}n.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PB=500,CB=600,IB="_blank",OB="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RB(t,e,r,n=PB,i=CB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},AB),{width:n.toString(),height:i.toString(),top:a,left:l}),h=sn().toLowerCase();r&&(u=oM(h)?IB:r),aM(h)&&(e=e||OB,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[x,k])=>`${y}${x}=${k},`,"");if(rV(h)&&u!=="_self")return MB(e||"",u),new $E(null);const m=window.open(e||"",u,p);Ye(m,t,"popup-blocked");try{m.focus()}catch{}return new $E(m)}function MB(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB="__/auth/handler",LB="emulator/auth/handler",$B=encodeURIComponent("fac");async function FE(t,e,r,n,i,a){Ye(t.config.authDomain,t,"auth-domain-config-required"),Ye(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:hl,eventId:i};if(e instanceof gM){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",jF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof jh){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${$B}=${encodeURIComponent(d)}`:"";return`${FB(t)}?${wh(u).slice(1)}${h}`}function FB({config:t}){return t.emulator?Yk(t,LB):`https://${t.authDomain}/${DB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="webStorageSupport";class VB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kM,this._completeRedirectFn=uB,this._overrideRedirectResult=oB}async _openPopup(e,r,n,i){var a;Ka((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await FE(e,r,n,e_(),i);return RB(e,l,e1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await FE(e,r,n,e_(),i);return qV(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ka(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await TB(e),n=new hB(e);return r.register("authEvent",i=>(Ye(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Fv,{type:Fv},i=>{var a;const l=(a=i?.[0])===null||a===void 0?void 0:a[Fv];l!==void 0&&r(!!l),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=vB(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return hM()||sM()||Qk()}}const BB=VB;var VE="@firebase/auth",BE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zB(t){Zo(new Ys("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=n.options;Ye(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fM(t)},h=new lV(n,i,a,d);return vV(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Zo(new Ys("auth-internal",e=>{const r=fl(e.getProvider("auth").getImmediate());return(n=>new UB(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(VE,BE,qB(t)),na(VE,BE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=5*60,HB=qR("authIdTokenMaxAge")||WB;let UE=null;const GB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>HB)return;const i=r?.token;UE!==i&&(UE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function PM(t=Hk()){const e=Jm(t,"auth");if(e.isInitialized())return e.getImmediate();const r=gV(t,{popupRedirectResolver:BB,persistence:[JV,VV,kM]}),n=qR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=GB(a.toString());MV(r,l,()=>l(r.currentUser)),RV(r,u=>l(u))}}const i=VR("auth");return i&&yV(r,`http://${i}`),r}function KB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cV({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=ia("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",KB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zB("Browser");var qE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yo,CM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,C){function L(){}L.prototype=C.prototype,T.D=C.prototype,T.prototype=new L,T.prototype.constructor=T,T.C=function(M,R,F){for(var $=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)$[ee-2]=arguments[ee];return C.prototype[R].apply(M,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,C,L){L||(L=0);var M=Array(16);if(typeof C=="string")for(var R=0;16>R;++R)M[R]=C.charCodeAt(L++)|C.charCodeAt(L++)<<8|C.charCodeAt(L++)<<16|C.charCodeAt(L++)<<24;else for(R=0;16>R;++R)M[R]=C[L++]|C[L++]<<8|C[L++]<<16|C[L++]<<24;C=T.g[0],L=T.g[1],R=T.g[2];var F=T.g[3],$=C+(F^L&(R^F))+M[0]+3614090360&4294967295;C=L+($<<7&4294967295|$>>>25),$=F+(R^C&(L^R))+M[1]+3905402710&4294967295,F=C+($<<12&4294967295|$>>>20),$=R+(L^F&(C^L))+M[2]+606105819&4294967295,R=F+($<<17&4294967295|$>>>15),$=L+(C^R&(F^C))+M[3]+3250441966&4294967295,L=R+($<<22&4294967295|$>>>10),$=C+(F^L&(R^F))+M[4]+4118548399&4294967295,C=L+($<<7&4294967295|$>>>25),$=F+(R^C&(L^R))+M[5]+1200080426&4294967295,F=C+($<<12&4294967295|$>>>20),$=R+(L^F&(C^L))+M[6]+2821735955&4294967295,R=F+($<<17&4294967295|$>>>15),$=L+(C^R&(F^C))+M[7]+4249261313&4294967295,L=R+($<<22&4294967295|$>>>10),$=C+(F^L&(R^F))+M[8]+1770035416&4294967295,C=L+($<<7&4294967295|$>>>25),$=F+(R^C&(L^R))+M[9]+2336552879&4294967295,F=C+($<<12&4294967295|$>>>20),$=R+(L^F&(C^L))+M[10]+4294925233&4294967295,R=F+($<<17&4294967295|$>>>15),$=L+(C^R&(F^C))+M[11]+2304563134&4294967295,L=R+($<<22&4294967295|$>>>10),$=C+(F^L&(R^F))+M[12]+1804603682&4294967295,C=L+($<<7&4294967295|$>>>25),$=F+(R^C&(L^R))+M[13]+4254626195&4294967295,F=C+($<<12&4294967295|$>>>20),$=R+(L^F&(C^L))+M[14]+2792965006&4294967295,R=F+($<<17&4294967295|$>>>15),$=L+(C^R&(F^C))+M[15]+1236535329&4294967295,L=R+($<<22&4294967295|$>>>10),$=C+(R^F&(L^R))+M[1]+4129170786&4294967295,C=L+($<<5&4294967295|$>>>27),$=F+(L^R&(C^L))+M[6]+3225465664&4294967295,F=C+($<<9&4294967295|$>>>23),$=R+(C^L&(F^C))+M[11]+643717713&4294967295,R=F+($<<14&4294967295|$>>>18),$=L+(F^C&(R^F))+M[0]+3921069994&4294967295,L=R+($<<20&4294967295|$>>>12),$=C+(R^F&(L^R))+M[5]+3593408605&4294967295,C=L+($<<5&4294967295|$>>>27),$=F+(L^R&(C^L))+M[10]+38016083&4294967295,F=C+($<<9&4294967295|$>>>23),$=R+(C^L&(F^C))+M[15]+3634488961&4294967295,R=F+($<<14&4294967295|$>>>18),$=L+(F^C&(R^F))+M[4]+3889429448&4294967295,L=R+($<<20&4294967295|$>>>12),$=C+(R^F&(L^R))+M[9]+568446438&4294967295,C=L+($<<5&4294967295|$>>>27),$=F+(L^R&(C^L))+M[14]+3275163606&4294967295,F=C+($<<9&4294967295|$>>>23),$=R+(C^L&(F^C))+M[3]+4107603335&4294967295,R=F+($<<14&4294967295|$>>>18),$=L+(F^C&(R^F))+M[8]+1163531501&4294967295,L=R+($<<20&4294967295|$>>>12),$=C+(R^F&(L^R))+M[13]+2850285829&4294967295,C=L+($<<5&4294967295|$>>>27),$=F+(L^R&(C^L))+M[2]+4243563512&4294967295,F=C+($<<9&4294967295|$>>>23),$=R+(C^L&(F^C))+M[7]+1735328473&4294967295,R=F+($<<14&4294967295|$>>>18),$=L+(F^C&(R^F))+M[12]+2368359562&4294967295,L=R+($<<20&4294967295|$>>>12),$=C+(L^R^F)+M[5]+4294588738&4294967295,C=L+($<<4&4294967295|$>>>28),$=F+(C^L^R)+M[8]+2272392833&4294967295,F=C+($<<11&4294967295|$>>>21),$=R+(F^C^L)+M[11]+1839030562&4294967295,R=F+($<<16&4294967295|$>>>16),$=L+(R^F^C)+M[14]+4259657740&4294967295,L=R+($<<23&4294967295|$>>>9),$=C+(L^R^F)+M[1]+2763975236&4294967295,C=L+($<<4&4294967295|$>>>28),$=F+(C^L^R)+M[4]+1272893353&4294967295,F=C+($<<11&4294967295|$>>>21),$=R+(F^C^L)+M[7]+4139469664&4294967295,R=F+($<<16&4294967295|$>>>16),$=L+(R^F^C)+M[10]+3200236656&4294967295,L=R+($<<23&4294967295|$>>>9),$=C+(L^R^F)+M[13]+681279174&4294967295,C=L+($<<4&4294967295|$>>>28),$=F+(C^L^R)+M[0]+3936430074&4294967295,F=C+($<<11&4294967295|$>>>21),$=R+(F^C^L)+M[3]+3572445317&4294967295,R=F+($<<16&4294967295|$>>>16),$=L+(R^F^C)+M[6]+76029189&4294967295,L=R+($<<23&4294967295|$>>>9),$=C+(L^R^F)+M[9]+3654602809&4294967295,C=L+($<<4&4294967295|$>>>28),$=F+(C^L^R)+M[12]+3873151461&4294967295,F=C+($<<11&4294967295|$>>>21),$=R+(F^C^L)+M[15]+530742520&4294967295,R=F+($<<16&4294967295|$>>>16),$=L+(R^F^C)+M[2]+3299628645&4294967295,L=R+($<<23&4294967295|$>>>9),$=C+(R^(L|~F))+M[0]+4096336452&4294967295,C=L+($<<6&4294967295|$>>>26),$=F+(L^(C|~R))+M[7]+1126891415&4294967295,F=C+($<<10&4294967295|$>>>22),$=R+(C^(F|~L))+M[14]+2878612391&4294967295,R=F+($<<15&4294967295|$>>>17),$=L+(F^(R|~C))+M[5]+4237533241&4294967295,L=R+($<<21&4294967295|$>>>11),$=C+(R^(L|~F))+M[12]+1700485571&4294967295,C=L+($<<6&4294967295|$>>>26),$=F+(L^(C|~R))+M[3]+2399980690&4294967295,F=C+($<<10&4294967295|$>>>22),$=R+(C^(F|~L))+M[10]+4293915773&4294967295,R=F+($<<15&4294967295|$>>>17),$=L+(F^(R|~C))+M[1]+2240044497&4294967295,L=R+($<<21&4294967295|$>>>11),$=C+(R^(L|~F))+M[8]+1873313359&4294967295,C=L+($<<6&4294967295|$>>>26),$=F+(L^(C|~R))+M[15]+4264355552&4294967295,F=C+($<<10&4294967295|$>>>22),$=R+(C^(F|~L))+M[6]+2734768916&4294967295,R=F+($<<15&4294967295|$>>>17),$=L+(F^(R|~C))+M[13]+1309151649&4294967295,L=R+($<<21&4294967295|$>>>11),$=C+(R^(L|~F))+M[4]+4149444226&4294967295,C=L+($<<6&4294967295|$>>>26),$=F+(L^(C|~R))+M[11]+3174756917&4294967295,F=C+($<<10&4294967295|$>>>22),$=R+(C^(F|~L))+M[2]+718787259&4294967295,R=F+($<<15&4294967295|$>>>17),$=L+(F^(R|~C))+M[9]+3951481745&4294967295,T.g[0]=T.g[0]+C&4294967295,T.g[1]=T.g[1]+(R+($<<21&4294967295|$>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+F&4294967295}n.prototype.u=function(T,C){C===void 0&&(C=T.length);for(var L=C-this.blockSize,M=this.B,R=this.h,F=0;F<C;){if(R==0)for(;F<=L;)i(this,T,F),F+=this.blockSize;if(typeof T=="string"){for(;F<C;)if(M[R++]=T.charCodeAt(F++),R==this.blockSize){i(this,M),R=0;break}}else for(;F<C;)if(M[R++]=T[F++],R==this.blockSize){i(this,M),R=0;break}}this.h=R,this.o+=C},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var C=1;C<T.length-8;++C)T[C]=0;var L=8*this.o;for(C=T.length-8;C<T.length;++C)T[C]=L&255,L/=256;for(this.u(T),T=Array(16),C=L=0;4>C;++C)for(var M=0;32>M;M+=8)T[L++]=this.g[C]>>>M&255;return T};function a(T,C){var L=u;return Object.prototype.hasOwnProperty.call(L,T)?L[T]:L[T]=C(T)}function l(T,C){this.h=C;for(var L=[],M=!0,R=T.length-1;0<=R;R--){var F=T[R]|0;M&&F==C||(L[R]=F,M=!1)}this.g=L}var u={};function d(T){return-128<=T&&128>T?a(T,function(C){return new l([C|0],0>C?-1:0)}):new l([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return b(h(-T));for(var C=[],L=1,M=0;T>=L;M++)C[M]=T/L|0,L*=4294967296;return new l(C,0)}function p(T,C){if(T.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T.charAt(0)=="-")return b(p(T.substring(1),C));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=h(Math.pow(C,8)),M=m,R=0;R<T.length;R+=8){var F=Math.min(8,T.length-R),$=parseInt(T.substring(R,R+F),C);8>F?(F=h(Math.pow(C,F)),M=M.j(F).add(h($))):(M=M.j(L),M=M.add(h($)))}return M}var m=d(0),y=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(_(this))return-b(this).m();for(var T=0,C=1,L=0;L<this.g.length;L++){var M=this.i(L);T+=(0<=M?M:4294967296+M)*C,C*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k(this))return"0";if(_(this))return"-"+b(this).toString(T);for(var C=h(Math.pow(T,6)),L=this,M="";;){var R=O(L,C).g;L=A(L,R.j(C));var F=((0<L.g.length?L.g[0]:L.h)>>>0).toString(T);if(L=R,k(L))return F+M;for(;6>F.length;)F="0"+F;M=F+M}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function k(T){if(T.h!=0)return!1;for(var C=0;C<T.g.length;C++)if(T.g[C]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=A(this,T),_(T)?-1:k(T)?0:1};function b(T){for(var C=T.g.length,L=[],M=0;M<C;M++)L[M]=~T.g[M];return new l(L,~T.h).add(y)}t.abs=function(){return _(this)?b(this):this},t.add=function(T){for(var C=Math.max(this.g.length,T.g.length),L=[],M=0,R=0;R<=C;R++){var F=M+(this.i(R)&65535)+(T.i(R)&65535),$=(F>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);M=$>>>16,F&=65535,$&=65535,L[R]=$<<16|F}return new l(L,L[L.length-1]&-2147483648?-1:0)};function A(T,C){return T.add(b(C))}t.j=function(T){if(k(this)||k(T))return m;if(_(this))return _(T)?b(this).j(b(T)):b(b(this).j(T));if(_(T))return b(this.j(b(T)));if(0>this.l(x)&&0>T.l(x))return h(this.m()*T.m());for(var C=this.g.length+T.g.length,L=[],M=0;M<2*C;M++)L[M]=0;for(M=0;M<this.g.length;M++)for(var R=0;R<T.g.length;R++){var F=this.i(M)>>>16,$=this.i(M)&65535,ee=T.i(R)>>>16,ie=T.i(R)&65535;L[2*M+2*R]+=$*ie,E(L,2*M+2*R),L[2*M+2*R+1]+=F*ie,E(L,2*M+2*R+1),L[2*M+2*R+1]+=$*ee,E(L,2*M+2*R+1),L[2*M+2*R+2]+=F*ee,E(L,2*M+2*R+2)}for(M=0;M<C;M++)L[M]=L[2*M+1]<<16|L[2*M];for(M=C;M<2*C;M++)L[M]=0;return new l(L,0)};function E(T,C){for(;(T[C]&65535)!=T[C];)T[C+1]+=T[C]>>>16,T[C]&=65535,C++}function P(T,C){this.g=T,this.h=C}function O(T,C){if(k(C))throw Error("division by zero");if(k(T))return new P(m,m);if(_(T))return C=O(b(T),C),new P(b(C.g),b(C.h));if(_(C))return C=O(T,b(C)),new P(b(C.g),C.h);if(30<T.g.length){if(_(T)||_(C))throw Error("slowDivide_ only works with positive integers.");for(var L=y,M=C;0>=M.l(T);)L=N(L),M=N(M);var R=I(L,1),F=I(M,1);for(M=I(M,2),L=I(L,2);!k(M);){var $=F.add(M);0>=$.l(T)&&(R=R.add(L),F=$),M=I(M,1),L=I(L,1)}return C=A(T,R.j(C)),new P(R,C)}for(R=m;0<=T.l(C);){for(L=Math.max(1,Math.floor(T.m()/C.m())),M=Math.ceil(Math.log(L)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),F=h(L),$=F.j(C);_($)||0<$.l(T);)L-=M,F=h(L),$=F.j(C);k(F)&&(F=y),R=R.add(F),T=A(T,$)}return new P(R,T)}t.A=function(T){return O(this,T).h},t.and=function(T){for(var C=Math.max(this.g.length,T.g.length),L=[],M=0;M<C;M++)L[M]=this.i(M)&T.i(M);return new l(L,this.h&T.h)},t.or=function(T){for(var C=Math.max(this.g.length,T.g.length),L=[],M=0;M<C;M++)L[M]=this.i(M)|T.i(M);return new l(L,this.h|T.h)},t.xor=function(T){for(var C=Math.max(this.g.length,T.g.length),L=[],M=0;M<C;M++)L[M]=this.i(M)^T.i(M);return new l(L,this.h^T.h)};function N(T){for(var C=T.g.length+1,L=[],M=0;M<C;M++)L[M]=T.i(M)<<1|T.i(M-1)>>>31;return new l(L,T.h)}function I(T,C){var L=C>>5;C%=32;for(var M=T.g.length-L,R=[],F=0;F<M;F++)R[F]=0<C?T.i(F+L)>>>C|T.i(F+L+1)<<32-C:T.i(F+L);return new l(R,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,CM=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Yo=l}).apply(typeof qE<"u"?qE:typeof self<"u"?self:typeof window<"u"?window:{});var op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IM,ld,OM,Cp,i_,RM,MM,DM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,j,D){return g==Array.prototype||g==Object.prototype||(g[j]=D.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof op=="object"&&op];for(var j=0;j<g.length;++j){var D=g[j];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var n=r(this);function i(g,j){if(j)e:{var D=n;g=g.split(".");for(var B=0;B<g.length-1;B++){var ne=g[B];if(!(ne in D))break e;D=D[ne]}g=g[g.length-1],B=D[g],j=j(B),j!=B&&j!=null&&e(D,g,{configurable:!0,writable:!0,value:j})}}function a(g,j){g instanceof String&&(g+="");var D=0,B=!1,ne={next:function(){if(!B&&D<g.length){var fe=D++;return{value:j(fe,g[fe]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}i("Array.prototype.values",function(g){return g||function(){return a(this,function(j,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(g){var j=typeof g;return j=j!="object"?j:g?Array.isArray(g)?"array":j:"null",j=="array"||j=="object"&&typeof g.length=="number"}function h(g){var j=typeof g;return j=="object"&&g!=null||j=="function"}function p(g,j,D){return g.call.apply(g.bind,arguments)}function m(g,j,D){if(!g)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,B),g.apply(j,ne)}}return function(){return g.apply(j,arguments)}}function y(g,j,D){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function x(g,j){var D=Array.prototype.slice.call(arguments,1);return function(){var B=D.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function k(g,j){function D(){}D.prototype=j.prototype,g.aa=j.prototype,g.prototype=new D,g.prototype.constructor=g,g.Qb=function(B,ne,fe){for(var Pe=Array(arguments.length-2),St=2;St<arguments.length;St++)Pe[St-2]=arguments[St];return j.prototype[ne].apply(B,Pe)}}function _(g){const j=g.length;if(0<j){const D=Array(j);for(let B=0;B<j;B++)D[B]=g[B];return D}return[]}function b(g,j){for(let D=1;D<arguments.length;D++){const B=arguments[D];if(d(B)){const ne=g.length||0,fe=B.length||0;g.length=ne+fe;for(let Pe=0;Pe<fe;Pe++)g[ne+Pe]=B[Pe]}else g.push(B)}}class A{constructor(j,D){this.i=j,this.j=D,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function E(g){return/^[\s\xa0]*$/.test(g)}function P(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function O(g){return O[" "](g),g}O[" "]=function(){};var N=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function I(g,j,D){for(const B in g)j.call(D,g[B],B,g)}function T(g,j){for(const D in g)j.call(void 0,g[D],D,g)}function C(g){const j={};for(const D in g)j[D]=g[D];return j}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(g,j){let D,B;for(let ne=1;ne<arguments.length;ne++){B=arguments[ne];for(D in B)g[D]=B[D];for(let fe=0;fe<L.length;fe++)D=L[fe],Object.prototype.hasOwnProperty.call(B,D)&&(g[D]=B[D])}}function R(g){var j=1;g=g.split(":");const D=[];for(;0<j&&g.length;)D.push(g.shift()),j--;return g.length&&D.push(g.join(":")),D}function F(g){u.setTimeout(()=>{throw g},0)}function $(){var g=Z;let j=null;return g.g&&(j=g.g,g.g=g.g.next,g.g||(g.h=null),j.next=null),j}class ee{constructor(){this.h=this.g=null}add(j,D){const B=ie.get();B.set(j,D),this.h?this.h.next=B:this.g=B,this.h=B}}var ie=new A(()=>new Q,g=>g.reset());class Q{constructor(){this.next=this.g=this.h=null}set(j,D){this.h=j,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let se,te=!1,Z=new ee,re=()=>{const g=u.Promise.resolve(void 0);se=()=>{g.then(W)}};var W=()=>{for(var g;g=$();){try{g.h.call(g.g)}catch(D){F(D)}var j=ie;j.j(g),100>j.h&&(j.h++,g.next=j.g,j.g=g)}te=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(g,j){this.type=g,this.g=this.target=j,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,j=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const D=()=>{};u.addEventListener("test",D,j),u.removeEventListener("test",D,j)}catch{}return g}();function ve(g,j){if(Y.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var D=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=j,j=g.relatedTarget){if(N){e:{try{O(j.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(j=null)}}else D=="mouseover"?j=g.fromElement:D=="mouseout"&&(j=g.toElement);this.relatedTarget=j,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:pe[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ve.aa.h.call(this)}}k(ve,Y);var pe={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),be=0;function q(g,j,D,B,ne){this.listener=g,this.proxy=null,this.src=j,this.type=D,this.capture=!!B,this.ha=ne,this.key=++be,this.da=this.fa=!1}function me(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function xe(g){this.src=g,this.g={},this.h=0}xe.prototype.add=function(g,j,D,B,ne){var fe=g.toString();g=this.g[fe],g||(g=this.g[fe]=[],this.h++);var Pe=de(g,j,B,ne);return-1<Pe?(j=g[Pe],D||(j.fa=!1)):(j=new q(j,this.src,fe,!!B,ne),j.fa=D,g.push(j)),j};function U(g,j){var D=j.type;if(D in g.g){var B=g.g[D],ne=Array.prototype.indexOf.call(B,j,void 0),fe;(fe=0<=ne)&&Array.prototype.splice.call(B,ne,1),fe&&(me(j),g.g[D].length==0&&(delete g.g[D],g.h--))}}function de(g,j,D,B){for(var ne=0;ne<g.length;++ne){var fe=g[ne];if(!fe.da&&fe.listener==j&&fe.capture==!!D&&fe.ha==B)return ne}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Oe={};function ze(g,j,D,B,ne){if(Array.isArray(j)){for(var fe=0;fe<j.length;fe++)ze(g,j[fe],D,B,ne);return null}return D=va(D),g&&g[he]?g.K(j,D,h(B)?!!B.capture:!1,ne):Zt(g,j,D,!1,B,ne)}function Zt(g,j,D,B,ne,fe){if(!j)throw Error("Invalid event type");var Pe=h(ne)?!!ne.capture:!!ne,St=ln(g);if(St||(g[_e]=St=new xe(g)),D=St.add(j,D,B,Pe,fe),D.proxy)return D;if(B=mr(),D.proxy=B,B.src=g,B.listener=D,g.addEventListener)ce||(ne=Pe),ne===void 0&&(ne=!1),g.addEventListener(j.toString(),B,ne);else if(g.attachEvent)g.attachEvent(qt(j.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return D}function mr(){function g(D){return j.call(g.src,g.listener,D)}const j=Or;return g}function on(g,j,D,B,ne){if(Array.isArray(j))for(var fe=0;fe<j.length;fe++)on(g,j[fe],D,B,ne);else B=h(B)?!!B.capture:!!B,D=va(D),g&&g[he]?(g=g.i,j=String(j).toString(),j in g.g&&(fe=g.g[j],D=de(fe,D,B,ne),-1<D&&(me(fe[D]),Array.prototype.splice.call(fe,D,1),fe.length==0&&(delete g.g[j],g.h--)))):g&&(g=ln(g))&&(j=g.g[j.toString()],g=-1,j&&(g=de(j,D,B,ne)),(D=-1<g?j[g]:null)&&Ut(D))}function Ut(g){if(typeof g!="number"&&g&&!g.da){var j=g.src;if(j&&j[he])U(j.i,g);else{var D=g.type,B=g.proxy;j.removeEventListener?j.removeEventListener(D,B,g.capture):j.detachEvent?j.detachEvent(qt(D),B):j.addListener&&j.removeListener&&j.removeListener(B),(D=ln(j))?(U(D,g),D.h==0&&(D.src=null,j[_e]=null)):me(g)}}}function qt(g){return g in Oe?Oe[g]:Oe[g]="on"+g}function Or(g,j){if(g.da)g=!0;else{j=new ve(j,this);var D=g.listener,B=g.ha||g.src;g.fa&&Ut(g),g=D.call(B,j)}return g}function ln(g){return g=g[_e],g instanceof xe?g:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function va(g){return typeof g=="function"?g:(g[Bi]||(g[Bi]=function(j){return g.handleEvent(j)}),g[Bi])}function vt(){X.call(this),this.i=new xe(this),this.M=this,this.F=null}k(vt,X),vt.prototype[he]=!0,vt.prototype.removeEventListener=function(g,j,D,B){on(this,g,j,D,B)};function zt(g,j){var D,B=g.F;if(B)for(D=[];B;B=B.F)D.push(B);if(g=g.M,B=j.type||j,typeof j=="string")j=new Y(j,g);else if(j instanceof Y)j.target=j.target||g;else{var ne=j;j=new Y(B,g),M(j,ne)}if(ne=!0,D)for(var fe=D.length-1;0<=fe;fe--){var Pe=j.g=D[fe];ne=wn(Pe,B,!0,j)&&ne}if(Pe=j.g=g,ne=wn(Pe,B,!0,j)&&ne,ne=wn(Pe,B,!1,j)&&ne,D)for(fe=0;fe<D.length;fe++)Pe=j.g=D[fe],ne=wn(Pe,B,!1,j)&&ne}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var g=this.i,j;for(j in g.g){for(var D=g.g[j],B=0;B<D.length;B++)me(D[B]);delete g.g[j],g.h--}}this.F=null},vt.prototype.K=function(g,j,D,B){return this.i.add(String(g),j,!1,D,B)},vt.prototype.L=function(g,j,D,B){return this.i.add(String(g),j,!0,D,B)};function wn(g,j,D,B){if(j=g.i.g[String(j)],!j)return!0;j=j.concat();for(var ne=!0,fe=0;fe<j.length;++fe){var Pe=j[fe];if(Pe&&!Pe.da&&Pe.capture==D){var St=Pe.listener,gr=Pe.ha||Pe.src;Pe.fa&&U(g.i,Pe),ne=St.call(gr,B)!==!1&&ne}}return ne&&!B.defaultPrevented}function ya(g,j,D){if(typeof g=="function")D&&(g=y(g,D));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:u.setTimeout(g,j||0)}function Ui(g){g.g=ya(()=>{g.g=null,g.i&&(g.i=!1,Ui(g))},g.l);const j=g.h;g.h=null,g.m.apply(null,j)}class xa extends X{constructor(j,D){super(),this.m=j,this.l=D,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Ui(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ct(g){X.call(this),this.h=g,this.g={}}k(Ct,X);var oo=[];function bi(g){I(g.g,function(j,D){this.g.hasOwnProperty(D)&&Ut(j)},g),g.g={}}Ct.prototype.N=function(){Ct.aa.N.call(this),bi(this)},Ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lo=u.JSON.stringify,co=u.JSON.parse,uo=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Zn(){}Zn.prototype.h=null;function Mn(g){return g.h||(g.h=g.i())}function ba(){}var jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zr(){Y.call(this,"d")}k(zr,Y);function os(){Y.call(this,"c")}k(os,Y);var ei={},ho=null;function wa(){return ho=ho||new vt}ei.La="serverreachability";function fo(g){Y.call(this,ei.La,g)}k(fo,Y);function wi(g){const j=wa();zt(j,new fo(j))}ei.STAT_EVENT="statevent";function er(g,j){Y.call(this,ei.STAT_EVENT,g),this.stat=j}k(er,Y);function Kt(g){const j=wa();zt(j,new er(j,g))}ei.Ma="timingevent";function ls(g,j){Y.call(this,ei.Ma,g),this.size=j}k(ls,Y);function Yt(g,j){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},j)}function _a(){this.g=!0}_a.prototype.xa=function(){this.g=!1};function Dn(g,j,D,B,ne,fe){g.info(function(){if(g.g)if(fe)for(var Pe="",St=fe.split("&"),gr=0;gr<St.length;gr++){var ft=St[gr].split("=");if(1<ft.length){var Sr=ft[0];ft=ft[1];var lr=Sr.split("_");Pe=2<=lr.length&&lr[1]=="type"?Pe+(Sr+"="+ft+"&"):Pe+(Sr+"=redacted&")}}else Pe=null;else Pe=fe;return"XMLHTTP REQ ("+B+") [attempt "+ne+"]: "+j+`
`+D+`
`+Pe})}function ti(g,j,D,B,ne,fe,Pe){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ne+"]: "+j+`
`+D+`
`+fe+" "+Pe})}function cn(g,j,D,B){g.info(function(){return"XMLHTTP TEXT ("+j+"): "+mu(g,D)+(B?" "+B:"")})}function po(g,j){g.info(function(){return"TIMEOUT: "+j})}_a.prototype.info=function(){};function mu(g,j){if(!g.g)return j;if(!j)return null;try{var D=JSON.parse(j);if(D){for(g=0;g<D.length;g++)if(Array.isArray(D[g])){var B=D[g];if(!(2>B.length)){var ne=B[1];if(Array.isArray(ne)&&!(1>ne.length)){var fe=ne[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Pe=1;Pe<ne.length;Pe++)ne[Pe]=""}}}}return lo(D)}catch{return j}}var oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ce;function Te(){}k(Te,Zn),Te.prototype.g=function(){return new XMLHttpRequest},Te.prototype.i=function(){return{}},Ce=new Te;function Re(g,j,D,B){this.j=g,this.i=j,this.l=D,this.R=B||1,this.U=new Ct(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var ot={},nt={};function Ue(g,j,D){g.L=1,g.v=hs(Vn(j)),g.m=D,g.P=!0,mt(g,null)}function mt(g,j){g.F=Date.now(),Je(g),g.A=Vn(g.v);var D=g.A,B=g.R;Array.isArray(B)||(B=[String(B)]),ps(D.i,"t",B),g.C=0,D=g.j.J,g.h=new dt,g.g=cf(g.j,D?j:null,!g.m),0<g.O&&(g.M=new xa(y(g.Y,g,g.g),g.O)),j=g.U,D=g.g,B=g.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(oo[0]=ne.toString()),ne=oo);for(var fe=0;fe<ne.length;fe++){var Pe=ze(D,ne[fe],B||j.handleEvent,!1,j.h||j);if(!Pe)break;j.g[Pe.key]=Pe}j=g.H?C(g.H):{},g.m?(g.u||(g.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,j)):(g.u="GET",g.g.ea(g.A,g.u,null,j)),wi(),Dn(g.i,g.u,g.A,g.l,g.R,g.m)}Re.prototype.ca=function(g){g=g.target;const j=this.M;j&&kn(g)==3?j.j():this.Y(g)},Re.prototype.Y=function(g){try{if(g==this.g)e:{const lr=kn(this.g);var j=this.g.Ba();const ni=this.g.Z();if(!(3>lr)&&(lr!=3||this.g&&(this.h.h||this.g.oa()||bu(this.g)))){this.J||lr!=4||j==7||(j==8||0>=ni?wi(3):wi(2)),ht(this);var D=this.g.Z();this.X=D;t:if(wt(this)){var B=bu(this.g);g="";var ne=B.length,fe=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hr(this),Ln(this);var Pe="";break t}this.h.i=new u.TextDecoder}for(j=0;j<ne;j++)this.h.h=!0,g+=this.h.i.decode(B[j],{stream:!(fe&&j==ne-1)});B.length=0,this.h.g+=g,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=D==200,ti(this.i,this.u,this.A,this.l,this.R,lr,D),this.o){if(this.T&&!this.K){t:{if(this.g){var St,gr=this.g;if((St=gr.g?gr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(St)){var ft=St;break t}}ft=null}if(D=ft)cn(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$n(this,D);else{this.o=!1,this.s=3,Kt(12),Hr(this),Ln(this);break e}}if(this.P){D=!0;let Un;for(;!this.J&&this.C<Pe.length;)if(Un=It(this,Pe),Un==nt){lr==4&&(this.s=4,Kt(14),D=!1),cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==ot){this.s=4,Kt(15),cn(this.i,this.l,Pe,"[Invalid Chunk]"),D=!1;break}else cn(this.i,this.l,Un,null),$n(this,Un);if(wt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lr!=4||Pe.length!=0||this.h.h||(this.s=1,Kt(16),D=!1),this.o=this.o&&D,!D)cn(this.i,this.l,Pe,"[Invalid Chunked Response]"),Hr(this),Ln(this);else if(0<Pe.length&&!this.W){this.W=!0;var Sr=this.j;Sr.g==this&&Sr.ba&&!Sr.M&&(Sr.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),_u(Sr),Sr.M=!0,Kt(11))}}else cn(this.i,this.l,Pe,null),$n(this,Pe);lr==4&&Hr(this),this.o&&!this.J&&(lr==4?Cl(this.j,this):(this.o=!1,Je(this)))}else Nl(this.g),D==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Hr(this),Ln(this)}}}catch{}finally{}};function wt(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function It(g,j){var D=g.C,B=j.indexOf(`
`,D);return B==-1?nt:(D=Number(j.substring(D,B)),isNaN(D)?ot:(B+=1,B+D>j.length?nt:(j=j.slice(B,B+D),g.C=B+D,j)))}Re.prototype.cancel=function(){this.J=!0,Hr(this)};function Je(g){g.S=Date.now()+g.I,Wr(g,g.I)}function Wr(g,j){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Yt(y(g.ba,g),j)}function ht(g){g.B&&(u.clearTimeout(g.B),g.B=null)}Re.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(po(this.i,this.A),this.L!=2&&(wi(),Kt(17)),Hr(this),this.s=2,Ln(this)):Wr(this,this.S-g)};function Ln(g){g.j.G==0||g.J||Cl(g.j,g)}function Hr(g){ht(g);var j=g.M;j&&typeof j.ma=="function"&&j.ma(),g.M=null,bi(g.U),g.g&&(j=g.g,g.g=null,j.abort(),j.ma())}function $n(g,j){try{var D=g.j;if(D.G!=0&&(D.g==g||un(D.h,g))){if(!g.K&&un(D.h,g)&&D.G==3){try{var B=D.Da.g.parse(j)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ne=B;if(ne[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<g.F)Pl(D),Ni(D);else break e;Al(D),Kt(18)}}else D.za=ne[1],0<D.za-D.T&&37500>ne[2]&&D.F&&D.v==0&&!D.C&&(D.C=Yt(y(D.Za,D),6e3));if(1>=Kh(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else Ea(D,11)}else if((g.K||D.g==g)&&Pl(D),!E(j))for(ne=D.Da.g.parse(j),j=0;j<ne.length;j++){let ft=ne[j];if(D.T=ft[0],ft=ft[1],D.G==2)if(ft[0]=="c"){D.K=ft[1],D.ia=ft[2];const Sr=ft[3];Sr!=null&&(D.la=Sr,D.j.info("VER="+D.la));const lr=ft[4];lr!=null&&(D.Aa=lr,D.j.info("SVER="+D.Aa));const ni=ft[5];ni!=null&&typeof ni=="number"&&0<ni&&(B=1.5*ni,D.L=B,D.j.info("backChannelRequestTimeoutMs_="+B)),B=D;const Un=g.g;if(Un){const wo=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wo){var fe=B.h;fe.g||wo.indexOf("spdy")==-1&&wo.indexOf("quic")==-1&&wo.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(gu(fe,fe.h),fe.h=null))}if(B.D){const Ol=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(B.ya=Ol,At(B.I,B.D,Ol))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-g.F,D.j.info("Handshake RTT: "+D.R+"ms")),B=D;var Pe=g;if(B.qa=lf(B,B.J?B.ia:null,B.W),Pe.K){Yh(B.h,Pe);var St=Pe,gr=B.L;gr&&(St.I=gr),St.B&&(ht(St),Je(St)),B.g=Pe}else bo(B);0<D.i.length&&Hi(D)}else ft[0]!="stop"&&ft[0]!="close"||Ea(D,7);else D.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Ea(D,7):Mr(D):ft[0]!="noop"&&D.l&&D.l.ta(ft),D.v=0)}}wi(4)}catch{}}var Gh=class{constructor(g,j){this.g=g,this.map=j}};function mo(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fn(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Kh(g){return g.h?1:g.g?g.g.size:0}function un(g,j){return g.h?g.h==j:g.g?g.g.has(j):!1}function gu(g,j){g.g?g.g.add(j):g.h=j}function Yh(g,j){g.h&&g.h==j?g.h=null:g.g&&g.g.has(j)&&g.g.delete(j)}mo.prototype.cancel=function(){if(this.i=Xh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Xh(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let j=g.i;for(const D of g.g.values())j=j.concat(D.D);return j}return _(g.i)}function wl(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var j=[],D=g.length,B=0;B<D;B++)j.push(g[B]);return j}j=[],D=0;for(B in g)j[D++]=g[B];return j}function _l(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var j=[];g=g.length;for(var D=0;D<g;D++)j.push(D);return j}j=[],D=0;for(const B in g)j[D++]=B;return j}}}function cs(g,j){if(g.forEach&&typeof g.forEach=="function")g.forEach(j,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,j,void 0);else for(var D=_l(g),B=wl(g),ne=B.length,fe=0;fe<ne;fe++)j.call(void 0,B[fe],D&&D[fe],g)}var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ig(g,j){if(g){g=g.split("&");for(var D=0;D<g.length;D++){var B=g[D].indexOf("="),ne=null;if(0<=B){var fe=g[D].substring(0,B);ne=g[D].substring(B+1)}else fe=g[D];j(fe,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function ka(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof ka){this.h=g.h,vo(this,g.j),this.o=g.o,this.g=g.g,us(this,g.s),this.l=g.l;var j=g.i,D=new qi;D.i=j.i,j.g&&(D.g=new Map(j.g),D.h=j.h),ds(this,D),this.m=g.m}else g&&(j=String(g).match(go))?(this.h=!1,vo(this,j[1]||"",!0),this.o=ct(j[2]||""),this.g=ct(j[3]||"",!0),us(this,j[4]),this.l=ct(j[5]||"",!0),ds(this,j[6]||"",!0),this.m=ct(j[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}ka.prototype.toString=function(){var g=[],j=this.j;j&&g.push(fs(j,kl,!0),":");var D=this.g;return(D||j=="file")&&(g.push("//"),(j=this.o)&&g.push(fs(j,kl,!0),"@"),g.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&g.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&g.push("/"),g.push(fs(D,D.charAt(0)=="/"?Zh:Jh,!0))),(D=this.i.toString())&&g.push("?",D),(D=this.m)&&g.push("#",fs(D,vu)),g.join("")};function Vn(g){return new ka(g)}function vo(g,j,D){g.j=D?ct(j,!0):j,g.j&&(g.j=g.j.replace(/:$/,""))}function us(g,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);g.s=j}else g.s=null}function ds(g,j,D){j instanceof qi?(g.i=j,zi(g.i,g.h)):(D||(j=fs(j,ef)),g.i=new qi(j,g.h))}function At(g,j,D){g.i.set(j,D)}function hs(g){return At(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ct(g,j){return g?j?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function fs(g,j,D){return typeof g=="string"?(g=encodeURI(g).replace(j,Qh),D&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Qh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var kl=/[#\/\?@]/g,Jh=/[#\?:]/g,Zh=/[#\?]/g,ef=/[#\?@]/g,vu=/#/g;function qi(g,j){this.h=this.g=null,this.i=g||null,this.j=!!j}function Rr(g){g.g||(g.g=new Map,g.h=0,g.i&&ig(g.i,function(j,D){g.add(decodeURIComponent(j.replace(/\+/g," ")),D)}))}t=qi.prototype,t.add=function(g,j){Rr(this),this.i=null,g=ri(this,g);var D=this.g.get(g);return D||this.g.set(g,D=[]),D.push(j),this.h+=1,this};function _i(g,j){Rr(g),j=ri(g,j),g.g.has(j)&&(g.i=null,g.h-=g.g.get(j).length,g.g.delete(j))}function ki(g,j){return Rr(g),j=ri(g,j),g.g.has(j)}t.forEach=function(g,j){Rr(this),this.g.forEach(function(D,B){D.forEach(function(ne){g.call(j,ne,B,this)},this)},this)},t.na=function(){Rr(this);const g=Array.from(this.g.values()),j=Array.from(this.g.keys()),D=[];for(let B=0;B<j.length;B++){const ne=g[B];for(let fe=0;fe<ne.length;fe++)D.push(j[B])}return D},t.V=function(g){Rr(this);let j=[];if(typeof g=="string")ki(this,g)&&(j=j.concat(this.g.get(ri(this,g))));else{g=Array.from(this.g.values());for(let D=0;D<g.length;D++)j=j.concat(g[D])}return j},t.set=function(g,j){return Rr(this),this.i=null,g=ri(this,g),ki(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[j]),this.h+=1,this},t.get=function(g,j){return g?(g=this.V(g),0<g.length?String(g[0]):j):j};function ps(g,j,D){_i(g,j),0<D.length&&(g.i=null,g.g.set(ri(g,j),_(D)),g.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],j=Array.from(this.g.keys());for(var D=0;D<j.length;D++){var B=j[D];const fe=encodeURIComponent(String(B)),Pe=this.V(B);for(B=0;B<Pe.length;B++){var ne=fe;Pe[B]!==""&&(ne+="="+encodeURIComponent(String(Pe[B]))),g.push(ne)}}return this.i=g.join("&")};function ri(g,j){return j=String(j),g.j&&(j=j.toLowerCase()),j}function zi(g,j){j&&!g.j&&(Rr(g),g.i=null,g.g.forEach(function(D,B){var ne=B.toLowerCase();B!=ne&&(_i(this,B),ps(this,ne,D))},g)),g.j=j}function ag(g,j){const D=new _a;if(u.Image){const B=new Image;B.onload=x(_n,D,"TestLoadImage: loaded",!0,j,B),B.onerror=x(_n,D,"TestLoadImage: error",!1,j,B),B.onabort=x(_n,D,"TestLoadImage: abort",!1,j,B),B.ontimeout=x(_n,D,"TestLoadImage: timeout",!1,j,B),u.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else j(!1)}function tf(g,j){const D=new _a,B=new AbortController,ne=setTimeout(()=>{B.abort(),_n(D,"TestPingServer: timeout",!1,j)},1e4);fetch(g,{signal:B.signal}).then(fe=>{clearTimeout(ne),fe.ok?_n(D,"TestPingServer: ok",!0,j):_n(D,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(ne),_n(D,"TestPingServer: error",!1,j)})}function _n(g,j,D,B,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),B(D)}catch{}}function sg(){this.g=new uo}function rf(g,j,D){const B=D||"";try{cs(g,function(ne,fe){let Pe=ne;h(ne)&&(Pe=lo(ne)),j.push(B+fe+"="+encodeURIComponent(Pe))})}catch(ne){throw j.push(B+"type="+encodeURIComponent("_badmap")),ne}}function ja(g){this.l=g.Ub||null,this.j=g.eb||!1}k(ja,Zn),ja.prototype.g=function(){return new yo(this.l,this.j)},ja.prototype.i=function(g){return function(){return g}}({});function yo(g,j){vt.call(this),this.D=g,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(yo,vt),t=yo.prototype,t.open=function(g,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=j,this.readyState=1,Si(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(j.body=g),(this.D||u).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nf(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function nf(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var j=g.value?g.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!g.done}))&&(this.response=this.responseText+=j)}g.done?ji(this):Si(this),this.readyState==3&&nf(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ji(this))},t.Qa=function(g){this.g&&(this.response=g,ji(this))},t.ga=function(){this.g&&ji(this)};function ji(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Si(g)}t.setRequestHeader=function(g,j){this.u.append(g,j)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],j=this.h.entries();for(var D=j.next();!D.done;)D=D.value,g.push(D[0]+": "+D[1]),D=j.next();return g.join(`\r
`)};function Si(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Sa(g){let j="";return I(g,function(D,B){j+=B,j+=":",j+=D,j+=`\r
`}),j}function ms(g,j,D){e:{for(B in D){var B=!1;break e}B=!0}B||(D=Sa(D),typeof g=="string"?D!=null&&encodeURIComponent(String(D)):At(g,j,D))}function Wt(g){vt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Wt,vt);var og=/^https?$/i,yu=["POST","PUT"];t=Wt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,j,D,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);j=j?j.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ce.g(),this.v=this.o?Mn(this.o):Mn(Ce),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(j,String(g),!0),this.B=!1}catch(fe){xo(this,fe);return}if(g=D||"",D=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ne in B)D.set(ne,B[ne]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const fe of B.keys())D.set(fe,B.get(fe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(D.keys()).find(fe=>fe.toLowerCase()=="content-type"),ne=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(yu,j,void 0))||B||ne||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Pe]of D)this.g.setRequestHeader(fe,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sl(this),this.u=!0,this.g.send(g),this.u=!1}catch(fe){xo(this,fe)}};function xo(g,j){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=j,g.m=5,jl(g),Bn(g)}function jl(g){g.A||(g.A=!0,zt(g,"complete"),zt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,zt(this,"complete"),zt(this,"abort"),Bn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bn(this,!0)),Wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xu(this):this.bb())},t.bb=function(){xu(this)};function xu(g){if(g.h&&typeof l<"u"&&(!g.v[1]||kn(g)!=4||g.Z()!=2)){if(g.u&&kn(g)==4)ya(g.Ea,0,g);else if(zt(g,"readystatechange"),kn(g)==4){g.h=!1;try{const Pe=g.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var D;if(!(D=j)){var B;if(B=Pe===0){var ne=String(g.D).match(go)[1]||null;!ne&&u.self&&u.self.location&&(ne=u.self.location.protocol.slice(0,-1)),B=!og.test(ne?ne.toLowerCase():"")}D=B}if(D)zt(g,"complete"),zt(g,"success");else{g.m=6;try{var fe=2<kn(g)?g.g.statusText:""}catch{fe=""}g.l=fe+" ["+g.Z()+"]",jl(g)}}finally{Bn(g)}}}}function Bn(g,j){if(g.g){Sl(g);const D=g.g,B=g.v[0]?()=>{}:null;g.g=null,g.v=null,j||zt(g,"ready");try{D.onreadystatechange=B}catch{}}}function Sl(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function kn(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var j=this.g.responseText;return g&&j.indexOf(g)==0&&(j=j.substring(g.length)),co(j)}};function bu(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Nl(g){const j={};g=(g.g&&2<=kn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(E(g[B]))continue;var D=R(g[B]);const ne=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const fe=j[ne]||[];j[ne]=fe,fe.push(D)}T(j,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(g,j,D){return D&&D.internalChannelParams&&D.internalChannelParams[g]||j}function wu(g){this.Aa=0,this.i=[],this.j=new _a,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wi("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wi("baseRetryDelayMs",5e3,g),this.cb=Wi("retryDelaySeedMs",1e4,g),this.Wa=Wi("forwardChannelMaxRetries",2,g),this.wa=Wi("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new mo(g&&g.concurrentRequestLimit),this.Da=new sg,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wu.prototype,t.la=8,t.G=1,t.connect=function(g,j,D,B){Kt(0),this.W=g,this.H=j||{},D&&B!==void 0&&(this.H.OSID=D,this.H.OAID=B),this.F=this.X,this.I=lf(this,null,this.W),Hi(this)};function Mr(g){if(El(g),g.G==3){var j=g.U++,D=Vn(g.I);if(At(D,"SID",g.K),At(D,"RID",j),At(D,"TYPE","terminate"),Na(g,D),j=new Re(g,g.j,j),j.L=2,j.v=hs(Vn(D)),D=!1,u.navigator&&u.navigator.sendBeacon)try{D=u.navigator.sendBeacon(j.v.toString(),"")}catch{}!D&&u.Image&&(new Image().src=j.v,D=!0),D||(j.g=cf(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Je(j)}of(g)}function Ni(g){g.g&&(_u(g),g.g.cancel(),g.g=null)}function El(g){Ni(g),g.u&&(u.clearTimeout(g.u),g.u=null),Pl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Hi(g){if(!Fn(g.h)&&!g.s){g.s=!0;var j=g.Ga;se||re(),te||(se(),te=!0),Z.add(j,g),g.B=0}}function lg(g,j){return Kh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=j.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Yt(y(g.Ga,g,j),sf(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ne=new Re(this,this.j,g);let fe=this.o;if(this.S&&(fe?(fe=C(fe),M(fe,this.S)):fe=this.S),this.m!==null||this.O||(ne.H=fe,fe=null),this.P)e:{for(var j=0,D=0;D<this.i.length;D++){t:{var B=this.i[D];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(j+=B,4096<j){j=D;break e}if(j===4096||D===this.i.length-1){j=D+1;break e}}j=1e3}else j=1e3;j=gs(this,ne,j),D=Vn(this.I),At(D,"RID",g),At(D,"CVER",22),this.D&&At(D,"X-HTTP-Session-Id",this.D),Na(this,D),fe&&(this.O?j="headers="+encodeURIComponent(String(Sa(fe)))+"&"+j:this.m&&ms(D,this.m,fe)),gu(this.h,ne),this.Ua&&At(D,"TYPE","init"),this.P?(At(D,"$req",j),At(D,"SID","null"),ne.T=!0,Ue(ne,D,null)):Ue(ne,D,j),this.G=2}}else this.G==3&&(g?Tl(this,g):this.i.length==0||Fn(this.h)||Tl(this))};function Tl(g,j){var D;j?D=j.l:D=g.U++;const B=Vn(g.I);At(B,"SID",g.K),At(B,"RID",D),At(B,"AID",g.T),Na(g,B),g.m&&g.o&&ms(B,g.m,g.o),D=new Re(g,g.j,D,g.B+1),g.m===null&&(D.H=g.o),j&&(g.i=j.D.concat(g.i)),j=gs(g,D,1e3),D.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),gu(g.h,D),Ue(D,B,j)}function Na(g,j){g.H&&I(g.H,function(D,B){At(j,B,D)}),g.l&&cs({},function(D,B){At(j,B,D)})}function gs(g,j,D){D=Math.min(g.i.length,D);var B=g.l?y(g.l.Na,g.l,g):null;e:{var ne=g.i;let fe=-1;for(;;){const Pe=["count="+D];fe==-1?0<D?(fe=ne[0].g,Pe.push("ofs="+fe)):fe=0:Pe.push("ofs="+fe);let St=!0;for(let gr=0;gr<D;gr++){let ft=ne[gr].g;const Sr=ne[gr].map;if(ft-=fe,0>ft)fe=Math.max(0,ne[gr].g-100),St=!1;else try{rf(Sr,Pe,"req"+ft+"_")}catch{B&&B(Sr)}}if(St){B=Pe.join("&");break e}}}return g=g.i.splice(0,D),j.D=g,B}function bo(g){if(!g.g&&!g.u){g.Y=1;var j=g.Fa;se||re(),te||(se(),te=!0),Z.add(j,g),g.v=0}}function Al(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Yt(y(g.Fa,g),sf(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,af(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Yt(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),Ni(this),af(this))};function _u(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function af(g){g.g=new Re(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var j=Vn(g.qa);At(j,"RID","rpc"),At(j,"SID",g.K),At(j,"AID",g.T),At(j,"CI",g.F?"0":"1"),!g.F&&g.ja&&At(j,"TO",g.ja),At(j,"TYPE","xmlhttp"),Na(g,j),g.m&&g.o&&ms(j,g.m,g.o),g.L&&(g.g.I=g.L);var D=g.g;g=g.ia,D.L=1,D.v=hs(Vn(j)),D.m=null,D.P=!0,mt(D,g)}t.Za=function(){this.C!=null&&(this.C=null,Ni(this),Al(this),Kt(19))};function Pl(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Cl(g,j){var D=null;if(g.g==j){Pl(g),_u(g),g.g=null;var B=2}else if(un(g.h,j))D=j.D,Yh(g.h,j),B=1;else return;if(g.G!=0){if(j.o)if(B==1){D=j.m?j.m.length:0,j=Date.now()-j.F;var ne=g.B;B=wa(),zt(B,new ls(B,D)),Hi(g)}else bo(g);else if(ne=j.s,ne==3||ne==0&&0<j.X||!(B==1&&lg(g,j)||B==2&&Al(g)))switch(D&&0<D.length&&(j=g.h,j.i=j.i.concat(D)),ne){case 1:Ea(g,5);break;case 4:Ea(g,10);break;case 3:Ea(g,6);break;default:Ea(g,2)}}}function sf(g,j){let D=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(D*=2),D*j}function Ea(g,j){if(g.j.info("Error code "+j),j==2){var D=y(g.fb,g),B=g.Xa;const ne=!B;B=new ka(B||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||vo(B,"https"),hs(B),ne?ag(B.toString(),D):tf(B.toString(),D)}else Kt(2);g.G=0,g.l&&g.l.sa(j),of(g),El(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function of(g){if(g.G=0,g.ka=[],g.l){const j=Xh(g.h);(j.length!=0||g.i.length!=0)&&(b(g.ka,j),b(g.ka,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.ra()}}function lf(g,j,D){var B=D instanceof ka?Vn(D):new ka(D);if(B.g!="")j&&(B.g=j+"."+B.g),us(B,B.s);else{var ne=u.location;B=ne.protocol,j=j?j+"."+ne.hostname:ne.hostname,ne=+ne.port;var fe=new ka(null);B&&vo(fe,B),j&&(fe.g=j),ne&&us(fe,ne),D&&(fe.l=D),B=fe}return D=g.D,j=g.ya,D&&j&&At(B,D,j),At(B,"VER",g.la),Na(g,B),B}function cf(g,j,D){if(j&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=g.Ca&&!g.pa?new Wt(new ja({eb:D})):new Wt(g.pa),j.Ha(g.J),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}t=ku.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Il(){}Il.prototype.g=function(g,j){return new dn(g,j)};function dn(g,j){vt.call(this),this.g=new wu(j),this.l=g,this.h=j&&j.messageUrlParams||null,g=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(g?g["X-WebChannel-Content-Type"]=j.messageContentType:g={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(g?g["X-WebChannel-Client-Profile"]=j.va:g={"X-WebChannel-Client-Profile":j.va}),this.g.S=g,(g=j&&j.Sb)&&!E(g)&&(this.g.m=g),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!E(j)&&(this.g.D=j,g=this.h,g!==null&&j in g&&(g=this.h,j in g&&delete g[j])),this.j=new Gi(this)}k(dn,vt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Mr(this.g)},dn.prototype.o=function(g){var j=this.g;if(typeof g=="string"){var D={};D.__data__=g,g=D}else this.u&&(D={},D.__data__=lo(g),g=D);j.i.push(new Gh(j.Ya++,g)),j.G==3&&Hi(j)},dn.prototype.N=function(){this.g.l=null,delete this.j,Mr(this.g),delete this.g,dn.aa.N.call(this)};function uf(g){zr.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var j=g.__sm__;if(j){e:{for(const D in j){g=D;break e}g=void 0}(this.i=g)&&(g=this.i,j=j!==null&&g in j?j[g]:void 0),this.data=j}else this.data=g}k(uf,zr);function df(){os.call(this),this.status=1}k(df,os);function Gi(g){this.g=g}k(Gi,ku),Gi.prototype.ua=function(){zt(this.g,"a")},Gi.prototype.ta=function(g){zt(this.g,new uf(g))},Gi.prototype.sa=function(g){zt(this.g,new df)},Gi.prototype.ra=function(){zt(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,DM=function(){return new Il},MM=function(){return wa()},RM=ei,i_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,Cp=oe,ge.COMPLETE="complete",OM=ge,ba.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",vt.prototype.listen=vt.prototype.K,ld=ba,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,IM=Wt}).apply(typeof op<"u"?op:typeof self<"u"?self:typeof window<"u"?window:{});const zE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new zk("@firebase/firestore");function Ku(){return rl.logLevel}function Ve(t,...e){if(rl.logLevel<=ut.DEBUG){const r=e.map(r1);rl.debug(`Firestore (${ru}): ${t}`,...r)}}function Ya(t,...e){if(rl.logLevel<=ut.ERROR){const r=e.map(r1);rl.error(`Firestore (${ru}): ${t}`,...r)}}function kc(t,...e){if(rl.logLevel<=ut.WARN){const r=e.map(r1);rl.warn(`Firestore (${ru}): ${t}`,...r)}}function r1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t="Unexpected state"){const e=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: `+t;throw Ya(e),new Error(e)}function Et(t,e){t||et()}function rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends pa{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(tn.UNAUTHENTICATED))}shutdown(){}}class XB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class QB{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Et(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let a=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zs)}},0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Et(typeof n.accessToken=="string"),new LM(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new tn(e)}}class JB{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ZB{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new JB(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Et(this.o===void 0);const n=a=>{a.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,Ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Et(typeof r.token=="string"),this.R=r.token,new eU(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=rU(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function xt(t,e){return t<e?-1:t>e?1:0}function jc(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new De(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new De(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new De(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _r.fromMillis(Date.now())}static fromDate(e){return _r.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new _r(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new tt(e)}static min(){return new tt(new _r(0,0))}static max(){return new tt(new _r(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,r,n){r===void 0?r=0:r>e.length&&et(),n===void 0?n=e.length-r:n>e.length-r&&et(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Pd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Pd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),l=r.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Vt extends Pd{construct(e,r,n){return new Vt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new De(we.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Vt(r)}static emptyPath(){return new Vt([])}}const nU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends Pd{construct(e,r,n){return new Vr(e,r,n)}static isValidIdentifier(e){return nU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new De(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new De(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new De(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(n+=u,i++):(a(),i++)}if(a(),l)throw new De(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vr(r)}static emptyPath(){return new Vr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.path=e}static fromPath(e){return new We(Vt.fromString(e))}static fromName(e){return new We(Vt.fromString(e).popFirst(5))}static empty(){return new We(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Vt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new Vt(e.slice()))}}function iU(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(n===1e9?new _r(r+1,0):new _r(r,n));return new Xs(i,We.empty(),e)}function aU(t){return new Xs(t.readTime,t.key,-1)}class Xs{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Xs(tt.min(),We.empty(),-1)}static max(){return new Xs(tt.max(),We.empty(),-1)}}function sU(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=We.comparator(t.documentKey,e.documentKey),r!==0?r:xt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==oU)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Se((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Se?r:Se.resolve(r)}catch(r){return Se.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Se.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Se.reject(r)}static resolve(e){return new Se((r,n)=>{r(e)})}static reject(e){return new Se((r,n)=>{n(e)})}static waitFor(e){return new Se((r,n)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&r()},d=>n(d))}),l=!0,a===i&&r()})}static or(e){let r=Se.resolve(!1);for(const n of e)r=r.next(i=>i?Se.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new Se((n,i)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const h=d;r(e[h]).next(p=>{l[h]=p,++u,u===a&&n(l)},p=>i(p))}})}static doWhile(e,r){return new Se((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function cU(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Eh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}n1.oe=-1;function r0(t){return t==null}function Hp(t){return t===0&&1/t==-1/0}function uU(t){return typeof t=="number"&&Number.isInteger(t)&&!Hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function pl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function FM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,r){this.comparator=e,this.root=r||Fr.EMPTY}insert(e,r){return new Jt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lp(this.root,e,this.comparator,!1)}getReverseIterator(){return new lp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lp(this.root,e,this.comparator,!0)}}class lp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Fr.RED,this.left=i??Fr.EMPTY,this.right=a??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Fr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Fr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1;Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Fr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Br(this.comparator);return r.data=e,r}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(Vr.comparator)}static empty(){return new Yn([])}unionWith(e){let r=new Br(Vr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Yn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return jc(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new VM("Invalid base64 string: "+a):a}}(e);return new qr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new qr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const dU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(Et(!!t),typeof t=="string"){let e=0;const r=dU.exec(t);if(Et(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:or(t.seconds),nanos:or(t.nanos)}}function or(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nl(t){return typeof t=="string"?qr.fromBase64String(t):qr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function a1(t){const e=t.mapValue.fields.__previous_value__;return i1(e)?a1(e):e}function Cd(t){const e=Qs(t.mapValue.fields.__local_write_time__.timestampValue);return new _r(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,r,n,i,a,l,u,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}class Id{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Id("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp={mapValue:{}};function il(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i1(t)?4:pU(t)?9007199254740991:fU(t)?10:11:et()}function da(t,e){if(t===e)return!0;const r=il(t);if(r!==il(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cd(t).isEqual(Cd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Qs(i.timestampValue),u=Qs(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return nl(i.bytesValue).isEqual(nl(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return or(i.geoPointValue.latitude)===or(a.geoPointValue.latitude)&&or(i.geoPointValue.longitude)===or(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return or(i.integerValue)===or(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=or(i.doubleValue),u=or(a.doubleValue);return l===u?Hp(l)===Hp(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return jc(t.arrayValue.values||[],e.arrayValue.values||[],da);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(WE(l)!==WE(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!da(l[d],u[d])))return!1;return!0}(t,e);default:return et()}}function Od(t,e){return(t.values||[]).find(r=>da(r,e))!==void 0}function Sc(t,e){if(t===e)return 0;const r=il(t),n=il(e);if(r!==n)return xt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return xt(t.booleanValue,e.booleanValue);case 2:return function(a,l){const u=or(a.integerValue||a.doubleValue),d=or(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(t,e);case 3:return GE(t.timestampValue,e.timestampValue);case 4:return GE(Cd(t),Cd(e));case 5:return xt(t.stringValue,e.stringValue);case 6:return function(a,l){const u=nl(a),d=nl(l);return u.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=xt(u[h],d[h]);if(p!==0)return p}return xt(u.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const u=xt(or(a.latitude),or(l.latitude));return u!==0?u:xt(or(a.longitude),or(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return KE(t.arrayValue,e.arrayValue);case 10:return function(a,l){var u,d,h,p;const m=a.fields||{},y=l.fields||{},x=(u=m.value)===null||u===void 0?void 0:u.arrayValue,k=(d=y.value)===null||d===void 0?void 0:d.arrayValue,_=xt(((h=x?.values)===null||h===void 0?void 0:h.length)||0,((p=k?.values)===null||p===void 0?void 0:p.length)||0);return _!==0?_:KE(x,k)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===cp.mapValue&&l===cp.mapValue)return 0;if(a===cp.mapValue)return 1;if(l===cp.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let m=0;m<d.length&&m<p.length;++m){const y=xt(d[m],p[m]);if(y!==0)return y;const x=Sc(u[d[m]],h[p[m]]);if(x!==0)return x}return xt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw et()}}function GE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xt(t,e);const r=Qs(t),n=Qs(e),i=xt(r.seconds,n.seconds);return i!==0?i:xt(r.nanos,n.nanos)}function KE(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Sc(r[i],n[i]);if(a)return a}return xt(r.length,n.length)}function Nc(t){return a_(t)}function a_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Qs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return nl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return We.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=a_(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const l of n)a?a=!1:i+=",",i+=`${l}:${a_(r.fields[l])}`;return i+"}"}(t.mapValue):et()}function YE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function s_(t){return!!t&&"integerValue"in t}function s1(t){return!!t&&"arrayValue"in t}function XE(t){return!!t&&"nullValue"in t}function QE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ip(t){return!!t&&"mapValue"in t}function fU(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function gd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=gd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=gd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function pU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Ip(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=gd(r)}setAll(e){let r=Vr.emptyPath(),n={},i=[];e.forEach((l,u)=>{if(!r.isImmediateParentOf(u)){const d=this.getFieldsMap(r);this.applyChanges(d,n,i),n={},i=[],r=u.popLast()}l?n[u.lastSegment()]=gd(l):i.push(u.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Ip(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return da(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Ip(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){pl(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Pn(gd(this.value))}}function BM(t){const e=[];return pl(t.fields,(r,n)=>{const i=new Vr([r]);if(Ip(n)){const a=BM(n.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,r,n,i,a,l,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new rn(e,0,tt.min(),tt.min(),tt.min(),Pn.empty(),0)}static newFoundDocument(e,r,n,i){return new rn(e,1,r,tt.min(),n,i,0)}static newNoDocument(e,r){return new rn(e,2,r,tt.min(),tt.min(),Pn.empty(),0)}static newUnknownDocument(e,r){return new rn(e,3,r,tt.min(),tt.min(),Pn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,r){this.position=e,this.inclusive=r}}function JE(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?n=We.comparator(We.fromName(l.referenceValue),r.key):n=Sc(l,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function ZE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!da(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,r="asc"){this.field=e,this.dir=r}}function mU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UM=class{};class hr extends UM{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new vU(e,r,n):r==="array-contains"?new bU(e,n):r==="in"?new wU(e,n):r==="not-in"?new _U(e,n):r==="array-contains-any"?new kU(e,n):new hr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new yU(e,n):new xU(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Sc(r,this.value)):r!==null&&il(this.value)===il(r)&&this.matchesComparison(Sc(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends UM{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Fi(e,r)}matches(e){return qM(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qM(t){return t.op==="and"}function zM(t){return gU(t)&&qM(t)}function gU(t){for(const e of t.filters)if(e instanceof Fi)return!1;return!0}function o_(t){if(t instanceof hr)return t.field.canonicalString()+t.op.toString()+Nc(t.value);if(zM(t))return t.filters.map(e=>o_(e)).join(",");{const e=t.filters.map(r=>o_(r)).join(",");return`${t.op}(${e})`}}function WM(t,e){return t instanceof hr?function(n,i){return i instanceof hr&&n.op===i.op&&n.field.isEqual(i.field)&&da(n.value,i.value)}(t,e):t instanceof Fi?function(n,i){return i instanceof Fi&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,l,u)=>a&&WM(l,i.filters[u]),!0):!1}(t,e):void et()}function HM(t){return t instanceof hr?function(r){return`${r.field.canonicalString()} ${r.op} ${Nc(r.value)}`}(t):t instanceof Fi?function(r){return r.op.toString()+" {"+r.getFilters().map(HM).join(" ,")+"}"}(t):"Filter"}class vU extends hr{constructor(e,r,n){super(e,r,n),this.key=We.fromName(n.referenceValue)}matches(e){const r=We.comparator(e.key,this.key);return this.matchesComparison(r)}}class yU extends hr{constructor(e,r){super(e,"in",r),this.keys=GM("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class xU extends hr{constructor(e,r){super(e,"not-in",r),this.keys=GM("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function GM(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>We.fromName(n.referenceValue))}class bU extends hr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return s1(r)&&Od(r.arrayValue,this.value)}}class wU extends hr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Od(this.value.arrayValue,r)}}class _U extends hr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Od(this.value.arrayValue,r)}}class kU extends hr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!s1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Od(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,r=null,n=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.ue=null}}function eT(t,e=null,r=[],n=[],i=null,a=null,l=null){return new jU(t,e,r,n,i,a,l)}function o1(t){const e=rt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>o_(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),r0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Nc(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Nc(n)).join(",")),e.ue=r}return e.ue}function l1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!mU(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!WM(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZE(t.startAt,e.startAt)&&ZE(t.endAt,e.endAt)}function l_(t){return We.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,r=null,n=[],i=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function SU(t,e,r,n,i,a,l,u){return new Th(t,e,r,n,i,a,l,u)}function c1(t){return new Th(t)}function tT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KM(t){return t.collectionGroup!==null}function vd(t){const e=rt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Br(Vr.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Kp(a,n))}),r.has(Vr.keyField().canonicalString())||e.ce.push(new Kp(Vr.keyField(),n))}return e.ce}function sa(t){const e=rt(t);return e.le||(e.le=NU(e,vd(t))),e.le}function NU(t,e){if(t.limitType==="F")return eT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Kp(i.field,a)});const r=t.endAt?new Gp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Gp(t.startAt.position,t.startAt.inclusive):null;return eT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function c_(t,e){const r=t.filters.concat([e]);return new Th(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function u_(t,e,r){return new Th(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function n0(t,e){return l1(sa(t),sa(e))&&t.limitType===e.limitType}function YM(t){return`${o1(sa(t))}|lt:${t.limitType}`}function ac(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>HM(i)).join(", ")}]`),r0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Nc(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Nc(i)).join(",")),`Target(${n})`}(sa(t))}; limitType=${t.limitType})`}function i0(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):We.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of vd(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(l,u,d){const h=JE(l,u,d);return l.inclusive?h<=0:h<0}(n.startAt,vd(n),i)||n.endAt&&!function(l,u,d){const h=JE(l,u,d);return l.inclusive?h>=0:h>0}(n.endAt,vd(n),i))}(t,e)}function EU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XM(t){return(e,r)=>{let n=!1;for(const i of vd(t)){const a=TU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function TU(t,e,r){const n=t.field.isKeyField()?We.comparator(e.key,r.key):function(a,l,u){const d=l.data.field(a),h=u.data.field(a);return d!==null&&h!==null?Sc(d,h):et()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pl(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return FM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=new Jt(We.comparator);function Xa(){return AU}const QM=new Jt(We.comparator);function cd(...t){let e=QM;for(const r of t)e=e.insert(r.key,r);return e}function JM(t){let e=QM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Uo(){return yd()}function ZM(){return yd()}function yd(){return new nu(t=>t.toString(),(t,e)=>t.isEqual(e))}const PU=new Jt(We.comparator),CU=new Br(We.comparator);function lt(...t){let e=CU;for(const r of t)e=e.add(r);return e}const IU=new Br(xt);function OU(){return IU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(e)?"-0":e}}function eD(t){return{integerValue:""+t}}function RU(t,e){return uU(e)?eD(e):u1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this._=void 0}}function MU(t,e,r){return t instanceof Rd?function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&i1(a)&&(a=a1(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(r,e):t instanceof Md?rD(t,e):t instanceof Dd?nD(t,e):function(i,a){const l=tD(i,a),u=rT(l)+rT(i.Pe);return s_(l)&&s_(i.Pe)?eD(u):u1(i.serializer,u)}(t,e)}function DU(t,e,r){return t instanceof Md?rD(t,e):t instanceof Dd?nD(t,e):r}function tD(t,e){return t instanceof Yp?function(n){return s_(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Rd extends a0{}class Md extends a0{constructor(e){super(),this.elements=e}}function rD(t,e){const r=iD(e);for(const n of t.elements)r.some(i=>da(i,n))||r.push(n);return{arrayValue:{values:r}}}class Dd extends a0{constructor(e){super(),this.elements=e}}function nD(t,e){let r=iD(e);for(const n of t.elements)r=r.filter(i=>!da(i,n));return{arrayValue:{values:r}}}class Yp extends a0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function rT(t){return or(t.integerValue||t.doubleValue)}function iD(t){return s1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,r){this.field=e,this.transform=r}}function $U(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Md&&i instanceof Md||n instanceof Dd&&i instanceof Dd?jc(n.elements,i.elements,da):n instanceof Yp&&i instanceof Yp?da(n.Pe,i.Pe):n instanceof Rd&&i instanceof Rd}(t.transform,e.transform)}class FU{constructor(e,r){this.version=e,this.transformResults=r}}class xn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class s0{}function aD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new o0(t.key,xn.none()):new Ah(t.key,t.data,xn.none());{const r=t.data,n=Pn.empty();let i=new Br(Vr.comparator);for(let a of e.fields)if(!i.has(a)){let l=r.field(a);l===null&&a.length>1&&(a=a.popLast(),l=r.field(a)),l===null?n.delete(a):n.set(a,l),i=i.add(a)}return new to(t.key,n,new Yn(i.toArray()),xn.none())}}function VU(t,e,r){t instanceof Ah?function(i,a,l){const u=i.value.clone(),d=iT(i.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,r):t instanceof to?function(i,a,l){if(!Op(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=iT(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(sD(i)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,r):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,r)}function xd(t,e,r,n){return t instanceof Ah?function(a,l,u,d){if(!Op(a.precondition,l))return u;const h=a.value.clone(),p=aT(a.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,r,n):t instanceof to?function(a,l,u,d){if(!Op(a.precondition,l))return u;const h=aT(a.fieldTransforms,d,l),p=l.data;return p.setAll(sD(a)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(a,l,u){return Op(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,r)}function BU(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=tD(n.transform,i||null);a!=null&&(r===null&&(r=Pn.empty()),r.set(n.field,a))}return r||null}function nT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&jc(n,i,(a,l)=>$U(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ah extends s0{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class to extends s0{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sD(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function iT(t,e,r){const n=new Map;Et(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);n.set(a.field,DU(l,u,r[i]))}return n}function aT(t,e,r){const n=new Map;for(const i of t){const a=i.transform,l=r.data.field(i.field);n.set(i.field,MU(a,l,e))}return n}class o0 extends s0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UU extends s0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&VU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=xd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=xd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=ZM();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=r.has(i.key)?null:u;const d=aD(l,u);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(tt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),lt())}isEqual(e){return this.batchId===e.batchId&&jc(this.mutations,e.mutations,(r,n)=>nT(r,n))&&jc(this.baseMutations,e.baseMutations,(r,n)=>nT(r,n))}}class d1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Et(e.mutations.length===n.length);let i=function(){return PU}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,n[l].version);return new d1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur,pt;function HU(t){switch(t){default:return et();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function oD(t){if(t===void 0)return Ya("GRPC error has no .code"),we.UNKNOWN;switch(t){case ur.OK:return we.OK;case ur.CANCELLED:return we.CANCELLED;case ur.UNKNOWN:return we.UNKNOWN;case ur.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case ur.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case ur.INTERNAL:return we.INTERNAL;case ur.UNAVAILABLE:return we.UNAVAILABLE;case ur.UNAUTHENTICATED:return we.UNAUTHENTICATED;case ur.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case ur.NOT_FOUND:return we.NOT_FOUND;case ur.ALREADY_EXISTS:return we.ALREADY_EXISTS;case ur.PERMISSION_DENIED:return we.PERMISSION_DENIED;case ur.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case ur.ABORTED:return we.ABORTED;case ur.OUT_OF_RANGE:return we.OUT_OF_RANGE;case ur.UNIMPLEMENTED:return we.UNIMPLEMENTED;case ur.DATA_LOSS:return we.DATA_LOSS;default:return et()}}(pt=ur||(ur={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new Yo([4294967295,4294967295],0);function sT(t){const e=GU().encode(t),r=new CM;return r.update(e),new Uint8Array(r.digest())}function oT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Yo([r,n],0),new Yo([i,a],0)]}class h1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ud(`Invalid padding: ${r}`);if(n<0)throw new ud(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ud(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new ud(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Yo.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Yo.fromNumber(n)));return i.compare(KU)===1&&(i=new Yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=sT(e),[n,i]=oT(r);for(let a=0;a<this.hashCount;a++){const l=this.Ee(n,i,a);if(!this.de(l))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new h1(a,i,r);return n.forEach(u=>l.insert(u)),l}insert(e){if(this.Ie===0)return;const r=sT(e),[n,i]=oT(r);for(let a=0;a<this.hashCount;a++){const l=this.Ee(n,i,a);this.Ae(l)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Ph.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new l0(tt.min(),i,new Jt(xt),Xa(),lt())}}class Ph{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ph(n,r,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class lD{constructor(e,r){this.targetId=e,this.me=r}}class cD{constructor(e,r,n=qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class lT{constructor(){this.fe=0,this.ge=uT(),this.pe=qr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=lt(),r=lt(),n=lt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:et()}}),new Ph(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=uT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YU{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xa(),this.qe=cT(),this.Qe=new Jt(xt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:et()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(l_(a))if(n===0){const l=new We(a.path);this.Ue(r,l,rn.newNoDocument(l,tt.min()))}else Et(n===1);else{const l=this.Ye(r);if(l!==n){const u=this.Ze(e),d=u?this.Xe(u,e,l):1;if(d!==0){this.je(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,h)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let l,u;try{l=nl(n).toUint8Array()}catch(d){if(d instanceof VM)return kc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new h1(l,i,a)}catch(d){return kc(d instanceof ud?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ie===0?null:u}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const l=this.Le.tt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,l)=>{const u=this.Je(l);if(u){if(a.current&&l_(u.target)){const d=new We(u.target.path);this.ke.get(d)!==null||this.it(l,d)||this.Ue(l,d,rn.newNoDocument(d,e))}a.be&&(r.set(l,a.ve()),a.Ce())}});let n=lt();this.qe.forEach((a,l)=>{let u=!0;l.forEachWhile(d=>{const h=this.Je(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const i=new l0(e,r,this.Qe,this.ke,n);return this.ke=Xa(),this.qe=cT(),this.Qe=new Jt(xt),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new lT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Br(xt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ve("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function cT(){return new Jt(We.comparator)}function uT(){return new Jt(We.comparator)}const XU={asc:"ASCENDING",desc:"DESCENDING"},QU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JU={and:"AND",or:"OR"};class ZU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function d_(t,e){return t.useProto3Json||r0(e)?e:{value:e}}function Xp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function e9(t,e){return Xp(t,e.toTimestamp())}function oa(t){return Et(!!t),tt.fromTimestamp(function(r){const n=Qs(r);return new _r(n.seconds,n.nanos)}(t))}function f1(t,e){return h_(t,e).canonicalString()}function h_(t,e){const r=function(i){return new Vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function dD(t){const e=Vt.fromString(t);return Et(gD(e)),e}function f_(t,e){return f1(t.databaseId,e.path)}function Vv(t,e){const r=dD(e);if(r.get(1)!==t.databaseId.projectId)throw new De(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new De(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new We(fD(r))}function hD(t,e){return f1(t.databaseId,e)}function t9(t){const e=dD(t);return e.length===4?Vt.emptyPath():fD(e)}function p_(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fD(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dT(t,e,r){return{name:f_(t,e),fields:r.value.mapValue.fields}}function r9(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:et()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,p){return h.useProto3Json?(Et(p===void 0||typeof p=="string"),qr.fromBase64String(p||"")):(Et(p===void 0||p instanceof Buffer||p instanceof Uint8Array),qr.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const p=h.code===void 0?we.UNKNOWN:oD(h.code);return new De(p,h.message||"")}(l);r=new cD(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Vv(t,n.document.name),a=oa(n.document.updateTime),l=n.document.createTime?oa(n.document.createTime):tt.min(),u=new Pn({mapValue:{fields:n.document.fields}}),d=rn.newFoundDocument(i,a,l,u),h=n.targetIds||[],p=n.removedTargetIds||[];r=new Rp(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Vv(t,n.document),a=n.readTime?oa(n.readTime):tt.min(),l=rn.newNoDocument(i,a),u=n.removedTargetIds||[];r=new Rp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Vv(t,n.document),a=n.removedTargetIds||[];r=new Rp([],a,i,null)}else{if(!("filter"in e))return et();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,l=new WU(i,a),u=n.targetId;r=new lD(u,l)}}return r}function n9(t,e){let r;if(e instanceof Ah)r={update:dT(t,e.key,e.value)};else if(e instanceof o0)r={delete:f_(t,e.key)};else if(e instanceof to)r={update:dT(t,e.key,e.data),updateMask:h9(e.fieldMask)};else{if(!(e instanceof UU))return et();r={verify:f_(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,l){const u=l.transform;if(u instanceof Rd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Md)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Dd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Yp)return{fieldPath:l.field.canonicalString(),increment:u.Pe};throw et()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:e9(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:et()}(t,e.precondition)),r}function i9(t,e){return t&&t.length>0?(Et(e!==void 0),t.map(r=>function(i,a){let l=i.updateTime?oa(i.updateTime):oa(a);return l.isEqual(tt.min())&&(l=oa(a)),new FU(l,i.transformResults||[])}(r,e))):[]}function a9(t,e){return{documents:[hD(t,e.path)]}}function s9(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=hD(t,i);const a=function(h){if(h.length!==0)return mD(Fi.create(h,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const l=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:sc(y.field),direction:c9(y.dir)}}(p))}(e.orderBy);l&&(r.structuredQuery.orderBy=l);const u=d_(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:r,parent:i}}function o9(t){let e=t9(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Et(n===1);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=function(m){const y=pD(m);return y instanceof Fi&&zM(y)?y.getFilters():[y]}(r.where));let l=[];r.orderBy&&(l=function(m){return m.map(y=>function(k){return new Kp(oc(k.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(y))}(r.orderBy));let u=null;r.limit&&(u=function(m){let y;return y=typeof m=="object"?m.value:m,r0(y)?null:y}(r.limit));let d=null;r.startAt&&(d=function(m){const y=!!m.before,x=m.values||[];return new Gp(x,y)}(r.startAt));let h=null;return r.endAt&&(h=function(m){const y=!m.before,x=m.values||[];return new Gp(x,y)}(r.endAt)),SU(e,i,l,a,u,"F",d,h)}function l9(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function pD(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=oc(r.unaryFilter.field);return hr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=oc(r.unaryFilter.field);return hr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=oc(r.unaryFilter.field);return hr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=oc(r.unaryFilter.field);return hr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return et()}}(t):t.fieldFilter!==void 0?function(r){return hr.create(oc(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Fi.create(r.compositeFilter.filters.map(n=>pD(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return et()}}(r.compositeFilter.op))}(t):et()}function c9(t){return XU[t]}function u9(t){return QU[t]}function d9(t){return JU[t]}function sc(t){return{fieldPath:t.canonicalString()}}function oc(t){return Vr.fromServerFormat(t.fieldPath)}function mD(t){return t instanceof hr?function(r){if(r.op==="=="){if(QE(r.value))return{unaryFilter:{field:sc(r.field),op:"IS_NAN"}};if(XE(r.value))return{unaryFilter:{field:sc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(QE(r.value))return{unaryFilter:{field:sc(r.field),op:"IS_NOT_NAN"}};if(XE(r.value))return{unaryFilter:{field:sc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sc(r.field),op:u9(r.op),value:r.value}}}(t):t instanceof Fi?function(r){const n=r.getFilters().map(i=>mD(i));return n.length===1?n[0]:{compositeFilter:{op:d9(r.op),filters:n}}}(t):et()}function h9(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function gD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,r,n,i,a=tt.min(),l=tt.min(),u=qr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.ct=e}}function p9(t){const e=o9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?u_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.un=new g9}addToCollectionParentIndex(e,r){return this.un.add(r),Se.resolve()}getCollectionParents(e,r){return Se.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Se.resolve()}deleteFieldIndex(e,r){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,r){return Se.resolve()}getDocumentsMatchingTarget(e,r){return Se.resolve(null)}getIndexType(e,r){return Se.resolve(0)}getFieldIndexes(e,r){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,r){return Se.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,r){return Se.resolve(Xs.min())}updateCollectionGroup(e,r,n){return Se.resolve()}updateIndexEntries(e,r){return Se.resolve()}}class g9{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Br(Vt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Br(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ec(0)}static kn(){return new Ec(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.changes=new nu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Se.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&xd(n.mutation,i,Yn.empty(),_r.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,lt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=lt()){const i=Uo();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let l=cd();return a.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,r){const n=Uo();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,lt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{r.set(l,u)})})}computeViews(e,r,n,i){let a=Xa();const l=yd(),u=function(){return yd()}();return r.forEach((d,h)=>{const p=n.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof to)?a=a.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),xd(p.mutation,h,p.mutation.getFieldMask(),_r.now())):l.set(h.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((h,p)=>l.set(h,p)),r.forEach((h,p)=>{var m;return u.set(h,new y9(p,(m=l.get(h))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,r){const n=yd();let i=new Jt((l,u)=>l-u),a=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||Yn.empty();p=u.applyToLocalView(h,p),n.set(d,p);const m=(i.get(u.batchId)||lt()).add(d);i=i.insert(u.batchId,m)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,m=ZM();p.forEach(y=>{if(!a.has(y)){const x=aD(r.get(y),n.get(y));x!==null&&m.set(y,x),a=a.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return Se.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(l){return We.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):KM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):Se.resolve(Uo());let u=-1,d=a;return l.next(h=>Se.forEach(h,(p,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),a.get(p)?Se.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{d=d.insert(p,y)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,d,h,lt())).next(p=>({batchId:u,changes:JM(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new We(r)).next(n=>{let i=cd();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let l=cd();return this.indexManager.getCollectionParents(e,a).next(u=>Se.forEach(u,d=>{const h=function(m,y){return new Th(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next(p=>{p.forEach((m,y)=>{l=l.insert(m,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(l=>{a.forEach((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,rn.newInvalidDocument(p)))});let u=cd();return l.forEach((d,h)=>{const p=a.get(d);p!==void 0&&xd(p.mutation,h,Yn.empty(),_r.now()),i0(r,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Se.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:oa(i.createTime)}}(r)),Se.resolve()}getNamedQuery(e,r){return Se.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:p9(i.bundledQuery),readTime:oa(i.readTime)}}(r)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.overlays=new Jt(We.comparator),this.Ir=new Map}getOverlay(e,r){return Se.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Uo();return Se.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),Se.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),Se.resolve()}getOverlaysForCollection(e,r,n){const i=Uo(),a=r.length+1,l=new We(r.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>n&&i.set(d.getKey(),d)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Jt((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=a.get(h.largestBatchId);p===null&&(p=Uo(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=Uo(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=i)););return Se.resolve(u)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new zU(r,n));let a=this.Ir.get(r);a===void 0&&(a=lt(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this.sessionToken=qr.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.Tr=new Br(Ar.Er),this.dr=new Br(Ar.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Ar(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Ar(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new We(new Vt([])),n=new Ar(r,e),i=new Ar(r,e+1),a=[];return this.dr.forEachInRange([n,i],l=>{this.Vr(l),a.push(l.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new We(new Vt([])),n=new Ar(r,e),i=new Ar(r,e+1);let a=lt();return this.dr.forEachInRange([n,i],l=>{a=a.add(l.key)}),a}containsKey(e){const r=new Ar(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ar{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return We.comparator(e.key,r.key)||xt(e.wr,r.wr)}static Ar(e,r){return xt(e.wr,r.wr)||We.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Br(Ar.Er)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new qU(a,r,n,i);this.mutationQueue.push(l);for(const u of i)this.br=this.br.add(new Ar(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Se.resolve(l)}lookupMutationBatch(e,r){return Se.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return Se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ar(r,0),i=new Ar(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],l=>{const u=this.Dr(l.wr);a.push(u)}),Se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Br(xt);return r.forEach(i=>{const a=new Ar(i,0),l=new Ar(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,l],u=>{n=n.add(u.wr)})}),Se.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;We.isDocumentKey(a)||(a=a.child(""));const l=new Ar(new We(a),0);let u=new Br(xt);return this.br.forEachWhile(d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.wr)),!0)},l),Se.resolve(this.Cr(u))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Et(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Se.forEach(r.mutations,i=>{const a=new Ar(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Ar(r,0),i=this.br.firstAfterOrEqual(n);return Se.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.Mr=e,this.docs=function(){return new Jt(We.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,l=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Se.resolve(n?n.document.mutableCopy():rn.newInvalidDocument(r))}getEntries(e,r){let n=Xa();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():rn.newInvalidDocument(i))}),Se.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Xa();const l=r.path,u=new We(l.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||sU(aU(p),n)<=0||(i.has(p.key)||i0(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Se.resolve(a)}getAllFromCollectionGroup(e,r,n,i){et()}Or(e,r){return Se.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new S9(this)}getSize(e){return Se.resolve(this.size)}}class S9 extends v9{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),Se.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.persistence=e,this.Nr=new nu(r=>o1(r),l1),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new p1,this.targetCount=0,this.kr=Ec.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Se.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Ec(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Se.resolve()}updateTargetData(e,r){return this.Kn(r),Se.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((l,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Nr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Se.waitFor(a).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Se.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Se.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Se.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Se.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Se.resolve(n)}containsKey(e,r){return Se.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,r){this.qr={},this.overlays={},this.Qr=new n1(0),this.Kr=!1,this.Kr=!0,this.$r=new _9,this.referenceDelegate=e(this),this.Ur=new N9(this),this.indexManager=new m9,this.remoteDocumentCache=function(i){return new j9(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new f9(r),this.Gr=new b9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new w9,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new k9(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ve("MemoryPersistence","Starting transaction:",e);const i=new T9(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return Se.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class T9 extends lU{constructor(e){super(),this.currentSequenceNumber=e}}class m1{constructor(e){this.persistence=e,this.Jr=new p1,this.Yr=null}static Zr(e){return new m1(e)}get Xr(){if(this.Yr)return this.Yr;throw et()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Se.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Se.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Se.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Xr,n=>{const i=We.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,tt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Se.or([()=>Se.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=lt(),i=lt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new g1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yF()?8:cU(sn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new A9;return this.Xi(e,r,l).next(u=>{if(a.result=u,this.zi)return this.es(e,r,l,u.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Ku()<=ut.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",ac(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Se.resolve()):(Ku()<=ut.DEBUG&&Ve("QueryEngine","Query:",ac(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Ku()<=ut.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",ac(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sa(r))):Se.resolve())}Yi(e,r){if(tT(r))return Se.resolve(null);let n=sa(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=u_(r,null,"F"),n=sa(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const l=lt(...a);return this.Ji.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,n).next(d=>{const h=this.ts(r,u);return this.ns(r,h,l,d.readTime)?this.Yi(e,u_(r,null,"F")):this.rs(e,h,r,d)}))})))}Zi(e,r,n,i){return tT(r)||i.isEqual(tt.min())?Se.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const l=this.ts(r,a);return this.ns(r,l,n,i)?Se.resolve(null):(Ku()<=ut.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ac(r)),this.rs(e,l,r,iU(i,-1)).next(u=>u))})}ts(e,r){let n=new Br(XM(e));return r.forEach((i,a)=>{i0(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Ku()<=ut.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",ac(r)),this.Ji.getDocumentsMatchingQuery(e,r,Xs.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Jt(xt),this._s=new nu(a=>o1(a),l1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function I9(t,e,r,n){return new C9(t,e,r,n)}async function vD(t,e){const r=rt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const l=[],u=[];let d=lt();for(const h of i){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next(h=>({hs:h,removedBatchIds:l,addedBatchIds:u}))})})}function O9(t,e){const r=rt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(u,d,h,p){const m=h.batch,y=m.keys();let x=Se.resolve();return y.forEach(k=>{x=x.next(()=>p.getEntry(d,k)).next(_=>{const b=h.docVersions.get(k);Et(b!==null),_.version.compareTo(b)<0&&(m.applyToRemoteDocument(_,h),_.isValidDocument()&&(_.setReadTime(h.commitVersion),p.addEntry(_)))})}),x.next(()=>u.mutationQueue.removeMutationBatch(d,m))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let d=lt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function yD(t){const e=rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function R9(t,e){const r=rt(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const u=[];e.targetChanges.forEach((p,m)=>{const y=i.get(m);if(!y)return;u.push(r.Ur.removeMatchingKeys(a,p.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(a,p.addedDocuments,m)));let x=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(qr.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,n)),i=i.insert(m,x),function(_,b,A){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(y,x,p)&&u.push(r.Ur.updateTargetData(a,x))});let d=Xa(),h=lt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(M9(a,l,e.documentUpdates).next(p=>{d=p.Ps,h=p.Is})),!n.isEqual(tt.min())){const p=r.Ur.getLastRemoteSnapshotVersion(a).next(m=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));u.push(p)}return Se.waitFor(u).next(()=>l.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,d,h)).next(()=>d)}).then(a=>(r.os=i,a))}function M9(t,e,r){let n=lt(),i=lt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let l=Xa();return r.forEach((u,d)=>{const h=a.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(tt.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Ve("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{Ps:l,Is:i}})}function D9(t,e){const r=rt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function L9(t,e){const r=rt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,Se.resolve(i)):r.Ur.allocateTargetId(n).next(l=>(i=new Vs(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function m_(t,e,r){const n=rt(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Eh(l))throw l;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function hT(t,e,r){const n=rt(t);let i=tt.min(),a=lt();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,p){const m=rt(d),y=m._s.get(p);return y!==void 0?Se.resolve(m.os.get(y)):m.Ur.getTargetData(h,p)}(n,l,sa(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(l,u.targetId).next(d=>{a=d})}).next(()=>n.ss.getDocumentsMatchingQuery(l,e,r?i:tt.min(),r?a:lt())).next(u=>($9(n,EU(e),u),{documents:u,Ts:a})))}function $9(t,e,r){let n=t.us.get(e)||tt.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class fT{constructor(){this.activeTargetIds=OU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F9{constructor(){this.so=new fT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new fT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let up=null;function Bv(){return up===null?up=function(){return 268435456+Math.round(2147483648*Math.random())}():up++,"0x"+up.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="WebChannelConnection";class q9 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,l){const u=Bv(),d=this.xo(r,n.toUriEncodedString());Ve("RestConnection",`Sending RPC '${r}' ${u}:`,d,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,a,l),this.No(r,d,h,i).then(p=>(Ve("RestConnection",`Received RPC '${r}' ${u}: `,p),p),p=>{throw kc("RestConnection",`RPC '${r}' ${u} failed with error: `,p,"url: ",d,"request:",i),p})}Lo(r,n,i,a,l,u){return this.Mo(r,n,i,a,l)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ru}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>r[l]=a),i&&i.headers.forEach((a,l)=>r[l]=a)}xo(r,n){const i=B9[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=Bv();return new Promise((l,u)=>{const d=new IM;d.setWithCredentials(!0),d.listenOnce(OM.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Cp.NO_ERROR:const p=d.getResponseJson();Ve(Qr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Cp.TIMEOUT:Ve(Qr,`RPC '${e}' ${a} timed out`),u(new De(we.DEADLINE_EXCEEDED,"Request time out"));break;case Cp.HTTP_ERROR:const m=d.getStatus();if(Ve(Qr,`RPC '${e}' ${a} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const k=function(b){const A=b.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(A)>=0?A:we.UNKNOWN}(x.status);u(new De(k,x.message))}else u(new De(we.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new De(we.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Ve(Qr,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);Ve(Qr,`RPC '${e}' ${a} sending request:`,i),d.send(r,"POST",h,n,15)})}Bo(e,r,n){const i=Bv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=DM(),u=MM(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=a.join("");Ve(Qr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const m=l.createWebChannel(p,d);let y=!1,x=!1;const k=new U9({Io:b=>{x?Ve(Qr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(Ve(Qr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Ve(Qr,`RPC '${e}' stream ${i} sending:`,b),m.send(b))},To:()=>m.close()}),_=(b,A,E)=>{b.listen(A,P=>{try{E(P)}catch(O){setTimeout(()=>{throw O},0)}})};return _(m,ld.EventType.OPEN,()=>{x||(Ve(Qr,`RPC '${e}' stream ${i} transport opened.`),k.yo())}),_(m,ld.EventType.CLOSE,()=>{x||(x=!0,Ve(Qr,`RPC '${e}' stream ${i} transport closed`),k.So())}),_(m,ld.EventType.ERROR,b=>{x||(x=!0,kc(Qr,`RPC '${e}' stream ${i} transport errored:`,b),k.So(new De(we.UNAVAILABLE,"The operation could not be completed")))}),_(m,ld.EventType.MESSAGE,b=>{var A;if(!x){const E=b.data[0];Et(!!E);const P=E,O=P.error||((A=P[0])===null||A===void 0?void 0:A.error);if(O){Ve(Qr,`RPC '${e}' stream ${i} received error:`,O);const N=O.status;let I=function(L){const M=ur[L];if(M!==void 0)return oD(M)}(N),T=O.message;I===void 0&&(I=we.INTERNAL,T="Unknown error status: "+N+" with message "+O.message),x=!0,k.So(new De(I,T)),m.close()}else Ve(Qr,`RPC '${e}' stream ${i} received:`,E),k.bo(E)}}),_(u,RM.STAT_EVENT,b=>{b.stat===i_.PROXY?Ve(Qr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===i_.NOPROXY&&Ve(Qr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function Uv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){return new ZU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,r,n,i,a,l,u,d){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xD(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(Ya(r.toString()),Ya("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new De(we.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z9 extends bD{constructor(e,r,n,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,l),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=r9(this.serializer,e),n=function(a){if(!("targetChange"in a))return tt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?oa(l.readTime):tt.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=p_(this.serializer),r.addTarget=function(a,l){let u;const d=l.target;if(u=l_(d)?{documents:a9(a,d)}:{query:s9(a,d)._t},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=uD(a,l.resumeToken);const h=d_(a,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(tt.min())>0){u.readTime=Xp(a,l.snapshotVersion.toTimestamp());const h=d_(a,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const n=l9(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=p_(this.serializer),r.removeTarget=e,this.a_(r)}}class W9 extends bD{constructor(e,r,n,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,l),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Et(!!e.streamToken),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=i9(e.writeResults,e.commitTime),n=oa(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=p_(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>n9(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new De(we.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Mo(e,h_(r,n),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new De(we.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Lo(e,h_(r,n),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new De(we.UNKNOWN,l.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class G9{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ya(r),this.D_=!1):Ve("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(l=>{n.enqueueAndForget(async()=>{ml(this)&&(Ve("RemoteStore","Restarting streams for network reachability change."),await async function(d){const h=rt(d);h.L_.add(4),await Ch(h),h.q_.set("Unknown"),h.L_.delete(4),await u0(h)}(this))})}),this.q_=new G9(n,i)}}async function u0(t){if(ml(t))for(const e of t.B_)await e(!0)}async function Ch(t){for(const e of t.B_)await e(!1)}function wD(t,e){const r=rt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),b1(r)?x1(r):iu(r).r_()&&y1(r,e))}function v1(t,e){const r=rt(t),n=iu(r);r.N_.delete(e),n.r_()&&_D(r,e),r.N_.size===0&&(n.r_()?n.o_():ml(r)&&r.q_.set("Unknown"))}function y1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}iu(t).A_(e)}function _D(t,e){t.Q_.xe(e),iu(t).R_(e)}function x1(t){t.Q_=new YU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),iu(t).start(),t.q_.v_()}function b1(t){return ml(t)&&!iu(t).n_()&&t.N_.size>0}function ml(t){return rt(t).L_.size===0}function kD(t){t.Q_=void 0}async function Y9(t){t.q_.set("Online")}async function X9(t){t.N_.forEach((e,r)=>{y1(t,e)})}async function Q9(t,e){kD(t),b1(t)?(t.q_.M_(e),x1(t)):t.q_.set("Unknown")}async function J9(t,e,r){if(t.q_.set("Online"),e instanceof cD&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(n){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Qp(t,n)}else if(e instanceof Rp?t.Q_.Ke(e):e instanceof lD?t.Q_.He(e):t.Q_.We(e),!r.isEqual(tt.min()))try{const n=await yD(t.localStore);r.compareTo(n)>=0&&await function(a,l){const u=a.Q_.rt(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.N_.get(h);p&&a.N_.set(h,p.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const p=a.N_.get(d);if(!p)return;a.N_.set(d,p.withResumeToken(qr.EMPTY_BYTE_STRING,p.snapshotVersion)),_D(a,d);const m=new Vs(p.target,d,h,p.sequenceNumber);y1(a,m)}),a.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(n){Ve("RemoteStore","Failed to raise snapshot:",n),await Qp(t,n)}}async function Qp(t,e,r){if(!Eh(e))throw e;t.L_.add(1),await Ch(t),t.q_.set("Offline"),r||(r=()=>yD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ve("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await u0(t)})}function jD(t,e){return e().catch(r=>Qp(t,r,e))}async function d0(t){const e=rt(t),r=Js(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Z9(e);)try{const i=await D9(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,e7(e,i)}catch(i){await Qp(e,i)}SD(e)&&ND(e)}function Z9(t){return ml(t)&&t.O_.length<10}function e7(t,e){t.O_.push(e);const r=Js(t);r.r_()&&r.V_&&r.m_(e.mutations)}function SD(t){return ml(t)&&!Js(t).n_()&&t.O_.length>0}function ND(t){Js(t).start()}async function t7(t){Js(t).p_()}async function r7(t){const e=Js(t);for(const r of t.O_)e.m_(r.mutations)}async function n7(t,e,r){const n=t.O_.shift(),i=d1.from(n,e,r);await jD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await d0(t)}async function i7(t,e){e&&Js(t).V_&&await async function(n,i){if(function(l){return HU(l)&&l!==we.ABORTED}(i.code)){const a=n.O_.shift();Js(n).s_(),await jD(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await d0(n)}}(t,e),SD(t)&&ND(t)}async function mT(t,e){const r=rt(t);r.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const n=ml(r);r.L_.add(3),await Ch(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await u0(r)}async function a7(t,e){const r=rt(t);e?(r.L_.delete(2),await u0(r)):e||(r.L_.add(2),await Ch(r),r.q_.set("Unknown"))}function iu(t){return t.K_||(t.K_=function(r,n,i){const a=rt(r);return a.w_(),new z9(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Y9.bind(null,t),Ro:X9.bind(null,t),mo:Q9.bind(null,t),d_:J9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),b1(t)?x1(t):t.q_.set("Unknown")):(await t.K_.stop(),kD(t))})),t.K_}function Js(t){return t.U_||(t.U_=function(r,n,i){const a=rt(r);return a.w_(),new W9(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:t7.bind(null,t),mo:i7.bind(null,t),f_:r7.bind(null,t),g_:n7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await d0(t)):(await t.U_.stop(),t.O_.length>0&&(Ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const l=Date.now()+n,u=new w1(e,r,l,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _1(t,e){if(Ya("AsyncQueue",`${e}: ${t}`),Eh(t))return new De(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.comparator=e?(r,n)=>e(r,n)||We.comparator(r.key,n.key):(r,n)=>We.comparator(r.key,n.key),this.keyedMap=cd(),this.sortedSet=new Jt(this.comparator)}static emptySet(e){return new vc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof vc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new vc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.W_=new Jt(We.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):et():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Tc{constructor(e,r,n,i,a,l,u,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,i,a){const l=[];return r.forEach(u=>{l.push({type:0,doc:u})}),new Tc(e,r,vc.emptySet(r),l,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&n0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class o7{constructor(){this.queries=vT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=rt(r),a=i.queries;i.queries=vT(),a.forEach((l,u)=>{for(const d of u.j_)d.onError(n)})})(this,new De(we.ABORTED,"Firestore shutting down"))}}function vT(){return new nu(t=>YM(t),n0)}async function ED(t,e){const r=rt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new s7,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(l){const u=_1(l,`Initialization of query '${ac(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&k1(r)}async function TD(t,e){const r=rt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const l=a.j_.indexOf(e);l>=0&&(a.j_.splice(l,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function l7(t,e){const r=rt(t);let n=!1;for(const i of e){const a=i.query,l=r.queries.get(a);if(l){for(const u of l.j_)u.X_(i)&&(n=!0);l.z_=i}}n&&k1(r)}function c7(t,e,r){const n=rt(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function k1(t){t.Y_.forEach(e=>{e.next()})}var g_,yT;(yT=g_||(g_={})).ea="default",yT.Cache="cache";class AD{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Tc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==g_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.key=e}}class CD{constructor(e){this.key=e}}class u7{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=lt(),this.mutatedKeys=lt(),this.Aa=XM(e),this.Ra=new vc(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new gT,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const y=i.get(p),x=i0(this.query,m)?m:null,k=!!y&&this.mutatedKeys.has(y.key),_=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;y&&x?y.data.isEqual(x.data)?k!==_&&(n.track({type:3,doc:x}),b=!0):this.ga(y,x)||(n.track({type:2,doc:x}),b=!0,(d&&this.Aa(x,d)>0||h&&this.Aa(x,h)<0)&&(u=!0)):!y&&x?(n.track({type:0,doc:x}),b=!0):y&&!x&&(n.track({type:1,doc:y}),b=!0,(d||h)&&(u=!0)),b&&(x?(l=l.add(x),a=_?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{Ra:l,fa:n,ns:u,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort((p,m)=>function(x,k){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return _(x)-_(k)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(n),i=i!=null&&i;const u=r&&!i?this.ya():[],d=this.da.size===0&&this.current&&!i?1:0,h=d!==this.Ea;return this.Ea=d,l.length!==0||h?{snapshot:new Tc(this.query,e.Ra,a,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=lt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new CD(n))}),this.da.forEach(n=>{e.has(n)||r.push(new PD(n))}),r}ba(e){this.Ta=e.Ts,this.da=lt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Tc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class d7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class h7{constructor(e){this.key=e,this.va=!1}}class f7{constructor(e,r,n,i,a,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new nu(u=>YM(u),n0),this.Ma=new Map,this.xa=new Set,this.Oa=new Jt(We.comparator),this.Na=new Map,this.La=new p1,this.Ba={},this.ka=new Map,this.qa=Ec.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function p7(t,e,r=!0){const n=LD(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await ID(n,e,r,!0),i}async function m7(t,e){const r=LD(t);await ID(r,e,!0,!1)}async function ID(t,e,r,n){const i=await L9(t.localStore,sa(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await g7(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&r&&wD(t.remoteStore,i),u}async function g7(t,e,r,n,i){t.Ka=(m,y,x)=>async function(_,b,A,E){let P=b.view.ma(A);P.ns&&(P=await hT(_.localStore,b.query,!1).then(({documents:T})=>b.view.ma(T,P)));const O=E&&E.targetChanges.get(b.targetId),N=E&&E.targetMismatches.get(b.targetId)!=null,I=b.view.applyChanges(P,_.isPrimaryClient,O,N);return bT(_,b.targetId,I.wa),I.snapshot}(t,m,y,x);const a=await hT(t.localStore,e,!0),l=new u7(e,a.Ts),u=l.ma(a.documents),d=Ph.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,d);bT(t,r,h.wa);const p=new d7(e,r,l);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),h.snapshot}async function v7(t,e,r){const n=rt(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(l=>!n0(l,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await m_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&v1(n.remoteStore,i.targetId),v_(n,i.targetId)}).catch(Nh)):(v_(n,i.targetId),await m_(n.localStore,i.targetId,!0))}async function y7(t,e){const r=rt(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),v1(r.remoteStore,n.targetId))}async function x7(t,e,r){const n=N7(t);try{const i=await function(l,u){const d=rt(l),h=_r.now(),p=u.reduce((x,k)=>x.add(k.key),lt());let m,y;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let k=Xa(),_=lt();return d.cs.getEntries(x,p).next(b=>{k=b,k.forEach((A,E)=>{E.isValidDocument()||(_=_.add(A))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,k)).next(b=>{m=b;const A=[];for(const E of u){const P=BU(E,m.get(E.key).overlayedDocument);P!=null&&A.push(new to(E.key,P,BM(P.value.mapValue),xn.exists(!0)))}return d.mutationQueue.addMutationBatch(x,h,A,u)}).next(b=>{y=b;const A=b.applyToLocalDocumentSet(m,_);return d.documentOverlayCache.saveOverlays(x,b.batchId,A)})}).then(()=>({batchId:y.batchId,changes:JM(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let h=l.Ba[l.currentUser.toKey()];h||(h=new Jt(xt)),h=h.insert(u,d),l.Ba[l.currentUser.toKey()]=h}(n,i.batchId,r),await Ih(n,i.changes),await d0(n.remoteStore)}catch(i){const a=_1(i,"Failed to persist write");r.reject(a)}}async function OD(t,e){const r=rt(t);try{const n=await R9(r.localStore,e);e.targetChanges.forEach((i,a)=>{const l=r.Na.get(a);l&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.va=!0:i.modifiedDocuments.size>0?Et(l.va):i.removedDocuments.size>0&&(Et(l.va),l.va=!1))}),await Ih(r,n,e)}catch(n){await Nh(n)}}function xT(t,e,r){const n=rt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,l)=>{const u=l.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=rt(l);d.onlineState=u;let h=!1;d.queries.forEach((p,m)=>{for(const y of m.j_)y.Z_(u)&&(h=!0)}),h&&k1(d)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function b7(t,e,r){const n=rt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let l=new Jt(We.comparator);l=l.insert(a,rn.newNoDocument(a,tt.min()));const u=lt().add(a),d=new l0(tt.min(),new Map,new Jt(xt),l,u);await OD(n,d),n.Oa=n.Oa.remove(a),n.Na.delete(e),j1(n)}else await m_(n.localStore,e,!1).then(()=>v_(n,e,r)).catch(Nh)}async function w7(t,e){const r=rt(t),n=e.batch.batchId;try{const i=await O9(r.localStore,e);MD(r,n,null),RD(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ih(r,i)}catch(i){await Nh(i)}}async function _7(t,e,r){const n=rt(t);try{const i=await function(l,u){const d=rt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next(m=>(Et(m!==null),p=m.keys(),d.mutationQueue.removeMutationBatch(h,m))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(n.localStore,e);MD(n,e,r),RD(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ih(n,i)}catch(i){await Nh(i)}}function RD(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function MD(t,e,r){const n=rt(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function v_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||DD(t,n)})}function DD(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(v1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),j1(t))}function bT(t,e,r){for(const n of r)n instanceof PD?(t.La.addReference(n.key,e),k7(t,n)):n instanceof CD?(Ve("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||DD(t,n.key)):et()}function k7(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ve("SyncEngine","New document in limbo: "+r),t.xa.add(n),j1(t))}function j1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new We(Vt.fromString(e)),n=t.qa.next();t.Na.set(n,new h7(r)),t.Oa=t.Oa.insert(r,n),wD(t.remoteStore,new Vs(sa(c1(r.path)),n,"TargetPurposeLimboResolution",n1.oe))}}async function Ih(t,e,r){const n=rt(t),i=[],a=[],l=[];n.Fa.isEmpty()||(n.Fa.forEach((u,d)=>{l.push(n.Ka(d,e,r).then(h=>{var p;if((h||r)&&n.isPrimaryClient){const m=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){i.push(h);const m=g1.Wi(d.targetId,h);a.push(m)}}))}),await Promise.all(l),n.Ca.d_(i),await async function(d,h){const p=rt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Se.forEach(h,y=>Se.forEach(y.$i,x=>p.persistence.referenceDelegate.addReference(m,y.targetId,x)).next(()=>Se.forEach(y.Ui,x=>p.persistence.referenceDelegate.removeReference(m,y.targetId,x)))))}catch(m){if(!Eh(m))throw m;Ve("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const x=p.os.get(y),k=x.snapshotVersion,_=x.withLastLimboFreeSnapshotVersion(k);p.os=p.os.insert(y,_)}}}(n.localStore,a))}async function j7(t,e){const r=rt(t);if(!r.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const n=await vD(r.localStore,e);r.currentUser=e,function(a,l){a.ka.forEach(u=>{u.forEach(d=>{d.reject(new De(we.CANCELLED,l))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ih(r,n.hs)}}function S7(t,e){const r=rt(t),n=r.Na.get(e);if(n&&n.va)return lt().add(n.key);{let i=lt();const a=r.Ma.get(e);if(!a)return i;for(const l of a){const u=r.Fa.get(l);i=i.unionWith(u.view.Va)}return i}}function LD(t){const e=rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b7.bind(null,e),e.Ca.d_=l7.bind(null,e.eventManager),e.Ca.$a=c7.bind(null,e.eventManager),e}function N7(t){const e=rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_7.bind(null,e),e}class Jp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=c0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return I9(this.persistence,new P9,e.initialUser,this.serializer)}Ga(e){return new E9(m1.Zr,this.serializer)}Wa(e){return new F9}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jp.provider={build:()=>new Jp};class y_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>xT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=j7.bind(null,this.syncEngine),await a7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o7}()}createDatastore(e){const r=c0(e.databaseInfo.databaseId),n=function(a){return new q9(a)}(e.databaseInfo);return function(a,l,u,d){return new H9(a,l,u,d)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,l,u){return new K9(n,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,r=>xT(this.syncEngine,r,0),function(){return pT.D()?new pT:new V9}())}createSyncEngine(e,r){return function(i,a,l,u,d,h,p){const m=new f7(i,a,l,u,d,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=rt(i);Ve("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ch(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}y_.provider={build:()=>new y_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ya("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=$M.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async l=>{Ve("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(Ve("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=_1(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function qv(t,e){t.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await vD(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await T7(t);Ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>mT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>mT(e.remoteStore,i)),t._onlineComponents=e}async function T7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await qv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;kc("Error using user provided cache. Falling back to memory cache: "+r),await qv(t,new Jp)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),await qv(t,new Jp);return t._offlineComponents}async function FD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),await wT(t,t._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),await wT(t,new y_))),t._onlineComponents}function A7(t){return FD(t).then(e=>e.syncEngine)}async function x_(t){const e=await FD(t),r=e.eventManager;return r.onListen=p7.bind(null,e.syncEngine),r.onUnlisten=v7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=m7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=y7.bind(null,e.syncEngine),r}function P7(t,e,r={}){const n=new zs;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,d,h){const p=new $D({next:y=>{p.Za(),l.enqueueAndForget(()=>TD(a,m)),y.fromCache&&d.source==="server"?h.reject(new De(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new AD(u,p,{includeMetadataChanges:!0,_a:!0});return ED(a,m)}(await x_(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e,r){if(!r)throw new De(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C7(t,e,r,n){if(e===!0&&n===!0)throw new De(we.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function kT(t){if(!We.isDocumentKey(t))throw new De(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jT(t){if(We.isDocumentKey(t))throw new De(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function h0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":et()}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=h0(t);throw new De(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new De(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new De(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new De(we.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new De(we.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new De(we.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class f0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ST({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ST(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new YB;switch(n.type){case"firstParty":return new ZB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new De(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=_T.get(r);n&&(Ve("ComponentProvider","Removing Datastore"),_T.delete(r),n.terminate())}(this),Promise.resolve()}}function I7(t,e,r,n={}){var i;const a=(t=Qn(t,f0))._getSettings(),l=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),n.mockUserToken){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=tn.MOCK_USER;else{u=zR(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new De(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new tn(h)}t._authCredentials=new XB(new LM(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new gl(this.firestore,e,this._query)}}class bn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Ws extends gl{constructor(e,r,n){super(e,r,c1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new We(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function Vo(t,e,...r){if(t=Bt(t),BD("collection","path",e),t instanceof f0){const n=Vt.fromString(e,...r);return jT(n),new Ws(t,null,n)}{if(!(t instanceof bn||t instanceof Ws))throw new De(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vt.fromString(e,...r));return jT(n),new Ws(t.firestore,null,n)}}function Zr(t,e,...r){if(t=Bt(t),arguments.length===1&&(e=$M.newId()),BD("doc","path",e),t instanceof f0){const n=Vt.fromString(e,...r);return kT(n),new bn(t,null,new We(n))}{if(!(t instanceof bn||t instanceof Ws))throw new De(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vt.fromString(e,...r));return kT(n),new bn(t.firestore,t instanceof Ws?t.converter:null,new We(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xD(this,"async_queue_retry"),this.Vu=()=>{const n=Uv();n&&Ve("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Uv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Uv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new zs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Eh(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(n);throw Ya("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=w1.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&et()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function ET(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Qa extends f0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new NT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NT(e),this._firestoreClient=void 0,await e}}}function O7(t,e){const r=typeof t=="object"?t:Hk(),n=typeof t=="string"?t:"(default)",i=Jm(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=BR("firestore");a&&I7(i,...a)}return i}function p0(t){if(t._terminated)throw new De(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||R7(t),t._firestoreClient}function R7(t){var e,r,n;const i=t._freezeSettings(),a=function(u,d,h,p){return new hU(u,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VD(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new E7(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ac(qr.fromBase64String(e))}catch(r){throw new De(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ac(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new De(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new De(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new De(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=/^__.*__$/;class D7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ah(e,this.data,r,this.fieldTransforms)}}class UD{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new to(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function qD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class E1{constructor(e,r,n,i,a,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new E1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(qD(this.Cu)&&M7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class L7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||c0(e)}Qu(e,r,n,i=!1){return new E1({Cu:e,methodName:r,qu:n,path:Vr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rh(t){const e=t._freezeSettings(),r=c0(t._databaseId);return new L7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function T1(t,e,r,n,i,a={}){const l=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);P1("Data must be an object, but it was:",l,n);const u=HD(n,l);let d,h;if(a.merge)d=new Yn(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const y=b_(e,m,r);if(!l.contains(y))throw new De(we.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);KD(p,y)||p.push(y)}d=new Yn(p),h=l.fieldTransforms.filter(m=>d.covers(m.field))}else d=null,h=l.fieldTransforms;return new D7(new Pn(u),d,h)}class g0 extends m0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof g0}}class A1 extends m0{_toFieldTransform(e){return new LU(e.path,new Rd)}isEqual(e){return e instanceof A1}}function zD(t,e,r,n){const i=t.Qu(1,e,r);P1("Data must be an object, but it was:",i,n);const a=[],l=Pn.empty();pl(n,(d,h)=>{const p=C1(e,d,r);h=Bt(h);const m=i.Nu(p);if(h instanceof g0)a.push(p);else{const y=Mh(h,m);y!=null&&(a.push(p),l.set(p,y))}});const u=new Yn(a);return new UD(l,u,i.fieldTransforms)}function WD(t,e,r,n,i,a){const l=t.Qu(1,e,r),u=[b_(e,n,r)],d=[i];if(a.length%2!=0)throw new De(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(b_(e,a[y])),d.push(a[y+1]);const h=[],p=Pn.empty();for(let y=u.length-1;y>=0;--y)if(!KD(h,u[y])){const x=u[y];let k=d[y];k=Bt(k);const _=l.Nu(x);if(k instanceof g0)h.push(x);else{const b=Mh(k,_);b!=null&&(h.push(x),p.set(x,b))}}const m=new Yn(h);return new UD(p,m,l.fieldTransforms)}function $7(t,e,r,n=!1){return Mh(r,t.Qu(n?4:3,e))}function Mh(t,e){if(GD(t=Bt(t)))return P1("Unsupported field value:",e,t),HD(t,e);if(t instanceof m0)return function(n,i){if(!qD(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let l=0;for(const u of n){let d=Mh(u,i.Lu(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Bt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return RU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=_r.fromDate(n);return{timestampValue:Xp(i.serializer,a)}}if(n instanceof _r){const a=new _r(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Xp(i.serializer,a)}}if(n instanceof S1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ac)return{bytesValue:uD(i.serializer,n._byteString)};if(n instanceof bn){const a=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw i.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:f1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof N1)return function(l,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.Bu("VectorValues must only contain numeric values.");return u1(u.serializer,d)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${h0(n)}`)}(t,e)}function HD(t,e){const r={};return FM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pl(t,(n,i)=>{const a=Mh(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function GD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _r||t instanceof S1||t instanceof Ac||t instanceof bn||t instanceof m0||t instanceof N1)}function P1(t,e,r){if(!GD(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=h0(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function b_(t,e,r){if((e=Bt(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return C1(t,e);throw Zp("Field path arguments must be of type string or ",t,!1,void 0,r)}const F7=new RegExp("[~\\*/\\[\\]]");function C1(t,e,r){if(e.search(F7)>=0)throw Zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Oh(...e.split("."))._internalPath}catch{throw Zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Zp(t,e,r,n,i){const a=n&&!n.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new De(we.INVALID_ARGUMENT,u+t+d)}function KD(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(XD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class V7 extends YD{data(){return super.data()}}function XD(t,e){return typeof e=="string"?C1(t,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I1{}class B7 extends I1{}function U7(t,e,...r){let n=[];e instanceof I1&&n.push(e),n=n.concat(r),function(a){const l=a.filter(d=>d instanceof R1).length,u=a.filter(d=>d instanceof O1).length;if(l>1||l>0&&u>0)throw new De(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class O1 extends B7{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new O1(e,r,n)}_apply(e){const r=this._parse(e);return JD(e._query,r),new gl(e.firestore,e.converter,c_(e._query,r))}_parse(e){const r=Rh(e.firestore);return function(a,l,u,d,h,p,m){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new De(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){AT(m,p);const x=[];for(const k of m)x.push(TT(d,a,k));y={arrayValue:{values:x}}}else y=TT(d,a,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||AT(m,p),y=$7(u,l,m,p==="in"||p==="not-in");return hr.create(h,p,y)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class R1 extends I1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new R1(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Fi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const d of u)JD(l,d),l=c_(l,d)}(e._query,r),new gl(e.firestore,e.converter,c_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function TT(t,e,r){if(typeof(r=Bt(r))=="string"){if(r==="")throw new De(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KM(e)&&r.indexOf("/")!==-1)throw new De(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Vt.fromString(r));if(!We.isDocumentKey(n))throw new De(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return YE(t,new We(n))}if(r instanceof bn)return YE(t,r._key);throw new De(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${h0(r)}.`)}function AT(t,e){if(!Array.isArray(t)||t.length===0)throw new De(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JD(t,e){const r=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new De(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class q7{convertValue(e,r="none"){switch(il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw et()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return pl(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>or(l.doubleValue));return new N1(a)}convertGeoPoint(e){return new S1(or(e.latitude),or(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=a1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Cd(e));default:return null}}convertTimestamp(e){const r=Qs(e);return new _r(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Vt.fromString(e);Et(gD(n));const i=new Id(n.get(1),n.get(3)),a=new We(n.popFirst(5));return i.isEqual(r)||Ya(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZD extends YD{constructor(e,r,n,i,a,l){super(e,r,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(XD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Mp extends ZD{data(e={}){return super.data(e)}}class e4{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new dd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Mp(this._firestore,this._userDataWriter,n.key,n,new dd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new De(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Mp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new dd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const d=new Mp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new dd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:z7(u.type),doc:d,oldIndex:h,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function z7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}class D1 extends q7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ac(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,r)}}function W7(t){t=Qn(t,gl);const e=Qn(t.firestore,Qa),r=p0(e),n=new D1(e);return QD(t._query),P7(r,t._query).then(i=>new e4(e,n,t,i))}function PT(t,e,r){t=Qn(t,bn);const n=Qn(t.firestore,Qa),i=M1(t.converter,e,r);return Dh(n,[T1(Rh(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,xn.none())])}function em(t,e,r,...n){t=Qn(t,bn);const i=Qn(t.firestore,Qa),a=Rh(i);let l;return l=typeof(e=Bt(e))=="string"||e instanceof Oh?WD(a,"updateDoc",t._key,e,r,n):zD(a,"updateDoc",t._key,e),Dh(i,[l.toMutation(t._key,xn.exists(!0))])}function t4(t){return Dh(Qn(t.firestore,Qa),[new o0(t._key,xn.none())])}function r4(t,e){const r=Qn(t.firestore,Qa),n=Zr(t),i=M1(t.converter,e);return Dh(r,[T1(Rh(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,xn.exists(!1))]).then(()=>n)}function Dp(t,...e){var r,n,i;t=Bt(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||ET(e[l])||(a=e[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(ET(e[l])){const m=e[l];e[l]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[l+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let d,h,p;if(t instanceof bn)h=Qn(t.firestore,Qa),p=c1(t._key.path),d={next:m=>{e[l]&&e[l](H7(h,t,m))},error:e[l+1],complete:e[l+2]};else{const m=Qn(t,gl);h=Qn(m.firestore,Qa),p=m._query;const y=new D1(h);d={next:x=>{e[l]&&e[l](new e4(h,y,m,x))},error:e[l+1],complete:e[l+2]},QD(t._query)}return function(y,x,k,_){const b=new $D(_),A=new AD(x,b,k);return y.asyncQueue.enqueueAndForget(async()=>ED(await x_(y),A)),()=>{b.Za(),y.asyncQueue.enqueueAndForget(async()=>TD(await x_(y),A))}}(p0(h),p,u,d)}function Dh(t,e){return function(n,i){const a=new zs;return n.asyncQueue.enqueueAndForget(async()=>x7(await A7(n),i,a)),a.promise}(p0(t),e)}function H7(t,e,r){const n=r.docs.get(e._key),i=new D1(t);return new ZD(t,i,e._key,n,new dd(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Rh(e)}set(e,r,n){this._verifyNotCommitted();const i=zv(e,this._firestore),a=M1(i.converter,r,n),l=T1(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(l.toMutation(i._key,xn.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=zv(e,this._firestore);let l;return l=typeof(r=Bt(r))=="string"||r instanceof Oh?WD(this._dataReader,"WriteBatch.update",a._key,r,n,i):zD(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(l.toMutation(a._key,xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=zv(e,this._firestore);return this._mutations=this._mutations.concat(new o0(r._key,xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zv(t,e){if((t=Bt(t)).firestore!==e)throw new De(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ji(){return new A1("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){return p0(t=Qn(t,Qa)),new G7(t,e=>Dh(t,e))}(function(e,r=!0){(function(i){ru=i})(hl),Zo(new Ys("firestore",(n,{instanceIdentifier:i,options:a})=>{const l=n.getProvider("app").getImmediate(),u=new Qa(new QB(n.getProvider("auth-internal")),new tU(n.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new De(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(h.options.projectId,p)}(l,i),l);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),na(zE,"4.7.3",e),na(zE,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="firebasestorage.googleapis.com",i4="storageBucket",K7=2*60*1e3,Y7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends pa{constructor(e,r,n=0){super(Wv(e),`Firebase Storage: ${r} (${Wv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ir.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nr||(nr={}));function Wv(t){return"storage/"+t}function L1(){const t="An unknown error occurred, please check the error payload for server response.";return new ir(nr.UNKNOWN,t)}function X7(t){return new ir(nr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Q7(t){return new ir(nr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function J7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ir(nr.UNAUTHENTICATED,t)}function Z7(){return new ir(nr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eq(t){return new ir(nr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function tq(){return new ir(nr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rq(){return new ir(nr.CANCELED,"User canceled the upload/download.")}function nq(t){return new ir(nr.INVALID_URL,"Invalid URL '"+t+"'.")}function iq(t){return new ir(nr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aq(){return new ir(nr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+i4+"' property when initializing the app?")}function sq(){return new ir(nr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oq(){return new ir(nr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lq(t){return new ir(nr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function w_(t){return new ir(nr.INVALID_ARGUMENT,t)}function a4(){return new ir(nr.APP_DELETED,"The Firebase app was deleted.")}function cq(t){return new ir(nr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bd(t,e){return new ir(nr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Xu(t){throw new ir(nr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Xn.makeFromUrl(e,r)}catch{return new Xn(e,"")}if(n.path==="")return n;throw iq(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function h(O){O.path_=decodeURIComponent(O.path)}const p="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${m}/${p}/b/${i}/o${y}`,"i"),k={bucket:1,path:3},_=r===n4?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",A=new RegExp(`^https?://${_}/${i}/${b}`,"i"),P=[{regex:u,indices:d,postModify:a},{regex:x,indices:k,postModify:h},{regex:A,indices:{bucket:1,path:2},postModify:h}];for(let O=0;O<P.length;O++){const N=P[O],I=N.regex.exec(e);if(I){const T=I[N.indices.bucket];let C=I[N.indices.path];C||(C=""),n=new Xn(T,C),N.postModify(n);break}}if(n==null)throw nq(e);return n}}class uq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(t,e,r){let n=1,i=null,a=null,l=!1,u=0;function d(){return u===2}let h=!1;function p(...b){h||(h=!0,e.apply(null,b))}function m(b){i=setTimeout(()=>{i=null,t(x,d())},b)}function y(){a&&clearTimeout(a)}function x(b,...A){if(h){y();return}if(b){y(),p.call(null,b,...A);return}if(d()||l){y(),p.call(null,b,...A);return}n<64&&(n*=2);let P;u===1?(u=2,P=0):P=(n+Math.random())*1e3,m(P)}let k=!1;function _(b){k||(k=!0,y(),!h&&(i!==null?(b||(u=2),clearTimeout(i),m(0)):b||(u=1)))}return m(0),a=setTimeout(()=>{l=!0,_(!0)},r),_}function hq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t){return t!==void 0}function pq(t){return typeof t=="object"&&!Array.isArray(t)}function $1(t){return typeof t=="string"||t instanceof String}function CT(t){return F1()&&t instanceof Blob}function F1(){return typeof Blob<"u"}function IT(t,e,r,n){if(n<e)throw w_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw w_(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function s4(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xo||(Xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,r,n,i,a,l,u,d,h,p,m,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,k)=>{this.resolve_=x,this.reject_=k,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new dp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Xo.NO_ERROR,d=a.getStatus();if(!u||mq(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Xo.ABORT;n(!1,new dp(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new dp(h,a))})},r=(n,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());fq(d)?a(d):a()}catch(d){l(d)}else if(u!==null){const d=L1();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(i.canceled){const d=this.appDelete_?a4():rq();l(d)}else{const d=tq();l(d)}};this.canceled_?r(!1,new dp(!1,null,!0)):this.backoffId_=dq(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dp{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function vq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wq(t,e,r,n,i,a,l=!0){const u=s4(t.urlParams),d=t.url+u,h=Object.assign({},t.headers);return xq(h,e),vq(h,r),yq(h,a),bq(h,n),new gq(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kq(...t){const e=_q();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(F1())return new Blob(t);throw new ir(nr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jq(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){if(typeof atob>"u")throw lq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hv{constructor(e,r){this.data=e,this.contentType=r||null}}function Nq(t,e){switch(t){case ta.RAW:return new Hv(o4(e));case ta.BASE64:case ta.BASE64URL:return new Hv(l4(t,e));case ta.DATA_URL:return new Hv(Tq(e),Aq(e))}throw L1()}function o4(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,l=t.charCodeAt(++r);n=65536|(a&1023)<<10|l&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Eq(t){let e;try{e=decodeURIComponent(t)}catch{throw bd(ta.DATA_URL,"Malformed data URL.")}return o4(e)}function l4(t,e){switch(t){case ta.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw bd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ta.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw bd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Sq(e)}catch(i){throw i.message.includes("polyfill")?i:bd(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class c4{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw bd(ta.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Pq(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Tq(t){const e=new c4(t);return e.base64?l4(ta.BASE64,e.rest):Eq(e.rest)}function Aq(t){return new c4(t).contentType}function Pq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,r){let n=0,i="";CT(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(CT(this.data_)){const n=this.data_,i=jq(n,e,r);return i===null?null:new $s(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new $s(n,!0)}}static getBlob(...e){if(F1()){const r=e.map(n=>n instanceof $s?n.data_:n);return new $s(kq.apply(null,r))}else{const r=e.map(l=>$1(l)?Nq(ta.RAW,l).data:l.data_);let n=0;r.forEach(l=>{n+=l.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(l=>{for(let u=0;u<l.length;u++)i[a++]=l[u]}),new $s(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){let e;try{e=JSON.parse(t)}catch{return null}return pq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Iq(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function d4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oq(t,e){return e}class pn{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Oq}}let hp=null;function Rq(t){return!$1(t)||t.length<2?t:d4(t)}function h4(){if(hp)return hp;const t=[];t.push(new pn("bucket")),t.push(new pn("generation")),t.push(new pn("metageneration")),t.push(new pn("name","fullPath",!0));function e(a,l){return Rq(l)}const r=new pn("name");r.xform=e,t.push(r);function n(a,l){return l!==void 0?Number(l):l}const i=new pn("size");return i.xform=n,t.push(i),t.push(new pn("timeCreated")),t.push(new pn("updated")),t.push(new pn("md5Hash",null,!0)),t.push(new pn("cacheControl",null,!0)),t.push(new pn("contentDisposition",null,!0)),t.push(new pn("contentEncoding",null,!0)),t.push(new pn("contentLanguage",null,!0)),t.push(new pn("contentType",null,!0)),t.push(new pn("metadata","customMetadata",!0)),hp=t,hp}function Mq(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Xn(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Dq(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const l=r[a];n[l.local]=l.xform(n,e[l.server])}return Mq(n,t),n}function f4(t,e,r){const n=u4(e);return n===null?null:Dq(t,n,r)}function Lq(t,e,r,n){const i=u4(e);if(i===null||!$1(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(h=>{const p=t.bucket,m=t.fullPath,y="/b/"+l(p)+"/o/"+l(m),x=V1(y,r,n),k=s4({alt:"media",token:h});return x+k})[0]}function $q(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class p4{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){if(!t)throw L1()}function Fq(t,e){function r(n,i){const a=f4(t,i,e);return m4(a!==null),a}return r}function Vq(t,e){function r(n,i){const a=f4(t,i,e);return m4(a!==null),Lq(a,i,t.host,t._protocol)}return r}function g4(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Z7():i=J7():r.getStatus()===402?i=Q7(t.bucket):r.getStatus()===403?i=eq(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Bq(t){const e=g4(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=X7(t.path)),a.serverResponse=i.serverResponse,a}return r}function Uq(t,e,r){const n=e.fullServerUrl(),i=V1(n,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new p4(i,a,Vq(t,r),l);return u.errorHandler=Bq(e),u}function qq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zq(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=qq(null,e)),n}function Wq(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let P="";for(let O=0;O<2;O++)P=P+Math.random().toString().slice(2);return P}const d=u();l["Content-Type"]="multipart/related; boundary="+d;const h=zq(e,n,i),p=$q(h,r),m="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+d+"--",x=$s.getBlob(m,n,y);if(x===null)throw sq();const k={name:h.fullPath},_=V1(a,t.host,t._protocol),b="POST",A=t.maxUploadRetryTime,E=new p4(_,b,Fq(t,r),A);return E.urlParams=k,E.headers=l,E.body=x.uploadData(),E.errorHandler=g4(e),E}class Hq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Xu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Gq extends Hq{initXhr(){this.xhr_.responseType="text"}}function v4(){return new Gq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,r){this._service=e,r instanceof Xn?this._location=r:this._location=Xn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new al(e,r)}get root(){const e=new Xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d4(this._location.path)}get storage(){return this._service}get parent(){const e=Cq(this._location.path);if(e===null)return null;const r=new Xn(this._location.bucket,e);return new al(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw cq(e)}}function Kq(t,e,r){t._throwIfRoot("uploadBytes");const n=Wq(t.storage,t._location,h4(),new $s(e,!0),r);return t.storage.makeRequestWithTokens(n,v4).then(i=>({metadata:i,ref:t}))}function Yq(t){t._throwIfRoot("getDownloadURL");const e=Uq(t.storage,t._location,h4());return t.storage.makeRequestWithTokens(e,v4).then(r=>{if(r===null)throw oq();return r})}function Xq(t,e){const r=Iq(t._location.path,e),n=new Xn(t._location.bucket,r);return new al(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(t){return/^[A-Za-z]+:\/\//.test(t)}function Jq(t,e){return new al(t,e)}function y4(t,e){if(t instanceof B1){const r=t;if(r._bucket==null)throw aq();const n=new al(r,r._bucket);return e!=null?y4(n,e):n}else return e!==void 0?Xq(t,e):t}function Zq(t,e){if(e&&Qq(e)){if(t instanceof B1)return Jq(t,e);throw w_("To use ref(service, url), the first argument must be a Storage instance.")}else return y4(t,e)}function OT(t,e){const r=e?.[i4];return r==null?null:Xn.makeFromBucketSpec(r,t)}function e8(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:zR(i,t.app.options.projectId))}class B1{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=n4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=K7,this._maxUploadRetryTime=Y7,this._requests=new Set,i!=null?this._bucket=Xn.makeFromBucketSpec(i,this._host):this._bucket=OT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,e):this._bucket=OT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new al(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new uq(a4());{const l=wq(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const RT="@firebase/storage",MT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="storage";function t8(t,e,r){return t=Bt(t),Kq(t,e,r)}function r8(t){return t=Bt(t),Yq(t)}function n8(t,e){return t=Bt(t),Zq(t,e)}function i8(t=Hk(),e){t=Bt(t);const n=Jm(t,x4).getImmediate({identifier:e}),i=BR("storage");return i&&a8(n,...i),n}function a8(t,e,r,n={}){e8(t,e,r,n)}function s8(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new B1(r,n,i,e,hl)}function o8(){Zo(new Ys(x4,s8,"PUBLIC").setMultipleInstances(!0)),na(RT,MT,""),na(RT,MT,"esm2017")}o8();/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b4=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:l,...u},d)=>z.createElement("svg",{ref:d,...c8,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:b4("lucide",i),...u},[...l.map(([h,p])=>z.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const r=z.forwardRef(({className:n,...i},a)=>z.createElement(u8,{ref:a,iconNode:e,className:b4(`lucide-${l8(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=qe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=qe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=qe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=qe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=qe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=qe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=qe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=qe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=qe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=qe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=qe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=qe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=qe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=qe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=qe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=qe("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=qe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=qe("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=qe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),T8=({setUserId:t})=>{const[e,r]=z.useState(!0),[n,i]=z.useState(""),[a,l]=z.useState(""),[u,d]=z.useState(""),[h,p]=z.useState(!1),m=PM(),y=async x=>{x.preventDefault(),d(""),p(!0);try{e?await OV(m,n,a):await IV(m,n,a)}catch(k){d(k.message)}finally{p(!1)}};return o.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(Ur,{className:"mx-auto h-12 w-auto text-cyan-500"}),o.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[o.jsxs("form",{className:"space-y-6",onSubmit:y,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:x=>i(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:x=>l(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),u&&o.jsx("div",{className:"rounded-md bg-red-50 p-4",children:o.jsx("p",{className:"text-sm text-red-700",children:u})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:h,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:h?"Processing...":e?"Sign in":"Create account"})})]}),o.jsx("div",{className:"mt-6",children:o.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",o.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},Zi=({title:t,value:e,icon:r,color:n,subtext:i})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),o.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]});function N4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=N4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function it(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=N4(t))&&(n&&(n+=" "),n+=e);return n}var Kv,UT;function Rn(){if(UT)return Kv;UT=1;var t=Array.isArray;return Kv=t,Kv}var Yv,qT;function E4(){if(qT)return Yv;qT=1;var t=typeof ip=="object"&&ip&&ip.Object===Object&&ip;return Yv=t,Yv}var Xv,zT;function ma(){if(zT)return Xv;zT=1;var t=E4(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Xv=r,Xv}var Qv,WT;function Lh(){if(WT)return Qv;WT=1;var t=ma(),e=t.Symbol;return Qv=e,Qv}var Jv,HT;function A8(){if(HT)return Jv;HT=1;var t=Lh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(l){var u=r.call(l,i),d=l[i];try{l[i]=void 0;var h=!0}catch{}var p=n.call(l);return h&&(u?l[i]=d:delete l[i]),p}return Jv=a,Jv}var Zv,GT;function P8(){if(GT)return Zv;GT=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Zv=r,Zv}var ey,KT;function ns(){if(KT)return ey;KT=1;var t=Lh(),e=A8(),r=P8(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return ey=l,ey}var ty,YT;function is(){if(YT)return ty;YT=1;function t(e){return e!=null&&typeof e=="object"}return ty=t,ty}var ry,XT;function ou(){if(XT)return ry;XT=1;var t=ns(),e=is(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return ry=n,ry}var ny,QT;function W1(){if(QT)return ny;QT=1;var t=Rn(),e=ou(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,l){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||l!=null&&a in Object(l)}return ny=i,ny}var iy,JT;function no(){if(JT)return iy;JT=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return iy=t,iy}var ay,ZT;function H1(){if(ZT)return ay;ZT=1;var t=ns(),e=no(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function l(u){if(!e(u))return!1;var d=t(u);return d==n||d==i||d==r||d==a}return ay=l,ay}var sy,eA;function C8(){if(eA)return sy;eA=1;var t=ma(),e=t["__core-js_shared__"];return sy=e,sy}var oy,tA;function I8(){if(tA)return oy;tA=1;var t=C8(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return oy=r,oy}var ly,rA;function T4(){if(rA)return ly;rA=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return ly=r,ly}var cy,nA;function O8(){if(nA)return cy;nA=1;var t=H1(),e=I8(),r=no(),n=T4(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,h=u.hasOwnProperty,p=RegExp("^"+d.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var x=t(y)?p:a;return x.test(n(y))}return cy=m,cy}var uy,iA;function R8(){if(iA)return uy;iA=1;function t(e,r){return e?.[r]}return uy=t,uy}var dy,aA;function vl(){if(aA)return dy;aA=1;var t=O8(),e=R8();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return dy=r,dy}var hy,sA;function b0(){if(sA)return hy;sA=1;var t=vl(),e=t(Object,"create");return hy=e,hy}var fy,oA;function M8(){if(oA)return fy;oA=1;var t=b0();function e(){this.__data__=t?t(null):{},this.size=0}return fy=e,fy}var py,lA;function D8(){if(lA)return py;lA=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return py=t,py}var my,cA;function L8(){if(cA)return my;cA=1;var t=b0(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var l=this.__data__;if(t){var u=l[a];return u===e?void 0:u}return n.call(l,a)?l[a]:void 0}return my=i,my}var gy,uA;function $8(){if(uA)return gy;uA=1;var t=b0(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return gy=n,gy}var vy,dA;function F8(){if(dA)return vy;dA=1;var t=b0(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return vy=r,vy}var yy,hA;function V8(){if(hA)return yy;hA=1;var t=M8(),e=D8(),r=L8(),n=$8(),i=F8();function a(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,yy=a,yy}var xy,fA;function B8(){if(fA)return xy;fA=1;function t(){this.__data__=[],this.size=0}return xy=t,xy}var by,pA;function G1(){if(pA)return by;pA=1;function t(e,r){return e===r||e!==e&&r!==r}return by=t,by}var wy,mA;function w0(){if(mA)return wy;mA=1;var t=G1();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return wy=e,wy}var _y,gA;function U8(){if(gA)return _y;gA=1;var t=w0(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,l=t(a,i);if(l<0)return!1;var u=a.length-1;return l==u?a.pop():r.call(a,l,1),--this.size,!0}return _y=n,_y}var ky,vA;function q8(){if(vA)return ky;vA=1;var t=w0();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return ky=e,ky}var jy,yA;function z8(){if(yA)return jy;yA=1;var t=w0();function e(r){return t(this.__data__,r)>-1}return jy=e,jy}var Sy,xA;function W8(){if(xA)return Sy;xA=1;var t=w0();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Sy=e,Sy}var Ny,bA;function _0(){if(bA)return Ny;bA=1;var t=B8(),e=U8(),r=q8(),n=z8(),i=W8();function a(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ny=a,Ny}var Ey,wA;function K1(){if(wA)return Ey;wA=1;var t=vl(),e=ma(),r=t(e,"Map");return Ey=r,Ey}var Ty,_A;function H8(){if(_A)return Ty;_A=1;var t=V8(),e=_0(),r=K1();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Ty=n,Ty}var Ay,kA;function G8(){if(kA)return Ay;kA=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Ay=t,Ay}var Py,jA;function k0(){if(jA)return Py;jA=1;var t=G8();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Py=e,Py}var Cy,SA;function K8(){if(SA)return Cy;SA=1;var t=k0();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Cy=e,Cy}var Iy,NA;function Y8(){if(NA)return Iy;NA=1;var t=k0();function e(r){return t(this,r).get(r)}return Iy=e,Iy}var Oy,EA;function X8(){if(EA)return Oy;EA=1;var t=k0();function e(r){return t(this,r).has(r)}return Oy=e,Oy}var Ry,TA;function Q8(){if(TA)return Ry;TA=1;var t=k0();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Ry=e,Ry}var My,AA;function Y1(){if(AA)return My;AA=1;var t=H8(),e=K8(),r=Y8(),n=X8(),i=Q8();function a(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,My=a,My}var Dy,PA;function A4(){if(PA)return Dy;PA=1;var t=Y1(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=a.cache;if(d.has(u))return d.get(u);var h=n.apply(this,l);return a.cache=d.set(u,h)||d,h};return a.cache=new(r.Cache||t),a}return r.Cache=t,Dy=r,Dy}var Ly,CA;function J8(){if(CA)return Ly;CA=1;var t=A4(),e=500;function r(n){var i=t(n,function(l){return a.size===e&&a.clear(),l}),a=i.cache;return i}return Ly=r,Ly}var $y,IA;function Z8(){if(IA)return $y;IA=1;var t=J8(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(l,u,d,h){a.push(d?h.replace(r,"$1"):u||l)}),a});return $y=n,$y}var Fy,OA;function X1(){if(OA)return Fy;OA=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return Fy=t,Fy}var Vy,RA;function ez(){if(RA)return Vy;RA=1;var t=Lh(),e=X1(),r=Rn(),n=ou(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return e(u,l)+"";if(n(u))return a?a.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Vy=l,Vy}var By,MA;function P4(){if(MA)return By;MA=1;var t=ez();function e(r){return r==null?"":t(r)}return By=e,By}var Uy,DA;function C4(){if(DA)return Uy;DA=1;var t=Rn(),e=W1(),r=Z8(),n=P4();function i(a,l){return t(a)?a:e(a,l)?[a]:r(n(a))}return Uy=i,Uy}var qy,LA;function j0(){if(LA)return qy;LA=1;var t=ou();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return qy=e,qy}var zy,$A;function Q1(){if($A)return zy;$A=1;var t=C4(),e=j0();function r(n,i){i=t(i,n);for(var a=0,l=i.length;n!=null&&a<l;)n=n[e(i[a++])];return a&&a==l?n:void 0}return zy=r,zy}var Wy,FA;function I4(){if(FA)return Wy;FA=1;var t=Q1();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return Wy=e,Wy}var tz=I4();const Jn=jt(tz);var Hy,VA;function rz(){if(VA)return Hy;VA=1;function t(e){return e==null}return Hy=t,Hy}var nz=rz();const st=jt(nz);var Gy,BA;function iz(){if(BA)return Gy;BA=1;var t=ns(),e=Rn(),r=is(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return Gy=i,Gy}var az=iz();const sl=jt(az);var sz=H1();const Ze=jt(sz);var oz=no();const lu=jt(oz);var Ky={exports:{}},_t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA;function lz(){if(UA)return _t;UA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),k;k=Symbol.for("react.module.reference");function _(b){if(typeof b=="object"&&b!==null){var A=b.$$typeof;switch(A){case t:switch(b=b.type,b){case r:case i:case n:case h:case p:return b;default:switch(b=b&&b.$$typeof,b){case u:case l:case d:case y:case m:case a:return b;default:return A}}case e:return A}}}return _t.ContextConsumer=l,_t.ContextProvider=a,_t.Element=t,_t.ForwardRef=d,_t.Fragment=r,_t.Lazy=y,_t.Memo=m,_t.Portal=e,_t.Profiler=i,_t.StrictMode=n,_t.Suspense=h,_t.SuspenseList=p,_t.isAsyncMode=function(){return!1},_t.isConcurrentMode=function(){return!1},_t.isContextConsumer=function(b){return _(b)===l},_t.isContextProvider=function(b){return _(b)===a},_t.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},_t.isForwardRef=function(b){return _(b)===d},_t.isFragment=function(b){return _(b)===r},_t.isLazy=function(b){return _(b)===y},_t.isMemo=function(b){return _(b)===m},_t.isPortal=function(b){return _(b)===e},_t.isProfiler=function(b){return _(b)===i},_t.isStrictMode=function(b){return _(b)===n},_t.isSuspense=function(b){return _(b)===h},_t.isSuspenseList=function(b){return _(b)===p},_t.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===h||b===p||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===m||b.$$typeof===a||b.$$typeof===l||b.$$typeof===d||b.$$typeof===k||b.getModuleId!==void 0)},_t.typeOf=_,_t}var qA;function cz(){return qA||(qA=1,Ky.exports=lz()),Ky.exports}var uz=cz(),Yy,zA;function O4(){if(zA)return Yy;zA=1;var t=ns(),e=is(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Yy=n,Yy}var Xy,WA;function dz(){if(WA)return Xy;WA=1;var t=O4();function e(r){return t(r)&&r!=+r}return Xy=e,Xy}var hz=dz();const $h=jt(hz);var fz=O4();const pz=jt(fz);var gn=function(e){return e===0?0:e>0?1:-1},Wo=function(e){return sl(e)&&e.indexOf("%")===e.length-1},Ae=function(e){return pz(e)&&!$h(e)},mz=function(e){return st(e)},wr=function(e){return Ae(e)||sl(e)},gz=0,Fh=function(e){var r=++gz;return"".concat(e||"").concat(r)},vn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&!sl(e))return n;var a;if(Wo(e)){var l=e.indexOf("%");a=r*parseFloat(e.slice(0,l))/100}else a=+e;return $h(a)&&(a=n),i&&a>r&&(a=r),a},Fs=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},vz=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Is=function(e,r){return Ae(e)&&Ae(r)?function(n){return e+n*(r-e)}:function(){return r}};function k_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Jn(n,e))===r})}var yz=function(e,r){return Ae(e)&&Ae(r)?e-r:sl(e)&&sl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function bc(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function j_(t){"@babel/helpers - typeof";return j_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j_(t)}var xz=["viewBox","children"],bz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HA=["points","pathLength"],Qy={svg:xz,polygon:HA,polyline:HA},J1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(z.isValidElement(e)&&(n=e.props),!lu(n))return null;var i={};return Object.keys(n).forEach(function(a){J1.includes(a)&&(i[a]=r||function(l){return n[a](n,l)})}),i},wz=function(e,r,n){return function(i){return e(r,n,i),null}},ol=function(e,r,n){if(!lu(e)||j_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var l=e[a];J1.includes(a)&&typeof l=="function"&&(i||(i={}),i[a]=wz(l,r,n))}),i},_z=["children"],kz=["children"];function GA(t,e){if(t==null)return{};var r=jz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var KA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Wa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},YA=null,Jy=null,Z1=function t(e){if(e===YA&&Array.isArray(Jy))return Jy;var r=[];return z.Children.forEach(e,function(n){st(n)||(uz.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Jy=r,YA=e,r};function gi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Wa(i)}):n=[Wa(e)],Z1(t).forEach(function(i){var a=Jn(i,"type.displayName")||Jn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Gn(t,e){var r=gi(t,e);return r&&r[0]}var XA=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Ae(n)||n<=0||!Ae(i)||i<=0)},Sz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Nz=function(e){return e&&e.type&&sl(e.type)&&Sz.indexOf(e.type)>=0},Ez=function(e,r,n,i){var a,l=(a=Qy?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ze(e)&&(i&&l.includes(r)||bz.includes(r))||n&&J1.includes(r)},Xe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!lu(i))return null;var a={};return Object.keys(i).forEach(function(l){var u;Ez((u=i)===null||u===void 0?void 0:u[l],l,r,n)&&(a[l]=i[l])}),a},S_=function t(e,r){if(e===r)return!0;var n=z.Children.count(e);if(n!==z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return QA(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],l=r[i];if(Array.isArray(a)||Array.isArray(l)){if(!t(a,l))return!1}else if(!QA(a,l))return!1}return!0},QA=function(e,r){if(st(e)&&st(r))return!0;if(!st(e)&&!st(r)){var n=e.props||{},i=n.children,a=GA(n,_z),l=r.props||{},u=l.children,d=GA(l,kz);return i&&u?bc(a,d)&&S_(i,u):!i&&!u?bc(a,d):!1}return!1},JA=function(e,r){var n=[],i={};return Z1(e).forEach(function(a,l){if(Nz(a))n.push(a);else if(a){var u=Wa(a.type),d=r[u]||{},h=d.handler,p=d.once;if(h&&(!p||!i[u])){var m=h(a,u,l);n.push(m),i[u]=!0}}}),n},Tz=function(e){var r=e&&e.type;return r&&KA[r]?KA[r]:null},Az=function(e,r){return Z1(r).indexOf(e)},Pz=["children","width","height","viewBox","className","style","title","desc"];function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N_.apply(this,arguments)}function Cz(t,e){if(t==null)return{};var r=Iz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function E_(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,l=t.style,u=t.title,d=t.desc,h=Cz(t,Pz),p=i||{width:r,height:n,x:0,y:0},m=it("recharts-surface",a);return K.createElement("svg",N_({},Xe(h,!0,"svg"),{className:m,width:r,height:n,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),K.createElement("title",null,u),K.createElement("desc",null,d),e)}var Oz=["children","className"];function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T_.apply(this,arguments)}function Rz(t,e){if(t==null)return{};var r=Mz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Nt=K.forwardRef(function(t,e){var r=t.children,n=t.className,i=Rz(t,Oz),a=it("recharts-layer",n);return K.createElement("g",T_({className:a},Xe(i,!0),{ref:e}),r)}),Li=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},Zy,ZA;function Dz(){if(ZA)return Zy;ZA=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(a);++i<a;)l[i]=e[i+r];return l}return Zy=t,Zy}var ex,eP;function Lz(){if(eP)return ex;eP=1;var t=Dz();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return ex=e,ex}var tx,tP;function R4(){if(tP)return tx;tP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+t+i+a+"]");function d(h){return u.test(h)}return tx=d,tx}var rx,rP;function $z(){if(rP)return rx;rP=1;function t(e){return e.split("")}return rx=t,rx}var nx,nP;function Fz(){if(nP)return nx;nP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",l="["+t+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",k=h+"?",_="["+a+"]?",b="(?:"+x+"(?:"+[p,m,y].join("|")+")"+_+k+")*",A=_+k+b,E="(?:"+[p+u+"?",u,m,y,l].join("|")+")",P=RegExp(d+"(?="+d+")|"+E+A,"g");function O(N){return N.match(P)||[]}return nx=O,nx}var ix,iP;function Vz(){if(iP)return ix;iP=1;var t=$z(),e=R4(),r=Fz();function n(i){return e(i)?r(i):t(i)}return ix=n,ix}var ax,aP;function Bz(){if(aP)return ax;aP=1;var t=Lz(),e=R4(),r=Vz(),n=P4();function i(a){return function(l){l=n(l);var u=e(l)?r(l):void 0,d=u?u[0]:l.charAt(0),h=u?t(u,1).join(""):l.slice(1);return d[a]()+h}}return ax=i,ax}var sx,sP;function Uz(){if(sP)return sx;sP=1;var t=Bz(),e=t("toUpperCase");return sx=e,sx}var qz=Uz();const S0=jt(qz);function Mt(t){return function(){return t}}const M4=Math.cos,nm=Math.sin,Vi=Math.sqrt,im=Math.PI,N0=2*im,A_=Math.PI,P_=2*A_,$o=1e-6,zz=P_-$o;function D4(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Wz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return D4;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Hz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?D4:Wz(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,l){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,d=n-e,h=i-r,p=l-e,m=u-r,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>$o)if(!(Math.abs(m*d-h*p)>$o)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-l,k=i-u,_=d*d+h*h,b=x*x+k*k,A=Math.sqrt(_),E=Math.sqrt(y),P=a*Math.tan((A_-Math.acos((_+y-b)/(2*A*E)))/2),O=P/E,N=P/A;Math.abs(O-1)>$o&&this._append`L${e+O*p},${r+O*m}`,this._append`A${a},${a},0,0,${+(m*x>p*k)},${this._x1=e+N*d},${this._y1=r+N*h}`}}arc(e,r,n,i,a,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),h=e+u,p=r+d,m=1^l,y=l?i-a:a-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>$o||Math.abs(this._y1-p)>$o)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%P_+P_),y>zz?this._append`A${n},${n},0,1,${m},${e-u},${r-d}A${n},${n},0,1,${m},${this._x1=h},${this._y1=p}`:y>$o&&this._append`A${n},${n},0,${+(y>=A_)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ej(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Hz(e)}function tj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function L4(t){this._context=t}L4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function E0(t){return new L4(t)}function $4(t){return t[0]}function F4(t){return t[1]}function V4(t,e){var r=Mt(!0),n=null,i=E0,a=null,l=ej(u);t=typeof t=="function"?t:t===void 0?$4:Mt(t),e=typeof e=="function"?e:e===void 0?F4:Mt(e);function u(d){var h,p=(d=tj(d)).length,m,y=!1,x;for(n==null&&(a=i(x=l())),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,h,d),+e(m,h,d));if(x)return a=null,x+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Mt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Mt(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Mt(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),u):n},u}function pp(t,e,r){var n=null,i=Mt(!0),a=null,l=E0,u=null,d=ej(h);t=typeof t=="function"?t:t===void 0?$4:Mt(+t),e=typeof e=="function"?e:Mt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?F4:Mt(+r);function h(m){var y,x,k,_=(m=tj(m)).length,b,A=!1,E,P=new Array(_),O=new Array(_);for(a==null&&(u=l(E=d())),y=0;y<=_;++y){if(!(y<_&&i(b=m[y],y,m))===A)if(A=!A)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),k=y-1;k>=x;--k)u.point(P[k],O[k]);u.lineEnd(),u.areaEnd()}A&&(P[y]=+t(b,y,m),O[y]=+e(b,y,m),u.point(n?+n(b,y,m):P[y],r?+r(b,y,m):O[y]))}if(E)return u=null,E+""||null}function p(){return V4().defined(i).curve(l).context(a)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:Mt(+m),n=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Mt(+m),h):t},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Mt(+m),h):n},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:Mt(+m),r=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Mt(+m),h):e},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Mt(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(r)},h.lineX1=function(){return p().x(n).y(e)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Mt(!!m),h):i},h.curve=function(m){return arguments.length?(l=m,a!=null&&(u=l(a)),h):l},h.context=function(m){return arguments.length?(m==null?a=u=null:u=l(a=m),h):a},h}class B4{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Gz(t){return new B4(t,!0)}function Kz(t){return new B4(t,!1)}const rj={draw(t,e){const r=Vi(e/im);t.moveTo(r,0),t.arc(0,0,r,0,N0)}},Yz={draw(t,e){const r=Vi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},U4=Vi(1/3),Xz=U4*2,Qz={draw(t,e){const r=Vi(e/Xz),n=r*U4;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Jz={draw(t,e){const r=Vi(e),n=-r/2;t.rect(n,n,r,r)}},Zz=.8908130915292852,q4=nm(im/10)/nm(7*im/10),eW=nm(N0/10)*q4,tW=-M4(N0/10)*q4,rW={draw(t,e){const r=Vi(e*Zz),n=eW*r,i=tW*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const l=N0*a/5,u=M4(l),d=nm(l);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*i,d*n+u*i)}t.closePath()}},ox=Vi(3),nW={draw(t,e){const r=-Vi(e/(ox*3));t.moveTo(0,r*2),t.lineTo(-ox*r,-r),t.lineTo(ox*r,-r),t.closePath()}},ui=-.5,di=Vi(3)/2,C_=1/Vi(12),iW=(C_/2+1)*3,aW={draw(t,e){const r=Vi(e/iW),n=r/2,i=r*C_,a=n,l=r*C_+r,u=-a,d=l;t.moveTo(n,i),t.lineTo(a,l),t.lineTo(u,d),t.lineTo(ui*n-di*i,di*n+ui*i),t.lineTo(ui*a-di*l,di*a+ui*l),t.lineTo(ui*u-di*d,di*u+ui*d),t.lineTo(ui*n+di*i,ui*i-di*n),t.lineTo(ui*a+di*l,ui*l-di*a),t.lineTo(ui*u+di*d,ui*d-di*u),t.closePath()}};function sW(t,e){let r=null,n=ej(i);t=typeof t=="function"?t:Mt(t||rj),e=typeof e=="function"?e:Mt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Mt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Mt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function am(){}function sm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function z4(t){this._context=t}z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oW(t){return new z4(t)}function W4(t){this._context=t}W4.prototype={areaStart:am,areaEnd:am,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lW(t){return new W4(t)}function H4(t){this._context=t}H4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:sm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cW(t){return new H4(t)}function G4(t){this._context=t}G4.prototype={areaStart:am,areaEnd:am,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function uW(t){return new G4(t)}function oP(t){return t<0?-1:1}function lP(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),l=(r-t._y1)/(i||n<0&&-0),u=(a*i+l*n)/(n+i);return(oP(a)+oP(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function cP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function lx(t,e,r){var n=t._x0,i=t._y0,a=t._x1,l=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,l-u*r,a,l)}function om(t){this._context=t}om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lx(this,this._t0,cP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lx(this,cP(this,r=lP(this,t,e)),r);break;default:lx(this,this._t0,r=lP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function K4(t){this._context=new Y4(t)}(K4.prototype=Object.create(om.prototype)).point=function(t,e){om.prototype.point.call(this,e,t)};function Y4(t){this._context=t}Y4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function dW(t){return new om(t)}function hW(t){return new K4(t)}function X4(t){this._context=t}X4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=uP(t),i=uP(e),a=0,l=1;l<r;++a,++l)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uP(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),l=new Array(r);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,l[e]-=n*l[e-1];for(i[r-1]=l[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function fW(t){return new X4(t)}function T0(t,e){this._context=t,this._t=e}T0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function pW(t){return new T0(t,.5)}function mW(t){return new T0(t,0)}function gW(t){return new T0(t,1)}function Cc(t,e){if((l=t.length)>1)for(var r=1,n,i,a=t[e[0]],l,u=a.length;r<l;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function I_(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function vW(t,e){return t[e]}function yW(t){const e=[];return e.key=t,e}function xW(){var t=Mt([]),e=I_,r=Cc,n=vW;function i(a){var l=Array.from(t.apply(this,arguments),yW),u,d=l.length,h=-1,p;for(const m of a)for(u=0,++h;u<d;++u)(l[u][h]=[0,+n(m,l[u].key,h,a)]).data=m;for(u=0,p=tj(e(l));u<d;++u)l[p[u]].index=u;return r(l,p),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Mt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Mt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?I_:typeof a=="function"?a:Mt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Cc,i):r},i}function bW(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,l;i<a;++i){for(l=r=0;r<n;++r)l+=t[r][i][1]||0;if(l)for(r=0;r<n;++r)t[r][i][1]/=l}Cc(t,e)}}function wW(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var l=0,u=0;l<i;++l)u+=t[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Cc(t,e)}}function _W(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,l;n<a;++n){for(var u=0,d=0,h=0;u<l;++u){for(var p=t[e[u]],m=p[n][1]||0,y=p[n-1][1]||0,x=(m-y)/2,k=0;k<u;++k){var _=t[e[k]],b=_[n][1]||0,A=_[n-1][1]||0;x+=b-A}d+=m,h+=x*m}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,Cc(t,e)}}function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}var kW=["type","size","sizeType"];function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O_.apply(this,arguments)}function dP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(r),!0).forEach(function(n){jW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jW(t,e,r){return e=SW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SW(t){var e=NW(t,"string");return Fd(e)=="symbol"?e:e+""}function NW(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EW(t,e){if(t==null)return{};var r=TW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Q4={symbolCircle:rj,symbolCross:Yz,symbolDiamond:Qz,symbolSquare:Jz,symbolStar:rW,symbolTriangle:nW,symbolWye:aW},AW=Math.PI/180,PW=function(e){var r="symbol".concat(S0(e));return Q4[r]||rj},CW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*AW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},IW=function(e,r){Q4["symbol".concat(S0(e))]=r},nj=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,l=e.sizeType,u=l===void 0?"area":l,d=EW(e,kW),h=hP(hP({},d),{},{type:n,size:a,sizeType:u}),p=function(){var b=PW(n),A=sW().type(b).size(CW(a,u,n));return A()},m=h.className,y=h.cx,x=h.cy,k=Xe(h,!0);return y===+y&&x===+x&&a===+a?K.createElement("path",O_({},k,{className:it("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};nj.registerSymbol=IW;function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R_.apply(this,arguments)}function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(r),!0).forEach(function(n){Vd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z4(n.key),n)}}function DW(t,e,r){return e&&MW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LW(t,e,r){return e=lm(e),$W(t,J4()?Reflect.construct(e,r||[],lm(t).constructor):e.apply(t,r))}function $W(t,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FW(t)}function FW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J4=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lm(t)}function VW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M_(t,e)}function Vd(t,e,r){return e=Z4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z4(t){var e=BW(t,"string");return Ic(e)=="symbol"?e:e+""}function BW(t,e){if(Ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hi=32,ij=function(t){function e(){return RW(this,e),LW(this,e,arguments)}return VW(e,t),DW(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=hi/2,l=hi/6,u=hi/3,d=n.inactive?i:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:hi,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(hi,"M").concat(2*u,",").concat(a,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(hi/8,"h").concat(hi,"v").concat(hi*3/4,"h").concat(-hi,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var h=OW({},n);return delete h.legendIcon,K.cloneElement(n.legendIcon,h)}return K.createElement(nj,{fill:d,cx:a,cy:a,size:hi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,l=i.iconSize,u=i.layout,d=i.formatter,h=i.inactiveColor,p={x:0,y:0,width:hi,height:hi},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,k){var _=x.formatter||d,b=it(Vd(Vd({"recharts-legend-item":!0},"legend-item-".concat(k),!0),"inactive",x.inactive));if(x.type==="none")return null;var A=Ze(x.value)?null:x.value;Li(!Ze(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=x.inactive?h:x.color;return K.createElement("li",R_({className:b,style:m,key:"legend-item-".concat(k)},ol(n.props,x,k)),K.createElement(E_,{width:l,height:l,viewBox:p,style:y},n.renderIcon(x)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},_?_(A,x,k):A))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,l=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?l:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(z.PureComponent);Vd(ij,"displayName","Legend");Vd(ij,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cx,pP;function UW(){if(pP)return cx;pP=1;var t=_0();function e(){this.__data__=new t,this.size=0}return cx=e,cx}var ux,mP;function qW(){if(mP)return ux;mP=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return ux=t,ux}var dx,gP;function zW(){if(gP)return dx;gP=1;function t(e){return this.__data__.get(e)}return dx=t,dx}var hx,vP;function WW(){if(vP)return hx;vP=1;function t(e){return this.__data__.has(e)}return hx=t,hx}var fx,yP;function HW(){if(yP)return fx;yP=1;var t=_0(),e=K1(),r=Y1(),n=200;function i(a,l){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([a,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(a,l),this.size=u.size,this}return fx=i,fx}var px,xP;function e3(){if(xP)return px;xP=1;var t=_0(),e=UW(),r=qW(),n=zW(),i=WW(),a=HW();function l(u){var d=this.__data__=new t(u);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=a,px=l,px}var mx,bP;function GW(){if(bP)return mx;bP=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return mx=e,mx}var gx,wP;function KW(){if(wP)return gx;wP=1;function t(e){return this.__data__.has(e)}return gx=t,gx}var vx,_P;function t3(){if(_P)return vx;_P=1;var t=Y1(),e=GW(),r=KW();function n(i){var a=-1,l=i==null?0:i.length;for(this.__data__=new t;++a<l;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,vx=n,vx}var yx,kP;function r3(){if(kP)return yx;kP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return yx=t,yx}var xx,jP;function n3(){if(jP)return xx;jP=1;function t(e,r){return e.has(r)}return xx=t,xx}var bx,SP;function i3(){if(SP)return bx;SP=1;var t=t3(),e=r3(),r=n3(),n=1,i=2;function a(l,u,d,h,p,m){var y=d&n,x=l.length,k=u.length;if(x!=k&&!(y&&k>x))return!1;var _=m.get(l),b=m.get(u);if(_&&b)return _==u&&b==l;var A=-1,E=!0,P=d&i?new t:void 0;for(m.set(l,u),m.set(u,l);++A<x;){var O=l[A],N=u[A];if(h)var I=y?h(N,O,A,u,l,m):h(O,N,A,l,u,m);if(I!==void 0){if(I)continue;E=!1;break}if(P){if(!e(u,function(T,C){if(!r(P,C)&&(O===T||p(O,T,d,h,m)))return P.push(C)})){E=!1;break}}else if(!(O===N||p(O,N,d,h,m))){E=!1;break}}return m.delete(l),m.delete(u),E}return bx=a,bx}var wx,NP;function YW(){if(NP)return wx;NP=1;var t=ma(),e=t.Uint8Array;return wx=e,wx}var _x,EP;function XW(){if(EP)return _x;EP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return _x=t,_x}var kx,TP;function aj(){if(TP)return kx;TP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return kx=t,kx}var jx,AP;function QW(){if(AP)return jx;AP=1;var t=Lh(),e=YW(),r=G1(),n=i3(),i=XW(),a=aj(),l=1,u=2,d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",y="[object Number]",x="[object RegExp]",k="[object Set]",_="[object String]",b="[object Symbol]",A="[object ArrayBuffer]",E="[object DataView]",P=t?t.prototype:void 0,O=P?P.valueOf:void 0;function N(I,T,C,L,M,R,F){switch(C){case E:if(I.byteLength!=T.byteLength||I.byteOffset!=T.byteOffset)return!1;I=I.buffer,T=T.buffer;case A:return!(I.byteLength!=T.byteLength||!R(new e(I),new e(T)));case d:case h:case y:return r(+I,+T);case p:return I.name==T.name&&I.message==T.message;case x:case _:return I==T+"";case m:var $=i;case k:var ee=L&l;if($||($=a),I.size!=T.size&&!ee)return!1;var ie=F.get(I);if(ie)return ie==T;L|=u,F.set(I,T);var Q=n($(I),$(T),L,M,R,F);return F.delete(I),Q;case b:if(O)return O.call(I)==O.call(T)}return!1}return jx=N,jx}var Sx,PP;function a3(){if(PP)return Sx;PP=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return Sx=t,Sx}var Nx,CP;function JW(){if(CP)return Nx;CP=1;var t=a3(),e=Rn();function r(n,i,a){var l=i(n);return e(n)?l:t(l,a(n))}return Nx=r,Nx}var Ex,IP;function ZW(){if(IP)return Ex;IP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,l=[];++n<i;){var u=e[n];r(u,n,e)&&(l[a++]=u)}return l}return Ex=t,Ex}var Tx,OP;function eH(){if(OP)return Tx;OP=1;function t(){return[]}return Tx=t,Tx}var Ax,RP;function tH(){if(RP)return Ax;RP=1;var t=ZW(),e=eH(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(u){return n.call(l,u)}))}:e;return Ax=a,Ax}var Px,MP;function rH(){if(MP)return Px;MP=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Px=t,Px}var Cx,DP;function nH(){if(DP)return Cx;DP=1;var t=ns(),e=is(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Cx=n,Cx}var Ix,LP;function sj(){if(LP)return Ix;LP=1;var t=nH(),e=is(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(l){return e(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return Ix=a,Ix}var hd={exports:{}},Ox,$P;function iH(){if($P)return Ox;$P=1;function t(){return!1}return Ox=t,Ox}hd.exports;var FP;function s3(){return FP||(FP=1,function(t,e){var r=ma(),n=iH(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,l=a&&a.exports===i,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||n;t.exports=h}(hd,hd.exports)),hd.exports}var Rx,VP;function oj(){if(VP)return Rx;VP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Rx=r,Rx}var Mx,BP;function lj(){if(BP)return Mx;BP=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Mx=e,Mx}var Dx,UP;function aH(){if(UP)return Dx;UP=1;var t=ns(),e=lj(),r=is(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",y="[object RegExp]",x="[object Set]",k="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",A="[object DataView]",E="[object Float32Array]",P="[object Float64Array]",O="[object Int8Array]",N="[object Int16Array]",I="[object Int32Array]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]",R={};R[E]=R[P]=R[O]=R[N]=R[I]=R[T]=R[C]=R[L]=R[M]=!0,R[n]=R[i]=R[b]=R[a]=R[A]=R[l]=R[u]=R[d]=R[h]=R[p]=R[m]=R[y]=R[x]=R[k]=R[_]=!1;function F($){return r($)&&e($.length)&&!!R[t($)]}return Dx=F,Dx}var Lx,qP;function o3(){if(qP)return Lx;qP=1;function t(e){return function(r){return e(r)}}return Lx=t,Lx}var fd={exports:{}};fd.exports;var zP;function sH(){return zP||(zP=1,function(t,e){var r=E4(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,l=a&&r.process,u=function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}}();t.exports=u}(fd,fd.exports)),fd.exports}var $x,WP;function l3(){if(WP)return $x;WP=1;var t=aH(),e=o3(),r=sH(),n=r&&r.isTypedArray,i=n?e(n):t;return $x=i,$x}var Fx,HP;function oH(){if(HP)return Fx;HP=1;var t=rH(),e=sj(),r=Rn(),n=s3(),i=oj(),a=l3(),l=Object.prototype,u=l.hasOwnProperty;function d(h,p){var m=r(h),y=!m&&e(h),x=!m&&!y&&n(h),k=!m&&!y&&!x&&a(h),_=m||y||x||k,b=_?t(h.length,String):[],A=b.length;for(var E in h)(p||u.call(h,E))&&!(_&&(E=="length"||x&&(E=="offset"||E=="parent")||k&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,A)))&&b.push(E);return b}return Fx=d,Fx}var Vx,GP;function lH(){if(GP)return Vx;GP=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Vx=e,Vx}var Bx,KP;function c3(){if(KP)return Bx;KP=1;function t(e,r){return function(n){return e(r(n))}}return Bx=t,Bx}var Ux,YP;function cH(){if(YP)return Ux;YP=1;var t=c3(),e=t(Object.keys,Object);return Ux=e,Ux}var qx,XP;function uH(){if(XP)return qx;XP=1;var t=lH(),e=cH(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var l=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&l.push(u);return l}return qx=i,qx}var zx,QP;function Vh(){if(QP)return zx;QP=1;var t=H1(),e=lj();function r(n){return n!=null&&e(n.length)&&!t(n)}return zx=r,zx}var Wx,JP;function A0(){if(JP)return Wx;JP=1;var t=oH(),e=uH(),r=Vh();function n(i){return r(i)?t(i):e(i)}return Wx=n,Wx}var Hx,ZP;function dH(){if(ZP)return Hx;ZP=1;var t=JW(),e=tH(),r=A0();function n(i){return t(i,r,e)}return Hx=n,Hx}var Gx,e2;function hH(){if(e2)return Gx;e2=1;var t=dH(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,l,u,d,h,p){var m=u&e,y=t(a),x=y.length,k=t(l),_=k.length;if(x!=_&&!m)return!1;for(var b=x;b--;){var A=y[b];if(!(m?A in l:n.call(l,A)))return!1}var E=p.get(a),P=p.get(l);if(E&&P)return E==l&&P==a;var O=!0;p.set(a,l),p.set(l,a);for(var N=m;++b<x;){A=y[b];var I=a[A],T=l[A];if(d)var C=m?d(T,I,A,l,a,p):d(I,T,A,a,l,p);if(!(C===void 0?I===T||h(I,T,u,d,p):C)){O=!1;break}N||(N=A=="constructor")}if(O&&!N){var L=a.constructor,M=l.constructor;L!=M&&"constructor"in a&&"constructor"in l&&!(typeof L=="function"&&L instanceof L&&typeof M=="function"&&M instanceof M)&&(O=!1)}return p.delete(a),p.delete(l),O}return Gx=i,Gx}var Kx,t2;function fH(){if(t2)return Kx;t2=1;var t=vl(),e=ma(),r=t(e,"DataView");return Kx=r,Kx}var Yx,r2;function pH(){if(r2)return Yx;r2=1;var t=vl(),e=ma(),r=t(e,"Promise");return Yx=r,Yx}var Xx,n2;function u3(){if(n2)return Xx;n2=1;var t=vl(),e=ma(),r=t(e,"Set");return Xx=r,Xx}var Qx,i2;function mH(){if(i2)return Qx;i2=1;var t=vl(),e=ma(),r=t(e,"WeakMap");return Qx=r,Qx}var Jx,a2;function gH(){if(a2)return Jx;a2=1;var t=fH(),e=K1(),r=pH(),n=u3(),i=mH(),a=ns(),l=T4(),u="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",y="[object DataView]",x=l(t),k=l(e),_=l(r),b=l(n),A=l(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=y||e&&E(new e)!=u||r&&E(r.resolve())!=h||n&&E(new n)!=p||i&&E(new i)!=m)&&(E=function(P){var O=a(P),N=O==d?P.constructor:void 0,I=N?l(N):"";if(I)switch(I){case x:return y;case k:return u;case _:return h;case b:return p;case A:return m}return O}),Jx=E,Jx}var Zx,s2;function vH(){if(s2)return Zx;s2=1;var t=e3(),e=i3(),r=QW(),n=hH(),i=gH(),a=Rn(),l=s3(),u=l3(),d=1,h="[object Arguments]",p="[object Array]",m="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function k(_,b,A,E,P,O){var N=a(_),I=a(b),T=N?p:i(_),C=I?p:i(b);T=T==h?m:T,C=C==h?m:C;var L=T==m,M=C==m,R=T==C;if(R&&l(_)){if(!l(b))return!1;N=!0,L=!1}if(R&&!L)return O||(O=new t),N||u(_)?e(_,b,A,E,P,O):r(_,b,T,A,E,P,O);if(!(A&d)){var F=L&&x.call(_,"__wrapped__"),$=M&&x.call(b,"__wrapped__");if(F||$){var ee=F?_.value():_,ie=$?b.value():b;return O||(O=new t),P(ee,ie,A,E,O)}}return R?(O||(O=new t),n(_,b,A,E,P,O)):!1}return Zx=k,Zx}var eb,o2;function cj(){if(o2)return eb;o2=1;var t=vH(),e=is();function r(n,i,a,l,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,l,r,u)}return eb=r,eb}var tb,l2;function yH(){if(l2)return tb;l2=1;var t=e3(),e=cj(),r=1,n=2;function i(a,l,u,d){var h=u.length,p=h,m=!d;if(a==null)return!p;for(a=Object(a);h--;){var y=u[h];if(m&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++h<p;){y=u[h];var x=y[0],k=a[x],_=y[1];if(m&&y[2]){if(k===void 0&&!(x in a))return!1}else{var b=new t;if(d)var A=d(k,_,x,a,l,b);if(!(A===void 0?e(_,k,r|n,d,b):A))return!1}}return!0}return tb=i,tb}var rb,c2;function d3(){if(c2)return rb;c2=1;var t=no();function e(r){return r===r&&!t(r)}return rb=e,rb}var nb,u2;function xH(){if(u2)return nb;u2=1;var t=d3(),e=A0();function r(n){for(var i=e(n),a=i.length;a--;){var l=i[a],u=n[l];i[a]=[l,u,t(u)]}return i}return nb=r,nb}var ib,d2;function h3(){if(d2)return ib;d2=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return ib=t,ib}var ab,h2;function bH(){if(h2)return ab;h2=1;var t=yH(),e=xH(),r=h3();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(l){return l===i||t(l,i,a)}}return ab=n,ab}var sb,f2;function wH(){if(f2)return sb;f2=1;function t(e,r){return e!=null&&r in Object(e)}return sb=t,sb}var ob,p2;function _H(){if(p2)return ob;p2=1;var t=C4(),e=sj(),r=Rn(),n=oj(),i=lj(),a=j0();function l(u,d,h){d=t(d,u);for(var p=-1,m=d.length,y=!1;++p<m;){var x=a(d[p]);if(!(y=u!=null&&h(u,x)))break;u=u[x]}return y||++p!=m?y:(m=u==null?0:u.length,!!m&&i(m)&&n(x,m)&&(r(u)||e(u)))}return ob=l,ob}var lb,m2;function kH(){if(m2)return lb;m2=1;var t=wH(),e=_H();function r(n,i){return n!=null&&e(n,i,t)}return lb=r,lb}var cb,g2;function jH(){if(g2)return cb;g2=1;var t=cj(),e=I4(),r=kH(),n=W1(),i=d3(),a=h3(),l=j0(),u=1,d=2;function h(p,m){return n(p)&&i(m)?a(l(p),m):function(y){var x=e(y,p);return x===void 0&&x===m?r(y,p):t(m,x,u|d)}}return cb=h,cb}var ub,v2;function cu(){if(v2)return ub;v2=1;function t(e){return e}return ub=t,ub}var db,y2;function SH(){if(y2)return db;y2=1;function t(e){return function(r){return r?.[e]}}return db=t,db}var hb,x2;function NH(){if(x2)return hb;x2=1;var t=Q1();function e(r){return function(n){return t(n,r)}}return hb=e,hb}var fb,b2;function EH(){if(b2)return fb;b2=1;var t=SH(),e=NH(),r=W1(),n=j0();function i(a){return r(a)?t(n(a)):e(a)}return fb=i,fb}var pb,w2;function ga(){if(w2)return pb;w2=1;var t=bH(),e=jH(),r=cu(),n=Rn(),i=EH();function a(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?e(l[0],l[1]):t(l):i(l)}return pb=a,pb}var mb,_2;function f3(){if(_2)return mb;_2=1;function t(e,r,n,i){for(var a=e.length,l=n+(i?1:-1);i?l--:++l<a;)if(r(e[l],l,e))return l;return-1}return mb=t,mb}var gb,k2;function TH(){if(k2)return gb;k2=1;function t(e){return e!==e}return gb=t,gb}var vb,j2;function AH(){if(j2)return vb;j2=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return vb=t,vb}var yb,S2;function PH(){if(S2)return yb;S2=1;var t=f3(),e=TH(),r=AH();function n(i,a,l){return a===a?r(i,a,l):t(i,e,l)}return yb=n,yb}var xb,N2;function CH(){if(N2)return xb;N2=1;var t=PH();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return xb=e,xb}var bb,E2;function IH(){if(E2)return bb;E2=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return bb=t,bb}var wb,T2;function OH(){if(T2)return wb;T2=1;function t(){}return wb=t,wb}var _b,A2;function RH(){if(A2)return _b;A2=1;var t=u3(),e=OH(),r=aj(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return _b=i,_b}var kb,P2;function MH(){if(P2)return kb;P2=1;var t=t3(),e=CH(),r=IH(),n=n3(),i=RH(),a=aj(),l=200;function u(d,h,p){var m=-1,y=e,x=d.length,k=!0,_=[],b=_;if(p)k=!1,y=r;else if(x>=l){var A=h?null:i(d);if(A)return a(A);k=!1,y=n,b=new t}else b=h?[]:_;e:for(;++m<x;){var E=d[m],P=h?h(E):E;if(E=p||E!==0?E:0,k&&P===P){for(var O=b.length;O--;)if(b[O]===P)continue e;h&&b.push(P),_.push(E)}else y(b,P,p)||(b!==_&&b.push(P),_.push(E))}return _}return kb=u,kb}var jb,C2;function DH(){if(C2)return jb;C2=1;var t=ga(),e=MH();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return jb=r,jb}var LH=DH();const I2=jt(LH);function p3(t,e,r){return e===!0?I2(t,r):Ze(e)?I2(t,e):t}function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}var $H=["ref"];function O2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(r),!0).forEach(function(n){P0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g3(n.key),n)}}function VH(t,e,r){return e&&R2(t.prototype,e),r&&R2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BH(t,e,r){return e=cm(e),UH(t,m3()?Reflect.construct(e,r||[],cm(t).constructor):e.apply(t,r))}function UH(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qH(t)}function qH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m3=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cm(t)}function zH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D_(t,e)}function P0(t,e,r){return e=g3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g3(t){var e=WH(t,"string");return Oc(e)=="symbol"?e:e+""}function WH(t,e){if(Oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function HH(t,e){if(t==null)return{};var r=GH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KH(t){return t.value}function YH(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=HH(e,$H);return K.createElement(ij,r)}var M2=1,Hs=function(t){function e(){var r;FH(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=BH(this,e,[].concat(i)),P0(r,"lastBoundingBox",{width:-1,height:-1}),r}return zH(e,t),VH(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>M2||Math.abs(i.height-this.lastBoundingBox.height)>M2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Da({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,l=i.align,u=i.verticalAlign,d=i.margin,h=i.chartWidth,p=i.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();m={left:((h||0)-x.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var k=this.getBBoxSnapshot();y={top:((p||0)-k.height)/2}}else y=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Da(Da({},m),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,l=i.width,u=i.height,d=i.wrapperStyle,h=i.payloadUniqBy,p=i.payload,m=Da(Da({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return K.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},YH(a,Da(Da({},this.props),{},{payload:p3(p,h,KH)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Da(Da({},this.defaultProps),n.props),l=a.layout;return l==="vertical"&&Ae(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])}(z.PureComponent);P0(Hs,"displayName","Legend");P0(Hs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Sb,D2;function XH(){if(D2)return Sb;D2=1;var t=Lh(),e=sj(),r=Rn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return Sb=i,Sb}var Nb,L2;function v3(){if(L2)return Nb;L2=1;var t=a3(),e=XH();function r(n,i,a,l,u){var d=-1,h=n.length;for(a||(a=e),u||(u=[]);++d<h;){var p=n[d];i>0&&a(p)?i>1?r(p,i-1,a,l,u):t(u,p):l||(u[u.length]=p)}return u}return Nb=r,Nb}var Eb,$2;function QH(){if($2)return Eb;$2=1;function t(e){return function(r,n,i){for(var a=-1,l=Object(r),u=i(r),d=u.length;d--;){var h=u[e?d:++a];if(n(l[h],h,l)===!1)break}return r}}return Eb=t,Eb}var Tb,F2;function JH(){if(F2)return Tb;F2=1;var t=QH(),e=t();return Tb=e,Tb}var Ab,V2;function y3(){if(V2)return Ab;V2=1;var t=JH(),e=A0();function r(n,i){return n&&t(n,i,e)}return Ab=r,Ab}var Pb,B2;function ZH(){if(B2)return Pb;B2=1;var t=Vh();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var l=i.length,u=n?l:-1,d=Object(i);(n?u--:++u<l)&&a(d[u],u,d)!==!1;);return i}}return Pb=e,Pb}var Cb,U2;function uj(){if(U2)return Cb;U2=1;var t=y3(),e=ZH(),r=e(t);return Cb=r,Cb}var Ib,q2;function x3(){if(q2)return Ib;q2=1;var t=uj(),e=Vh();function r(n,i){var a=-1,l=e(n)?Array(n.length):[];return t(n,function(u,d,h){l[++a]=i(u,d,h)}),l}return Ib=r,Ib}var Ob,z2;function eG(){if(z2)return Ob;z2=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Ob=t,Ob}var Rb,W2;function tG(){if(W2)return Rb;W2=1;var t=ou();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,l=r===r,u=t(r),d=n!==void 0,h=n===null,p=n===n,m=t(n);if(!h&&!m&&!u&&r>n||u&&d&&p&&!h&&!m||a&&d&&p||!i&&p||!l)return 1;if(!a&&!u&&!m&&r<n||m&&i&&l&&!a&&!u||h&&i&&l||!d&&l||!p)return-1}return 0}return Rb=e,Rb}var Mb,H2;function rG(){if(H2)return Mb;H2=1;var t=tG();function e(r,n,i){for(var a=-1,l=r.criteria,u=n.criteria,d=l.length,h=i.length;++a<d;){var p=t(l[a],u[a]);if(p){if(a>=h)return p;var m=i[a];return p*(m=="desc"?-1:1)}}return r.index-n.index}return Mb=e,Mb}var Db,G2;function nG(){if(G2)return Db;G2=1;var t=X1(),e=Q1(),r=ga(),n=x3(),i=eG(),a=o3(),l=rG(),u=cu(),d=Rn();function h(p,m,y){m.length?m=t(m,function(_){return d(_)?function(b){return e(b,_.length===1?_[0]:_)}:_}):m=[u];var x=-1;m=t(m,a(r));var k=n(p,function(_,b,A){var E=t(m,function(P){return P(_)});return{criteria:E,index:++x,value:_}});return i(k,function(_,b){return l(_,b,y)})}return Db=h,Db}var Lb,K2;function iG(){if(K2)return Lb;K2=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Lb=t,Lb}var $b,Y2;function aG(){if(Y2)return $b;Y2=1;var t=iG(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var l=arguments,u=-1,d=e(l.length-i,0),h=Array(d);++u<d;)h[u]=l[i+u];u=-1;for(var p=Array(i+1);++u<i;)p[u]=l[u];return p[i]=a(h),t(n,this,p)}}return $b=r,$b}var Fb,X2;function sG(){if(X2)return Fb;X2=1;function t(e){return function(){return e}}return Fb=t,Fb}var Vb,Q2;function b3(){if(Q2)return Vb;Q2=1;var t=vl(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Vb=e,Vb}var Bb,J2;function oG(){if(J2)return Bb;J2=1;var t=sG(),e=b3(),r=cu(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return Bb=n,Bb}var Ub,Z2;function lG(){if(Z2)return Ub;Z2=1;var t=800,e=16,r=Date.now;function n(i){var a=0,l=0;return function(){var u=r(),d=e-(u-l);if(l=u,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Ub=n,Ub}var qb,eC;function cG(){if(eC)return qb;eC=1;var t=oG(),e=lG(),r=e(t);return qb=r,qb}var zb,tC;function uG(){if(tC)return zb;tC=1;var t=cu(),e=aG(),r=cG();function n(i,a){return r(e(i,a,t),i+"")}return zb=n,zb}var Wb,rC;function C0(){if(rC)return Wb;rC=1;var t=G1(),e=Vh(),r=oj(),n=no();function i(a,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?e(u)&&r(l,u.length):d=="string"&&l in u)?t(u[l],a):!1}return Wb=i,Wb}var Hb,nC;function dG(){if(nC)return Hb;nC=1;var t=v3(),e=nG(),r=uG(),n=C0(),i=r(function(a,l){if(a==null)return[];var u=l.length;return u>1&&n(a,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),e(a,t(l,1),[])});return Hb=i,Hb}var hG=dG();const dj=jt(hG);function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L_.apply(this,arguments)}function fG(t,e){return vG(t)||gG(t,e)||mG(t,e)||pG()}function pG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mG(t,e){if(t){if(typeof t=="string")return iC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iC(t,e)}}function iC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,u=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function vG(t){if(Array.isArray(t))return t}function aC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(r),!0).forEach(function(n){yG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yG(t,e,r){return e=xG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xG(t){var e=bG(t,"string");return Bd(e)=="symbol"?e:e+""}function bG(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wG(t){return Array.isArray(t)&&wr(t[0])&&wr(t[1])?t.join(" ~ "):t}var _G=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,l=e.itemStyle,u=l===void 0?{}:l,d=e.labelStyle,h=d===void 0?{}:d,p=e.payload,m=e.formatter,y=e.itemSorter,x=e.wrapperClassName,k=e.labelClassName,_=e.label,b=e.labelFormatter,A=e.accessibilityLayer,E=A===void 0?!1:A,P=function(){if(p&&p.length){var F={padding:0,margin:0},$=(y?dj(p,y):p).map(function(ee,ie){if(ee.type==="none")return null;var Q=Gb({display:"block",paddingTop:4,paddingBottom:4,color:ee.color||"#000"},u),se=ee.formatter||m||wG,te=ee.value,Z=ee.name,re=te,W=Z;if(se&&re!=null&&W!=null){var X=se(te,Z,ee,ie,p);if(Array.isArray(X)){var Y=fG(X,2);re=Y[0],W=Y[1]}else re=X}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ie),style:Q},wr(W)?K.createElement("span",{className:"recharts-tooltip-item-name"},W):null,wr(W)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},re),K.createElement("span",{className:"recharts-tooltip-item-unit"},ee.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:F},$)}return null},O=Gb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=Gb({margin:0},h),I=!st(_),T=I?_:"",C=it("recharts-default-tooltip",x),L=it("recharts-tooltip-label",k);I&&b&&p!==void 0&&p!==null&&(T=b(_,p));var M=E?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",L_({className:C,style:O},M),K.createElement("p",{className:L,style:N},K.isValidElement(T)?T:"".concat(T)),P())};function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function mp(t,e,r){return e=kG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kG(t){var e=jG(t,"string");return Ud(e)=="symbol"?e:e+""}function jG(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qu="recharts-tooltip-wrapper",SG={visibility:"hidden"};function NG(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return it(Qu,mp(mp(mp(mp({},"".concat(Qu,"-right"),Ae(r)&&e&&Ae(e.x)&&r>=e.x),"".concat(Qu,"-left"),Ae(r)&&e&&Ae(e.x)&&r<e.x),"".concat(Qu,"-bottom"),Ae(n)&&e&&Ae(e.y)&&n>=e.y),"".concat(Qu,"-top"),Ae(n)&&e&&Ae(e.y)&&n<e.y))}function sC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,l=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(a&&Ae(a[n]))return a[n];var p=r[n]-u-i,m=r[n]+i;if(e[n])return l[n]?p:m;if(l[n]){var y=p,x=d[n];return y<x?Math.max(m,d[n]):Math.max(p,d[n])}var k=m+u,_=d[n]+h;return k>_?Math.max(p,d[n]):Math.max(m,d[n])}function EG(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function TG(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,l=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,h,p,m;return l.height>0&&l.width>0&&r?(p=sC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=sC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=EG({translateX:p,translateY:m,useTranslate3d:u})):h=SG,{cssProperties:h,cssClasses:NG({translateX:p,translateY:m,coordinate:r})}}function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function oC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(r),!0).forEach(function(n){F_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_3(n.key),n)}}function CG(t,e,r){return e&&PG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IG(t,e,r){return e=um(e),OG(t,w3()?Reflect.construct(e,r||[],um(t).constructor):e.apply(t,r))}function OG(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RG(t)}function RG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w3=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},um(t)}function MG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$_(t,e)}function F_(t,e,r){return e=_3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _3(t){var e=DG(t,"string");return Rc(e)=="symbol"?e:e+""}function DG(t,e){if(Rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cC=1,LG=function(t){function e(){var r;AG(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=IG(this,e,[].concat(i)),F_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),F_(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,h,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(h=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),r}return MG(e,t),CG(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>cC||Math.abs(n.height-this.state.lastBoundingBox.height)>cC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,h=i.children,p=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,x=i.offset,k=i.position,_=i.reverseDirection,b=i.useTranslate3d,A=i.viewBox,E=i.wrapperStyle,P=TG({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:x,position:k,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:A}),O=P.cssClasses,N=P.cssProperties,I=lC(lC({transition:y&&a?"transform ".concat(u,"ms ").concat(d):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},E);return K.createElement("div",{tabIndex:-1,className:O,style:I,ref:function(C){n.wrapperNode=C}},h)}}])}(z.PureComponent),$G=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},uu={isSsr:$G()};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function uC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(r),!0).forEach(function(n){hj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j3(n.key),n)}}function BG(t,e,r){return e&&VG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UG(t,e,r){return e=dm(e),qG(t,k3()?Reflect.construct(e,r||[],dm(t).constructor):e.apply(t,r))}function qG(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zG(t)}function zG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k3=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dm(t)}function WG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V_(t,e)}function hj(t,e,r){return e=j3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j3(t){var e=HG(t,"string");return Mc(e)=="symbol"?e:e+""}function HG(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GG(t){return t.dataKey}function KG(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(_G,e)}var fi=function(t){function e(){return FG(this,e),UG(this,e,arguments)}return WG(e,t),BG(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,h=i.content,p=i.coordinate,m=i.filterNull,y=i.isAnimationActive,x=i.offset,k=i.payload,_=i.payloadUniqBy,b=i.position,A=i.reverseDirection,E=i.useTranslate3d,P=i.viewBox,O=i.wrapperStyle,N=k??[];m&&N.length&&(N=p3(k.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),_,GG));var I=N.length>0;return K.createElement(LG,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:y,active:a,coordinate:p,hasPayload:I,offset:x,position:b,reverseDirection:A,useTranslate3d:E,viewBox:P,wrapperStyle:O},KG(h,dC(dC({},this.props),{},{payload:N})))}}])}(z.PureComponent);hj(fi,"displayName","Tooltip");hj(fi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!uu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Kb,hC;function YG(){if(hC)return Kb;hC=1;var t=ma(),e=function(){return t.Date.now()};return Kb=e,Kb}var Yb,fC;function XG(){if(fC)return Yb;fC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Yb=e,Yb}var Xb,pC;function QG(){if(pC)return Xb;pC=1;var t=XG(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Xb=r,Xb}var Qb,mC;function S3(){if(mC)return Qb;mC=1;var t=QG(),e=no(),r=ou(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=a.test(h);return m||l.test(h)?u(h.slice(2),m?2:8):i.test(h)?n:+h}return Qb=d,Qb}var Jb,gC;function JG(){if(gC)return Jb;gC=1;var t=no(),e=YG(),r=S3(),n="Expected a function",i=Math.max,a=Math.min;function l(u,d,h){var p,m,y,x,k,_,b=0,A=!1,E=!1,P=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(A=!!h.leading,E="maxWait"in h,y=E?i(r(h.maxWait)||0,d):y,P="trailing"in h?!!h.trailing:P);function O($){var ee=p,ie=m;return p=m=void 0,b=$,x=u.apply(ie,ee),x}function N($){return b=$,k=setTimeout(C,d),A?O($):x}function I($){var ee=$-_,ie=$-b,Q=d-ee;return E?a(Q,y-ie):Q}function T($){var ee=$-_,ie=$-b;return _===void 0||ee>=d||ee<0||E&&ie>=y}function C(){var $=e();if(T($))return L($);k=setTimeout(C,I($))}function L($){return k=void 0,P&&p?O($):(p=m=void 0,x)}function M(){k!==void 0&&clearTimeout(k),b=0,p=_=m=k=void 0}function R(){return k===void 0?x:L(e())}function F(){var $=e(),ee=T($);if(p=arguments,m=this,_=$,ee){if(k===void 0)return N(_);if(E)return clearTimeout(k),k=setTimeout(C,d),O(_)}return k===void 0&&(k=setTimeout(C,d)),x}return F.cancel=M,F.flush=R,F}return Jb=l,Jb}var Zb,vC;function ZG(){if(vC)return Zb;vC=1;var t=JG(),e=no(),r="Expected a function";function n(i,a,l){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),t(i,a,{leading:u,maxWait:a,trailing:d})}return Zb=n,Zb}var eK=ZG();const N3=jt(eK);function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function yC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(r),!0).forEach(function(n){tK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tK(t,e,r){return e=rK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rK(t){var e=nK(t,"string");return qd(e)=="symbol"?e:e+""}function nK(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iK(t,e){return lK(t)||oK(t,e)||sK(t,e)||aK()}function aK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sK(t,e){if(t){if(typeof t=="string")return xC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xC(t,e)}}function xC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,u=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function lK(t){if(Array.isArray(t))return t}var fj=z.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,l=a===void 0?"100%":a,u=t.height,d=u===void 0?"100%":u,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,y=t.maxHeight,x=t.children,k=t.debounce,_=k===void 0?0:k,b=t.id,A=t.className,E=t.onResize,P=t.style,O=P===void 0?{}:P,N=z.useRef(null),I=z.useRef();I.current=E,z.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var T=z.useState({containerWidth:i.width,containerHeight:i.height}),C=iK(T,2),L=C[0],M=C[1],R=z.useCallback(function($,ee){M(function(ie){var Q=Math.round($),se=Math.round(ee);return ie.containerWidth===Q&&ie.containerHeight===se?ie:{containerWidth:Q,containerHeight:se}})},[]);z.useEffect(function(){var $=function(Z){var re,W=Z[0].contentRect,X=W.width,Y=W.height;R(X,Y),(re=I.current)===null||re===void 0||re.call(I,X,Y)};_>0&&($=N3($,_,{trailing:!0,leading:!1}));var ee=new ResizeObserver($),ie=N.current.getBoundingClientRect(),Q=ie.width,se=ie.height;return R(Q,se),ee.observe(N.current),function(){ee.disconnect()}},[R,_]);var F=z.useMemo(function(){var $=L.containerWidth,ee=L.containerHeight;if($<0||ee<0)return null;Li(Wo(l)||Wo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Li(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ie=Wo(l)?$:l,Q=Wo(d)?ee:d;r&&r>0&&(ie?Q=ie/r:Q&&(ie=Q*r),y&&Q>y&&(Q=y)),Li(ie>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ie,Q,l,d,p,m,r);var se=!Array.isArray(x)&&Wa(x.type).endsWith("Chart");return K.Children.map(x,function(te){return K.isValidElement(te)?z.cloneElement(te,gp({width:ie,height:Q},se?{style:gp({height:"100%",width:"100%",maxHeight:Q,maxWidth:ie},te.props.style)}:{})):te})},[r,x,d,y,m,p,L,l]);return K.createElement("div",{id:b?"".concat(b):void 0,className:it("recharts-responsive-container",A),style:gp(gp({},O),{},{width:l,height:d,minWidth:p,minHeight:m,maxHeight:y}),ref:N},F)}),I0=function(e){return null};I0.displayName="Cell";function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function bC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(r),!0).forEach(function(n){cK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cK(t,e,r){return e=uK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uK(t){var e=dK(t,"string");return zd(e)=="symbol"?e:e+""}function dK(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tc={widthCache:{},cacheCount:0},hK=2e3,fK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wC="recharts_measurement_span";function pK(t){var e=B_({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var wd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||uu.isSsr)return{width:0,height:0};var n=pK(r),i=JSON.stringify({text:e,copyStyle:n});if(tc.widthCache[i])return tc.widthCache[i];try{var a=document.getElementById(wC);a||(a=document.createElement("span"),a.setAttribute("id",wC),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var l=B_(B_({},fK),n);Object.assign(a.style,l),a.textContent="".concat(e);var u=a.getBoundingClientRect(),d={width:u.width,height:u.height};return tc.widthCache[i]=d,++tc.cacheCount>hK&&(tc.cacheCount=0,tc.widthCache={}),d}catch{return{width:0,height:0}}},mK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function hm(t,e){return xK(t)||yK(t,e)||vK(t,e)||gK()}function gK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vK(t,e){if(t){if(typeof t=="string")return _C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _C(t,e)}}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,u=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function xK(t){if(Array.isArray(t))return t}function bK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_K(n.key),n)}}function wK(t,e,r){return e&&kC(t.prototype,e),r&&kC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _K(t){var e=kK(t,"string");return Wd(e)=="symbol"?e:e+""}function kK(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,E3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},NK=Object.keys(E3),cc="NaN";function EK(t,e){return t*E3[e]}var vp=function(){function t(e,r){bK(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!jK.test(r)&&(this.num=NaN,this.unit=""),NK.includes(r)&&(this.num=EK(e,r),this.unit="px")}return wK(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=SK.exec(r))!==null&&n!==void 0?n:[],a=hm(i,3),l=a[1],u=a[2];return new t(parseFloat(l),u??"")}}])}();function T3(t){if(t.includes(cc))return cc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=jC.exec(e))!==null&&r!==void 0?r:[],i=hm(n,4),a=i[1],l=i[2],u=i[3],d=vp.parse(a??""),h=vp.parse(u??""),p=l==="*"?d.multiply(h):d.divide(h);if(p.isNaN())return cc;e=e.replace(jC,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=SC.exec(e))!==null&&m!==void 0?m:[],x=hm(y,4),k=x[1],_=x[2],b=x[3],A=vp.parse(k??""),E=vp.parse(b??""),P=_==="+"?A.add(E):A.subtract(E);if(P.isNaN())return cc;e=e.replace(SC,P.toString())}return e}var NC=/\(([^()]*)\)/;function TK(t){for(var e=t;e.includes("(");){var r=NC.exec(e),n=hm(r,2),i=n[1];e=e.replace(NC,T3(i))}return e}function AK(t){var e=t.replace(/\s+/g,"");return e=TK(e),e=T3(e),e}function PK(t){try{return AK(t)}catch{return cc}}function ew(t){var e=PK(t.slice(5,-1));return e===cc?"":e}var CK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],IK=["dx","dy","angle","className","breakAll"];function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U_.apply(this,arguments)}function EC(t,e){if(t==null)return{};var r=OK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TC(t,e){return LK(t)||DK(t,e)||MK(t,e)||RK()}function RK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,e){if(t){if(typeof t=="string")return AC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AC(t,e)}}function AC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,u=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function LK(t){if(Array.isArray(t))return t}var A3=/[ \f\n\r\t\v\u2028\u2029]+/,P3=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];st(r)||(n?a=r.toString().split(""):a=r.toString().split(A3));var l=a.map(function(d){return{word:d,width:wd(d,i).width}}),u=n?0:wd("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},$K=function(e,r,n,i,a){var l=e.maxLines,u=e.children,d=e.style,h=e.breakAll,p=Ae(l),m=u,y=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ie.reduce(function(Q,se){var te=se.word,Z=se.width,re=Q[Q.length-1];if(re&&(i==null||a||re.width+Z+n<Number(i)))re.words.push(te),re.width+=Z+n;else{var W={words:[te],width:Z};Q.push(W)}return Q},[])},x=y(r),k=function(ie){return ie.reduce(function(Q,se){return Q.width>se.width?Q:se})};if(!p)return x;for(var _="",b=function(ie){var Q=m.slice(0,ie),se=P3({breakAll:h,style:d,children:Q+_}).wordsWithComputedWidth,te=y(se),Z=te.length>l||k(te).width>Number(i);return[Z,te]},A=0,E=m.length-1,P=0,O;A<=E&&P<=m.length-1;){var N=Math.floor((A+E)/2),I=N-1,T=b(I),C=TC(T,2),L=C[0],M=C[1],R=b(N),F=TC(R,1),$=F[0];if(!L&&!$&&(A=N+1),L&&$&&(E=N-1),!L&&$){O=M;break}P++}return O||x},PC=function(e){var r=st(e)?[]:e.toString().split(A3);return[{words:r}]},FK=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,l=e.breakAll,u=e.maxLines;if((r||n)&&!uu.isSsr){var d,h,p=P3({breakAll:l,children:i,style:a});if(p){var m=p.wordsWithComputedWidth,y=p.spaceWidth;d=m,h=y}else return PC(i);return $K({breakAll:l,children:i,maxLines:u,style:a},d,h,r,n)}return PC(i)},CC="#808080",ll=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,l=e.lineHeight,u=l===void 0?"1em":l,d=e.capHeight,h=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,k=e.verticalAnchor,_=k===void 0?"end":k,b=e.fill,A=b===void 0?CC:b,E=EC(e,CK),P=z.useMemo(function(){return FK({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:m,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,m,E.style,E.width]),O=E.dx,N=E.dy,I=E.angle,T=E.className,C=E.breakAll,L=EC(E,IK);if(!wr(n)||!wr(a))return null;var M=n+(Ae(O)?O:0),R=a+(Ae(N)?N:0),F;switch(_){case"start":F=ew("calc(".concat(h,")"));break;case"middle":F=ew("calc(".concat((P.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:F=ew("calc(".concat(P.length-1," * -").concat(u,")"));break}var $=[];if(m){var ee=P[0].width,ie=E.width;$.push("scale(".concat((Ae(ie)?ie/ee:1)/ee,")"))}return I&&$.push("rotate(".concat(I,", ").concat(M,", ").concat(R,")")),$.length&&(L.transform=$.join(" ")),K.createElement("text",U_({},Xe(L,!0),{x:M,y:R,className:it("recharts-text",T),textAnchor:x,fill:A.includes("url")?CC:A}),P.map(function(Q,se){var te=Q.words.join(C?"":" ");return K.createElement("tspan",{x:M,dy:se===0?F:u,key:"".concat(te,"-").concat(se)},te)}))};function Gs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pj(t){let e,r,n;t.length!==2?(e=Gs,r=(u,d)=>Gs(t(u),d),n=(u,d)=>t(u)-d):(e=t===Gs||t===VK?t:BK,r=t,n=t);function i(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(u[m],d)<0?h=m+1:p=m}while(h<p)}return h}function a(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(u[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function l(u,d,h=0,p=u.length){const m=i(u,d,h,p-1);return m>h&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:i,center:l,right:a}}function BK(){return 0}function C3(t){return t===null?NaN:+t}function*UK(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const qK=pj(Gs),Bh=qK.right;pj(C3).center;class IC extends Map{constructor(e,r=HK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(OC(this,e))}has(e){return super.has(OC(this,e))}set(e,r){return super.set(zK(this,e),r)}delete(e){return super.delete(WK(this,e))}}function OC({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function zK({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function WK({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function HK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function GK(t=Gs){if(t===Gs)return I3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function I3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const KK=Math.sqrt(50),YK=Math.sqrt(10),XK=Math.sqrt(2);function fm(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),l=a>=KK?10:a>=YK?5:a>=XK?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=r&&r<2?fm(t,e,r*2):[u,d,h]}function q_(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,l]=n?fm(e,t,r):fm(t,e,r);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(n)if(l<0)for(let h=0;h<u;++h)d[h]=(a-h)/-l;else for(let h=0;h<u;++h)d[h]=(a-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function z_(t,e,r){return e=+e,t=+t,r=+r,fm(t,e,r)[2]}function W_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?z_(e,t,r):z_(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function RC(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MC(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function O3(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?I3:GK(i);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),x=Math.max(r,Math.floor(e-h*m/d+y)),k=Math.min(n,Math.floor(e+(d-h)*m/d+y));O3(t,e,x,k,i)}const a=t[e];let l=r,u=n;for(Ju(t,r,e),i(t[n],a)>0&&Ju(t,r,n);l<u;){for(Ju(t,l,u),++l,--u;i(t[l],a)<0;)++l;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?Ju(t,r,u):(++u,Ju(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Ju(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function QK(t,e,r){if(t=Float64Array.from(UK(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return MC(t);if(e>=1)return RC(t);var n,i=(n-1)*e,a=Math.floor(i),l=RC(O3(t,a).subarray(0,a+1)),u=MC(t.subarray(a+1));return l+(u-l)*(i-a)}}function JK(t,e,r=C3){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),l=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return l+(u-l)*(i-a)}}function ZK(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function xi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function as(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const H_=Symbol("implicit");function mj(){var t=new IC,e=[],r=[],n=H_;function i(a){let l=t.get(a);if(l===void 0){if(n!==H_)return n;t.set(a,l=e.push(a)-1)}return r[l%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new IC;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return mj(e,r).unknown(n)},xi.apply(i,arguments),i}function Hd(){var t=mj().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,l,u=!1,d=0,h=0,p=.5;delete t.unknown;function m(){var y=e().length,x=i<n,k=x?i:n,_=x?n:i;a=(_-k)/Math.max(1,y-d+h*2),u&&(a=Math.floor(a)),k+=(_-k-a*(y-d))*p,l=a*(1-d),u&&(k=Math.round(k),l=Math.round(l));var b=ZK(y).map(function(A){return k+a*A});return r(x?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,u=!0,m()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,m()):u},t.padding=function(y){return arguments.length?(d=Math.min(1,h=+y),m()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},t.paddingOuter=function(y){return arguments.length?(h=+y,m()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},t.copy=function(){return Hd(e(),[n,i]).round(u).paddingInner(d).paddingOuter(h).align(p)},xi.apply(m(),arguments)}function R3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return R3(e())},t}function _d(){return R3(Hd.apply(null,arguments).paddingInner(1))}function gj(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function M3(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Uh(){}var Gd=.7,pm=1/Gd,wc="\\s*([+-]?\\d+)\\s*",Kd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eY=/^#([0-9a-f]{3,8})$/,tY=new RegExp(`^rgb\\(${wc},${wc},${wc}\\)$`),rY=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),nY=new RegExp(`^rgba\\(${wc},${wc},${wc},${Kd}\\)$`),iY=new RegExp(`^rgba\\(${ca},${ca},${ca},${Kd}\\)$`),aY=new RegExp(`^hsl\\(${Kd},${ca},${ca}\\)$`),sY=new RegExp(`^hsla\\(${Kd},${ca},${ca},${Kd}\\)$`),DC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gj(Uh,Yd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:LC,formatHex:LC,formatHex8:oY,formatHsl:lY,formatRgb:$C,toString:$C});function LC(){return this.rgb().formatHex()}function oY(){return this.rgb().formatHex8()}function lY(){return D3(this).formatHsl()}function $C(){return this.rgb().formatRgb()}function Yd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=eY.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?FC(e):r===3?new Cn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?yp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?yp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tY.exec(t))?new Cn(e[1],e[2],e[3],1):(e=rY.exec(t))?new Cn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nY.exec(t))?yp(e[1],e[2],e[3],e[4]):(e=iY.exec(t))?yp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aY.exec(t))?UC(e[1],e[2]/100,e[3]/100,1):(e=sY.exec(t))?UC(e[1],e[2]/100,e[3]/100,e[4]):DC.hasOwnProperty(t)?FC(DC[t]):t==="transparent"?new Cn(NaN,NaN,NaN,0):null}function FC(t){return new Cn(t>>16&255,t>>8&255,t&255,1)}function yp(t,e,r,n){return n<=0&&(t=e=r=NaN),new Cn(t,e,r,n)}function cY(t){return t instanceof Uh||(t=Yd(t)),t?(t=t.rgb(),new Cn(t.r,t.g,t.b,t.opacity)):new Cn}function G_(t,e,r,n){return arguments.length===1?cY(t):new Cn(t,e,r,n??1)}function Cn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}gj(Cn,G_,M3(Uh,{brighter(t){return t=t==null?pm:Math.pow(pm,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gd:Math.pow(Gd,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cn(Qo(this.r),Qo(this.g),Qo(this.b),mm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VC,formatHex:VC,formatHex8:uY,formatRgb:BC,toString:BC}));function VC(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}`}function uY(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}${Ho((isNaN(this.opacity)?1:this.opacity)*255)}`}function BC(){const t=mm(this.opacity);return`${t===1?"rgb(":"rgba("}${Qo(this.r)}, ${Qo(this.g)}, ${Qo(this.b)}${t===1?")":`, ${t})`}`}function mm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ho(t){return t=Qo(t),(t<16?"0":"")+t.toString(16)}function UC(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Mi(t,e,r,n)}function D3(t){if(t instanceof Mi)return new Mi(t.h,t.s,t.l,t.opacity);if(t instanceof Uh||(t=Yd(t)),!t)return new Mi;if(t instanceof Mi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),l=NaN,u=a-i,d=(a+i)/2;return u?(e===a?l=(r-n)/u+(r<n)*6:r===a?l=(n-e)/u+2:l=(e-r)/u+4,u/=d<.5?a+i:2-a-i,l*=60):u=d>0&&d<1?0:l,new Mi(l,u,d,t.opacity)}function dY(t,e,r,n){return arguments.length===1?D3(t):new Mi(t,e,r,n??1)}function Mi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}gj(Mi,dY,M3(Uh,{brighter(t){return t=t==null?pm:Math.pow(pm,t),new Mi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gd:Math.pow(Gd,t),new Mi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Cn(tw(t>=240?t-240:t+120,i,n),tw(t,i,n),tw(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Mi(qC(this.h),xp(this.s),xp(this.l),mm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mm(this.opacity);return`${t===1?"hsl(":"hsla("}${qC(this.h)}, ${xp(this.s)*100}%, ${xp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qC(t){return t=(t||0)%360,t<0?t+360:t}function xp(t){return Math.max(0,Math.min(1,t||0))}function tw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const vj=t=>()=>t;function hY(t,e){return function(r){return t+r*e}}function fY(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function pY(t){return(t=+t)==1?L3:function(e,r){return r-e?fY(e,r,t):vj(isNaN(e)?r:e)}}function L3(t,e){var r=e-t;return r?hY(t,r):vj(isNaN(t)?e:t)}const zC=function t(e){var r=pY(e);function n(i,a){var l=r((i=G_(i)).r,(a=G_(a)).r),u=r(i.g,a.g),d=r(i.b,a.b),h=L3(i.opacity,a.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=h(p),i+""}}return n.gamma=t,n}(1);function mY(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function gY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vY(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),l;for(l=0;l<n;++l)i[l]=du(t[l],e[l]);for(;l<r;++l)a[l]=e[l];return function(u){for(l=0;l<n;++l)a[l]=i[l](u);return a}}function yY(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function gm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function xY(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=du(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var K_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rw=new RegExp(K_.source,"g");function bY(t){return function(){return t}}function wY(t){return function(e){return t(e)+""}}function _Y(t,e){var r=K_.lastIndex=rw.lastIndex=0,n,i,a,l=-1,u=[],d=[];for(t=t+"",e=e+"";(n=K_.exec(t))&&(i=rw.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[l]?u[l]+=a:u[++l]=a),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:gm(n,i)})),r=rw.lastIndex;return r<e.length&&(a=e.slice(r),u[l]?u[l]+=a:u[++l]=a),u.length<2?d[0]?wY(d[0].x):bY(e):(e=d.length,function(h){for(var p=0,m;p<e;++p)u[(m=d[p]).i]=m.x(h);return u.join("")})}function du(t,e){var r=typeof e,n;return e==null||r==="boolean"?vj(e):(r==="number"?gm:r==="string"?(n=Yd(e))?(e=n,zC):_Y:e instanceof Yd?zC:e instanceof Date?yY:gY(e)?mY:Array.isArray(e)?vY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xY:gm)(t,e)}function yj(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function kY(t,e){e===void 0&&(e=t,t=du);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return a[u](l-u)}}function jY(t){return function(){return t}}function vm(t){return+t}var WC=[0,1];function yn(t){return t}function Y_(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:jY(isNaN(e)?NaN:.5)}function SY(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function NY(t,e,r){var n=t[0],i=t[1],a=e[0],l=e[1];return i<n?(n=Y_(i,n),a=r(l,a)):(n=Y_(n,i),a=r(a,l)),function(u){return a(n(u))}}function EY(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)i[l]=Y_(t[l],t[l+1]),a[l]=r(e[l],e[l+1]);return function(u){var d=Bh(t,u,1,n)-1;return a[d](i[d](u))}}function qh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function O0(){var t=WC,e=WC,r=du,n,i,a,l=yn,u,d,h;function p(){var y=Math.min(t.length,e.length);return l!==yn&&(l=SY(t[0],t[y-1])),u=y>2?EY:NY,d=h=null,m}function m(y){return y==null||isNaN(y=+y)?a:(d||(d=u(t.map(n),e,r)))(n(l(y)))}return m.invert=function(y){return l(i((h||(h=u(e,t.map(n),gm)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,vm),p()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=yj,p()},m.clamp=function(y){return arguments.length?(l=y?!0:yn,p()):l!==yn},m.interpolate=function(y){return arguments.length?(r=y,p()):r},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,x){return n=y,i=x,p()}}function xj(){return O0()(yn,yn)}function TY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ym(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Dc(t){return t=ym(Math.abs(t)),t?t[1]:NaN}function AY(t,e){return function(r,n){for(var i=r.length,a=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),a.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=t[l=(l+1)%t.length];return a.reverse().join(e)}}function PY(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var CY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xd(t){if(!(e=CY.exec(t)))throw new Error("invalid format: "+t);var e;return new bj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xd.prototype=bj.prototype;function bj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IY(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var $3;function OY(t,e){var r=ym(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-($3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return a===l?n:a>l?n+new Array(a-l+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+ym(t,Math.max(0,e+a-1))[0]}function HC(t,e){var r=ym(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const GC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:TY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>HC(t*100,e),r:HC,s:OY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KC(t){return t}var YC=Array.prototype.map,XC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function RY(t){var e=t.grouping===void 0||t.thousands===void 0?KC:AY(YC.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?KC:PY(YC.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(m){m=Xd(m);var y=m.fill,x=m.align,k=m.sign,_=m.symbol,b=m.zero,A=m.width,E=m.comma,P=m.precision,O=m.trim,N=m.type;N==="n"?(E=!0,N="g"):GC[N]||(P===void 0&&(P=12),O=!0,N="g"),(b||y==="0"&&x==="=")&&(b=!0,y="0",x="=");var I=_==="$"?r:_==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=_==="$"?n:/[%p]/.test(N)?l:"",C=GC[N],L=/[defgprs%]/.test(N);P=P===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function M(R){var F=I,$=T,ee,ie,Q;if(N==="c")$=C(R)+$,R="";else{R=+R;var se=R<0||1/R<0;if(R=isNaN(R)?d:C(Math.abs(R),P),O&&(R=IY(R)),se&&+R==0&&k!=="+"&&(se=!1),F=(se?k==="("?k:u:k==="-"||k==="("?"":k)+F,$=(N==="s"?XC[8+$3/3]:"")+$+(se&&k==="("?")":""),L){for(ee=-1,ie=R.length;++ee<ie;)if(Q=R.charCodeAt(ee),48>Q||Q>57){$=(Q===46?i+R.slice(ee+1):R.slice(ee))+$,R=R.slice(0,ee);break}}}E&&!b&&(R=e(R,1/0));var te=F.length+R.length+$.length,Z=te<A?new Array(A-te+1).join(y):"";switch(E&&b&&(R=e(Z+R,Z.length?A-$.length:1/0),Z=""),x){case"<":R=F+R+$+Z;break;case"=":R=F+Z+R+$;break;case"^":R=Z.slice(0,te=Z.length>>1)+F+R+$+Z.slice(te);break;default:R=Z+F+R+$;break}return a(R)}return M.toString=function(){return m+""},M}function p(m,y){var x=h((m=Xd(m),m.type="f",m)),k=Math.max(-8,Math.min(8,Math.floor(Dc(y)/3)))*3,_=Math.pow(10,-k),b=XC[8+k/3];return function(A){return x(_*A)+b}}return{format:h,formatPrefix:p}}var bp,wj,F3;MY({thousands:",",grouping:[3],currency:["$",""]});function MY(t){return bp=RY(t),wj=bp.format,F3=bp.formatPrefix,bp}function DY(t){return Math.max(0,-Dc(Math.abs(t)))}function LY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dc(e)/3)))*3-Dc(Math.abs(t)))}function $Y(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Dc(e)-Dc(t))+1}function V3(t,e,r,n){var i=W_(t,e,r),a;switch(n=Xd(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=LY(i,l))&&(n.precision=a),F3(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=$Y(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=DY(i))&&(n.precision=a-(n.type==="%")*2);break}}return wj(n)}function io(t){var e=t.domain;return t.ticks=function(r){var n=e();return q_(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return V3(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,l=n[i],u=n[a],d,h,p=10;for(u<l&&(h=l,l=u,u=h,h=i,i=a,a=h);p-- >0;){if(h=z_(l,u,r),h===d)return n[i]=l,n[a]=u,e(n);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function xm(){var t=xj();return t.copy=function(){return qh(t,xm())},xi.apply(t,arguments),io(t)}function B3(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,vm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return B3(t).unknown(e)},t=arguments.length?Array.from(t,vm):[0,1],io(r)}function U3(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],l;return a<i&&(l=r,r=n,n=l,l=i,i=a,a=l),t[r]=e.floor(i),t[n]=e.ceil(a),t}function QC(t){return Math.log(t)}function JC(t){return Math.exp(t)}function FY(t){return-Math.log(-t)}function VY(t){return-Math.exp(-t)}function BY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function UY(t){return t===10?BY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZC(t){return(e,r)=>-t(-e,r)}function _j(t){const e=t(QC,JC),r=e.domain;let n=10,i,a;function l(){return i=qY(n),a=UY(n),r()[0]<0?(i=ZC(i),a=ZC(a),t(FY,VY)):t(QC,JC),e}return e.base=function(u){return arguments.length?(n=+u,l()):n},e.domain=function(u){return arguments.length?(r(u),l()):r()},e.ticks=u=>{const d=r();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let y=i(h),x=i(p),k,_;const b=u==null?10:+u;let A=[];if(!(n%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),h>0){for(;y<=x;++y)for(k=1;k<n;++k)if(_=y<0?k/a(-y):k*a(y),!(_<h)){if(_>p)break;A.push(_)}}else for(;y<=x;++y)for(k=n-1;k>=1;--k)if(_=y>0?k/a(-y):k*a(y),!(_<h)){if(_>p)break;A.push(_)}A.length*2<b&&(A=q_(h,p,b))}else A=q_(y,x,Math.min(x-y,b)).map(a);return m?A.reverse():A},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Xd(d)).precision==null&&(d.trim=!0),d=wj(d)),u===1/0)return d;const h=Math.max(1,n*u/e.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*n<n-.5&&(m*=n),m<=h?d(p):""}},e.nice=()=>r(U3(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function q3(){const t=_j(O0()).domain([1,10]);return t.copy=()=>qh(t,q3()).base(t.base()),xi.apply(t,arguments),t}function eI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kj(t){var e=1,r=t(eI(e),tI(e));return r.constant=function(n){return arguments.length?t(eI(e=+n),tI(e)):e},io(r)}function z3(){var t=kj(O0());return t.copy=function(){return qh(t,z3()).constant(t.constant())},xi.apply(t,arguments)}function rI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function WY(t){return t<0?-t*t:t*t}function jj(t){var e=t(yn,yn),r=1;function n(){return r===1?t(yn,yn):r===.5?t(zY,WY):t(rI(r),rI(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},io(e)}function Sj(){var t=jj(O0());return t.copy=function(){return qh(t,Sj()).exponent(t.exponent())},xi.apply(t,arguments),t}function HY(){return Sj.apply(null,arguments).exponent(.5)}function nI(t){return Math.sign(t)*t*t}function GY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function W3(){var t=xj(),e=[0,1],r=!1,n;function i(a){var l=GY(t(a));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(a){return t.invert(nI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,vm)).map(nI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return W3(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},xi.apply(i,arguments),io(i)}function H3(){var t=[],e=[],r=[],n;function i(){var l=0,u=Math.max(1,e.length);for(r=new Array(u-1);++l<u;)r[l-1]=JK(t,l/u);return a}function a(l){return l==null||isNaN(l=+l)?n:e[Bh(r,l)]}return a.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Gs),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(n=l,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return H3().domain(t).range(e).unknown(n)},xi.apply(a,arguments)}function G3(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[Bh(n,d,0,r)]:a}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return G3().domain([t,e]).range(i).unknown(a)},xi.apply(io(l),arguments)}function K3(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Bh(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return K3().domain(t).range(e).unknown(r)},xi.apply(i,arguments)}const nw=new Date,iw=new Date;function kr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return d;let h;do d.push(h=new Date(+a)),e(a,u),t(a);while(h<a&&a<l);return d},i.filter=a=>kr(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!a(l););else for(;--u>=0;)for(;e(l,1),!a(l););}),r&&(i.count=(a,l)=>(nw.setTime(+a),iw.setTime(+l),t(nw),t(iw),Math.floor(r(nw,iw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?l=>n(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const bm=kr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);bm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):bm);bm.range;const Ba=1e3,mi=Ba*60,Ua=mi*60,Za=Ua*24,Nj=Za*7,iI=Za*30,aw=Za*365,Go=kr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getUTCSeconds());Go.range;const Ej=kr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ba)},(t,e)=>{t.setTime(+t+e*mi)},(t,e)=>(e-t)/mi,t=>t.getMinutes());Ej.range;const Tj=kr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*mi)},(t,e)=>(e-t)/mi,t=>t.getUTCMinutes());Tj.range;const Aj=kr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ba-t.getMinutes()*mi)},(t,e)=>{t.setTime(+t+e*Ua)},(t,e)=>(e-t)/Ua,t=>t.getHours());Aj.range;const Pj=kr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ua)},(t,e)=>(e-t)/Ua,t=>t.getUTCHours());Pj.range;const zh=kr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mi)/Za,t=>t.getDate()-1);zh.range;const R0=kr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Za,t=>t.getUTCDate()-1);R0.range;const Y3=kr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Za,t=>Math.floor(t/Za));Y3.range;function yl(t){return kr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*mi)/Nj)}const M0=yl(0),wm=yl(1),KY=yl(2),YY=yl(3),Lc=yl(4),XY=yl(5),QY=yl(6);M0.range;wm.range;KY.range;YY.range;Lc.range;XY.range;QY.range;function xl(t){return kr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Nj)}const D0=xl(0),_m=xl(1),JY=xl(2),ZY=xl(3),$c=xl(4),eX=xl(5),tX=xl(6);D0.range;_m.range;JY.range;ZY.range;$c.range;eX.range;tX.range;const Cj=kr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Cj.range;const Ij=kr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ij.range;const es=kr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});es.range;const ts=kr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ts.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ts.range;function X3(t,e,r,n,i,a){const l=[[Go,1,Ba],[Go,5,5*Ba],[Go,15,15*Ba],[Go,30,30*Ba],[a,1,mi],[a,5,5*mi],[a,15,15*mi],[a,30,30*mi],[i,1,Ua],[i,3,3*Ua],[i,6,6*Ua],[i,12,12*Ua],[n,1,Za],[n,2,2*Za],[r,1,Nj],[e,1,iI],[e,3,3*iI],[t,1,aw]];function u(h,p,m){const y=p<h;y&&([h,p]=[p,h]);const x=m&&typeof m.range=="function"?m:d(h,p,m),k=x?x.range(h,+p+1):[];return y?k.reverse():k}function d(h,p,m){const y=Math.abs(p-h)/m,x=pj(([,,b])=>b).right(l,y);if(x===l.length)return t.every(W_(h/aw,p/aw,m));if(x===0)return bm.every(Math.max(W_(h,p,m),1));const[k,_]=l[y/l[x-1][2]<l[x][2]/y?x-1:x];return k.every(_)}return[u,d]}const[rX,nX]=X3(ts,Ij,D0,Y3,Pj,Tj),[iX,aX]=X3(es,Cj,M0,zh,Aj,Ej);function sw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ow(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function sX(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,h=ed(i),p=td(i),m=ed(a),y=td(a),x=ed(l),k=td(l),_=ed(u),b=td(u),A=ed(d),E=td(d),P={a:se,A:te,b:Z,B:re,c:null,d:uI,e:uI,f:AX,g:FX,G:BX,H:NX,I:EX,j:TX,L:Q3,m:PX,M:CX,p:W,q:X,Q:fI,s:pI,S:IX,u:OX,U:RX,V:MX,w:DX,W:LX,x:null,X:null,y:$X,Y:VX,Z:UX,"%":hI},O={a:Y,A:ce,b:ve,B:pe,c:null,d:dI,e:dI,f:HX,g:rQ,G:iQ,H:qX,I:zX,j:WX,L:Z3,m:GX,M:KX,p:he,q:be,Q:fI,s:pI,S:YX,u:XX,U:QX,V:JX,w:ZX,W:eQ,x:null,X:null,y:tQ,Y:nQ,Z:aQ,"%":hI},N={a:M,A:R,b:F,B:$,c:ee,d:lI,e:lI,f:_X,g:oI,G:sI,H:cI,I:cI,j:yX,L:wX,m:vX,M:xX,p:L,q:gX,Q:jX,s:SX,S:bX,u:dX,U:hX,V:fX,w:uX,W:pX,x:ie,X:Q,y:oI,Y:sI,Z:mX,"%":kX};P.x=I(r,P),P.X=I(n,P),P.c=I(e,P),O.x=I(r,O),O.X=I(n,O),O.c=I(e,O);function I(q,me){return function(xe){var U=[],de=-1,_e=0,Oe=q.length,ze,Zt,mr;for(xe instanceof Date||(xe=new Date(+xe));++de<Oe;)q.charCodeAt(de)===37&&(U.push(q.slice(_e,de)),(Zt=aI[ze=q.charAt(++de)])!=null?ze=q.charAt(++de):Zt=ze==="e"?" ":"0",(mr=me[ze])&&(ze=mr(xe,Zt)),U.push(ze),_e=de+1);return U.push(q.slice(_e,de)),U.join("")}}function T(q,me){return function(xe){var U=Zu(1900,void 0,1),de=C(U,q,xe+="",0),_e,Oe;if(de!=xe.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(me&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(_e=ow(Zu(U.y,0,1)),Oe=_e.getUTCDay(),_e=Oe>4||Oe===0?_m.ceil(_e):_m(_e),_e=R0.offset(_e,(U.V-1)*7),U.y=_e.getUTCFullYear(),U.m=_e.getUTCMonth(),U.d=_e.getUTCDate()+(U.w+6)%7):(_e=sw(Zu(U.y,0,1)),Oe=_e.getDay(),_e=Oe>4||Oe===0?wm.ceil(_e):wm(_e),_e=zh.offset(_e,(U.V-1)*7),U.y=_e.getFullYear(),U.m=_e.getMonth(),U.d=_e.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),Oe="Z"in U?ow(Zu(U.y,0,1)).getUTCDay():sw(Zu(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(Oe+5)%7:U.w+U.U*7-(Oe+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,ow(U)):sw(U)}}function C(q,me,xe,U){for(var de=0,_e=me.length,Oe=xe.length,ze,Zt;de<_e;){if(U>=Oe)return-1;if(ze=me.charCodeAt(de++),ze===37){if(ze=me.charAt(de++),Zt=N[ze in aI?me.charAt(de++):ze],!Zt||(U=Zt(q,xe,U))<0)return-1}else if(ze!=xe.charCodeAt(U++))return-1}return U}function L(q,me,xe){var U=h.exec(me.slice(xe));return U?(q.p=p.get(U[0].toLowerCase()),xe+U[0].length):-1}function M(q,me,xe){var U=x.exec(me.slice(xe));return U?(q.w=k.get(U[0].toLowerCase()),xe+U[0].length):-1}function R(q,me,xe){var U=m.exec(me.slice(xe));return U?(q.w=y.get(U[0].toLowerCase()),xe+U[0].length):-1}function F(q,me,xe){var U=A.exec(me.slice(xe));return U?(q.m=E.get(U[0].toLowerCase()),xe+U[0].length):-1}function $(q,me,xe){var U=_.exec(me.slice(xe));return U?(q.m=b.get(U[0].toLowerCase()),xe+U[0].length):-1}function ee(q,me,xe){return C(q,e,me,xe)}function ie(q,me,xe){return C(q,r,me,xe)}function Q(q,me,xe){return C(q,n,me,xe)}function se(q){return l[q.getDay()]}function te(q){return a[q.getDay()]}function Z(q){return d[q.getMonth()]}function re(q){return u[q.getMonth()]}function W(q){return i[+(q.getHours()>=12)]}function X(q){return 1+~~(q.getMonth()/3)}function Y(q){return l[q.getUTCDay()]}function ce(q){return a[q.getUTCDay()]}function ve(q){return d[q.getUTCMonth()]}function pe(q){return u[q.getUTCMonth()]}function he(q){return i[+(q.getUTCHours()>=12)]}function be(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var me=I(q+="",P);return me.toString=function(){return q},me},parse:function(q){var me=T(q+="",!1);return me.toString=function(){return q},me},utcFormat:function(q){var me=I(q+="",O);return me.toString=function(){return q},me},utcParse:function(q){var me=T(q+="",!0);return me.toString=function(){return q},me}}}var aI={"-":"",_:" ",0:"0"},Ir=/^\s*\d+/,oX=/^%/,lX=/[\\^$*+?|[\]().{}]/g;function bt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function cX(t){return t.replace(lX,"\\$&")}function ed(t){return new RegExp("^(?:"+t.map(cX).join("|")+")","i")}function td(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function uX(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function dX(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function hX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function fX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function pX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function sI(t,e,r){var n=Ir.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function oI(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mX(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gX(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function vX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function lI(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function yX(t,e,r){var n=Ir.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function cI(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function xX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function bX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function wX(t,e,r){var n=Ir.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function _X(t,e,r){var n=Ir.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function kX(t,e,r){var n=oX.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function jX(t,e,r){var n=Ir.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function SX(t,e,r){var n=Ir.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function uI(t,e){return bt(t.getDate(),e,2)}function NX(t,e){return bt(t.getHours(),e,2)}function EX(t,e){return bt(t.getHours()%12||12,e,2)}function TX(t,e){return bt(1+zh.count(es(t),t),e,3)}function Q3(t,e){return bt(t.getMilliseconds(),e,3)}function AX(t,e){return Q3(t,e)+"000"}function PX(t,e){return bt(t.getMonth()+1,e,2)}function CX(t,e){return bt(t.getMinutes(),e,2)}function IX(t,e){return bt(t.getSeconds(),e,2)}function OX(t){var e=t.getDay();return e===0?7:e}function RX(t,e){return bt(M0.count(es(t)-1,t),e,2)}function J3(t){var e=t.getDay();return e>=4||e===0?Lc(t):Lc.ceil(t)}function MX(t,e){return t=J3(t),bt(Lc.count(es(t),t)+(es(t).getDay()===4),e,2)}function DX(t){return t.getDay()}function LX(t,e){return bt(wm.count(es(t)-1,t),e,2)}function $X(t,e){return bt(t.getFullYear()%100,e,2)}function FX(t,e){return t=J3(t),bt(t.getFullYear()%100,e,2)}function VX(t,e){return bt(t.getFullYear()%1e4,e,4)}function BX(t,e){var r=t.getDay();return t=r>=4||r===0?Lc(t):Lc.ceil(t),bt(t.getFullYear()%1e4,e,4)}function UX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bt(e/60|0,"0",2)+bt(e%60,"0",2)}function dI(t,e){return bt(t.getUTCDate(),e,2)}function qX(t,e){return bt(t.getUTCHours(),e,2)}function zX(t,e){return bt(t.getUTCHours()%12||12,e,2)}function WX(t,e){return bt(1+R0.count(ts(t),t),e,3)}function Z3(t,e){return bt(t.getUTCMilliseconds(),e,3)}function HX(t,e){return Z3(t,e)+"000"}function GX(t,e){return bt(t.getUTCMonth()+1,e,2)}function KX(t,e){return bt(t.getUTCMinutes(),e,2)}function YX(t,e){return bt(t.getUTCSeconds(),e,2)}function XX(t){var e=t.getUTCDay();return e===0?7:e}function QX(t,e){return bt(D0.count(ts(t)-1,t),e,2)}function eL(t){var e=t.getUTCDay();return e>=4||e===0?$c(t):$c.ceil(t)}function JX(t,e){return t=eL(t),bt($c.count(ts(t),t)+(ts(t).getUTCDay()===4),e,2)}function ZX(t){return t.getUTCDay()}function eQ(t,e){return bt(_m.count(ts(t)-1,t),e,2)}function tQ(t,e){return bt(t.getUTCFullYear()%100,e,2)}function rQ(t,e){return t=eL(t),bt(t.getUTCFullYear()%100,e,2)}function nQ(t,e){return bt(t.getUTCFullYear()%1e4,e,4)}function iQ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?$c(t):$c.ceil(t),bt(t.getUTCFullYear()%1e4,e,4)}function aQ(){return"+0000"}function hI(){return"%"}function fI(t){return+t}function pI(t){return Math.floor(+t/1e3)}var rc,tL,rL;sQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sQ(t){return rc=sX(t),tL=rc.format,rc.parse,rL=rc.utcFormat,rc.utcParse,rc}function oQ(t){return new Date(t)}function lQ(t){return t instanceof Date?+t:+new Date(+t)}function Oj(t,e,r,n,i,a,l,u,d,h){var p=xj(),m=p.invert,y=p.domain,x=h(".%L"),k=h(":%S"),_=h("%I:%M"),b=h("%I %p"),A=h("%a %d"),E=h("%b %d"),P=h("%B"),O=h("%Y");function N(I){return(d(I)<I?x:u(I)<I?k:l(I)<I?_:a(I)<I?b:n(I)<I?i(I)<I?A:E:r(I)<I?P:O)(I)}return p.invert=function(I){return new Date(m(I))},p.domain=function(I){return arguments.length?y(Array.from(I,lQ)):y().map(oQ)},p.ticks=function(I){var T=y();return t(T[0],T[T.length-1],I??10)},p.tickFormat=function(I,T){return T==null?N:h(T)},p.nice=function(I){var T=y();return(!I||typeof I.range!="function")&&(I=e(T[0],T[T.length-1],I??10)),I?y(U3(T,I)):p},p.copy=function(){return qh(p,Oj(t,e,r,n,i,a,l,u,d,h))},p}function cQ(){return xi.apply(Oj(iX,aX,es,Cj,M0,zh,Aj,Ej,Go,tL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uQ(){return xi.apply(Oj(rX,nX,ts,Ij,D0,R0,Pj,Tj,Go,rL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function L0(){var t=0,e=1,r,n,i,a,l=yn,u=!1,d;function h(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(a(m)-r)*i,u?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(m){return arguments.length?(u=!!m,h):u},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(y){var x,k;return arguments.length?([x,k]=y,l=m(x,k),h):[l(0),l(1)]}}return h.range=p(du),h.rangeRound=p(yj),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),h}}function ao(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nL(){var t=io(L0()(yn));return t.copy=function(){return ao(t,nL())},as.apply(t,arguments)}function iL(){var t=_j(L0()).domain([1,10]);return t.copy=function(){return ao(t,iL()).base(t.base())},as.apply(t,arguments)}function aL(){var t=kj(L0());return t.copy=function(){return ao(t,aL()).constant(t.constant())},as.apply(t,arguments)}function Rj(){var t=jj(L0());return t.copy=function(){return ao(t,Rj()).exponent(t.exponent())},as.apply(t,arguments)}function dQ(){return Rj.apply(null,arguments).exponent(.5)}function sL(){var t=[],e=yn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Bh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gs),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>QK(t,a/n))},r.copy=function(){return sL(e).domain(t)},as.apply(r,arguments)}function $0(){var t=0,e=.5,r=1,n=1,i,a,l,u,d,h=yn,p,m=!1,y;function x(_){return isNaN(_=+_)?y:(_=.5+((_=+p(_))-a)*(n*_<n*a?u:d),h(m?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([t,e,r]=_,i=p(t=+t),a=p(e=+e),l=p(r=+r),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),n=a<i?-1:1,x):[t,e,r]},x.clamp=function(_){return arguments.length?(m=!!_,x):m},x.interpolator=function(_){return arguments.length?(h=_,x):h};function k(_){return function(b){var A,E,P;return arguments.length?([A,E,P]=b,h=kY(_,[A,E,P]),x):[h(0),h(.5),h(1)]}}return x.range=k(du),x.rangeRound=k(yj),x.unknown=function(_){return arguments.length?(y=_,x):y},function(_){return p=_,i=_(t),a=_(e),l=_(r),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),n=a<i?-1:1,x}}function oL(){var t=io($0()(yn));return t.copy=function(){return ao(t,oL())},as.apply(t,arguments)}function lL(){var t=_j($0()).domain([.1,1,10]);return t.copy=function(){return ao(t,lL()).base(t.base())},as.apply(t,arguments)}function cL(){var t=kj($0());return t.copy=function(){return ao(t,cL()).constant(t.constant())},as.apply(t,arguments)}function Mj(){var t=jj($0());return t.copy=function(){return ao(t,Mj()).exponent(t.exponent())},as.apply(t,arguments)}function hQ(){return Mj.apply(null,arguments).exponent(.5)}const mI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hd,scaleDiverging:oL,scaleDivergingLog:lL,scaleDivergingPow:Mj,scaleDivergingSqrt:hQ,scaleDivergingSymlog:cL,scaleIdentity:B3,scaleImplicit:H_,scaleLinear:xm,scaleLog:q3,scaleOrdinal:mj,scalePoint:_d,scalePow:Sj,scaleQuantile:H3,scaleQuantize:G3,scaleRadial:W3,scaleSequential:nL,scaleSequentialLog:iL,scaleSequentialPow:Rj,scaleSequentialQuantile:sL,scaleSequentialSqrt:dQ,scaleSequentialSymlog:aL,scaleSqrt:HY,scaleSymlog:z3,scaleThreshold:K3,scaleTime:cQ,scaleUtc:uQ,tickFormat:V3},Symbol.toStringTag,{value:"Module"}));var lw,gI;function F0(){if(gI)return lw;gI=1;var t=ou();function e(r,n,i){for(var a=-1,l=r.length;++a<l;){var u=r[a],d=n(u);if(d!=null&&(h===void 0?d===d&&!t(d):i(d,h)))var h=d,p=u}return p}return lw=e,lw}var cw,vI;function uL(){if(vI)return cw;vI=1;function t(e,r){return e>r}return cw=t,cw}var uw,yI;function fQ(){if(yI)return uw;yI=1;var t=F0(),e=uL(),r=cu();function n(i){return i&&i.length?t(i,r,e):void 0}return uw=n,uw}var pQ=fQ();const V0=jt(pQ);var dw,xI;function dL(){if(xI)return dw;xI=1;function t(e,r){return e<r}return dw=t,dw}var hw,bI;function mQ(){if(bI)return hw;bI=1;var t=F0(),e=dL(),r=cu();function n(i){return i&&i.length?t(i,r,e):void 0}return hw=n,hw}var gQ=mQ();const B0=jt(gQ);var fw,wI;function vQ(){if(wI)return fw;wI=1;var t=X1(),e=ga(),r=x3(),n=Rn();function i(a,l){var u=n(a)?t:r;return u(a,e(l,3))}return fw=i,fw}var pw,_I;function yQ(){if(_I)return pw;_I=1;var t=v3(),e=vQ();function r(n,i){return t(e(n,i),1)}return pw=r,pw}var xQ=yQ();const bQ=jt(xQ);var mw,kI;function wQ(){if(kI)return mw;kI=1;var t=cj();function e(r,n){return t(r,n)}return mw=e,mw}var _Q=wQ();const U0=jt(_Q);var hu=1e9,kQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Lj,Gt=!0,yi="[DecimalError] ",Jo=yi+"Invalid argument: ",Dj=yi+"Exponent out of range: ",fu=Math.floor,Fo=Math.pow,jQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kn,Pr=1e7,Ft=7,hL=9007199254740991,km=fu(hL/Ft),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ft;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Le.dividedBy=Le.div=function(t){return Ha(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,r=e.constructor;return Pt(Ha(e,new r(t),0,1),r.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return pr(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Kn))throw Error(yi+"NaN");if(r.s<1)throw Error(yi+(r.s?"NaN":"-Infinity"));return r.eq(Kn)?new n(0):(Gt=!1,e=Ha(Qd(r,a),Qd(t,a),a),Gt=!0,Pt(e,i))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mL(e,t):fL(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(yi+"NaN");return r.s?(Gt=!1,e=Ha(r,t,0,1).times(t),Gt=!0,r.minus(e)):Pt(new n(r),i)};Le.naturalExponential=Le.exp=function(){return pL(this)};Le.naturalLogarithm=Le.ln=function(){return Qd(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fL(e,t):mL(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Jo+t);if(e=pr(i)+1,n=i.d.length-1,r=n*Ft+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Le.squareRoot=Le.sqrt=function(){var t,e,r,n,i,a,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(yi+"NaN")}for(t=pr(u),Gt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=ra(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=fu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(a=n,n=a.plus(Ha(u,a,l+2)).times(.5),ra(a.d).slice(0,l)===(e=ra(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Pt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;l+=4}return Gt=!0,Pt(n,r)};Le.times=Le.mul=function(t){var e,r,n,i,a,l,u,d,h,p=this,m=p.constructor,y=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=y.length,h=x.length,d<h&&(a=y,y=x,x=a,l=d,d=h,h=l),a=[],l=d+h,n=l;n--;)a.push(0);for(n=h;--n>=0;){for(e=0,i=d+n;i>n;)u=a[i]+x[n]*y[i-n-1]+e,a[i--]=u%Pr|0,e=u/Pr|0;a[i]=(a[i]+e)%Pr|0}for(;!a[--l];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Gt?Pt(t,m.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ha(t,0,hu),e===void 0?e=n.rounding:ha(e,0,8),Pt(r,t+pr(r)+1,e))};Le.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=cl(n,!0):(ha(t,0,hu),e===void 0?e=i.rounding:ha(e,0,8),n=Pt(new i(n),t+1,e),r=cl(n,!0,t+1)),r};Le.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?cl(i):(ha(t,0,hu),e===void 0?e=a.rounding:ha(e,0,8),n=Pt(new a(i),t+pr(i)+1,e),r=cl(n.abs(),!1,t+pr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return Pt(new e(t),pr(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,r,n,i,a,l,u=this,d=u.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(Kn);if(u=new d(u),!u.s){if(t.s<1)throw Error(yi+"Infinity");return u}if(u.eq(Kn))return u;if(n=d.precision,t.eq(Kn))return Pt(u,n);if(e=t.e,r=t.d.length-1,l=e>=r,a=u.s,l){if((r=p<0?-p:p)<=hL){for(i=new d(Kn),e=Math.ceil(n/Ft+4),Gt=!1;r%2&&(i=i.times(u),SI(i.d,e)),r=fu(r/2),r!==0;)u=u.times(u),SI(u.d,e);return Gt=!0,t.s<0?new d(Kn).div(i):Pt(i,n)}}else if(a<0)throw Error(yi+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Gt=!1,i=t.times(Qd(u,n+h)),Gt=!0,i=pL(i),i.s=a,i};Le.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=pr(i),n=cl(i,r<=a.toExpNeg||r>=a.toExpPos)):(ha(t,1,hu),e===void 0?e=a.rounding:ha(e,0,8),i=Pt(new a(i),t,e),r=pr(i),n=cl(i,t<=r||r<=a.toExpNeg,t)),n};Le.toSignificantDigits=Le.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ha(t,1,hu),e===void 0?e=n.rounding:ha(e,0,8)),Pt(new n(r),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pr(t),r=t.constructor;return cl(t,e<=r.toExpNeg||e>=r.toExpPos)};function fL(t,e){var r,n,i,a,l,u,d,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Gt?Pt(e,m):e;if(d=t.d,h=e.d,l=t.e,i=e.e,d=d.slice(),a=l-i,a){for(a<0?(n=d,a=-a,u=h.length):(n=h,i=l,u=d.length),l=Math.ceil(m/Ft),u=l>u?l+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=d.length,a=h.length,u-a<0&&(a=u,n=h,h=d,d=n),r=0;a;)r=(d[--a]=d[a]+h[a]+r)/Pr|0,d[a]%=Pr;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,Gt?Pt(e,m):e}function ha(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Jo+t)}function ra(t){var e,r,n,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)n=t[e]+"",r=Ft-n.length,r&&(a+=Os(r)),a+=n;l=t[e],n=l+"",r=Ft-n.length,r&&(a+=Os(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Ha=function(){function t(n,i){var a,l=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+l,n[u]=a%Pr|0,l=a/Pr|0;return l&&n.unshift(l),n}function e(n,i,a,l){var u,d;if(a!=l)d=a>l?1:-1;else for(u=d=0;u<a;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,a){for(var l=0;a--;)n[a]-=l,l=n[a]<i[a]?1:0,n[a]=l*Pr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,l){var u,d,h,p,m,y,x,k,_,b,A,E,P,O,N,I,T,C,L=n.constructor,M=n.s==i.s?1:-1,R=n.d,F=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(yi+"Division by zero");for(d=n.e-i.e,T=F.length,N=R.length,x=new L(M),k=x.d=[],h=0;F[h]==(R[h]||0);)++h;if(F[h]>(R[h]||0)&&--d,a==null?E=a=L.precision:l?E=a+(pr(n)-pr(i))+1:E=a,E<0)return new L(0);if(E=E/Ft+2|0,h=0,T==1)for(p=0,F=F[0],E++;(h<N||p)&&E--;h++)P=p*Pr+(R[h]||0),k[h]=P/F|0,p=P%F|0;else{for(p=Pr/(F[0]+1)|0,p>1&&(F=t(F,p),R=t(R,p),T=F.length,N=R.length),O=T,_=R.slice(0,T),b=_.length;b<T;)_[b++]=0;C=F.slice(),C.unshift(0),I=F[0],F[1]>=Pr/2&&++I;do p=0,u=e(F,_,T,b),u<0?(A=_[0],T!=b&&(A=A*Pr+(_[1]||0)),p=A/I|0,p>1?(p>=Pr&&(p=Pr-1),m=t(F,p),y=m.length,b=_.length,u=e(m,_,y,b),u==1&&(p--,r(m,T<y?C:F,y))):(p==0&&(u=p=1),m=F.slice()),y=m.length,y<b&&m.unshift(0),r(_,m,b),u==-1&&(b=_.length,u=e(F,_,T,b),u<1&&(p++,r(_,T<b?C:F,b))),b=_.length):u===0&&(p++,_=[0]),k[h++]=p,u&&_[0]?_[b++]=R[O]||0:(_=[R[O]],b=1);while((O++<N||_[0]!==void 0)&&E--)}return k[0]||k.shift(),x.e=d,Pt(x,l?a+pr(x)+1:a)}}();function pL(t,e){var r,n,i,a,l,u,d=0,h=0,p=t.constructor,m=p.precision;if(pr(t)>16)throw Error(Dj+pr(t));if(!t.s)return new p(Kn);for(Gt=!1,u=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(Fo(2,h))/Math.LN10*2+5|0,u+=n,r=i=a=new p(Kn),p.precision=u;;){if(i=Pt(i.times(t),u),r=r.times(++d),l=a.plus(Ha(i,r,u)),ra(l.d).slice(0,u)===ra(a.d).slice(0,u)){for(;h--;)a=Pt(a.times(a),u);return p.precision=m,e==null?(Gt=!0,Pt(a,m)):a}a=l}}function pr(t){for(var e=t.e*Ft,r=t.d[0];r>=10;r/=10)e++;return e}function gw(t,e,r){if(e>t.LN10.sd())throw Gt=!0,r&&(t.precision=r),Error(yi+"LN10 precision limit exceeded");return Pt(new t(t.LN10),e)}function Os(t){for(var e="";t--;)e+="0";return e}function Qd(t,e){var r,n,i,a,l,u,d,h,p,m=1,y=10,x=t,k=x.d,_=x.constructor,b=_.precision;if(x.s<1)throw Error(yi+(x.s?"NaN":"-Infinity"));if(x.eq(Kn))return new _(0);if(e==null?(Gt=!1,h=b):h=e,x.eq(10))return e==null&&(Gt=!0),gw(_,h);if(h+=y,_.precision=h,r=ra(k),n=r.charAt(0),a=pr(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=ra(x.d),n=r.charAt(0),m++;a=pr(x),n>1?(x=new _("0."+r),a++):x=new _(n+"."+r.slice(1))}else return d=gw(_,h+2,b).times(a+""),x=Qd(new _(n+"."+r.slice(1)),h-y).plus(d),_.precision=b,e==null?(Gt=!0,Pt(x,b)):x;for(u=l=x=Ha(x.minus(Kn),x.plus(Kn),h),p=Pt(x.times(x),h),i=3;;){if(l=Pt(l.times(p),h),d=u.plus(Ha(l,new _(i),h)),ra(d.d).slice(0,h)===ra(u.d).slice(0,h))return u=u.times(2),a!==0&&(u=u.plus(gw(_,h+2,b).times(a+""))),u=Ha(u,new _(m),h),_.precision=b,e==null?(Gt=!0,Pt(u,b)):u;u=d,i+=2}}function jI(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=fu(r/Ft),t.d=[],n=(r+1)%Ft,r<0&&(n+=Ft),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Ft;n<i;)t.d.push(+e.slice(n,n+=Ft));e=e.slice(n),n=Ft-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Gt&&(t.e>km||t.e<-km))throw Error(Dj+r)}else t.s=0,t.e=0,t.d=[0];return t}function Pt(t,e,r){var n,i,a,l,u,d,h,p,m=t.d;for(l=1,a=m[0];a>=10;a/=10)l++;if(n=e-l,n<0)n+=Ft,i=e,h=m[p=0];else{if(p=Math.ceil((n+1)/Ft),a=m.length,p>=a)return t;for(h=a=m[p],l=1;a>=10;a/=10)l++;n%=Ft,i=n-Ft+l}if(r!==void 0&&(a=Fo(10,l-i-1),u=h/a%10|0,d=e<0||m[p+1]!==void 0||h%a,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?h/Fo(10,l-i):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(a=pr(t),m.length=1,e=e-a-1,m[0]=Fo(10,(Ft-e%Ft)%Ft),t.e=fu(-e/Ft)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,a=1,p--):(m.length=p+1,a=Fo(10,Ft-n),m[p]=i>0?(h/Fo(10,l-i)%Fo(10,i)|0)*a:0),d)for(;;)if(p==0){(m[0]+=a)==Pr&&(m[0]=1,++t.e);break}else{if(m[p]+=a,m[p]!=Pr)break;m[p--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Gt&&(t.e>km||t.e<-km))throw Error(Dj+pr(t));return t}function mL(t,e){var r,n,i,a,l,u,d,h,p,m,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Gt?Pt(e,x):e;if(d=t.d,m=e.d,n=e.e,h=t.e,d=d.slice(),l=h-n,l){for(p=l<0,p?(r=d,l=-l,u=m.length):(r=m,n=h,u=d.length),i=Math.max(Math.ceil(x/Ft),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=m.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=m[i]){p=d[i]<m[i];break}l=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),u=d.length,i=m.length-u;i>0;--i)d[u++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(a=i;a&&d[--a]===0;)d[a]=Pr-1;--d[a],d[i]+=Pr}d[i]-=m[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Gt?Pt(e,x):e):new y(0)}function cl(t,e,r){var n,i=pr(t),a=ra(t.d),l=a.length;return e?(r&&(n=r-l)>0?a=a.charAt(0)+"."+a.slice(1)+Os(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Os(-i-1)+a,r&&(n=r-l)>0&&(a+=Os(n))):i>=l?(a+=Os(i+1-l),r&&(n=r-i-1)>0&&(a=a+"."+Os(n))):((n=i+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(a+="."),a+=Os(n))),t.s<0?"-"+a:a}function SI(t,e){if(t.length>e)return t.length=e,!0}function gL(t){var e,r,n;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Jo+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return jI(l,a.toString())}else if(typeof a!="string")throw Error(Jo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,jQ.test(a))jI(l,a);else throw Error(Jo+a)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gL,i.config=i.set=SQ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function SQ(t){if(!t||typeof t!="object")throw Error(yi+"Object expected");var e,r,n,i=["precision",1,hu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(fu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Jo+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Jo+r+": "+n);return this}var Lj=gL(kQ);Kn=new Lj(1);const Tt=Lj;function NQ(t){return PQ(t)||AQ(t)||TQ(t)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(t,e){if(t){if(typeof t=="string")return X_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X_(t,e)}}function AQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function PQ(t){if(Array.isArray(t))return X_(t)}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var CQ=function(e){return e},vL={},yL=function(e){return e===vL},NI=function(e){return function r(){return arguments.length===0||arguments.length===1&&yL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},IQ=function t(e,r){return e===1?r:NI(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var l=i.filter(function(u){return u!==vL}).length;return l>=e?r.apply(void 0,i):t(e-l,NI(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var p=i.map(function(m){return yL(m)?d.shift():m});return r.apply(void 0,NQ(p).concat(d))}))})},q0=function(e){return IQ(e.length,e)},Q_=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},OQ=q0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),RQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return CQ;var i=r.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce(function(u,d){return d(u)},a.apply(void 0,arguments))}},J_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},xL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r&&a.every(function(u,d){return u===r[d]})||(r=a,n=e.apply(void 0,a)),n}};function MQ(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function DQ(t,e,r){for(var n=new Tt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var LQ=q0(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),$Q=q0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),FQ=q0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const z0={rangeStep:DQ,getDigitCount:MQ,interpolateNumber:LQ,uninterpolateNumber:$Q,uninterpolateTruncation:FQ};function Z_(t){return UQ(t)||BQ(t)||bL(t)||VQ()}function VQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function UQ(t){if(Array.isArray(t))return ek(t)}function Jd(t,e){return WQ(t)||zQ(t,e)||bL(t,e)||qQ()}function qQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bL(t,e){if(t){if(typeof t=="string")return ek(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zQ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var l=t[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,a=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw a}}return r}}function WQ(t){if(Array.isArray(t))return t}function wL(t){var e=Jd(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function _L(t,e,r){if(t.lte(0))return new Tt(0);var n=z0.getDigitCount(t.toNumber()),i=new Tt(10).pow(n),a=t.div(i),l=n!==1?.05:.1,u=new Tt(Math.ceil(a.div(l).toNumber())).add(r).mul(l),d=u.mul(i);return e?d:new Tt(Math.ceil(d))}function HQ(t,e,r){var n=1,i=new Tt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Tt(10).pow(z0.getDigitCount(t)-1),i=new Tt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Tt(Math.floor(t)))}else t===0?i=new Tt(Math.floor((e-1)/2)):r||(i=new Tt(Math.floor(t)));var l=Math.floor((e-1)/2),u=RQ(OQ(function(d){return i.add(new Tt(d-l).mul(n)).toNumber()}),Q_);return u(0,e)}function kL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var a=_L(new Tt(e).sub(t).div(r-1),n,i),l;t<=0&&e>=0?l=new Tt(0):(l=new Tt(t).add(e).div(2),l=l.sub(new Tt(l).mod(a)));var u=Math.ceil(l.sub(t).div(a).toNumber()),d=Math.ceil(new Tt(e).sub(l).div(a).toNumber()),h=u+d+1;return h>r?kL(t,e,r,n,i+1):(h<r&&(d=e>0?d+(r-h):d,u=e>0?u:u+(r-h)),{step:a,tickMin:l.sub(new Tt(u).mul(a)),tickMax:l.add(new Tt(d).mul(a))})}function GQ(t){var e=Jd(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=wL([r,n]),d=Jd(u,2),h=d[0],p=d[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(Z_(Q_(0,i-1).map(function(){return 1/0}))):[].concat(Z_(Q_(0,i-1).map(function(){return-1/0})),[p]);return r>n?J_(m):m}if(h===p)return HQ(h,i,a);var y=kL(h,p,l,a),x=y.step,k=y.tickMin,_=y.tickMax,b=z0.rangeStep(k,_.add(new Tt(.1).mul(x)),x);return r>n?J_(b):b}function KQ(t,e){var r=Jd(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=wL([n,i]),u=Jd(l,2),d=u[0],h=u[1];if(d===-1/0||h===1/0)return[n,i];if(d===h)return[d];var p=Math.max(e,2),m=_L(new Tt(h).sub(d).div(p-1),a,0),y=[].concat(Z_(z0.rangeStep(new Tt(d),new Tt(h).sub(new Tt(.99).mul(m)),m)),[h]);return n>i?J_(y):y}var YQ=xL(GQ),XQ=xL(KQ),QQ="Invariant failed";function ul(t,e){throw new Error(QQ)}var JQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jm.apply(this,arguments)}function ZQ(t,e){return nJ(t)||rJ(t,e)||tJ(t,e)||eJ()}function eJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tJ(t,e){if(t){if(typeof t=="string")return EI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EI(t,e)}}function EI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,u=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function nJ(t){if(Array.isArray(t))return t}function iJ(t,e){if(t==null)return{};var r=aJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NL(n.key),n)}}function lJ(t,e,r){return e&&oJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cJ(t,e,r){return e=Sm(e),uJ(t,jL()?Reflect.construct(e,r||[],Sm(t).constructor):e.apply(t,r))}function uJ(t,e){if(e&&(Fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dJ(t)}function dJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jL=function(){return!!t})()}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(t)}function hJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tk(t,e)}function tk(t,e){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tk(t,e)}function SL(t,e,r){return e=NL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NL(t){var e=fJ(t,"string");return Fc(e)=="symbol"?e:e+""}function fJ(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var W0=function(t){function e(){return sJ(this,e),cJ(this,e,arguments)}return hJ(e,t),lJ(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,l=n.width,u=n.dataKey,d=n.data,h=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,y=iJ(n,JQ),x=Xe(y,!1);this.props.direction==="x"&&p.type!=="number"&&ul();var k=d.map(function(_){var b=h(_,u),A=b.x,E=b.y,P=b.value,O=b.errorVal;if(!O)return null;var N=[],I,T;if(Array.isArray(O)){var C=ZQ(O,2);I=C[0],T=C[1]}else I=T=O;if(a==="vertical"){var L=p.scale,M=E+i,R=M+l,F=M-l,$=L(P-I),ee=L(P+T);N.push({x1:ee,y1:R,x2:ee,y2:F}),N.push({x1:$,y1:M,x2:ee,y2:M}),N.push({x1:$,y1:R,x2:$,y2:F})}else if(a==="horizontal"){var ie=m.scale,Q=A+i,se=Q-l,te=Q+l,Z=ie(P-I),re=ie(P+T);N.push({x1:se,y1:re,x2:te,y2:re}),N.push({x1:Q,y1:Z,x2:Q,y2:re}),N.push({x1:se,y1:Z,x2:te,y2:Z})}return K.createElement(Nt,jm({className:"recharts-errorBar",key:"bar-".concat(N.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},x),N.map(function(W){return K.createElement("line",jm({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return K.createElement(Nt,{className:"recharts-errorBars"},k)}}])}(K.Component);SL(W0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});SL(W0,"displayName","ErrorBar");function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function TI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ro(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(r),!0).forEach(function(n){pJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pJ(t,e,r){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mJ(t){var e=gJ(t,"string");return Zd(e)=="symbol"?e:e+""}function gJ(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,l=Gn(r,Hs);if(!l)return null;var u=Hs.defaultProps,d=u!==void 0?Ro(Ro({},u),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:a==="children"?h=(n||[]).reduce(function(p,m){var y=m.item,x=m.props,k=x.sectors||x.data||[];return p.concat(k.map(function(_){return{type:l.props.iconType||y.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):h=(n||[]).map(function(p){var m=p.item,y=m.type.defaultProps,x=y!==void 0?Ro(Ro({},y),m.props):{},k=x.dataKey,_=x.name,b=x.legendType,A=x.hide;return{inactive:A,dataKey:k,type:d.iconType||b||"square",color:$j(m),value:_||k,payload:x}}),Ro(Ro(Ro({},d),Hs.getWithHeight(l,i)),{},{payload:h,item:l})};function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function AI(t){return bJ(t)||xJ(t)||yJ(t)||vJ()}function vJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yJ(t,e){if(t){if(typeof t=="string")return rk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(t,e)}}function xJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bJ(t){if(Array.isArray(t))return rk(t)}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(r),!0).forEach(function(n){_c(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _c(t,e,r){return e=wJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wJ(t){var e=_J(t,"string");return eh(e)=="symbol"?e:e+""}function _J(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function an(t,e,r){return st(t)||st(e)?r:wr(e)?Jn(t,e,r):Ze(e)?e(t):r}function kd(t,e,r,n){var i=bQ(t,function(u){return an(u,e)});if(r==="number"){var a=i.filter(function(u){return Ae(u)||parseFloat(u)});return a.length?[B0(a),V0(a)]:[1/0,-1/0]}var l=n?i.filter(function(u){return!st(u)}):i;return l.map(function(u){return wr(u)||u instanceof Date?u:""})}var kJ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,h=0;h<u;h++){var p=h>0?i[h-1].coordinate:i[u-1].coordinate,m=i[h].coordinate,y=h>=u-1?i[0].coordinate:i[h+1].coordinate,x=void 0;if(gn(m-p)!==gn(y-m)){var k=[];if(gn(y-m)===gn(d[1]-d[0])){x=y;var _=m+d[1]-d[0];k[0]=Math.min(_,(_+p)/2),k[1]=Math.max(_,(_+p)/2)}else{x=p;var b=y+d[1]-d[0];k[0]=Math.min(m,(b+m)/2),k[1]=Math.max(m,(b+m)/2)}var A=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>A[0]&&e<=A[1]||e>=k[0]&&e<=k[1]){l=i[h].index;break}}else{var E=Math.min(p,y),P=Math.max(p,y);if(e>(E+m)/2&&e<=(P+m)/2){l=i[h].index;break}}}else for(var O=0;O<u;O++)if(O===0&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<u-1&&e>(n[O].coordinate+n[O-1].coordinate)/2&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O===u-1&&e>(n[O].coordinate+n[O-1].coordinate)/2){l=n[O].index;break}return l},$j=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?rr(rr({},e.type.defaultProps),e.props):e.props,l=a.stroke,u=a.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},jJ=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var l={},u=Object.keys(a),d=0,h=u.length;d<h;d++)for(var p=a[u[d]].stackGroups,m=Object.keys(p),y=0,x=m.length;y<x;y++){var k=p[m[y]],_=k.items,b=k.cateAxisId,A=_.filter(function(T){return Wa(T.type).indexOf("Bar")>=0});if(A&&A.length){var E=A[0].type.defaultProps,P=E!==void 0?rr(rr({},E),A[0].props):A[0].props,O=P.barSize,N=P[b];l[N]||(l[N]=[]);var I=st(O)?r:O;l[N].push({item:A[0],stackList:A.slice(1),barSize:st(I)?void 0:vn(I,n,0)})}}return l},SJ=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,l=a===void 0?[]:a,u=e.maxBarSize,d=l.length;if(d<1)return null;var h=vn(r,i,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var y=!1,x=i/d,k=l.reduce(function(O,N){return O+N.barSize||0},0);k+=(d-1)*h,k>=i&&(k-=(d-1)*h,h=0),k>=i&&x>0&&(y=!0,x*=.9,k=d*x);var _=(i-k)/2>>0,b={offset:_-h,size:0};p=l.reduce(function(O,N){var I={item:N.item,position:{offset:b.offset+b.size+h,size:y?x:N.barSize}},T=[].concat(AI(O),[I]);return b=T[T.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){T.push({item:C,position:b})}),T},m)}else{var A=vn(n,i,0,!0);i-2*A-(d-1)*h<=0&&(h=0);var E=(i-2*A-(d-1)*h)/d;E>1&&(E>>=0);var P=u===+u?Math.min(E,u):E;p=l.reduce(function(O,N,I){var T=[].concat(AI(O),[{item:N.item,position:{offset:A+(E+h)*I+(E-P)/2,size:P}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){T.push({item:C,position:T[T.length-1].position})}),T},m)}return p},NJ=function(e,r,n,i){var a=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),h=EL({children:a,legendWidth:d});if(h){var p=i||{},m=p.width,y=p.height,x=h.align,k=h.verticalAlign,_=h.layout;if((_==="vertical"||_==="horizontal"&&k==="middle")&&x!=="center"&&Ae(e[x]))return rr(rr({},e),{},_c({},x,e[x]+(m||0)));if((_==="horizontal"||_==="vertical"&&x==="center")&&k!=="middle"&&Ae(e[k]))return rr(rr({},e),{},_c({},k,e[k]+(y||0)))}return e},EJ=function(e,r,n){return st(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},TL=function(e,r,n,i,a){var l=r.props.children,u=gi(l,W0).filter(function(h){return EJ(i,a,h.props.direction)});if(u&&u.length){var d=u.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=an(p,n);if(st(m))return h;var y=Array.isArray(m)?[B0(m),V0(m)]:[m,m],x=d.reduce(function(k,_){var b=an(p,_,0),A=y[0]-Math.abs(Array.isArray(b)?b[0]:b),E=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(A,k[0]),Math.max(E,k[1])]},[1/0,-1/0]);return[Math.min(x[0],h[0]),Math.max(x[1],h[1])]},[1/0,-1/0])}return null},TJ=function(e,r,n,i,a){var l=r.map(function(u){return TL(e,u,n,a,i)}).filter(function(u){return!st(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},AL=function(e,r,n,i,a){var l=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&TL(e,d,h,i)||kd(e,h,n,a)});if(n==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,h){for(var p=0,m=h.length;p<m;p++)u[h[p]]||(u[h[p]]=!0,d.push(h[p]));return d},[])},PL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},CL=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var a,l,u=e.map(function(d){return d.coordinate===r&&(a=!0),d.coordinate===n&&(l=!0),d.coordinate});return a||u.push(r),l||u.push(n),u},qa=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,l=e.type,u=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&u?.length>=2?gn(u[0]-u[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+h,value:m,offset:h}});return p.filter(function(m){return!$h(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+h,value:m,index:y,offset:h}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+h,value:m,offset:h}}):i.domain().map(function(m,y){return{coordinate:i(m)+h,value:a?a[m]:m,index:y,offset:h}})},vw=new WeakMap,wp=function(e,r){if(typeof r!="function")return e;vw.has(e)||vw.set(e,new WeakMap);var n=vw.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},IL=function(e,r,n){var i=e.scale,a=e.type,l=e.layout,u=e.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Hd(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:xm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:_d(),realScaleType:"point"}:a==="category"?{scale:Hd(),realScaleType:"band"}:{scale:xm(),realScaleType:"linear"};if(sl(i)){var d="scale".concat(S0(i));return{scale:(mI[d]||_d)(),realScaleType:mI[d]?d:"point"}}return Ze(i)?{scale:i}:{scale:_d(),realScaleType:"point"}},CI=1e-4,OL=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-CI,l=Math.max(i[0],i[1])+CI,u=e(r[0]),d=e(r[n-1]);(u<a||u>l||d<a||d>l)&&e.domain([r[0],r[n-1]])}},AJ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},PJ=function(e,r){if(!r||r.length!==2||!Ae(r[0])||!Ae(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Ae(e[0])||e[0]<n)&&(a[0]=n),(!Ae(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},CJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,l=0,u=0;u<r;++u){var d=$h(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=a,e[u][n][1]=a+d,a=e[u][n][1]):(e[u][n][0]=l,e[u][n][1]=l+d,l=e[u][n][1])}},IJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,l=0;l<r;++l){var u=$h(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=a,e[l][n][1]=a+u,a=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},OJ={sign:CJ,expand:bW,none:Cc,silhouette:wW,wiggle:_W,positive:IJ},RJ=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=OJ[n],l=xW().keys(i).value(function(u,d){return+an(u,d,0)}).order(I_).offset(a);return l(e)},MJ=function(e,r,n,i,a,l){if(!e)return null;var u=l?r.reverse():r,d={},h=u.reduce(function(m,y){var x,k=(x=y.type)!==null&&x!==void 0&&x.defaultProps?rr(rr({},y.type.defaultProps),y.props):y.props,_=k.stackId,b=k.hide;if(b)return m;var A=k[n],E=m[A]||{hasStack:!1,stackGroups:{}};if(wr(_)){var P=E.stackGroups[_]||{numericAxisId:n,cateAxisId:i,items:[]};P.items.push(y),E.hasStack=!0,E.stackGroups[_]=P}else E.stackGroups[Fh("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return rr(rr({},m),{},_c({},A,E))},d),p={};return Object.keys(h).reduce(function(m,y){var x=h[y];if(x.hasStack){var k={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(_,b){var A=x.stackGroups[b];return rr(rr({},_),{},_c({},b,{numericAxisId:n,cateAxisId:i,items:A.items,stackedData:RJ(e,A.items,a)}))},k)}return rr(rr({},m),{},_c({},y,x))},p)},RL=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=YQ(h,a,u);return e.domain([B0(p),V0(p)]),{niceTicks:p}}if(a&&i==="number"){var m=e.domain(),y=XQ(m,a,u);return{niceTicks:y}}return null},II=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,l=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=an(l,r.dataKey,r.domain[u]);return st(d)?null:r.scale(d)-a/2+i},DJ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},LJ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?rr(rr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(wr(a)){var l=r[a];if(l){var u=l.items.indexOf(e);return u>=0?l.stackedData[u]:null}}return null},$J=function(e){return e.reduce(function(r,n){return[B0(n.concat([r[0]]).filter(Ae)),V0(n.concat([r[1]]).filter(Ae))]},[1/0,-1/0])},ML=function(e,r,n){return Object.keys(e).reduce(function(i,a){var l=e[a],u=l.stackedData,d=u.reduce(function(h,p){var m=$J(p.slice(r,n+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},OI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nk=function(e,r,n){if(Ze(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Ae(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(OI.test(e[0])){var a=+OI.exec(e[0])[1];i[0]=r[0]-a}else Ze(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Ae(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(RI.test(e[1])){var l=+RI.exec(e[1])[1];i[1]=r[1]+l}else Ze(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Nm=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=dj(r,function(m){return m.coordinate}),l=1/0,u=1,d=a.length;u<d;u++){var h=a[u],p=a[u-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},MI=function(e,r,n){return!e||!e.length||U0(e,Jn(n,"type.defaultProps.domain"))?r:e},DL=function(e,r){var n=e.type.defaultProps?rr(rr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,h=n.chartType,p=n.hide;return rr(rr({},Xe(e,!1)),{},{dataKey:i,unit:l,formatter:u,name:a||i,color:$j(e),value:an(r,i),type:d,payload:r,chartType:h,hide:p})};function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function DI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function La(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(r),!0).forEach(function(n){LL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LL(t,e,r){return e=FJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FJ(t){var e=VJ(t,"string");return th(e)=="symbol"?e:e+""}function VJ(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BJ(t,e){return WJ(t)||zJ(t,e)||qJ(t,e)||UJ()}function UJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qJ(t,e){if(t){if(typeof t=="string")return LI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LI(t,e)}}function LI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,u=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function WJ(t){if(Array.isArray(t))return t}var Em=Math.PI/180,HJ=function(e){return e*180/Math.PI},Dt=function(e,r,n,i){return{x:e+Math.cos(-Em*i)*n,y:r+Math.sin(-Em*i)*n}},$L=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},GJ=function(e,r,n,i,a){var l=e.width,u=e.height,d=e.startAngle,h=e.endAngle,p=vn(e.cx,l,l/2),m=vn(e.cy,u,u/2),y=$L(l,u,n),x=vn(e.innerRadius,y,0),k=vn(e.outerRadius,y,y*.8),_=Object.keys(r);return _.reduce(function(b,A){var E=r[A],P=E.domain,O=E.reversed,N;if(st(E.range))i==="angleAxis"?N=[d,h]:i==="radiusAxis"&&(N=[x,k]),O&&(N=[N[1],N[0]]);else{N=E.range;var I=N,T=BJ(I,2);d=T[0],h=T[1]}var C=IL(E,a),L=C.realScaleType,M=C.scale;M.domain(P).range(N),OL(M);var R=RL(M,La(La({},E),{},{realScaleType:L})),F=La(La(La({},E),R),{},{range:N,radius:k,realScaleType:L,scale:M,cx:p,cy:m,innerRadius:x,outerRadius:k,startAngle:d,endAngle:h});return La(La({},b),{},LL({},A,F))},{})},KJ=function(e,r){var n=e.x,i=e.y,a=r.x,l=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-l,2))},YJ=function(e,r){var n=e.x,i=e.y,a=r.cx,l=r.cy,u=KJ({x:n,y:i},{x:a,y:l});if(u<=0)return{radius:u};var d=(n-a)/u,h=Math.acos(d);return i>l&&(h=2*Math.PI-h),{radius:u,angle:HJ(h),angleInRadian:h}},XJ=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),l=Math.min(i,a);return{startAngle:r-l*360,endAngle:n-l*360}},QJ=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(a,l);return e+u*360},$I=function(e,r){var n=e.x,i=e.y,a=YJ({x:n,y:i},r),l=a.radius,u=a.angle,d=r.innerRadius,h=r.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var p=XJ(r),m=p.startAngle,y=p.endAngle,x=u,k;if(m<=y){for(;x>y;)x-=360;for(;x<m;)x+=360;k=x>=m&&x<=y}else{for(;x>m;)x-=360;for(;x<y;)x+=360;k=x>=y&&x<=m}return k?La(La({},r),{},{radius:l,angle:QJ(x,r)}):null},FL=function(e){return!z.isValidElement(e)&&!Ze(e)&&typeof e!="boolean"?e.className:""};function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}var JJ=["offset"];function ZJ(t){return nZ(t)||rZ(t)||tZ(t)||eZ()}function eZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZ(t,e){if(t){if(typeof t=="string")return ik(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ik(t,e)}}function rZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nZ(t){if(Array.isArray(t))return ik(t)}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iZ(t,e){if(t==null)return{};var r=aZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function br(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(r),!0).forEach(function(n){sZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sZ(t,e,r){return e=oZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oZ(t){var e=lZ(t,"string");return rh(e)=="symbol"?e:e+""}function lZ(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nh.apply(this,arguments)}var cZ=function(e){var r=e.value,n=e.formatter,i=st(e.children)?r:e.children;return Ze(n)?n(i):i},uZ=function(e,r){var n=gn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},dZ=function(e,r,n){var i=e.position,a=e.viewBox,l=e.offset,u=e.className,d=a,h=d.cx,p=d.cy,m=d.innerRadius,y=d.outerRadius,x=d.startAngle,k=d.endAngle,_=d.clockWise,b=(m+y)/2,A=uZ(x,k),E=A>=0?1:-1,P,O;i==="insideStart"?(P=x+E*l,O=_):i==="insideEnd"?(P=k-E*l,O=!_):i==="end"&&(P=k+E*l,O=_),O=A<=0?O:!O;var N=Dt(h,p,b,P),I=Dt(h,p,b,P+(O?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(O?0:1,`,
    `).concat(I.x,",").concat(I.y),C=st(e.id)?Fh("recharts-radial-line-"):e.id;return K.createElement("text",nh({},n,{dominantBaseline:"central",className:it("recharts-radial-bar-label",u)}),K.createElement("defs",null,K.createElement("path",{id:C,d:T})),K.createElement("textPath",{xlinkHref:"#".concat(C)},r))},hZ=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,l=a.cx,u=a.cy,d=a.innerRadius,h=a.outerRadius,p=a.startAngle,m=a.endAngle,y=(p+m)/2;if(i==="outside"){var x=Dt(l,u,h+n,y),k=x.x,_=x.y;return{x:k,y:_,textAnchor:k>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(d+h)/2,A=Dt(l,u,b,y),E=A.x,P=A.y;return{x:E,y:P,textAnchor:"middle",verticalAnchor:"middle"}},fZ=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,l=r,u=l.x,d=l.y,h=l.width,p=l.height,m=p>=0?1:-1,y=m*i,x=m>0?"end":"start",k=m>0?"start":"end",_=h>=0?1:-1,b=_*i,A=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var P={x:u+h/2,y:d-m*i,textAnchor:"middle",verticalAnchor:x};return br(br({},P),n?{height:Math.max(d-n.y,0),width:h}:{})}if(a==="bottom"){var O={x:u+h/2,y:d+p+y,textAnchor:"middle",verticalAnchor:k};return br(br({},O),n?{height:Math.max(n.y+n.height-(d+p),0),width:h}:{})}if(a==="left"){var N={x:u-b,y:d+p/2,textAnchor:A,verticalAnchor:"middle"};return br(br({},N),n?{width:Math.max(N.x-n.x,0),height:p}:{})}if(a==="right"){var I={x:u+h+b,y:d+p/2,textAnchor:E,verticalAnchor:"middle"};return br(br({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:p}:{})}var T=n?{width:h,height:p}:{};return a==="insideLeft"?br({x:u+b,y:d+p/2,textAnchor:E,verticalAnchor:"middle"},T):a==="insideRight"?br({x:u+h-b,y:d+p/2,textAnchor:A,verticalAnchor:"middle"},T):a==="insideTop"?br({x:u+h/2,y:d+y,textAnchor:"middle",verticalAnchor:k},T):a==="insideBottom"?br({x:u+h/2,y:d+p-y,textAnchor:"middle",verticalAnchor:x},T):a==="insideTopLeft"?br({x:u+b,y:d+y,textAnchor:E,verticalAnchor:k},T):a==="insideTopRight"?br({x:u+h-b,y:d+y,textAnchor:A,verticalAnchor:k},T):a==="insideBottomLeft"?br({x:u+b,y:d+p-y,textAnchor:E,verticalAnchor:x},T):a==="insideBottomRight"?br({x:u+h-b,y:d+p-y,textAnchor:A,verticalAnchor:x},T):lu(a)&&(Ae(a.x)||Wo(a.x))&&(Ae(a.y)||Wo(a.y))?br({x:u+vn(a.x,h),y:d+vn(a.y,p),textAnchor:"end",verticalAnchor:"end"},T):br({x:u+h/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},pZ=function(e){return"cx"in e&&Ae(e.cx)};function Cr(t){var e=t.offset,r=e===void 0?5:e,n=iZ(t,JJ),i=br({offset:r},n),a=i.viewBox,l=i.position,u=i.value,d=i.children,h=i.content,p=i.className,m=p===void 0?"":p,y=i.textBreakAll;if(!a||st(u)&&st(d)&&!z.isValidElement(h)&&!Ze(h))return null;if(z.isValidElement(h))return z.cloneElement(h,i);var x;if(Ze(h)){if(x=z.createElement(h,i),z.isValidElement(x))return x}else x=cZ(i);var k=pZ(a),_=Xe(i,!0);if(k&&(l==="insideStart"||l==="insideEnd"||l==="end"))return dZ(i,x,_);var b=k?hZ(i):fZ(i);return K.createElement(ll,nh({className:it("recharts-label",m)},_,b,{breakAll:y}),x)}Cr.displayName="Label";var VL=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,l=e.endAngle,u=e.r,d=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,y=e.y,x=e.top,k=e.left,_=e.width,b=e.height,A=e.clockWise,E=e.labelViewBox;if(E)return E;if(Ae(_)&&Ae(b)){if(Ae(m)&&Ae(y))return{x:m,y,width:_,height:b};if(Ae(x)&&Ae(k))return{x,y:k,width:_,height:b}}return Ae(m)&&Ae(y)?{x:m,y,width:0,height:0}:Ae(r)&&Ae(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:p||d||u||0,clockWise:A}:e.viewBox?e.viewBox:{}},mZ=function(e,r){return e?e===!0?K.createElement(Cr,{key:"label-implicit",viewBox:r}):wr(e)?K.createElement(Cr,{key:"label-implicit",viewBox:r,value:e}):z.isValidElement(e)?e.type===Cr?z.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement(Cr,{key:"label-implicit",content:e,viewBox:r}):Ze(e)?K.createElement(Cr,{key:"label-implicit",content:e,viewBox:r}):lu(e)?K.createElement(Cr,nh({viewBox:r},e,{key:"label-implicit"})):null:null},gZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=VL(e),l=gi(i,Cr).map(function(d,h){return z.cloneElement(d,{viewBox:r||a,key:"label-".concat(h)})});if(!n)return l;var u=mZ(e.label,r||a);return[u].concat(ZJ(l))};Cr.parseViewBox=VL;Cr.renderCallByParent=gZ;var yw,VI;function vZ(){if(VI)return yw;VI=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return yw=t,yw}var yZ=vZ();const xZ=jt(yZ);function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}var bZ=["valueAccessor"],wZ=["data","dataKey","clockWise","id","textBreakAll"];function _Z(t){return NZ(t)||SZ(t)||jZ(t)||kZ()}function kZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jZ(t,e){if(t){if(typeof t=="string")return ak(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ak(t,e)}}function SZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NZ(t){if(Array.isArray(t))return ak(t)}function ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tm.apply(this,arguments)}function BI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(r),!0).forEach(function(n){EZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EZ(t,e,r){return e=TZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TZ(t){var e=AZ(t,"string");return ih(e)=="symbol"?e:e+""}function AZ(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qI(t,e){if(t==null)return{};var r=PZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var CZ=function(e){return Array.isArray(e.value)?xZ(e.value):e.value};function Ks(t){var e=t.valueAccessor,r=e===void 0?CZ:e,n=qI(t,bZ),i=n.data,a=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,h=qI(n,wZ);return!i||!i.length?null:K.createElement(Nt,{className:"recharts-label-list"},i.map(function(p,m){var y=st(a)?r(p,m):an(p&&p.payload,a),x=st(u)?{}:{id:"".concat(u,"-").concat(m)};return K.createElement(Cr,Tm({},Xe(p,!0),h,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:Cr.parseViewBox(st(l)?p:UI(UI({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}Ks.displayName="LabelList";function IZ(t,e){return t?t===!0?K.createElement(Ks,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Ze(t)?K.createElement(Ks,{key:"labelList-implicit",data:e,content:t}):lu(t)?K.createElement(Ks,Tm({data:e},t,{key:"labelList-implicit"})):null:null}function OZ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=gi(n,Ks).map(function(l,u){return z.cloneElement(l,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=IZ(t.label,e);return[a].concat(_Z(i))}Ks.renderCallByParent=OZ;function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function sk(){return sk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sk.apply(this,arguments)}function zI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(r),!0).forEach(function(n){RZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RZ(t,e,r){return e=MZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MZ(t){var e=DZ(t,"string");return ah(e)=="symbol"?e:e+""}function DZ(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LZ=function(e,r){var n=gn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},_p=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,l=e.sign,u=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,p=d*(u?1:-1)+i,m=Math.asin(d/p)/Em,y=h?a:a+l*m,x=Dt(r,n,p,y),k=Dt(r,n,i,y),_=h?a-l*m:a,b=Dt(r,n,p*Math.cos(m*Em),_);return{center:x,circleTangency:k,lineTangency:b,theta:m}},BL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,l=e.startAngle,u=e.endAngle,d=LZ(l,u),h=l+d,p=Dt(r,n,a,l),m=Dt(r,n,a,h),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var x=Dt(r,n,i,l),k=Dt(r,n,i,h);y+="L ".concat(k.x,",").concat(k.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},$Z=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,l=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=gn(p-h),y=_p({cx:r,cy:n,radius:a,angle:h,sign:m,cornerRadius:l,cornerIsExternal:d}),x=y.circleTangency,k=y.lineTangency,_=y.theta,b=_p({cx:r,cy:n,radius:a,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:d}),A=b.circleTangency,E=b.lineTangency,P=b.theta,O=d?Math.abs(h-p):Math.abs(h-p)-_-P;if(O<0)return u?"M ".concat(k.x,",").concat(k.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):BL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:h,endAngle:p});var N="M ".concat(k.x,",").concat(k.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var I=_p({cx:r,cy:n,radius:i,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),T=I.circleTangency,C=I.lineTangency,L=I.theta,M=_p({cx:r,cy:n,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),R=M.circleTangency,F=M.lineTangency,$=M.theta,ee=d?Math.abs(h-p):Math.abs(h-p)-L-$;if(ee<0&&l===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(F.x,",").concat(F.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ee>180),",").concat(+(m>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},FZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Fj=function(e){var r=WI(WI({},FZ),e),n=r.cx,i=r.cy,a=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,y=r.className;if(l<a||p===m)return null;var x=it("recharts-sector",y),k=l-a,_=vn(u,k,0,!0),b;return _>0&&Math.abs(p-m)<360?b=$Z({cx:n,cy:i,innerRadius:a,outerRadius:l,cornerRadius:Math.min(_,k/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:p,endAngle:m}):b=BL({cx:n,cy:i,innerRadius:a,outerRadius:l,startAngle:p,endAngle:m}),K.createElement("path",sk({},Xe(r,!0),{className:x,d:b,role:"img"}))};function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function ok(){return ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ok.apply(this,arguments)}function HI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(r),!0).forEach(function(n){VZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VZ(t,e,r){return e=BZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BZ(t){var e=UZ(t,"string");return sh(e)=="symbol"?e:e+""}function UZ(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KI={curveBasisClosed:lW,curveBasisOpen:cW,curveBasis:oW,curveBumpX:Gz,curveBumpY:Kz,curveLinearClosed:uW,curveLinear:E0,curveMonotoneX:dW,curveMonotoneY:hW,curveNatural:fW,curveStep:pW,curveStepAfter:gW,curveStepBefore:mW},kp=function(e){return e.x===+e.x&&e.y===+e.y},rd=function(e){return e.x},nd=function(e){return e.y},qZ=function(e,r){if(Ze(e))return e;var n="curve".concat(S0(e));return(n==="curveMonotone"||n==="curveBump")&&r?KI["".concat(n).concat(r==="vertical"?"Y":"X")]:KI[n]||E0},zZ=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,l=e.baseLine,u=e.layout,d=e.connectNulls,h=d===void 0?!1:d,p=qZ(n,u),m=h?a.filter(function(_){return kp(_)}):a,y;if(Array.isArray(l)){var x=h?l.filter(function(_){return kp(_)}):l,k=m.map(function(_,b){return GI(GI({},_),{},{base:x[b]})});return u==="vertical"?y=pp().y(nd).x1(rd).x0(function(_){return _.base.x}):y=pp().x(rd).y1(nd).y0(function(_){return _.base.y}),y.defined(kp).curve(p),y(k)}return u==="vertical"&&Ae(l)?y=pp().y(nd).x1(rd).x0(l):Ae(l)?y=pp().x(rd).y1(nd).y0(l):y=V4().x(rd).y(nd),y.defined(kp).curve(p),y(m)},lk=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?zZ(e):i;return z.createElement("path",ok({},Xe(e,!1),rm(e),{className:it("recharts-curve",r),d:l,ref:a}))},xw={exports:{}},bw,YI;function WZ(){if(YI)return bw;YI=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bw=t,bw}var ww,XI;function HZ(){if(XI)return ww;XI=1;var t=WZ();function e(){}function r(){}return r.resetWarningCache=e,ww=function(){function n(l,u,d,h,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},ww}var QI;function GZ(){return QI||(QI=1,xw.exports=HZ()()),xw.exports}var KZ=GZ();const kt=jt(KZ);var YZ=Object.getOwnPropertyNames,XZ=Object.getOwnPropertySymbols,QZ=Object.prototype.hasOwnProperty;function JI(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function jp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,l=a.get(r),u=a.get(n);if(l&&u)return l===n&&u===r;a.set(r,n),a.set(n,r);var d=t(r,n,i);return a.delete(r),a.delete(n),d}}function ZI(t){return YZ(t).concat(XZ(t))}var JZ=Object.hasOwn||function(t,e){return QZ.call(t,e)};function bl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ZZ="__v",eee="__o",tee="_owner",eO=Object.getOwnPropertyDescriptor,tO=Object.keys;function ree(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function nee(t,e){return bl(t.getTime(),e.getTime())}function iee(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function aee(t,e){return t===e}function rO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),l,u,d=0;(l=a.next())&&!l.done;){for(var h=e.entries(),p=!1,m=0;(u=h.next())&&!u.done;){if(i[m]){m++;continue}var y=l.value,x=u.value;if(r.equals(y[0],x[0],d,m,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){p=i[m]=!0;break}m++}if(!p)return!1;d++}return!0}var see=bl;function oee(t,e,r){var n=tO(t),i=n.length;if(tO(e).length!==i)return!1;for(;i-- >0;)if(!UL(t,e,r,n[i]))return!1;return!0}function id(t,e,r){var n=ZI(t),i=n.length;if(ZI(e).length!==i)return!1;for(var a,l,u;i-- >0;)if(a=n[i],!UL(t,e,r,a)||(l=eO(t,a),u=eO(e,a),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function lee(t,e){return bl(t.valueOf(),e.valueOf())}function cee(t,e){return t.source===e.source&&t.flags===e.flags}function nO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),l,u;(l=a.next())&&!l.done;){for(var d=e.values(),h=!1,p=0;(u=d.next())&&!u.done;){if(!i[p]&&r.equals(l.value,u.value,l.value,u.value,t,e,r)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function uee(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function dee(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function UL(t,e,r,n){return(n===tee||n===eee||n===ZZ)&&(t.$$typeof||e.$$typeof)?!0:JZ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var hee="[object Arguments]",fee="[object Boolean]",pee="[object Date]",mee="[object Error]",gee="[object Map]",vee="[object Number]",yee="[object Object]",xee="[object RegExp]",bee="[object Set]",wee="[object String]",_ee="[object URL]",kee=Array.isArray,iO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,aO=Object.assign,jee=Object.prototype.toString.call.bind(Object.prototype.toString);function See(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,l=t.areNumbersEqual,u=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(k,_,b){if(k===_)return!0;if(k==null||_==null)return!1;var A=typeof k;if(A!==typeof _)return!1;if(A!=="object")return A==="number"?l(k,_,b):A==="function"?i(k,_,b):!1;var E=k.constructor;if(E!==_.constructor)return!1;if(E===Object)return u(k,_,b);if(kee(k))return e(k,_,b);if(iO!=null&&iO(k))return m(k,_,b);if(E===Date)return r(k,_,b);if(E===RegExp)return h(k,_,b);if(E===Map)return a(k,_,b);if(E===Set)return p(k,_,b);var P=jee(k);return P===pee?r(k,_,b):P===xee?h(k,_,b):P===gee?a(k,_,b):P===bee?p(k,_,b):P===yee?typeof k.then!="function"&&typeof _.then!="function"&&u(k,_,b):P===_ee?y(k,_,b):P===mee?n(k,_,b):P===hee?u(k,_,b):P===fee||P===vee||P===wee?d(k,_,b):!1}}function Nee(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?id:ree,areDatesEqual:nee,areErrorsEqual:iee,areFunctionsEqual:aee,areMapsEqual:n?JI(rO,id):rO,areNumbersEqual:see,areObjectsEqual:n?id:oee,arePrimitiveWrappersEqual:lee,areRegExpsEqual:cee,areSetsEqual:n?JI(nO,id):nO,areTypedArraysEqual:n?id:uee,areUrlsEqual:dee};if(r&&(i=aO({},i,r(i))),e){var a=jp(i.areArraysEqual),l=jp(i.areMapsEqual),u=jp(i.areObjectsEqual),d=jp(i.areSetsEqual);i=aO({},i,{areArraysEqual:a,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return i}function Eee(t){return function(e,r,n,i,a,l,u){return t(e,r,u)}}function Tee(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(d,h){var p=n(),m=p.cache,y=m===void 0?e?new WeakMap:void 0:m,x=p.meta;return r(d,h,{cache:y,equals:i,meta:x,strict:a})};if(e)return function(d,h){return r(d,h,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var l={cache:void 0,equals:i,meta:void 0,strict:a};return function(d,h){return r(d,h,l)}}var Aee=so();so({strict:!0});so({circular:!0});so({circular:!0,strict:!0});so({createInternalComparator:function(){return bl}});so({strict:!0,createInternalComparator:function(){return bl}});so({circular:!0,createInternalComparator:function(){return bl}});so({circular:!0,createInternalComparator:function(){return bl},strict:!0});function so(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,l=a===void 0?!1:a,u=Nee(t),d=See(u),h=n?n(d):Eee(d);return Tee({circular:r,comparator:d,createState:i,equals:h,strict:l})}function Pee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function sO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Pee(i)};requestAnimationFrame(n)}function ck(t){"@babel/helpers - typeof";return ck=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ck(t)}function Cee(t){return Mee(t)||Ree(t)||Oee(t)||Iee()}function Iee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(t,e){if(t){if(typeof t=="string")return oO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oO(t,e)}}function oO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ree(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mee(t){if(Array.isArray(t))return t}function Dee(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,u=Cee(l),d=u[0],h=u.slice(1);if(typeof d=="number"){sO(i.bind(null,h),d);return}i(d),sO(i.bind(null,h));return}ck(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){qL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qL(t,e,r){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lee(t){var e=$ee(t,"string");return oh(e)==="symbol"?e:String(e)}function $ee(t,e){if(oh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fee=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Vee=function(e){return e},Bee=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jd=function(e,r){return Object.keys(r).reduce(function(n,i){return cO(cO({},n),{},qL({},i,e(i,r[i])))},{})},uO=function(e,r,n){return e.map(function(i){return"".concat(Bee(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Uee(t,e){return Wee(t)||zee(t,e)||zL(t,e)||qee()}function qee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,u=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Wee(t){if(Array.isArray(t))return t}function Hee(t){return Yee(t)||Kee(t)||zL(t)||Gee()}function Gee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zL(t,e){if(t){if(typeof t=="string")return uk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uk(t,e)}}function Kee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yee(t){if(Array.isArray(t))return uk(t)}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Am=1e-4,WL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},HL=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},dO=function(e,r){return function(n){var i=WL(e,r);return HL(i,n)}},Xee=function(e,r){return function(n){var i=WL(e,r),a=[].concat(Hee(i.map(function(l,u){return l*u}).slice(1)),[0]);return HL(a,n)}},hO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,l=1,u=1;break;case"ease":i=.25,a=.1,l=.25,u=1;break;case"ease-in":i=.42,a=0,l=1,u=1;break;case"ease-out":i=.42,a=0,l=.58,u=1;break;case"ease-in-out":i=0,a=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=Uee(h,4);i=p[0],a=p[1],l=p[2],u=p[3]}}}var m=dO(i,l),y=dO(a,u),x=Xee(i,l),k=function(A){return A>1?1:A<0?0:A},_=function(A){for(var E=A>1?1:A,P=E,O=0;O<8;++O){var N=m(P)-E,I=x(P);if(Math.abs(N-E)<Am||I<Am)return y(P);P=k(P-N/I)}return y(P)};return _.isStepper=!1,_},Qee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,l=e.dt,u=l===void 0?17:l,d=function(p,m,y){var x=-(p-m)*n,k=y*a,_=y+(x-k)*u/1e3,b=y*u/1e3+p;return Math.abs(b-m)<Am&&Math.abs(_)<Am?[m,0]:[b,_]};return d.isStepper=!0,d.dt=u,d},Jee=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hO(i);case"spring":return Qee();default:if(i.split("(")[0]==="cubic-bezier")return hO(i)}return typeof i=="function"?i:null};function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function fO(t){return tte(t)||ete(t)||GL(t)||Zee()}function Zee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ete(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tte(t){if(Array.isArray(t))return hk(t)}function pO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(r),!0).forEach(function(n){dk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dk(t,e,r){return e=rte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rte(t){var e=nte(t,"string");return lh(e)==="symbol"?e:String(e)}function nte(t,e){if(lh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ite(t,e){return ote(t)||ste(t,e)||GL(t,e)||ate()}function ate(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GL(t,e){if(t){if(typeof t=="string")return hk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hk(t,e)}}function hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ste(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,u=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function ote(t){if(Array.isArray(t))return t}var Pm=function(e,r,n){return e+(r-e)*n},fk=function(e){var r=e.from,n=e.to;return r!==n},lte=function t(e,r,n){var i=jd(function(a,l){if(fk(l)){var u=e(l.from,l.to,l.velocity),d=ite(u,2),h=d[0],p=d[1];return $r($r({},l),{},{from:h,velocity:p})}return l},r);return n<1?jd(function(a,l){return fk(l)?$r($r({},l),{},{velocity:Pm(l.velocity,i[a].velocity,n),from:Pm(l.from,i[a].from,n)}):l},r):t(e,i,n-1)};const cte=function(t,e,r,n,i){var a=Fee(t,e),l=a.reduce(function(b,A){return $r($r({},b),{},dk({},A,[t[A],e[A]]))},{}),u=a.reduce(function(b,A){return $r($r({},b),{},dk({},A,{from:t[A],velocity:0,to:e[A]}))},{}),d=-1,h,p,m=function(){return null},y=function(){return jd(function(A,E){return E.from},u)},x=function(){return!Object.values(u).filter(fk).length},k=function(A){h||(h=A);var E=A-h,P=E/r.dt;u=lte(r,u,P),i($r($r($r({},t),e),y())),h=A,x()||(d=requestAnimationFrame(m))},_=function(A){p||(p=A);var E=(A-p)/n,P=jd(function(N,I){return Pm.apply(void 0,fO(I).concat([r(E)]))},l);if(i($r($r($r({},t),e),P)),E<1)d=requestAnimationFrame(m);else{var O=jd(function(N,I){return Pm.apply(void 0,fO(I).concat([r(1)]))},l);i($r($r($r({},t),e),O))}};return m=r.isStepper?k:_,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}var ute=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dte(t,e){if(t==null)return{};var r=hte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hte(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function _w(t){return gte(t)||mte(t)||pte(t)||fte()}function fte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pte(t,e){if(t){if(typeof t=="string")return pk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pk(t,e)}}function mte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gte(t){if(Array.isArray(t))return pk(t)}function pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){pd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pd(t,e,r){return e=KL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KL(n.key),n)}}function xte(t,e,r){return e&&yte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KL(t){var e=bte(t,"string");return Vc(e)==="symbol"?e:String(e)}function bte(t,e){if(Vc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mk(t,e)}function mk(t,e){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mk(t,e)}function _te(t){var e=kte();return function(){var n=Cm(t),i;if(e){var a=Cm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gk(this,i)}}function gk(t,e){if(e&&(Vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vk(t)}function vk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(t)}var rs=function(t){wte(r,t);var e=_te(r);function r(n,i){var a;vte(this,r),a=e.call(this,n,i);var l=a.props,u=l.isActive,d=l.attributeName,h=l.from,p=l.to,m=l.steps,y=l.children,x=l.duration;if(a.handleStyleChange=a.handleStyleChange.bind(vk(a)),a.changeStyle=a.changeStyle.bind(vk(a)),!u||x<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:p}),gk(a);if(m&&m.length)a.state={style:m[0].style};else if(h){if(typeof y=="function")return a.state={style:h},gk(a);a.state={style:d?pd({},d,h):h}}else a.state={style:{}};return a}return xte(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,l=i.canBegin;this.mounted=!0,!(!a||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,l=a.isActive,u=a.canBegin,d=a.attributeName,h=a.shouldReAnimate,p=a.to,m=a.from,y=this.state.style;if(u){if(!l){var x={style:d?pd({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(x);return}if(!(Aee(i.to,p)&&i.canBegin&&i.isActive)){var k=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=k||h?m:i.to;if(this.state&&y){var b={style:d?pd({},d,_):_};(d&&y[d]!==_||!d&&y!==_)&&this.setState(b)}this.runAnimation(Oi(Oi({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,l=i.from,u=i.to,d=i.duration,h=i.easing,p=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,x=cte(l,u,Jee(h),d,this.changeStyle),k=function(){a.stopJSAnimation=x()};this.manager.start([y,p,k,d,m])}},{key:"runStepAnimation",value:function(i){var a=this,l=i.steps,u=i.begin,d=i.onAnimationStart,h=l[0],p=h.style,m=h.duration,y=m===void 0?0:m,x=function(_,b,A){if(A===0)return _;var E=b.duration,P=b.easing,O=P===void 0?"ease":P,N=b.style,I=b.properties,T=b.onAnimationEnd,C=A>0?l[A-1]:b,L=I||Object.keys(N);if(typeof O=="function"||O==="spring")return[].concat(_w(_),[a.runJSAnimation.bind(a,{from:C.style,to:N,duration:E,easing:O}),E]);var M=uO(L,E,O),R=Oi(Oi(Oi({},C.style),N),{},{transition:M});return[].concat(_w(_),[R,E,T]).filter(Vee)};return this.manager.start([d].concat(_w(l.reduce(x,[p,Math.max(y,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Dee());var a=i.begin,l=i.duration,u=i.attributeName,d=i.to,h=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,x=i.children,k=this.manager;if(this.unSubscribe=k.subscribe(this.handleStyleChange),typeof h=="function"||typeof x=="function"||h==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var _=u?pd({},u,d):d,b=uO(Object.keys(_),l,h);k.start([p,a,Oi(Oi({},_),{},{transition:b}),l,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=dte(i,ute),h=z.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!u||h===0||l<=0)return a;var m=function(x){var k=x.props,_=k.style,b=_===void 0?{}:_,A=k.className,E=z.cloneElement(x,Oi(Oi({},d),{},{style:Oi(Oi({},b),p),className:A}));return E};return h===1?m(z.Children.only(a)):K.createElement("div",null,z.Children.map(a,function(y){return m(y)}))}}]),r}(z.PureComponent);rs.displayName="Animate";rs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};rs.propTypes={from:kt.oneOfType([kt.object,kt.string]),to:kt.oneOfType([kt.object,kt.string]),attributeName:kt.string,duration:kt.number,begin:kt.number,easing:kt.oneOfType([kt.string,kt.func]),steps:kt.arrayOf(kt.shape({duration:kt.number.isRequired,style:kt.object.isRequired,easing:kt.oneOfType([kt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kt.func]),properties:kt.arrayOf("string"),onAnimationEnd:kt.func})),children:kt.oneOfType([kt.node,kt.func]),isActive:kt.bool,canBegin:kt.bool,onAnimationEnd:kt.func,shouldReAnimate:kt.bool,onAnimationStart:kt.func,onAnimationReStart:kt.func};function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Im.apply(this,arguments)}function jte(t,e){return Tte(t)||Ete(t,e)||Nte(t,e)||Ste()}function Ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nte(t,e){if(t){if(typeof t=="string")return gO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(t,e)}}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ete(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,u=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Tte(t){if(Array.isArray(t))return t}function vO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(r),!0).forEach(function(n){Ate(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ate(t,e,r){return e=Pte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pte(t){var e=Cte(t,"string");return ch(e)=="symbol"?e:e+""}function Cte(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xO=function(e,r,n,i,a){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,p;if(l>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,x=4;y<x;y++)m[y]=a[y]>l?l:a[y];p="M".concat(e,",").concat(r+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+u*m[1])),p+="L ".concat(e+n,",").concat(r+i-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+n-d*m[2],",").concat(r+i)),p+="L ".concat(e+d*m[3],",").concat(r+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+i-u*m[3])),p+="Z"}else if(l>0&&a===+a&&a>0){var k=Math.min(l,a);p="M ".concat(e,",").concat(r+u*k,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e+d*k,",").concat(r,`
            L `).concat(e+n-d*k,",").concat(r,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e+n,",").concat(r+u*k,`
            L `).concat(e+n,",").concat(r+i-u*k,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e+n-d*k,",").concat(r+i,`
            L `).concat(e+d*k,",").concat(r+i,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e,",").concat(r+i-u*k," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},Ite=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var h=Math.min(a,a+u),p=Math.max(a,a+u),m=Math.min(l,l+d),y=Math.max(l,l+d);return n>=h&&n<=p&&i>=m&&i<=y}return!1},Ote={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vj=function(e){var r=yO(yO({},Ote),e),n=z.useRef(),i=z.useState(-1),a=jte(i,2),l=a[0],u=a[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,h=r.y,p=r.width,m=r.height,y=r.radius,x=r.className,k=r.animationEasing,_=r.animationDuration,b=r.animationBegin,A=r.isAnimationActive,E=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var P=it("recharts-rectangle",x);return E?K.createElement(rs,{canBegin:l>0,from:{width:p,height:m,x:d,y:h},to:{width:p,height:m,x:d,y:h},duration:_,animationEasing:k,isActive:E},function(O){var N=O.width,I=O.height,T=O.x,C=O.y;return K.createElement(rs,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,isActive:A,easing:k},K.createElement("path",Im({},Xe(r,!0),{className:P,d:xO(T,C,N,I,y),ref:n})))}):K.createElement("path",Im({},Xe(r,!0),{className:P,d:xO(d,h,p,m,y)}))},Rte=["points","className","baseLinePoints","connectNulls"];function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uc.apply(this,arguments)}function Mte(t,e){if(t==null)return{};var r=Dte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bO(t){return Vte(t)||Fte(t)||$te(t)||Lte()}function Lte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $te(t,e){if(t){if(typeof t=="string")return yk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yk(t,e)}}function Fte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vte(t){if(Array.isArray(t))return yk(t)}function yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wO=function(e){return e&&e.x===+e.x&&e.y===+e.y},Bte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){wO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),wO(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Sd=function(e,r){var n=Bte(e);r&&(n=[n.reduce(function(a,l){return[].concat(bO(a),bO(l))},[])]);var i=n.map(function(a){return a.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Ute=function(e,r,n){var i=Sd(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Sd(r.reverse(),n).slice(1))},qte=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,l=Mte(e,Rte);if(!r||!r.length)return null;var u=it("recharts-polygon",n);if(i&&i.length){var d=l.stroke&&l.stroke!=="none",h=Ute(r,i,a);return K.createElement("g",{className:u},K.createElement("path",uc({},Xe(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),d?K.createElement("path",uc({},Xe(l,!0),{fill:"none",d:Sd(r,a)})):null,d?K.createElement("path",uc({},Xe(l,!0),{fill:"none",d:Sd(i,a)})):null)}var p=Sd(r,a);return K.createElement("path",uc({},Xe(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:u,d:p}))};function xk(){return xk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xk.apply(this,arguments)}var Bj=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,l=it("recharts-dot",a);return r===+r&&n===+n&&i===+i?z.createElement("circle",xk({},Xe(e,!1),rm(e),{className:l,cx:r,cy:n,r:i})):null};function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}var zte=["x","y","top","left","width","height","className"];function bk(){return bk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bk.apply(this,arguments)}function _O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(r),!0).forEach(function(n){Hte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hte(t,e,r){return e=Gte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gte(t){var e=Kte(t,"string");return uh(e)=="symbol"?e:e+""}function Kte(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yte(t,e){if(t==null)return{};var r=Xte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Qte=function(e,r,n,i,a,l){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},Jte=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,l=e.top,u=l===void 0?0:l,d=e.left,h=d===void 0?0:d,p=e.width,m=p===void 0?0:p,y=e.height,x=y===void 0?0:y,k=e.className,_=Yte(e,zte),b=Wte({x:n,y:a,top:u,left:h,width:m,height:x},_);return!Ae(n)||!Ae(a)||!Ae(m)||!Ae(x)||!Ae(u)||!Ae(h)?null:K.createElement("path",bk({},Xe(b,!0),{className:it("recharts-cross",k),d:Qte(n,a,m,x,u,h)}))},kw,kO;function Zte(){if(kO)return kw;kO=1;var t=F0(),e=uL(),r=ga();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return kw=n,kw}var ere=Zte();const tre=jt(ere);var jw,jO;function rre(){if(jO)return jw;jO=1;var t=F0(),e=ga(),r=dL();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return jw=n,jw}var nre=rre();const ire=jt(nre);var are=["cx","cy","angle","ticks","axisLine"],sre=["ticks","tick","angle","tickFormatter","stroke"];function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nd.apply(this,arguments)}function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){H0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NO(t,e){if(t==null)return{};var r=ore(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ore(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XL(n.key),n)}}function cre(t,e,r){return e&&EO(t.prototype,e),r&&EO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ure(t,e,r){return e=Om(e),dre(t,YL()?Reflect.construct(e,r||[],Om(t).constructor):e.apply(t,r))}function dre(t,e){if(e&&(Bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hre(t)}function hre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YL=function(){return!!t})()}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(t)}function fre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wk(t,e)}function wk(t,e){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wk(t,e)}function H0(t,e,r){return e=XL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XL(t){var e=pre(t,"string");return Bc(e)=="symbol"?e:e+""}function pre(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G0=function(t){function e(){return lre(this,e),ure(this,e,arguments)}return fre(e,t),cre(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,l=a.angle,u=a.cx,d=a.cy;return Dt(u,d,i,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,l=n.angle,u=n.ticks,d=tre(u,function(p){return p.coordinate||0}),h=ire(u,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,h=NO(n,are),p=u.reduce(function(k,_){return[Math.min(k[0],_.coordinate),Math.max(k[1],_.coordinate)]},[1/0,-1/0]),m=Dt(i,a,p[0],l),y=Dt(i,a,p[1],l),x=Mo(Mo(Mo({},Xe(h,!1)),{},{fill:"none"},Xe(d,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return K.createElement("line",Nd({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,l=i.tick,u=i.angle,d=i.tickFormatter,h=i.stroke,p=NO(i,sre),m=this.getTickTextAnchor(),y=Xe(p,!1),x=Xe(l,!1),k=a.map(function(_,b){var A=n.getTickValueCoord(_),E=Mo(Mo(Mo(Mo({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(A.x,", ").concat(A.y,")")},y),{},{stroke:"none",fill:h},x),{},{index:b},A),{},{payload:_});return K.createElement(Nt,Nd({className:it("recharts-polar-radius-axis-tick",FL(l)),key:"tick-".concat(_.coordinate)},ol(n.props,_,b)),e.renderTickItem(l,E,d?d(_.value,b):_.value))});return K.createElement(Nt,{className:"recharts-polar-radius-axis-ticks"},k)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,l=n.tick;return!i||!i.length?null:K.createElement(Nt,{className:it("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),l&&this.renderTicks(),Cr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var l;return K.isValidElement(n)?l=K.cloneElement(n,i):Ze(n)?l=n(i):l=K.createElement(ll,Nd({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),l}}])}(z.PureComponent);H0(G0,"displayName","PolarRadiusAxis");H0(G0,"axisType","radiusAxis");H0(G0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bo.apply(this,arguments)}function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Do(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){K0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JL(n.key),n)}}function gre(t,e,r){return e&&AO(t.prototype,e),r&&AO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vre(t,e,r){return e=Rm(e),yre(t,QL()?Reflect.construct(e,r||[],Rm(t).constructor):e.apply(t,r))}function yre(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xre(t)}function xre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QL=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(t)}function bre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_k(t,e)}function _k(t,e){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_k(t,e)}function K0(t,e,r){return e=JL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JL(t){var e=wre(t,"string");return Uc(e)=="symbol"?e:e+""}function wre(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _re=Math.PI/180,PO=1e-5,Y0=function(t){function e(){return mre(this,e),vre(this,e,arguments)}return bre(e,t),gre(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,l=i.cy,u=i.radius,d=i.orientation,h=i.tickSize,p=h||8,m=Dt(a,l,u,n.coordinate),y=Dt(a,l,u+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*_re),l;return a>PO?l=i==="outer"?"start":"end":a<-PO?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,h=Do(Do({},Xe(this.props,!1)),{},{fill:"none"},Xe(u,!1));if(d==="circle")return K.createElement(Bj,Bo({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:a,r:l}));var p=this.props.ticks,m=p.map(function(y){return Dt(i,a,l,y.coordinate)});return K.createElement(qte,Bo({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,l=i.tick,u=i.tickLine,d=i.tickFormatter,h=i.stroke,p=Xe(this.props,!1),m=Xe(l,!1),y=Do(Do({},p),{},{fill:"none"},Xe(u,!1)),x=a.map(function(k,_){var b=n.getTickLineCoord(k),A=n.getTickTextAnchor(k),E=Do(Do(Do({textAnchor:A},p),{},{stroke:"none",fill:h},m),{},{index:_,payload:k,x:b.x2,y:b.y2});return K.createElement(Nt,Bo({className:it("recharts-polar-angle-axis-tick",FL(l)),key:"tick-".concat(k.coordinate)},ol(n.props,k,_)),u&&K.createElement("line",Bo({className:"recharts-polar-angle-axis-tick-line"},y,b)),l&&e.renderTickItem(l,E,d?d(k.value,_):k.value))});return K.createElement(Nt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,l=n.axisLine;return a<=0||!i||!i.length?null:K.createElement(Nt,{className:it("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var l;return K.isValidElement(n)?l=K.cloneElement(n,i):Ze(n)?l=n(i):l=K.createElement(ll,Bo({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),l}}])}(z.PureComponent);K0(Y0,"displayName","PolarAngleAxis");K0(Y0,"axisType","angleAxis");K0(Y0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Sw,CO;function kre(){if(CO)return Sw;CO=1;var t=c3(),e=t(Object.getPrototypeOf,Object);return Sw=e,Sw}var Nw,IO;function jre(){if(IO)return Nw;IO=1;var t=ns(),e=kre(),r=is(),n="[object Object]",i=Function.prototype,a=Object.prototype,l=i.toString,u=a.hasOwnProperty,d=l.call(Object);function h(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var y=u.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&l.call(y)==d}return Nw=h,Nw}var Sre=jre();const Nre=jt(Sre);var Ew,OO;function Ere(){if(OO)return Ew;OO=1;var t=ns(),e=is(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return Ew=n,Ew}var Tre=Ere();const Are=jt(Tre);function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mm.apply(this,arguments)}function Pre(t,e){return Rre(t)||Ore(t,e)||Ire(t,e)||Cre()}function Cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ire(t,e){if(t){if(typeof t=="string")return RO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ore(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,u=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Rre(t){if(Array.isArray(t))return t}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){Mre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mre(t,e,r){return e=Dre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dre(t){var e=Lre(t,"string");return dh(e)=="symbol"?e:e+""}function Lre(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LO=function(e,r,n,i,a){var l=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-l/2,",").concat(r+a),u+="L ".concat(e+n-l/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},$re={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fre=function(e){var r=DO(DO({},$re),e),n=z.useRef(),i=z.useState(-1),a=Pre(i,2),l=a[0],u=a[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&u(P)}catch{}},[]);var d=r.x,h=r.y,p=r.upperWidth,m=r.lowerWidth,y=r.height,x=r.className,k=r.animationEasing,_=r.animationDuration,b=r.animationBegin,A=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||y!==+y||p===0&&m===0||y===0)return null;var E=it("recharts-trapezoid",x);return A?K.createElement(rs,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:h},to:{upperWidth:p,lowerWidth:m,height:y,x:d,y:h},duration:_,animationEasing:k,isActive:A},function(P){var O=P.upperWidth,N=P.lowerWidth,I=P.height,T=P.x,C=P.y;return K.createElement(rs,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,easing:k},K.createElement("path",Mm({},Xe(r,!0),{className:E,d:LO(T,C,O,N,I),ref:n})))}):K.createElement("g",null,K.createElement("path",Mm({},Xe(r,!0),{className:E,d:LO(d,h,p,m,y)})))},Vre=["option","shapeType","propTransformer","activeClassName","isActive"];function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function Bre(t,e){if(t==null)return{};var r=Ure(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ure(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){qre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qre(t,e,r){return e=zre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zre(t){var e=Wre(t,"string");return hh(e)=="symbol"?e:e+""}function Wre(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hre(t,e){return Dm(Dm({},e),t)}function Gre(t,e){return t==="symbols"}function FO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(Vj,r);case"trapezoid":return K.createElement(Fre,r);case"sector":return K.createElement(Fj,r);case"symbols":if(Gre(e))return K.createElement(nj,r);break;default:return null}}function Kre(t){return z.isValidElement(t)?t.props:t}function ZL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Hre:n,a=t.activeClassName,l=a===void 0?"recharts-active-shape":a,u=t.isActive,d=Bre(t,Vre),h;if(z.isValidElement(e))h=z.cloneElement(e,Dm(Dm({},d),Kre(e)));else if(Ze(e))h=e(d);else if(Nre(e)&&!Are(e)){var p=i(e,d);h=K.createElement(FO,{shapeType:r,elementProps:p})}else{var m=d;h=K.createElement(FO,{shapeType:r,elementProps:m})}return u?K.createElement(Nt,{className:l},h):h}function X0(t,e){return e!=null&&"trapezoids"in t.props}function Q0(t,e){return e!=null&&"sectors"in t.props}function fh(t,e){return e!=null&&"points"in t.props}function Yre(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Xre(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Qre(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Jre(t,e){var r;return X0(t,e)?r=Yre:Q0(t,e)?r=Xre:fh(t,e)&&(r=Qre),r}function Zre(t,e){var r;return X0(t,e)?r="trapezoids":Q0(t,e)?r="sectors":fh(t,e)&&(r="points"),r}function ene(t,e){if(X0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Q0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return fh(t,e)?e.payload:{}}function tne(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Zre(r,e),a=ene(r,e),l=n.filter(function(d,h){var p=U0(a,d),m=r.props[i].filter(function(k){var _=Jre(r,e);return _(k,e)}),y=r.props[i].indexOf(m[m.length-1]),x=h===y;return p&&x}),u=n.indexOf(l[l.length-1]);return u}var Lp;function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dc.apply(this,arguments)}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){pi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t6(n.key),n)}}function nne(t,e,r){return e&&BO(t.prototype,e),r&&BO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ine(t,e,r){return e=Lm(e),ane(t,e6()?Reflect.construct(e,r||[],Lm(t).constructor):e.apply(t,r))}function ane(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sne(t)}function sne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e6=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(t)}function one(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kk(t,e)}function kk(t,e){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kk(t,e)}function pi(t,e,r){return e=t6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t6(t){var e=lne(t,"string");return qc(e)=="symbol"?e:e+""}function lne(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ss=function(t){function e(r){var n;return rne(this,e),n=ine(this,e,[r]),pi(n,"pieRef",null),pi(n,"sectorRefs",[]),pi(n,"id",Fh("recharts-pie-")),pi(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ze(i)&&i()}),pi(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ze(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return one(e,t),nne(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.label,u=a.labelLine,d=a.dataKey,h=a.valueKey,p=Xe(this.props,!1),m=Xe(l,!1),y=Xe(u,!1),x=l&&l.offsetRadius||20,k=n.map(function(_,b){var A=(_.startAngle+_.endAngle)/2,E=Dt(_.cx,_.cy,_.outerRadius+x,A),P=Rt(Rt(Rt(Rt({},p),_),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(E.x,_.cx)},E),O=Rt(Rt(Rt(Rt({},p),_),{},{fill:"none",stroke:_.fill},y),{},{index:b,points:[Dt(_.cx,_.cy,_.outerRadius,A),E]}),N=d;return st(d)&&st(h)?N="value":st(d)&&(N=h),K.createElement(Nt,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(b)},u&&e.renderLabelLineItem(u,O,"line"),e.renderLabelItem(l,P,an(_,N)))});return K.createElement(Nt,{className:"recharts-pie-labels"},k)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,l=a.activeShape,u=a.blendStroke,d=a.inactiveShape;return n.map(function(h,p){if(h?.startAngle===0&&h?.endAngle===0&&n.length!==1)return null;var m=i.isActiveIndex(p),y=d&&i.hasActiveIndex()?d:null,x=m?l:y,k=Rt(Rt({},h),{},{stroke:u?h.fill:h.stroke,tabIndex:-1});return K.createElement(Nt,dc({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},ol(i.props,h,p),{key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(p)}),K.createElement(ZL,dc({option:x,isActive:m,shapeType:"sector"},k)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,y=m.prevSectors,x=m.prevIsAnimationActive;return K.createElement(rs,{begin:u,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(k){var _=k.t,b=[],A=a&&a[0],E=A.startAngle;return a.forEach(function(P,O){var N=y&&y[O],I=O>0?Jn(P,"paddingAngle",0):0;if(N){var T=Is(N.endAngle-N.startAngle,P.endAngle-P.startAngle),C=Rt(Rt({},P),{},{startAngle:E+I,endAngle:E+T(_)+I});b.push(C),E=C.endAngle}else{var L=P.endAngle,M=P.startAngle,R=Is(0,L-M),F=R(_),$=Rt(Rt({},P),{},{startAngle:E+I,endAngle:E+F+I});b.push($),E=$.endAngle}}),K.createElement(Nt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,l=this.state.prevSectors;return a&&i&&i.length&&(!l||!U0(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,l=i.sectors,u=i.className,d=i.label,h=i.cx,p=i.cy,m=i.innerRadius,y=i.outerRadius,x=i.isAnimationActive,k=this.state.isAnimationFinished;if(a||!l||!l.length||!Ae(h)||!Ae(p)||!Ae(m)||!Ae(y))return null;var _=it("recharts-pie",u);return K.createElement(Nt,{tabIndex:this.props.rootTabIndex,className:_,ref:function(A){n.pieRef=A}},this.renderSectors(),d&&this.renderLabels(l),Cr.renderCallByParent(this.props,null,!1),(!x||k)&&Ks.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(K.isValidElement(n))return K.cloneElement(n,i);if(Ze(n))return n(i);var l=it("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return K.createElement(lk,dc({},i,{key:a,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,i,a){if(K.isValidElement(n))return K.cloneElement(n,i);var l=a;if(Ze(n)&&(l=n(i),K.isValidElement(l)))return l;var u=it("recharts-pie-label-text",typeof n!="boolean"&&!Ze(n)?n.className:"");return K.createElement(ll,dc({},i,{alignmentBaseline:"middle",className:u}),l)}}])}(z.PureComponent);Lp=ss;pi(ss,"displayName","Pie");pi(ss,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!uu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});pi(ss,"parseDeltaAngle",function(t,e){var r=gn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});pi(ss,"getRealPieData",function(t){var e=t.data,r=t.children,n=Xe(t,!1),i=gi(r,I0);return e&&e.length?e.map(function(a,l){return Rt(Rt(Rt({payload:a},n),a),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(a){return Rt(Rt({},n),a.props)}):[]});pi(ss,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,l=$L(i,a),u=n+vn(t.cx,i,i/2),d=r+vn(t.cy,a,a/2),h=vn(t.innerRadius,l,0),p=vn(t.outerRadius,l,l*.8),m=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:d,innerRadius:h,outerRadius:p,maxRadius:m}});pi(ss,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Rt(Rt({},e.type.defaultProps),e.props):e.props,i=Lp.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,h=n.dataKey,p=n.nameKey,m=n.valueKey,y=n.tooltipType,x=Math.abs(n.minAngle),k=Lp.parseCoordinateOfPie(n,r),_=Lp.parseDeltaAngle(l,u),b=Math.abs(_),A=h;st(h)&&st(m)?(Li(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):st(h)&&(Li(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=m);var E=i.filter(function(C){return an(C,A,0)!==0}).length,P=(b>=360?E:E-1)*d,O=b-E*x-P,N=i.reduce(function(C,L){var M=an(L,A,0);return C+(Ae(M)?M:0)},0),I;if(N>0){var T;I=i.map(function(C,L){var M=an(C,A,0),R=an(C,p,L),F=(Ae(M)?M:0)/N,$;L?$=T.endAngle+gn(_)*d*(M!==0?1:0):$=l;var ee=$+gn(_)*((M!==0?x:0)+F*O),ie=($+ee)/2,Q=(k.innerRadius+k.outerRadius)/2,se=[{name:R,value:M,payload:C,dataKey:A,type:y}],te=Dt(k.cx,k.cy,Q,ie);return T=Rt(Rt(Rt({percent:F,cornerRadius:a,name:R,tooltipPayload:se,midAngle:ie,middleRadius:Q,tooltipPosition:te},C),k),{},{value:an(C,A),startAngle:$,endAngle:ee,payload:C,paddingAngle:gn(_)*d}),T})}return Rt(Rt({},k),{},{sectors:I,data:i})});var Tw,UO;function cne(){if(UO)return Tw;UO=1;var t=Math.ceil,e=Math.max;function r(n,i,a,l){for(var u=-1,d=e(t((i-n)/(a||1)),0),h=Array(d);d--;)h[l?d:++u]=n,n+=a;return h}return Tw=r,Tw}var Aw,qO;function r6(){if(qO)return Aw;qO=1;var t=S3(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return Aw=n,Aw}var Pw,zO;function une(){if(zO)return Pw;zO=1;var t=cne(),e=C0(),r=r6();function n(i){return function(a,l,u){return u&&typeof u!="number"&&e(a,l,u)&&(l=u=void 0),a=r(a),l===void 0?(l=a,a=0):l=r(l),u=u===void 0?a<l?1:-1:r(u),t(a,l,u,i)}}return Pw=n,Pw}var Cw,WO;function dne(){if(WO)return Cw;WO=1;var t=une(),e=t();return Cw=e,Cw}var hne=dne();const $m=jt(hne);function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function HO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(r),!0).forEach(function(n){n6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n6(t,e,r){return e=fne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fne(t){var e=pne(t,"string");return ph(e)=="symbol"?e:e+""}function pne(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mne=["Webkit","Moz","O","ms"],gne=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=mne.reduce(function(a,l){return GO(GO({},a),{},n6({},l+n,r))},{});return i[e]=r,i};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fm.apply(this,arguments)}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){Hn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a6(n.key),n)}}function yne(t,e,r){return e&&YO(t.prototype,e),r&&YO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xne(t,e,r){return e=Vm(e),bne(t,i6()?Reflect.construct(e,r||[],Vm(t).constructor):e.apply(t,r))}function bne(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(t)}function wne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i6=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(t)}function _ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jk(t,e)}function jk(t,e){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jk(t,e)}function Hn(t,e,r){return e=a6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a6(t){var e=kne(t,"string");return zc(e)=="symbol"?e:e+""}function kne(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jne=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,l=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=_d().domain($m(0,d)).range([a,a+l-u]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:p}},XO=function(e){return e.changedTouches&&!!e.changedTouches.length},Wc=function(t){function e(r){var n;return vne(this,e),n=xne(this,e,[r]),Hn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Hn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Hn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,l=i.onDragEnd,u=i.startIndex;l?.({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),Hn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Hn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Hn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Hn(n,"handleSlideDragStart",function(i){var a=XO(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _ne(e,t),yne(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,h=u.data,p=h.length-1,m=Math.min(i,a),y=Math.max(i,a),x=e.getIndexInRange(l,m),k=e.getIndexInRange(l,y);return{startIndex:x-x%d,endIndex:k===p?p:k-k%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,l=i.tickFormatter,u=i.dataKey,d=an(a[n],u,n);return Ze(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,l=i.startX,u=i.endX,d=this.props,h=d.x,p=d.width,m=d.travellerWidth,y=d.startIndex,x=d.endIndex,k=d.onChange,_=n.pageX-a;_>0?_=Math.min(_,h+p-m-u,h+p-m-l):_<0&&(_=Math.max(_,h-l,h-u));var b=this.getIndex({startX:l+_,endX:u+_});(b.startIndex!==y||b.endIndex!==x)&&k&&k(b),this.setState({startX:l+_,endX:u+_,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=XO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,d=i.startX,h=this.state[l],p=this.props,m=p.x,y=p.width,x=p.travellerWidth,k=p.onChange,_=p.gap,b=p.data,A={startX:this.state.startX,endX:this.state.endX},E=n.pageX-a;E>0?E=Math.min(E,m+y-x-h):E<0&&(E=Math.max(E,m-h)),A[l]=h+E;var P=this.getIndex(A),O=P.startIndex,N=P.endIndex,I=function(){var C=b.length-1;return l==="startX"&&(u>d?O%_===0:N%_===0)||u<d&&N===C||l==="endX"&&(u>d?N%_===0:O%_===0)||u>d&&N===C};this.setState(Hn(Hn({},l,h+E),"brushMoveStartX",n.pageX),function(){k&&I()&&k(P)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,l=this.state,u=l.scaleValues,d=l.startX,h=l.endX,p=this.state[i],m=u.indexOf(p);if(m!==-1){var y=m+n;if(!(y===-1||y>=u.length)){var x=u[y];i==="startX"&&x>=h||i==="endX"&&x<=d||this.setState(Hn({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,l=n.width,u=n.height,d=n.fill,h=n.stroke;return K.createElement("rect",{stroke:h,fill:d,x:i,y:a,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,l=n.width,u=n.height,d=n.data,h=n.children,p=n.padding,m=z.Children.only(h);return m?K.cloneElement(m,{x:i,y:a,width:l,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,l,u=this,d=this.props,h=d.y,p=d.travellerWidth,m=d.height,y=d.traveller,x=d.ariaLabel,k=d.data,_=d.startIndex,b=d.endIndex,A=Math.max(n,this.props.x),E=Iw(Iw({},Xe(this.props,!1)),{},{x:A,y:h,width:p,height:m}),P=x||"Min value: ".concat((a=k[_])===null||a===void 0?void 0:a.name,", Max value: ").concat((l=k[b])===null||l===void 0?void 0:l.name);return K.createElement(Nt,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),u.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,E))}},{key:"renderSlide",value:function(n,i){var a=this.props,l=a.y,u=a.height,d=a.stroke,h=a.travellerWidth,p=Math.min(n,i)+h,m=Math.max(Math.abs(i-n)-h,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,h=n.stroke,p=this.state,m=p.startX,y=p.endX,x=5,k={pointerEvents:"none",fill:h};return K.createElement(Nt,{className:"recharts-brush-texts"},K.createElement(ll,Fm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-x,y:l+u/2},k),this.getTextOfTick(i)),K.createElement(ll,Fm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+d+x,y:l+u/2},k),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,l=n.children,u=n.x,d=n.y,h=n.width,p=n.height,m=n.alwaysShowText,y=this.state,x=y.startX,k=y.endX,_=y.isTextActive,b=y.isSlideMoving,A=y.isTravellerMoving,E=y.isTravellerFocused;if(!i||!i.length||!Ae(u)||!Ae(d)||!Ae(h)||!Ae(p)||h<=0||p<=0)return null;var P=it("recharts-brush",a),O=K.Children.count(l)===1,N=gne("userSelect","none");return K.createElement(Nt,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(x,k),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(k,"endX"),(_||b||A||E||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,l=n.width,u=n.height,d=n.stroke,h=Math.floor(a+u/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:a,width:l,height:u,fill:d,stroke:"none"}),K.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return K.isValidElement(n)?a=K.cloneElement(n,i):Ze(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,l=n.width,u=n.x,d=n.travellerWidth,h=n.updateId,p=n.startIndex,m=n.endIndex;if(a!==i.prevData||h!==i.prevUpdateId)return Iw({prevData:a,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l},a&&a.length?jne({data:a,width:l,x:u,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+l-d]);var y=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,l=0,u=a-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>i?u=d:l=d}return i>=n[u]?u:l}}])}(z.PureComponent);Hn(Wc,"displayName","Brush");Hn(Wc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ow,QO;function Sne(){if(QO)return Ow;QO=1;var t=uj();function e(r,n){var i;return t(r,function(a,l,u){return i=n(a,l,u),!i}),!!i}return Ow=e,Ow}var Rw,JO;function Nne(){if(JO)return Rw;JO=1;var t=r3(),e=ga(),r=Sne(),n=Rn(),i=C0();function a(l,u,d){var h=n(l)?t:r;return d&&i(l,u,d)&&(u=void 0),h(l,e(u,3))}return Rw=a,Rw}var Ene=Nne();const Tne=jt(Ene);var ua=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Mw,ZO;function Ane(){if(ZO)return Mw;ZO=1;var t=b3();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Mw=e,Mw}var Dw,eR;function Pne(){if(eR)return Dw;eR=1;var t=Ane(),e=y3(),r=ga();function n(i,a){var l={};return a=r(a,3),e(i,function(u,d,h){t(l,d,a(u,d,h))}),l}return Dw=n,Dw}var Cne=Pne();const Ine=jt(Cne);var Lw,tR;function One(){if(tR)return Lw;tR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Lw=t,Lw}var $w,rR;function Rne(){if(rR)return $w;rR=1;var t=uj();function e(r,n){var i=!0;return t(r,function(a,l,u){return i=!!n(a,l,u),i}),i}return $w=e,$w}var Fw,nR;function Mne(){if(nR)return Fw;nR=1;var t=One(),e=Rne(),r=ga(),n=Rn(),i=C0();function a(l,u,d){var h=n(l)?t:e;return d&&i(l,u,d)&&(u=void 0),h(l,r(u,3))}return Fw=a,Fw}var Dne=Mne();const s6=jt(Dne);var Lne=["x","y"];function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function Sk(){return Sk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sk.apply(this,arguments)}function iR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ad(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(r),!0).forEach(function(n){$ne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ne(t,e,r){return e=Fne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fne(t){var e=Vne(t,"string");return mh(e)=="symbol"?e:e+""}function Vne(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bne(t,e){if(t==null)return{};var r=Une(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Une(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qne(t,e){var r=t.x,n=t.y,i=Bne(t,Lne),a="".concat(r),l=parseInt(a,10),u="".concat(n),d=parseInt(u,10),h="".concat(e.height||i.height),p=parseInt(h,10),m="".concat(e.width||i.width),y=parseInt(m,10);return ad(ad(ad(ad(ad({},e),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function aR(t){return K.createElement(ZL,Sk({shapeType:"rectangle",propTransformer:qne,activeClassName:"recharts-active-bar"},t))}var zne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Ae(n)||mz(n);return a?e(n,i):(a||ul(),r)}},Wne=["value","background"],o6;function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function Hne(t,e){if(t==null)return{};var r=Gne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bm.apply(this,arguments)}function sR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(r),!0).forEach(function(n){Bs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c6(n.key),n)}}function Yne(t,e,r){return e&&oR(t.prototype,e),r&&oR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xne(t,e,r){return e=Um(e),Qne(t,l6()?Reflect.construct(e,r||[],Um(t).constructor):e.apply(t,r))}function Qne(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jne(t)}function Jne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l6=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(t)}function Zne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nk(t,e)}function Nk(t,e){return Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nk(t,e)}function Bs(t,e,r){return e=c6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c6(t){var e=eie(t,"string");return Hc(e)=="symbol"?e:e+""}function eie(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fa=function(t){function e(){var r;Kne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xne(this,e,[].concat(i)),Bs(r,"state",{isAnimationFinished:!1}),Bs(r,"id",Fh("recharts-bar-")),Bs(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Bs(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return Zne(e,t),Yne(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,l=a.shape,u=a.dataKey,d=a.activeIndex,h=a.activeBar,p=Xe(this.props,!1);return n&&n.map(function(m,y){var x=y===d,k=x?h:l,_=dr(dr(dr({},p),m),{},{isActive:x,option:k,index:y,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(Nt,Bm({className:"recharts-bar-rectangle"},ol(i.props,m,y),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(y)}),K.createElement(aR,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,l=i.layout,u=i.isAnimationActive,d=i.animationBegin,h=i.animationDuration,p=i.animationEasing,m=i.animationId,y=this.state.prevData;return K.createElement(rs,{begin:d,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var k=x.t,_=a.map(function(b,A){var E=y&&y[A];if(E){var P=Is(E.x,b.x),O=Is(E.y,b.y),N=Is(E.width,b.width),I=Is(E.height,b.height);return dr(dr({},b),{},{x:P(k),y:O(k),width:N(k),height:I(k)})}if(l==="horizontal"){var T=Is(0,b.height),C=T(k);return dr(dr({},b),{},{y:b.y+b.height-C,height:C})}var L=Is(0,b.width),M=L(k);return dr(dr({},b),{},{width:M})});return K.createElement(Nt,null,n.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,l=this.state.prevData;return a&&i&&i.length&&(!l||!U0(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,l=i.dataKey,u=i.activeIndex,d=Xe(this.props.background,!1);return a.map(function(h,p){h.value;var m=h.background,y=Hne(h,Wne);if(!m)return null;var x=dr(dr(dr(dr(dr({},y),{},{fill:"#eee"},m),d),ol(n.props,h,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return K.createElement(aR,Bm({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.data,u=a.xAxis,d=a.yAxis,h=a.layout,p=a.children,m=gi(p,W0);if(!m)return null;var y=h==="vertical"?l[0].height/2:l[0].width/2,x=function(b,A){var E=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:E,errorVal:an(b,A)}},k={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(Nt,k,m.map(function(_){return K.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,l=n.className,u=n.xAxis,d=n.yAxis,h=n.left,p=n.top,m=n.width,y=n.height,x=n.isAnimationActive,k=n.background,_=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,A=it("recharts-bar",l),E=u&&u.allowDataOverflow,P=d&&d.allowDataOverflow,O=E||P,N=st(_)?this.id:_;return K.createElement(Nt,{className:A},E||P?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(N)},K.createElement("rect",{x:E?h:h-m/2,y:P?p:p-y/2,width:E?m:m*2,height:P?y:y*2}))):null,K.createElement(Nt,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(N,")"):null},k?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,N),(!x||b)&&Ks.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(z.PureComponent);o6=fa;Bs(fa,"displayName","Bar");Bs(fa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!uu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bs(fa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,l=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,y=t.offset,x=AJ(n,r);if(!x)return null;var k=e.layout,_=r.type.defaultProps,b=_!==void 0?dr(dr({},_),r.props):r.props,A=b.dataKey,E=b.children,P=b.minPointSize,O=k==="horizontal"?l:a,N=h?O.scale.domain():null,I=DJ({numericAxis:O}),T=gi(E,I0),C=m.map(function(L,M){var R,F,$,ee,ie,Q;h?R=PJ(h[p+M],N):(R=an(L,A),Array.isArray(R)||(R=[I,R]));var se=zne(P,o6.defaultProps.minPointSize)(R[1],M);if(k==="horizontal"){var te,Z=[l.scale(R[0]),l.scale(R[1])],re=Z[0],W=Z[1];F=II({axis:a,ticks:u,bandSize:i,offset:x.offset,entry:L,index:M}),$=(te=W??re)!==null&&te!==void 0?te:void 0,ee=x.size;var X=re-W;if(ie=Number.isNaN(X)?0:X,Q={x:F,y:l.y,width:ee,height:l.height},Math.abs(se)>0&&Math.abs(ie)<Math.abs(se)){var Y=gn(ie||se)*(Math.abs(se)-Math.abs(ie));$-=Y,ie+=Y}}else{var ce=[a.scale(R[0]),a.scale(R[1])],ve=ce[0],pe=ce[1];if(F=ve,$=II({axis:l,ticks:d,bandSize:i,offset:x.offset,entry:L,index:M}),ee=pe-ve,ie=x.size,Q={x:a.x,y:$,width:a.width,height:ie},Math.abs(se)>0&&Math.abs(ee)<Math.abs(se)){var he=gn(ee||se)*(Math.abs(se)-Math.abs(ee));ee+=he}}return dr(dr(dr({},L),{},{x:F,y:$,width:ee,height:ie,value:h?R:R[1],payload:L,background:Q},T&&T[M]&&T[M].props),{},{tooltipPayload:[DL(r,L)],tooltipPosition:{x:F+ee/2,y:$+ie/2}})});return dr({data:C,layout:k},y)});function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function tie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u6(n.key),n)}}function rie(t,e,r){return e&&lR(t.prototype,e),r&&lR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(r),!0).forEach(function(n){J0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J0(t,e,r){return e=u6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u6(t){var e=nie(t,"string");return gh(e)=="symbol"?e:e+""}function nie(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iie=function(e,r,n,i,a){var l=e.width,u=e.height,d=e.layout,h=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!Gn(h,fa);return p.reduce(function(x,k){var _=r[k],b=_.orientation,A=_.domain,E=_.padding,P=E===void 0?{}:E,O=_.mirror,N=_.reversed,I="".concat(b).concat(O?"Mirror":""),T,C,L,M,R;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var F=A[1]-A[0],$=1/0,ee=_.categoricalDomain.sort(yz);if(ee.forEach(function(ce,ve){ve>0&&($=Math.min((ce||0)-(ee[ve-1]||0),$))}),Number.isFinite($)){var ie=$/F,Q=_.layout==="vertical"?n.height:n.width;if(_.padding==="gap"&&(T=ie*Q/2),_.padding==="no-gap"){var se=vn(e.barCategoryGap,ie*Q),te=ie*Q/2;T=te-se-(te-se)/Q*se}}}i==="xAxis"?C=[n.left+(P.left||0)+(T||0),n.left+n.width-(P.right||0)-(T||0)]:i==="yAxis"?C=d==="horizontal"?[n.top+n.height-(P.bottom||0),n.top+(P.top||0)]:[n.top+(P.top||0)+(T||0),n.top+n.height-(P.bottom||0)-(T||0)]:C=_.range,N&&(C=[C[1],C[0]]);var Z=IL(_,a,y),re=Z.scale,W=Z.realScaleType;re.domain(A).range(C),OL(re);var X=RL(re,Ri(Ri({},_),{},{realScaleType:W}));i==="xAxis"?(R=b==="top"&&!O||b==="bottom"&&O,L=n.left,M=m[I]-R*_.height):i==="yAxis"&&(R=b==="left"&&!O||b==="right"&&O,L=m[I]-R*_.width,M=n.top);var Y=Ri(Ri(Ri({},_),X),{},{realScaleType:W,x:L,y:M,scale:re,width:i==="xAxis"?n.width:_.width,height:i==="yAxis"?n.height:_.height});return Y.bandSize=Nm(Y,X),!_.hide&&i==="xAxis"?m[I]+=(R?-1:1)*Y.height:_.hide||(m[I]+=(R?-1:1)*Y.width),Ri(Ri({},x),{},J0({},k,Y))},{})},d6=function(e,r){var n=e.x,i=e.y,a=r.x,l=r.y;return{x:Math.min(n,a),y:Math.min(i,l),width:Math.abs(a-n),height:Math.abs(l-i)}},aie=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return d6({x:r,y:n},{x:i,y:a})},h6=function(){function t(e){tie(this,t),this.scale=e}return rie(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();J0(h6,"EPS",1e-4);var Uj=function(e){var r=Object.keys(e).reduce(function(n,i){return Ri(Ri({},n),{},J0({},i,h6.create(e[i])))},{});return Ri(Ri({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=a.bandAware,u=a.position;return Ine(i,function(d,h){return r[h].apply(d,{bandAware:l,position:u})})},isInRange:function(i){return s6(i,function(a,l){return r[l].isInRange(a)})}})};function sie(t){return(t%180+180)%180}var oie=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=sie(i),l=a*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Vw,uR;function lie(){if(uR)return Vw;uR=1;var t=ga(),e=Vh(),r=A0();function n(i){return function(a,l,u){var d=Object(a);if(!e(a)){var h=t(l,3);a=r(a),l=function(m){return h(d[m],m,d)}}var p=i(a,l,u);return p>-1?d[h?a[p]:p]:void 0}}return Vw=n,Vw}var Bw,dR;function cie(){if(dR)return Bw;dR=1;var t=r6();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Bw=e,Bw}var Uw,hR;function uie(){if(hR)return Uw;hR=1;var t=f3(),e=ga(),r=cie(),n=Math.max;function i(a,l,u){var d=a==null?0:a.length;if(!d)return-1;var h=u==null?0:r(u);return h<0&&(h=n(d+h,0)),t(a,e(l,3),h)}return Uw=i,Uw}var qw,fR;function die(){if(fR)return qw;fR=1;var t=lie(),e=uie(),r=t(e);return qw=r,qw}var hie=die();const fie=jt(hie);var pie=A4();const mie=jt(pie);var gie=mie(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),qj=z.createContext(void 0),zj=z.createContext(void 0),f6=z.createContext(void 0),p6=z.createContext({}),m6=z.createContext(void 0),g6=z.createContext(0),v6=z.createContext(0),pR=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,l=e.clipPathId,u=e.children,d=e.width,h=e.height,p=gie(a);return K.createElement(qj.Provider,{value:n},K.createElement(zj.Provider,{value:i},K.createElement(p6.Provider,{value:a},K.createElement(f6.Provider,{value:p},K.createElement(m6.Provider,{value:l},K.createElement(g6.Provider,{value:h},K.createElement(v6.Provider,{value:d},u)))))))},vie=function(){return z.useContext(m6)},y6=function(e){var r=z.useContext(qj);r==null&&ul();var n=r[e];return n==null&&ul(),n},yie=function(){var e=z.useContext(qj);return Fs(e)},xie=function(){var e=z.useContext(zj),r=fie(e,function(n){return s6(n.domain,Number.isFinite)});return r||Fs(e)},x6=function(e){var r=z.useContext(zj);r==null&&ul();var n=r[e];return n==null&&ul(),n},bie=function(){var e=z.useContext(f6);return e},wie=function(){return z.useContext(p6)},Wj=function(){return z.useContext(v6)},Hj=function(){return z.useContext(g6)};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function _ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w6(n.key),n)}}function jie(t,e,r){return e&&kie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sie(t,e,r){return e=qm(e),Nie(t,b6()?Reflect.construct(e,r||[],qm(t).constructor):e.apply(t,r))}function Nie(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eie(t)}function Eie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b6=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(t)}function Tie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ek(t,e)}function Ek(t,e){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ek(t,e)}function mR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(r),!0).forEach(function(n){Gj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gj(t,e,r){return e=w6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w6(t){var e=Aie(t,"string");return Gc(e)=="symbol"?e:e+""}function Aie(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pie(t,e){return Rie(t)||Oie(t,e)||Iie(t,e)||Cie()}function Cie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iie(t,e){if(t){if(typeof t=="string")return vR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vR(t,e)}}function vR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Oie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,u=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Rie(t){if(Array.isArray(t))return t}function Tk(){return Tk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tk.apply(this,arguments)}var Mie=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):Ze(e)?n=e(r):n=K.createElement("line",Tk({},r,{className:"recharts-reference-line-line"})),n},Die=function(e,r,n,i,a,l,u,d,h){var p=a.x,m=a.y,y=a.width,x=a.height;if(n){var k=h.y,_=e.y.apply(k,{position:l});if(ua(h,"discard")&&!e.y.isInRange(_))return null;var b=[{x:p+y,y:_},{x:p,y:_}];return d==="left"?b.reverse():b}if(r){var A=h.x,E=e.x.apply(A,{position:l});if(ua(h,"discard")&&!e.x.isInRange(E))return null;var P=[{x:E,y:m+x},{x:E,y:m}];return u==="top"?P.reverse():P}if(i){var O=h.segment,N=O.map(function(I){return e.apply(I,{position:l})});return ua(h,"discard")&&Tne(N,function(I){return!e.isInRange(I)})?null:N}return null};function Lie(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,l=t.shape,u=t.className,d=t.alwaysShow,h=vie(),p=y6(i),m=x6(a),y=bie();if(!h||!y)return null;Li(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=Uj({x:p.scale,y:m.scale}),k=wr(e),_=wr(r),b=n&&n.length===2,A=Die(x,k,_,b,y,t.position,p.orientation,m.orientation,t);if(!A)return null;var E=Pie(A,2),P=E[0],O=P.x,N=P.y,I=E[1],T=I.x,C=I.y,L=ua(t,"hidden")?"url(#".concat(h,")"):void 0,M=gR(gR({clipPath:L},Xe(t,!0)),{},{x1:O,y1:N,x2:T,y2:C});return K.createElement(Nt,{className:it("recharts-reference-line",u)},Mie(l,M),Cr.renderCallByParent(t,aie({x1:O,y1:N,x2:T,y2:C})))}var Kj=function(t){function e(){return _ie(this,e),Sie(this,e,arguments)}return Tie(e,t),jie(e,[{key:"render",value:function(){return K.createElement(Lie,this.props)}}])}(K.Component);Gj(Kj,"displayName","ReferenceLine");Gj(Kj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ak(){return Ak=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ak.apply(this,arguments)}function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){Z0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k6(n.key),n)}}function Vie(t,e,r){return e&&Fie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bie(t,e,r){return e=zm(e),Uie(t,_6()?Reflect.construct(e,r||[],zm(t).constructor):e.apply(t,r))}function Uie(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qie(t)}function qie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_6=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(t)}function zie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pk(t,e)}function Pk(t,e){return Pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pk(t,e)}function Z0(t,e,r){return e=k6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k6(t){var e=Wie(t,"string");return Kc(e)=="symbol"?e:e+""}function Wie(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hie=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,l=Uj({x:i.scale,y:a.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return ua(e,"discard")&&!l.isInRange(u)?null:u},eg=function(t){function e(){return $ie(this,e),Bie(this,e,arguments)}return zie(e,t),Vie(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,h=wr(i),p=wr(a);if(Li(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=Hie(this.props);if(!m)return null;var y=m.x,x=m.y,k=this.props,_=k.shape,b=k.className,A=ua(this.props,"hidden")?"url(#".concat(d,")"):void 0,E=xR(xR({clipPath:A},Xe(this.props,!0)),{},{cx:y,cy:x});return K.createElement(Nt,{className:it("recharts-reference-dot",b)},e.renderDot(_,E),Cr.renderCallByParent(this.props,{x:y-l,y:x-l,width:2*l,height:2*l}))}}])}(K.Component);Z0(eg,"displayName","ReferenceDot");Z0(eg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Z0(eg,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Ze(t)?r=t(e):r=K.createElement(Bj,Ak({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Ck(){return Ck=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ck.apply(this,arguments)}function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){tg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S6(n.key),n)}}function Yie(t,e,r){return e&&Kie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xie(t,e,r){return e=Wm(e),Qie(t,j6()?Reflect.construct(e,r||[],Wm(t).constructor):e.apply(t,r))}function Qie(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jie(t)}function Jie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j6=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wm(t)}function Zie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ik(t,e)}function Ik(t,e){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ik(t,e)}function tg(t,e,r){return e=S6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S6(t){var e=eae(t,"string");return Yc(e)=="symbol"?e:e+""}function eae(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tae=function(e,r,n,i,a){var l=a.x1,u=a.x2,d=a.y1,h=a.y2,p=a.xAxis,m=a.yAxis;if(!p||!m)return null;var y=Uj({x:p.scale,y:m.scale}),x={x:e?y.x.apply(l,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},k={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(h,{position:"end"}):y.y.rangeMax};return ua(a,"discard")&&(!y.isInRange(x)||!y.isInRange(k))?null:d6(x,k)},rg=function(t){function e(){return Gie(this,e),Xie(this,e,arguments)}return Zie(e,t),Yie(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,l=n.y1,u=n.y2,d=n.className,h=n.alwaysShow,p=n.clipPathId;Li(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=wr(i),y=wr(a),x=wr(l),k=wr(u),_=this.props.shape;if(!m&&!y&&!x&&!k&&!_)return null;var b=tae(m,y,x,k,this.props);if(!b&&!_)return null;var A=ua(this.props,"hidden")?"url(#".concat(p,")"):void 0;return K.createElement(Nt,{className:it("recharts-reference-area",d)},e.renderRect(_,wR(wR({clipPath:A},Xe(this.props,!0)),b)),Cr.renderCallByParent(this.props,b))}}])}(K.Component);tg(rg,"displayName","ReferenceArea");tg(rg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tg(rg,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Ze(t)?r=t(e):r=K.createElement(Vj,Ck({},e,{className:"recharts-reference-area-rect"})),r});function N6(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function rae(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return oie(n,r)}function nae(t,e,r){var n=r==="width",i=t.x,a=t.y,l=t.width,u=t.height;return e===1?{start:n?i:a,end:n?i+l:a+u}:{start:n?i+l:a+u,end:n?i:a}}function Hm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function iae(t,e){return N6(t,e+1)}function aae(t,e,r,n,i){for(var a=(n||[]).slice(),l=e.start,u=e.end,d=0,h=1,p=l,m=function(){var k=n?.[d];if(k===void 0)return{v:N6(n,h)};var _=d,b,A=function(){return b===void 0&&(b=r(k,_)),b},E=k.coordinate,P=d===0||Hm(t,E,A,p,u);P||(d=0,p=l,h+=1),P&&(p=E+t*(A()/2+i),d+=h)},y;h<=a.length;)if(y=m(),y)return y.v;return[]}function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){sae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sae(t,e,r){return e=oae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oae(t){var e=lae(t,"string");return vh(e)=="symbol"?e:e+""}function lae(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cae(t,e,r,n,i){for(var a=(n||[]).slice(),l=a.length,u=e.start,d=e.end,h=function(y){var x=a[y],k,_=function(){return k===void 0&&(k=r(x,y)),k};if(y===l-1){var b=t*(x.coordinate+t*_()/2-d);a[y]=x=en(en({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else a[y]=x=en(en({},x),{},{tickCoord:x.coordinate});var A=Hm(t,x.tickCoord,_,u,d);A&&(d=x.tickCoord-t*(_()/2+i),a[y]=en(en({},x),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return a}function uae(t,e,r,n,i,a){var l=(n||[]).slice(),u=l.length,d=e.start,h=e.end;if(a){var p=n[u-1],m=r(p,u-1),y=t*(p.coordinate+t*m/2-h);l[u-1]=p=en(en({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=Hm(t,p.tickCoord,function(){return m},d,h);x&&(h=p.tickCoord-t*(m/2+i),l[u-1]=en(en({},p),{},{isShow:!0}))}for(var k=a?u-1:u,_=function(E){var P=l[E],O,N=function(){return O===void 0&&(O=r(P,E)),O};if(E===0){var I=t*(P.coordinate-t*N()/2-d);l[E]=P=en(en({},P),{},{tickCoord:I<0?P.coordinate-I*t:P.coordinate})}else l[E]=P=en(en({},P),{},{tickCoord:P.coordinate});var T=Hm(t,P.tickCoord,N,d,h);T&&(d=P.tickCoord+t*(N()/2+i),l[E]=en(en({},P),{},{isShow:!0}))},b=0;b<k;b++)_(b);return l}function Yj(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,l=t.minTickGap,u=t.orientation,d=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(Ae(d)||uu.isSsr)return iae(i,typeof d=="number"&&Ae(d)?d:0);var y=[],x=u==="top"||u==="bottom"?"width":"height",k=p&&x==="width"?wd(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},_=function(P,O){var N=Ze(h)?h(P.value,O):P.value;return x==="width"?rae(wd(N,{fontSize:e,letterSpacing:r}),k,m):wd(N,{fontSize:e,letterSpacing:r})[x]},b=i.length>=2?gn(i[1].coordinate-i[0].coordinate):1,A=nae(a,b,x);return d==="equidistantPreserveStart"?aae(b,A,_,i,l):(d==="preserveStart"||d==="preserveStartEnd"?y=uae(b,A,_,i,l,d==="preserveStartEnd"):y=cae(b,A,_,i,l),y.filter(function(E){return E.isShow}))}var dae=["viewBox"],hae=["viewBox"],fae=["ticks"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hc.apply(this,arguments)}function kR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(r),!0).forEach(function(n){Xj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zw(t,e){if(t==null)return{};var r=pae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T6(n.key),n)}}function gae(t,e,r){return e&&jR(t.prototype,e),r&&jR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vae(t,e,r){return e=Gm(e),yae(t,E6()?Reflect.construct(e,r||[],Gm(t).constructor):e.apply(t,r))}function yae(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xae(t)}function xae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E6=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gm(t)}function bae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ok(t,e)}function Ok(t,e){return Ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ok(t,e)}function Xj(t,e,r){return e=T6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T6(t){var e=wae(t,"string");return Xc(e)=="symbol"?e:e+""}function wae(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pu=function(t){function e(r){var n;return mae(this,e),n=vae(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return bae(e,t),gae(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,l=zw(n,dae),u=this.props,d=u.viewBox,h=zw(u,hae);return!bc(a,d)||!bc(l,h)||!bc(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,l=i.y,u=i.width,d=i.height,h=i.orientation,p=i.tickSize,m=i.mirror,y=i.tickMargin,x,k,_,b,A,E,P=m?-1:1,O=n.tickSize||p,N=Ae(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":x=k=n.coordinate,b=l+ +!m*d,_=b-P*O,E=_-P*y,A=N;break;case"left":_=b=n.coordinate,k=a+ +!m*u,x=k-P*O,A=x-P*y,E=N;break;case"right":_=b=n.coordinate,k=a+ +m*u,x=k+P*O,A=x+P*y,E=N;break;default:x=k=n.coordinate,b=l+ +m*d,_=b+P*O,E=_+P*y,A=N;break}return{line:{x1:x,y1:_,x2:k,y2:b},tick:{x:A,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,l;switch(i){case"left":l=a?"start":"end";break;case"right":l=a?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=a?"start":"end";break;default:l=a?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,l=n.width,u=n.height,d=n.orientation,h=n.mirror,p=n.axisLine,m=xr(xr(xr({},Xe(this.props,!1)),Xe(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!h||d==="bottom"&&h);m=xr(xr({},m),{},{x1:i,y1:a+y*u,x2:i+l,y2:a+y*u})}else{var x=+(d==="left"&&!h||d==="right"&&h);m=xr(xr({},m),{},{x1:i+x*l,y1:a,x2:i+x*l,y2:a+u})}return K.createElement("line",hc({},m,{className:it("recharts-cartesian-axis-line",Jn(p,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var l=this,u=this.props,d=u.tickLine,h=u.stroke,p=u.tick,m=u.tickFormatter,y=u.unit,x=Yj(xr(xr({},this.props),{},{ticks:n}),i,a),k=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),b=Xe(this.props,!1),A=Xe(p,!1),E=xr(xr({},b),{},{fill:"none"},Xe(d,!1)),P=x.map(function(O,N){var I=l.getTickLineCoord(O),T=I.line,C=I.tick,L=xr(xr(xr(xr({textAnchor:k,verticalAnchor:_},b),{},{stroke:"none",fill:h},A),C),{},{index:N,payload:O,visibleTicksCount:x.length,tickFormatter:m});return K.createElement(Nt,hc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},ol(l.props,O,N)),d&&K.createElement("line",hc({},E,T,{className:it("recharts-cartesian-axis-tick-line",Jn(d,"className"))})),p&&e.renderTickItem(p,L,"".concat(Ze(m)?m(O.value,N):O.value).concat(y||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,l=i.width,u=i.height,d=i.ticksGenerator,h=i.className,p=i.hide;if(p)return null;var m=this.props,y=m.ticks,x=zw(m,fae),k=y;return Ze(d)&&(k=y&&y.length>0?d(this.props):d(x)),l<=0||u<=0||!k||!k.length?null:K.createElement(Nt,{className:it("recharts-cartesian-axis",h),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(k,this.state.fontSize,this.state.letterSpacing),Cr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var l,u=it(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(n)?l=K.cloneElement(n,xr(xr({},i),{},{className:u})):Ze(n)?l=n(xr(xr({},i),{},{className:u})):l=K.createElement(ll,hc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),l}}])}(z.Component);Xj(pu,"displayName","CartesianAxis");Xj(pu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _ae=["x1","y1","x2","y2","key"],kae=["offset"];function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){jae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jae(t,e,r){return e=Sae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sae(t){var e=Nae(t,"string");return dl(e)=="symbol"?e:e+""}function Nae(t,e){if(dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ko.apply(this,arguments)}function NR(t,e){if(t==null)return{};var r=Eae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tae=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,l=e.width,u=e.height,d=e.ry;return K.createElement("rect",{x:i,y:a,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function A6(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(Ze(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,l=e.y2,u=e.key,d=NR(e,_ae),h=Xe(d,!1);h.offset;var p=NR(h,kae);r=K.createElement("line",Ko({},p,{x1:n,y1:i,x2:a,y2:l,fill:"none",key:u}))}return r}function Aae(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var l=a.map(function(u,d){var h=nn(nn({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return A6(i,h)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Pae(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var l=a.map(function(u,d){var h=nn(nn({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return A6(i,h)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Cae(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,l=t.height,u=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var p=u.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var k=!p[x+1],_=k?i+l-y:p[x+1]-y;if(_<=0)return null;var b=x%e.length;return K.createElement("rect",{key:"react-".concat(x),y,x:n,height:_,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Iae(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,l=t.y,u=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var p=h.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var k=!p[x+1],_=k?a+u-y:p[x+1]-y;if(_<=0)return null;var b=x%n.length;return K.createElement("rect",{key:"react-".concat(x),x:y,y:l,width:_,height:d,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Oae=function(e,r){var n=e.xAxis,i=e.width,a=e.height,l=e.offset;return CL(Yj(nn(nn(nn({},pu.defaultProps),n),{},{ticks:qa(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),l.left,l.left+l.width,r)},Rae=function(e,r){var n=e.yAxis,i=e.width,a=e.height,l=e.offset;return CL(Yj(nn(nn(nn({},pu.defaultProps),n),{},{ticks:qa(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),l.top,l.top+l.height,r)},nc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Qj(t){var e,r,n,i,a,l,u=Wj(),d=Hj(),h=wie(),p=nn(nn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:nc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:nc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:nc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:nc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:nc.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:nc.verticalFill,x:Ae(t.x)?t.x:h.left,y:Ae(t.y)?t.y:h.top,width:Ae(t.width)?t.width:h.width,height:Ae(t.height)?t.height:h.height}),m=p.x,y=p.y,x=p.width,k=p.height,_=p.syncWithTicks,b=p.horizontalValues,A=p.verticalValues,E=yie(),P=xie();if(!Ae(x)||x<=0||!Ae(k)||k<=0||!Ae(m)||m!==+m||!Ae(y)||y!==+y)return null;var O=p.verticalCoordinatesGenerator||Oae,N=p.horizontalCoordinatesGenerator||Rae,I=p.horizontalPoints,T=p.verticalPoints;if((!I||!I.length)&&Ze(N)){var C=b&&b.length,L=N({yAxis:P?nn(nn({},P),{},{ticks:C?b:P.ticks}):void 0,width:u,height:d,offset:h},C?!0:_);Li(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dl(L),"]")),Array.isArray(L)&&(I=L)}if((!T||!T.length)&&Ze(O)){var M=A&&A.length,R=O({xAxis:E?nn(nn({},E),{},{ticks:M?A:E.ticks}):void 0,width:u,height:d,offset:h},M?!0:_);Li(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dl(R),"]")),Array.isArray(R)&&(T=R)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(Tae,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),K.createElement(Aae,Ko({},p,{offset:h,horizontalPoints:I,xAxis:E,yAxis:P})),K.createElement(Pae,Ko({},p,{offset:h,verticalPoints:T,xAxis:E,yAxis:P})),K.createElement(Cae,Ko({},p,{horizontalPoints:I})),K.createElement(Iae,Ko({},p,{verticalPoints:T})))}Qj.displayName="CartesianGrid";function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Mae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I6(n.key),n)}}function Lae(t,e,r){return e&&Dae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ae(t,e,r){return e=Km(e),Fae(t,P6()?Reflect.construct(e,r||[],Km(t).constructor):e.apply(t,r))}function Fae(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vae(t)}function Vae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P6=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(t)}function Bae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rk(t,e)}function Rk(t,e){return Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rk(t,e)}function C6(t,e,r){return e=I6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I6(t){var e=Uae(t,"string");return Qc(e)=="symbol"?e:e+""}function Uae(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mk(){return Mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mk.apply(this,arguments)}function qae(t){var e=t.xAxisId,r=Wj(),n=Hj(),i=y6(e);return i==null?null:z.createElement(pu,Mk({},i,{className:it("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return qa(l,!0)}}))}var Wh=function(t){function e(){return Mae(this,e),$ae(this,e,arguments)}return Bae(e,t),Lae(e,[{key:"render",value:function(){return z.createElement(qae,this.props)}}])}(z.Component);C6(Wh,"displayName","XAxis");C6(Wh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function zae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M6(n.key),n)}}function Hae(t,e,r){return e&&Wae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gae(t,e,r){return e=Ym(e),Kae(t,O6()?Reflect.construct(e,r||[],Ym(t).constructor):e.apply(t,r))}function Kae(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yae(t)}function Yae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O6=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(t)}function Xae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dk(t,e)}function Dk(t,e){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dk(t,e)}function R6(t,e,r){return e=M6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M6(t){var e=Qae(t,"string");return Jc(e)=="symbol"?e:e+""}function Qae(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lk(){return Lk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lk.apply(this,arguments)}var Jae=function(e){var r=e.yAxisId,n=Wj(),i=Hj(),a=x6(r);return a==null?null:z.createElement(pu,Lk({},a,{className:it("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return qa(u,!0)}}))},Hh=function(t){function e(){return zae(this,e),Gae(this,e,arguments)}return Xae(e,t),Hae(e,[{key:"render",value:function(){return z.createElement(Jae,this.props)}}])}(z.Component);R6(Hh,"displayName","YAxis");R6(Hh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ER(t){return rse(t)||tse(t)||ese(t)||Zae()}function Zae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ese(t,e){if(t){if(typeof t=="string")return $k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $k(t,e)}}function tse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rse(t){if(Array.isArray(t))return $k(t)}function $k(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Fk=function(e,r,n,i,a){var l=gi(e,Kj),u=gi(e,eg),d=[].concat(ER(l),ER(u)),h=gi(e,rg),p="".concat(i,"Id"),m=i[0],y=r;if(d.length&&(y=d.reduce(function(_,b){if(b.props[p]===n&&ua(b.props,"extendDomain")&&Ae(b.props[m])){var A=b.props[m];return[Math.min(_[0],A),Math.max(_[1],A)]}return _},y)),h.length){var x="".concat(m,"1"),k="".concat(m,"2");y=h.reduce(function(_,b){if(b.props[p]===n&&ua(b.props,"extendDomain")&&Ae(b.props[x])&&Ae(b.props[k])){var A=b.props[x],E=b.props[k];return[Math.min(_[0],A,E),Math.max(_[1],A,E)]}return _},y)}return a&&a.length&&(y=a.reduce(function(_,b){return Ae(b)?[Math.min(_[0],b),Math.max(_[1],b)]:_},y)),y},Ww={exports:{}},TR;function nse(){return TR||(TR=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function a(d,h,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,m||d,y),k=r?r+h:h;return d._events[k]?d._events[k].fn?d._events[k]=[d._events[k],x]:d._events[k].push(x):(d._events[k]=x,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,x=m.length,k=new Array(x);y<x;y++)k[y]=m[y].fn;return k},u.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(h,p,m,y,x,k){var _=r?r+h:h;if(!this._events[_])return!1;var b=this._events[_],A=arguments.length,E,P;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),A){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,y),!0;case 5:return b.fn.call(b.context,p,m,y,x),!0;case 6:return b.fn.call(b.context,p,m,y,x,k),!0}for(P=1,E=new Array(A-1);P<A;P++)E[P-1]=arguments[P];b.fn.apply(b.context,E)}else{var O=b.length,N;for(P=0;P<O;P++)switch(b[P].once&&this.removeListener(h,b[P].fn,void 0,!0),A){case 1:b[P].fn.call(b[P].context);break;case 2:b[P].fn.call(b[P].context,p);break;case 3:b[P].fn.call(b[P].context,p,m);break;case 4:b[P].fn.call(b[P].context,p,m,y);break;default:if(!E)for(N=1,E=new Array(A-1);N<A;N++)E[N-1]=arguments[N];b[P].fn.apply(b[P].context,E)}}return!0},u.prototype.on=function(h,p,m){return a(this,h,p,m,!1)},u.prototype.once=function(h,p,m){return a(this,h,p,m,!0)},u.prototype.removeListener=function(h,p,m,y){var x=r?r+h:h;if(!this._events[x])return this;if(!p)return l(this,x),this;var k=this._events[x];if(k.fn)k.fn===p&&(!y||k.once)&&(!m||k.context===m)&&l(this,x);else{for(var _=0,b=[],A=k.length;_<A;_++)(k[_].fn!==p||y&&!k[_].once||m&&k[_].context!==m)&&b.push(k[_]);b.length?this._events[x]=b.length===1?b[0]:b:l(this,x)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}(Ww)),Ww.exports}var ise=nse();const ase=jt(ise);var Hw=new ase,Gw="recharts.syncMouseEvents";function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function sse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ose(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D6(n.key),n)}}function lse(t,e,r){return e&&ose(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kw(t,e,r){return e=D6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D6(t){var e=cse(t,"string");return yh(e)=="symbol"?e:e+""}function cse(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var use=function(){function t(){sse(this,t),Kw(this,"activeIndex",0),Kw(this,"coordinateList",[]),Kw(this,"layout","horizontal")}return lse(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,l=r.container,u=l===void 0?null:l,d=r.layout,h=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,l=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+d+h,y=l+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function dse(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&Ae(n)&&Ae(i))return!0}return!1}function hse(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function L6(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,l=Dt(e,r,n,i),u=Dt(e,r,n,a);return{points:[l,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function fse(t,e,r){var n,i,a,l;if(t==="horizontal")n=e.x,a=n,i=r.top,l=r.top+r.height;else if(t==="vertical")i=e.y,l=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,y=Dt(u,d,h,m),x=Dt(u,d,p,m);n=y.x,i=y.y,a=x.x,l=x.y}else return L6(e);return[{x:n,y:i},{x:a,y:l}]}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function AR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(r),!0).forEach(function(n){pse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pse(t,e,r){return e=mse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mse(t){var e=gse(t,"string");return xh(e)=="symbol"?e:e+""}function gse(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vse(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,l=t.activeCoordinate,u=t.activePayload,d=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!l||y!=="ScatterChart"&&i!=="axis")return null;var k,_=lk;if(y==="ScatterChart")k=l,_=Jte;else if(y==="BarChart")k=hse(m,l,d,p),_=Vj;else if(m==="radial"){var b=L6(l),A=b.cx,E=b.cy,P=b.radius,O=b.startAngle,N=b.endAngle;k={cx:A,cy:E,startAngle:O,endAngle:N,innerRadius:P,outerRadius:P},_=Fj}else k={points:fse(m,l,d)},_=lk;var I=Sp(Sp(Sp(Sp({stroke:"#ccc",pointerEvents:"none"},d),k),Xe(x,!1)),{},{payload:u,payloadIndex:h,className:it("recharts-tooltip-cursor",x.className)});return z.isValidElement(x)?z.cloneElement(x,I):z.createElement(_,I)}var yse=["item"],xse=["children","className","width","height","style","compact","title","desc"];function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fc.apply(this,arguments)}function PR(t,e){return _se(t)||wse(t,e)||F6(t,e)||bse()}function bse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,u=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function _se(t){if(Array.isArray(t))return t}function CR(t,e){if(t==null)return{};var r=kse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V6(n.key),n)}}function Nse(t,e,r){return e&&Sse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ese(t,e,r){return e=Xm(e),Tse(t,$6()?Reflect.construct(e,r||[],Xm(t).constructor):e.apply(t,r))}function Tse(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ase(t)}function Ase(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($6=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(t)}function Pse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vk(t,e)}function Vk(t,e){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vk(t,e)}function eu(t){return Ose(t)||Ise(t)||F6(t)||Cse()}function Cse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F6(t,e){if(t){if(typeof t=="string")return Bk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(t,e)}}function Ise(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ose(t){if(Array.isArray(t))return Bk(t)}function Bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){Ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ke(t,e,r){return e=V6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V6(t){var e=Rse(t,"string");return Zc(e)=="symbol"?e:e+""}function Rse(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mse={xAxis:["bottom","top"],yAxis:["left","right"]},Dse={width:"100%",height:"100%"},B6={x:0,y:0};function Np(t){return t}var Lse=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},$se=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var l=a.coordinate,u=i.radius;return ye(ye(ye({},i),Dt(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var d=a.coordinate,h=i.angle;return ye(ye(ye({},i),Dt(i.cx,i.cy,d,h)),{},{angle:h,radius:d})}return B6},ng=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var h=d.props.data;return h&&h.length?[].concat(eu(u),eu(h)):u},[]);return l.length>0?l:e&&e.length&&Ae(i)&&Ae(a)?e.slice(i,a+1):[]};function U6(t){return t==="number"?[0,"auto"]:void 0}var Uk=function(e,r,n,i){var a=e.graphicalItems,l=e.tooltipAxis,u=ng(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(d,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(l.dataKey&&!l.allowDuplicatedCategory){var x=m===void 0?u:m;y=k_(x,l.dataKey,i)}else y=m&&m[n]||u[n];return y?[].concat(eu(d),[DL(h,y)]):d},[])},OR=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},l=Lse(a,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,p=kJ(l,u,h,d);if(p>=0&&h){var m=h[p]&&h[p].value,y=Uk(e,r,p,m),x=$se(n,u,p,a);return{activeTooltipIndex:p,activeLabel:m,activePayload:y,activeCoordinate:x}}return null},Fse=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,y=e.stackOffset,x=PL(p,a);return n.reduce(function(k,_){var b,A=_.type.defaultProps!==void 0?ye(ye({},_.type.defaultProps),_.props):_.props,E=A.type,P=A.dataKey,O=A.allowDataOverflow,N=A.allowDuplicatedCategory,I=A.scale,T=A.ticks,C=A.includeHidden,L=A[l];if(k[L])return k;var M=ng(e.data,{graphicalItems:i.filter(function(X){var Y,ce=l in X.props?X.props[l]:(Y=X.type.defaultProps)===null||Y===void 0?void 0:Y[l];return ce===L}),dataStartIndex:d,dataEndIndex:h}),R=M.length,F,$,ee;dse(A.domain,O,E)&&(F=nk(A.domain,null,O),x&&(E==="number"||I!=="auto")&&(ee=kd(M,P,"category")));var ie=U6(E);if(!F||F.length===0){var Q,se=(Q=A.domain)!==null&&Q!==void 0?Q:ie;if(P){if(F=kd(M,P,E),E==="category"&&x){var te=vz(F);N&&te?($=F,F=$m(0,R)):N||(F=MI(se,F,_).reduce(function(X,Y){return X.indexOf(Y)>=0?X:[].concat(eu(X),[Y])},[]))}else if(E==="category")N?F=F.filter(function(X){return X!==""&&!st(X)}):F=MI(se,F,_).reduce(function(X,Y){return X.indexOf(Y)>=0||Y===""||st(Y)?X:[].concat(eu(X),[Y])},[]);else if(E==="number"){var Z=TJ(M,i.filter(function(X){var Y,ce,ve=l in X.props?X.props[l]:(Y=X.type.defaultProps)===null||Y===void 0?void 0:Y[l],pe="hide"in X.props?X.props.hide:(ce=X.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return ve===L&&(C||!pe)}),P,a,p);Z&&(F=Z)}x&&(E==="number"||I!=="auto")&&(ee=kd(M,P,"category"))}else x?F=$m(0,R):u&&u[L]&&u[L].hasStack&&E==="number"?F=y==="expand"?[0,1]:ML(u[L].stackGroups,d,h):F=AL(M,i.filter(function(X){var Y=l in X.props?X.props[l]:X.type.defaultProps[l],ce="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return Y===L&&(C||!ce)}),E,p,!0);if(E==="number")F=Fk(m,F,L,a,T),se&&(F=nk(se,F,O));else if(E==="category"&&se){var re=se,W=F.every(function(X){return re.indexOf(X)>=0});W&&(F=re)}}return ye(ye({},k),{},Ke({},L,ye(ye({},A),{},{axisType:a,domain:F,categoricalDomain:ee,duplicateDomain:$,originalDomain:(b=A.domain)!==null&&b!==void 0?b:ie,isCategorical:x,layout:p})))},{})},Vse=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,y=ng(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),x=y.length,k=PL(p,a),_=-1;return n.reduce(function(b,A){var E=A.type.defaultProps!==void 0?ye(ye({},A.type.defaultProps),A.props):A.props,P=E[l],O=U6("number");if(!b[P]){_++;var N;return k?N=$m(0,x):u&&u[P]&&u[P].hasStack?(N=ML(u[P].stackGroups,d,h),N=Fk(m,N,P,a)):(N=nk(O,AL(y,n.filter(function(I){var T,C,L=l in I.props?I.props[l]:(T=I.type.defaultProps)===null||T===void 0?void 0:T[l],M="hide"in I.props?I.props.hide:(C=I.type.defaultProps)===null||C===void 0?void 0:C.hide;return L===P&&!M}),"number",p),i.defaultProps.allowDataOverflow),N=Fk(m,N,P,a)),ye(ye({},b),{},Ke({},P,ye(ye({axisType:a},i.defaultProps),{},{hide:!0,orientation:Jn(Mse,"".concat(a,".").concat(_%2),null),domain:N,originalDomain:O,isCategorical:k,layout:p})))}return b},{})},Bse=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.children,m="".concat(i,"Id"),y=gi(p,a),x={};return y&&y.length?x=Fse(e,{axes:y,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(x=Vse(e,{Axis:a,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:h})),x},Use=function(e){var r=Fs(e),n=qa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:dj(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Nm(r,n)}},RR=function(e){var r=e.children,n=e.defaultShowTooltip,i=Gn(r,Wc),a=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},qse=function(e){return!e||!e.length?!1:e.some(function(r){var n=Wa(r&&r.type);return n&&n.indexOf("Bar")>=0})},MR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zse=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,l=a===void 0?{}:a,u=e.yAxisMap,d=u===void 0?{}:u,h=n.width,p=n.height,m=n.children,y=n.margin||{},x=Gn(m,Wc),k=Gn(m,Hs),_=Object.keys(d).reduce(function(N,I){var T=d[I],C=T.orientation;return!T.mirror&&!T.hide?ye(ye({},N),{},Ke({},C,N[C]+T.width)):N},{left:y.left||0,right:y.right||0}),b=Object.keys(l).reduce(function(N,I){var T=l[I],C=T.orientation;return!T.mirror&&!T.hide?ye(ye({},N),{},Ke({},C,Jn(N,"".concat(C))+T.height)):N},{top:y.top||0,bottom:y.bottom||0}),A=ye(ye({},b),_),E=A.bottom;x&&(A.bottom+=x.props.height||Wc.defaultProps.height),k&&r&&(A=NJ(A,i,n,r));var P=h-A.left-A.right,O=p-A.top-A.bottom;return ye(ye({brushBottom:E},A),{},{width:Math.max(P,0),height:Math.max(O,0)})},Wse=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},q6=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,l=e.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,y=function(A,E){var P=E.graphicalItems,O=E.stackGroups,N=E.offset,I=E.updateId,T=E.dataStartIndex,C=E.dataEndIndex,L=A.barSize,M=A.layout,R=A.barGap,F=A.barCategoryGap,$=A.maxBarSize,ee=MR(M),ie=ee.numericAxisName,Q=ee.cateAxisName,se=qse(P),te=[];return P.forEach(function(Z,re){var W=ng(A.data,{graphicalItems:[Z],dataStartIndex:T,dataEndIndex:C}),X=Z.type.defaultProps!==void 0?ye(ye({},Z.type.defaultProps),Z.props):Z.props,Y=X.dataKey,ce=X.maxBarSize,ve=X["".concat(ie,"Id")],pe=X["".concat(Q,"Id")],he={},be=d.reduce(function(qt,Or){var ln=E["".concat(Or.axisType,"Map")],Bi=X["".concat(Or.axisType,"Id")];ln&&ln[Bi]||Or.axisType==="zAxis"||ul();var va=ln[Bi];return ye(ye({},qt),{},Ke(Ke({},Or.axisType,va),"".concat(Or.axisType,"Ticks"),qa(va)))},he),q=be[Q],me=be["".concat(Q,"Ticks")],xe=O&&O[ve]&&O[ve].hasStack&&LJ(Z,O[ve].stackGroups),U=Wa(Z.type).indexOf("Bar")>=0,de=Nm(q,me),_e=[],Oe=se&&jJ({barSize:L,stackGroups:O,totalSize:Wse(be,Q)});if(U){var ze,Zt,mr=st(ce)?$:ce,on=(ze=(Zt=Nm(q,me,!0))!==null&&Zt!==void 0?Zt:mr)!==null&&ze!==void 0?ze:0;_e=SJ({barGap:R,barCategoryGap:F,bandSize:on!==de?on:de,sizeList:Oe[pe],maxBarSize:mr}),on!==de&&(_e=_e.map(function(qt){return ye(ye({},qt),{},{position:ye(ye({},qt.position),{},{offset:qt.position.offset-on/2})})}))}var Ut=Z&&Z.type&&Z.type.getComposedData;Ut&&te.push({props:ye(ye({},Ut(ye(ye({},be),{},{displayedData:W,props:A,dataKey:Y,item:Z,bandSize:de,barPosition:_e,offset:N,stackedData:xe,layout:M,dataStartIndex:T,dataEndIndex:C}))),{},Ke(Ke(Ke({key:Z.key||"item-".concat(re)},ie,be[ie]),Q,be[Q]),"animationId",I)),childIndex:Az(Z,A.children),item:Z})}),te},x=function(A,E){var P=A.props,O=A.dataStartIndex,N=A.dataEndIndex,I=A.updateId;if(!XA({props:P}))return null;var T=P.children,C=P.layout,L=P.stackOffset,M=P.data,R=P.reverseStackOrder,F=MR(C),$=F.numericAxisName,ee=F.cateAxisName,ie=gi(T,n),Q=MJ(M,ie,"".concat($,"Id"),"".concat(ee,"Id"),L,R),se=d.reduce(function(X,Y){var ce="".concat(Y.axisType,"Map");return ye(ye({},X),{},Ke({},ce,Bse(P,ye(ye({},Y),{},{graphicalItems:ie,stackGroups:Y.axisType===$&&Q,dataStartIndex:O,dataEndIndex:N}))))},{}),te=zse(ye(ye({},se),{},{props:P,graphicalItems:ie}),E?.legendBBox);Object.keys(se).forEach(function(X){se[X]=p(P,se[X],te,X.replace("Map",""),r)});var Z=se["".concat(ee,"Map")],re=Use(Z),W=y(P,ye(ye({},se),{},{dataStartIndex:O,dataEndIndex:N,updateId:I,graphicalItems:ie,stackGroups:Q,offset:te}));return ye(ye({formattedGraphicalItems:W,graphicalItems:ie,offset:te,stackGroups:Q},re),se)},k=function(b){function A(E){var P,O,N;return jse(this,A),N=Ese(this,A,[E]),Ke(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ke(N,"accessibilityManager",new use),Ke(N,"handleLegendBBoxUpdate",function(I){if(I){var T=N.state,C=T.dataStartIndex,L=T.dataEndIndex,M=T.updateId;N.setState(ye({legendBBox:I},x({props:N.props,dataStartIndex:C,dataEndIndex:L,updateId:M},ye(ye({},N.state),{},{legendBBox:I}))))}}),Ke(N,"handleReceiveSyncEvent",function(I,T,C){if(N.props.syncId===I){if(C===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(T)}}),Ke(N,"handleBrushChange",function(I){var T=I.startIndex,C=I.endIndex;if(T!==N.state.dataStartIndex||C!==N.state.dataEndIndex){var L=N.state.updateId;N.setState(function(){return ye({dataStartIndex:T,dataEndIndex:C},x({props:N.props,dataStartIndex:T,dataEndIndex:C,updateId:L},N.state))}),N.triggerSyncEvent({dataStartIndex:T,dataEndIndex:C})}}),Ke(N,"handleMouseEnter",function(I){var T=N.getMouseInfo(I);if(T){var C=ye(ye({},T),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var L=N.props.onMouseEnter;Ze(L)&&L(C,I)}}),Ke(N,"triggeredAfterMouseMove",function(I){var T=N.getMouseInfo(I),C=T?ye(ye({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var L=N.props.onMouseMove;Ze(L)&&L(C,I)}),Ke(N,"handleItemMouseEnter",function(I){N.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),Ke(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ke(N,"handleMouseMove",function(I){I.persist(),N.throttleTriggeredAfterMouseMove(I)}),Ke(N,"handleMouseLeave",function(I){N.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T);var C=N.props.onMouseLeave;Ze(C)&&C(T,I)}),Ke(N,"handleOuterEvent",function(I){var T=Tz(I),C=Jn(N.props,"".concat(T));if(T&&Ze(C)){var L,M;/.*touch.*/i.test(T)?M=N.getMouseInfo(I.changedTouches[0]):M=N.getMouseInfo(I),C((L=M)!==null&&L!==void 0?L:{},I)}}),Ke(N,"handleClick",function(I){var T=N.getMouseInfo(I);if(T){var C=ye(ye({},T),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var L=N.props.onClick;Ze(L)&&L(C,I)}}),Ke(N,"handleMouseDown",function(I){var T=N.props.onMouseDown;if(Ze(T)){var C=N.getMouseInfo(I);T(C,I)}}),Ke(N,"handleMouseUp",function(I){var T=N.props.onMouseUp;if(Ze(T)){var C=N.getMouseInfo(I);T(C,I)}}),Ke(N,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),Ke(N,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.handleMouseDown(I.changedTouches[0])}),Ke(N,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.handleMouseUp(I.changedTouches[0])}),Ke(N,"handleDoubleClick",function(I){var T=N.props.onDoubleClick;if(Ze(T)){var C=N.getMouseInfo(I);T(C,I)}}),Ke(N,"handleContextMenu",function(I){var T=N.props.onContextMenu;if(Ze(T)){var C=N.getMouseInfo(I);T(C,I)}}),Ke(N,"triggerSyncEvent",function(I){N.props.syncId!==void 0&&Hw.emit(Gw,N.props.syncId,I,N.eventEmitterSymbol)}),Ke(N,"applySyncEvent",function(I){var T=N.props,C=T.layout,L=T.syncMethod,M=N.state.updateId,R=I.dataStartIndex,F=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)N.setState(ye({dataStartIndex:R,dataEndIndex:F},x({props:N.props,dataStartIndex:R,dataEndIndex:F,updateId:M},N.state)));else if(I.activeTooltipIndex!==void 0){var $=I.chartX,ee=I.chartY,ie=I.activeTooltipIndex,Q=N.state,se=Q.offset,te=Q.tooltipTicks;if(!se)return;if(typeof L=="function")ie=L(te,I);else if(L==="value"){ie=-1;for(var Z=0;Z<te.length;Z++)if(te[Z].value===I.activeLabel){ie=Z;break}}var re=ye(ye({},se),{},{x:se.left,y:se.top}),W=Math.min($,re.x+re.width),X=Math.min(ee,re.y+re.height),Y=te[ie]&&te[ie].value,ce=Uk(N.state,N.props.data,ie),ve=te[ie]?{x:C==="horizontal"?te[ie].coordinate:W,y:C==="horizontal"?X:te[ie].coordinate}:B6;N.setState(ye(ye({},I),{},{activeLabel:Y,activeCoordinate:ve,activePayload:ce,activeTooltipIndex:ie}))}else N.setState(I)}),Ke(N,"renderCursor",function(I){var T,C=N.state,L=C.isTooltipActive,M=C.activeCoordinate,R=C.activePayload,F=C.offset,$=C.activeTooltipIndex,ee=C.tooltipAxisBandSize,ie=N.getTooltipEventType(),Q=(T=I.props.active)!==null&&T!==void 0?T:L,se=N.props.layout,te=I.key||"_recharts-cursor";return K.createElement(vse,{key:te,activeCoordinate:M,activePayload:R,activeTooltipIndex:$,chartName:r,element:I,isActive:Q,layout:se,offset:F,tooltipAxisBandSize:ee,tooltipEventType:ie})}),Ke(N,"renderPolarAxis",function(I,T,C){var L=Jn(I,"type.axisType"),M=Jn(N.state,"".concat(L,"Map")),R=I.type.defaultProps,F=R!==void 0?ye(ye({},R),I.props):I.props,$=M&&M[F["".concat(L,"Id")]];return z.cloneElement(I,ye(ye({},$),{},{className:it(L,$.className),key:I.key||"".concat(T,"-").concat(C),ticks:qa($,!0)}))}),Ke(N,"renderPolarGrid",function(I){var T=I.props,C=T.radialLines,L=T.polarAngles,M=T.polarRadius,R=N.state,F=R.radiusAxisMap,$=R.angleAxisMap,ee=Fs(F),ie=Fs($),Q=ie.cx,se=ie.cy,te=ie.innerRadius,Z=ie.outerRadius;return z.cloneElement(I,{polarAngles:Array.isArray(L)?L:qa(ie,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(M)?M:qa(ee,!0).map(function(re){return re.coordinate}),cx:Q,cy:se,innerRadius:te,outerRadius:Z,key:I.key||"polar-grid",radialLines:C})}),Ke(N,"renderLegend",function(){var I=N.state.formattedGraphicalItems,T=N.props,C=T.children,L=T.width,M=T.height,R=N.props.margin||{},F=L-(R.left||0)-(R.right||0),$=EL({children:C,formattedGraphicalItems:I,legendWidth:F,legendContent:h});if(!$)return null;var ee=$.item,ie=CR($,yse);return z.cloneElement(ee,ye(ye({},ie),{},{chartWidth:L,chartHeight:M,margin:R,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ke(N,"renderTooltip",function(){var I,T=N.props,C=T.children,L=T.accessibilityLayer,M=Gn(C,fi);if(!M)return null;var R=N.state,F=R.isTooltipActive,$=R.activeCoordinate,ee=R.activePayload,ie=R.activeLabel,Q=R.offset,se=(I=M.props.active)!==null&&I!==void 0?I:F;return z.cloneElement(M,{viewBox:ye(ye({},Q),{},{x:Q.left,y:Q.top}),active:se,label:ie,payload:se?ee:[],coordinate:$,accessibilityLayer:L})}),Ke(N,"renderBrush",function(I){var T=N.props,C=T.margin,L=T.data,M=N.state,R=M.offset,F=M.dataStartIndex,$=M.dataEndIndex,ee=M.updateId;return z.cloneElement(I,{key:I.key||"_recharts-brush",onChange:wp(N.handleBrushChange,I.props.onChange),data:L,x:Ae(I.props.x)?I.props.x:R.left,y:Ae(I.props.y)?I.props.y:R.top+R.height+R.brushBottom-(C.bottom||0),width:Ae(I.props.width)?I.props.width:R.width,startIndex:F,endIndex:$,updateId:"brush-".concat(ee)})}),Ke(N,"renderReferenceElement",function(I,T,C){if(!I)return null;var L=N,M=L.clipPathId,R=N.state,F=R.xAxisMap,$=R.yAxisMap,ee=R.offset,ie=I.type.defaultProps||{},Q=I.props,se=Q.xAxisId,te=se===void 0?ie.xAxisId:se,Z=Q.yAxisId,re=Z===void 0?ie.yAxisId:Z;return z.cloneElement(I,{key:I.key||"".concat(T,"-").concat(C),xAxis:F[te],yAxis:$[re],viewBox:{x:ee.left,y:ee.top,width:ee.width,height:ee.height},clipPathId:M})}),Ke(N,"renderActivePoints",function(I){var T=I.item,C=I.activePoint,L=I.basePoint,M=I.childIndex,R=I.isRange,F=[],$=T.props.key,ee=T.item.type.defaultProps!==void 0?ye(ye({},T.item.type.defaultProps),T.item.props):T.item.props,ie=ee.activeDot,Q=ee.dataKey,se=ye(ye({index:M,dataKey:Q,cx:C.x,cy:C.y,r:4,fill:$j(T.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Xe(ie,!1)),rm(ie));return F.push(A.renderActiveDot(ie,se,"".concat($,"-activePoint-").concat(M))),L?F.push(A.renderActiveDot(ie,ye(ye({},se),{},{cx:L.x,cy:L.y}),"".concat($,"-basePoint-").concat(M))):R&&F.push(null),F}),Ke(N,"renderGraphicChild",function(I,T,C){var L=N.filterFormatItem(I,T,C);if(!L)return null;var M=N.getTooltipEventType(),R=N.state,F=R.isTooltipActive,$=R.tooltipAxis,ee=R.activeTooltipIndex,ie=R.activeLabel,Q=N.props.children,se=Gn(Q,fi),te=L.props,Z=te.points,re=te.isRange,W=te.baseLine,X=L.item.type.defaultProps!==void 0?ye(ye({},L.item.type.defaultProps),L.item.props):L.item.props,Y=X.activeDot,ce=X.hide,ve=X.activeBar,pe=X.activeShape,he=!!(!ce&&F&&se&&(Y||ve||pe)),be={};M!=="axis"&&se&&se.props.trigger==="click"?be={onClick:wp(N.handleItemMouseEnter,I.props.onClick)}:M!=="axis"&&(be={onMouseLeave:wp(N.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:wp(N.handleItemMouseEnter,I.props.onMouseEnter)});var q=z.cloneElement(I,ye(ye({},L.props),be));function me(Or){return typeof $.dataKey=="function"?$.dataKey(Or.payload):null}if(he)if(ee>=0){var xe,U;if($.dataKey&&!$.allowDuplicatedCategory){var de=typeof $.dataKey=="function"?me:"payload.".concat($.dataKey.toString());xe=k_(Z,de,ie),U=re&&W&&k_(W,de,ie)}else xe=Z?.[ee],U=re&&W&&W[ee];if(pe||ve){var _e=I.props.activeIndex!==void 0?I.props.activeIndex:ee;return[z.cloneElement(I,ye(ye(ye({},L.props),be),{},{activeIndex:_e})),null,null]}if(!st(xe))return[q].concat(eu(N.renderActivePoints({item:L,activePoint:xe,basePoint:U,childIndex:ee,isRange:re})))}else{var Oe,ze=(Oe=N.getItemByXY(N.state.activeCoordinate))!==null&&Oe!==void 0?Oe:{graphicalItem:q},Zt=ze.graphicalItem,mr=Zt.item,on=mr===void 0?I:mr,Ut=Zt.childIndex,qt=ye(ye(ye({},L.props),be),{},{activeIndex:Ut});return[z.cloneElement(on,qt),null,null]}return re?[q,null,null]:[q,null]}),Ke(N,"renderCustomized",function(I,T,C){return z.cloneElement(I,ye(ye({key:"recharts-customized-".concat(C)},N.props),N.state))}),Ke(N,"renderMap",{CartesianGrid:{handler:Np,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Np},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Np},YAxis:{handler:Np},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((P=E.id)!==null&&P!==void 0?P:Fh("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=N3(N.triggeredAfterMouseMove,(O=E.throttleDelay)!==null&&O!==void 0?O:1e3/60),N.state={},N}return Pse(A,b),Nse(A,[{key:"componentDidMount",value:function(){var P,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,O=P.children,N=P.data,I=P.height,T=P.layout,C=Gn(O,fi);if(C){var L=C.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,R=Uk(this.state,N,L,M),F=this.state.tooltipTicks[L].coordinate,$=(this.state.offset.top+I)/2,ee=T==="horizontal",ie=ee?{x:F,y:$}:{y:F,x:$},Q=this.state.formattedGraphicalItems.find(function(te){var Z=te.item;return Z.type.name==="Scatter"});Q&&(ie=ye(ye({},ie),Q.props.points[L].tooltipPosition),R=Q.props.points[L].tooltipPayload);var se={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:M,activePayload:R,activeCoordinate:ie};this.setState(se),this.renderCursor(C),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var N,I;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(P){S_([Gn(P.children,fi)],[Gn(this.props.children,fi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=Gn(this.props.children,fi);if(P&&typeof P.props.shared=="boolean"){var O=P.props.shared?"axis":"item";return u.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var O=this.container,N=O.getBoundingClientRect(),I=mK(N),T={chartX:Math.round(P.pageX-I.left),chartY:Math.round(P.pageY-I.top)},C=N.width/O.offsetWidth||1,L=this.inRange(T.chartX,T.chartY,C);if(!L)return null;var M=this.state,R=M.xAxisMap,F=M.yAxisMap,$=this.getTooltipEventType(),ee=OR(this.state,this.props.data,this.props.layout,L);if($!=="axis"&&R&&F){var ie=Fs(R).scale,Q=Fs(F).scale,se=ie&&ie.invert?ie.invert(T.chartX):null,te=Q&&Q.invert?Q.invert(T.chartY):null;return ye(ye({},T),{},{xValue:se,yValue:te},ee)}return ee?ye(ye({},T),ee):null}},{key:"inRange",value:function(P,O){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,T=P/N,C=O/N;if(I==="horizontal"||I==="vertical"){var L=this.state.offset,M=T>=L.left&&T<=L.left+L.width&&C>=L.top&&C<=L.top+L.height;return M?{x:T,y:C}:null}var R=this.state,F=R.angleAxisMap,$=R.radiusAxisMap;if(F&&$){var ee=Fs(F);return $I({x:T,y:C},ee)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,O=this.getTooltipEventType(),N=Gn(P,fi),I={};N&&O==="axis"&&(N.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=rm(this.props,this.handleOuterEvent);return ye(ye({},T),I)}},{key:"addListener",value:function(){Hw.on(Gw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Hw.removeListener(Gw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,O,N){for(var I=this.state.formattedGraphicalItems,T=0,C=I.length;T<C;T++){var L=I[T];if(L.item===P||L.props.key===P.key||O===Wa(L.item.type)&&N===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,O=this.state.offset,N=O.left,I=O.top,T=O.height,C=O.width;return K.createElement("defs",null,K.createElement("clipPath",{id:P},K.createElement("rect",{x:N,y:I,height:T,width:C})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(O,N){var I=PR(N,2),T=I[0],C=I[1];return ye(ye({},O),{},Ke({},T,C.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(O,N){var I=PR(N,2),T=I[0],C=I[1];return ye(ye({},O),{},Ke({},T,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[P])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(P){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[P])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(P){var O=this.state,N=O.formattedGraphicalItems,I=O.activeItem;if(N&&N.length)for(var T=0,C=N.length;T<C;T++){var L=N[T],M=L.props,R=L.item,F=R.type.defaultProps!==void 0?ye(ye({},R.type.defaultProps),R.props):R.props,$=Wa(R.type);if($==="Bar"){var ee=(M.data||[]).find(function(te){return Ite(P,te)});if(ee)return{graphicalItem:L,payload:ee}}else if($==="RadialBar"){var ie=(M.data||[]).find(function(te){return $I(P,te)});if(ie)return{graphicalItem:L,payload:ie}}else if(X0(L,I)||Q0(L,I)||fh(L,I)){var Q=tne({graphicalItem:L,activeTooltipItem:I,itemData:F.data}),se=F.activeIndex===void 0?Q:F.activeIndex;return{graphicalItem:ye(ye({},L),{},{childIndex:se}),payload:fh(L,I)?F.data[Q]:L.props.data[Q]}}}return null}},{key:"render",value:function(){var P=this;if(!XA(this))return null;var O=this.props,N=O.children,I=O.className,T=O.width,C=O.height,L=O.style,M=O.compact,R=O.title,F=O.desc,$=CR(O,xse),ee=Xe($,!1);if(M)return K.createElement(pR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(E_,fc({},ee,{width:T,height:C,title:R,desc:F}),this.renderClipPath(),JA(N,this.renderMap)));if(this.props.accessibilityLayer){var ie,Q;ee.tabIndex=(ie=this.props.tabIndex)!==null&&ie!==void 0?ie:0,ee.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",ee.onKeyDown=function(te){P.accessibilityManager.keyboardEvent(te)},ee.onFocus=function(){P.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return K.createElement(pR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",fc({className:it("recharts-wrapper",I),style:ye({position:"relative",cursor:"default",width:T,height:C},L)},se,{ref:function(Z){P.container=Z}}),K.createElement(E_,fc({},ee,{width:T,height:C,title:R,desc:F,style:Dse}),this.renderClipPath(),JA(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);Ke(k,"displayName",r),Ke(k,"defaultProps",ye({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ke(k,"getDerivedStateFromProps",function(b,A){var E=b.dataKey,P=b.data,O=b.children,N=b.width,I=b.height,T=b.layout,C=b.stackOffset,L=b.margin,M=A.dataStartIndex,R=A.dataEndIndex;if(A.updateId===void 0){var F=RR(b);return ye(ye(ye({},F),{},{updateId:0},x(ye(ye({props:b},F),{},{updateId:0}),A)),{},{prevDataKey:E,prevData:P,prevWidth:N,prevHeight:I,prevLayout:T,prevStackOffset:C,prevMargin:L,prevChildren:O})}if(E!==A.prevDataKey||P!==A.prevData||N!==A.prevWidth||I!==A.prevHeight||T!==A.prevLayout||C!==A.prevStackOffset||!bc(L,A.prevMargin)){var $=RR(b),ee={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},ie=ye(ye({},OR(A,P,T)),{},{updateId:A.updateId+1}),Q=ye(ye(ye({},$),ee),ie);return ye(ye(ye({},Q),x(ye({props:b},Q),A)),{},{prevDataKey:E,prevData:P,prevWidth:N,prevHeight:I,prevLayout:T,prevStackOffset:C,prevMargin:L,prevChildren:O})}if(!S_(O,A.prevChildren)){var se,te,Z,re,W=Gn(O,Wc),X=W&&(se=(te=W.props)===null||te===void 0?void 0:te.startIndex)!==null&&se!==void 0?se:M,Y=W&&(Z=(re=W.props)===null||re===void 0?void 0:re.endIndex)!==null&&Z!==void 0?Z:R,ce=X!==M||Y!==R,ve=!st(P),pe=ve&&!ce?A.updateId:A.updateId+1;return ye(ye({updateId:pe},x(ye(ye({props:b},A),{},{updateId:pe,dataStartIndex:X,dataEndIndex:Y}),A)),{},{prevChildren:O,dataStartIndex:X,dataEndIndex:Y})}return null}),Ke(k,"renderActiveDot",function(b,A,E){var P;return z.isValidElement(b)?P=z.cloneElement(b,A):Ze(b)?P=b(A):P=K.createElement(Bj,A),K.createElement(Nt,{className:"recharts-active-dot",key:E},P)});var _=z.forwardRef(function(A,E){return K.createElement(k,fc({},A,{ref:E}))});return _.displayName=k.displayName,_},z6=q6({chartName:"BarChart",GraphicalChild:fa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Wh},{axisType:"yAxis",AxisComp:Hh}],formatAxisMap:iie}),Hse=q6({chartName:"PieChart",GraphicalChild:ss,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Y0},{axisType:"radiusAxis",AxisComp:G0}],formatAxisMap:GJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Gse={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},Kse=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:i,handleDelete:a})=>{const[l,u]=z.useState(20),[d,h]=z.useState("single-member-llc"),[p,m]=z.useState("quarterly"),[y,x]=z.useState(!1);z.useEffect(()=>{u(Gse[d])},[d]);const k=z.useMemo(()=>{const P=new Date;let O,N;switch(p){case"weekly":O=new Date(P.setDate(P.getDate()-P.getDay())),N=new Date(P.setDate(P.getDate()-P.getDay()+6));break;case"monthly":O=new Date(P.getFullYear(),P.getMonth(),1),N=new Date(P.getFullYear(),P.getMonth()+1,0);break;case"quarterly":const I=Math.floor(P.getMonth()/3);O=new Date(P.getFullYear(),I*3,1),N=new Date(P.getFullYear(),I*3+3,0);break;case"yearly":O=new Date(P.getFullYear(),0,1),N=new Date(P.getFullYear(),11,31);break;default:O=new Date,N=new Date}return{start:O,end:N}},[p]),_=z.useMemo(()=>{const P=t.filter(F=>{if(!F.date)return!1;const $=new Date(F.date);return $>=k.start&&$<=k.end}),O=e.reduce((F,$)=>F+$.amount,0)+r.reduce((F,$)=>F+$.amount,0)*4.33,N=(k.end-k.start)/(1e3*60*60*24*30.44),I=O*N,T=P.reduce((F,$)=>F+($.revenue||0),0),C=P.reduce((F,$)=>F+($.materialCost||0)+($.laborCost||0),0),L=T-C,M=L-I,R=M>0?M*(l/100):0;return{netProfit:M,estimatedTax:R,grossProfit:L,periodOperatingExpenses:I}},[t,e,r,l,k]),b=z.useMemo(()=>n.filter(P=>{const O=new Date(P.date);return O>=k.start&&O<=k.end}).reduce((P,O)=>P+(O.amount||0),0),[n,k]),A=_.estimatedTax-b,E=[{name:"Tax Liability","Estimated Tax":_.estimatedTax,"Taxes Paid":b}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),o.jsxs("select",{id:"filingStatus",value:d,onChange:P=>h(P.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[o.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),o.jsx("option",{value:"s-corp",children:"S-Corporation"}),o.jsx("option",{value:"c-corp",children:"C-Corporation"}),o.jsx("option",{value:"partnership",children:"Partnership"})]}),(d==="llc"||d==="single-member-llc")&&o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),o.jsx("input",{id:"taxRate",type:"number",value:l,onChange:P=>u(parseFloat(P.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),o.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[o.jsx("button",{onClick:()=>m("weekly"),className:`w-full px-2 py-1 text-xs rounded ${p==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),o.jsx("button",{onClick:()=>m("monthly"),className:`w-full px-2 py-1 text-xs rounded ${p==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),o.jsx("button",{onClick:()=>m("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${p==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),o.jsx("button",{onClick:()=>m("yearly"),className:`w-full px-2 py-1 text-xs rounded ${p==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[o.jsx(Zi,{title:`Estimated ${p} Net Profit`,value:`$${_.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:o.jsx(Ur,{}),color:"blue"}),o.jsx(Zi,{title:"Estimated Tax Liability",value:`$${_.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:o.jsx(Ur,{}),color:"orange",subtext:_.netProfit<=0?"No tax on negative profit":""}),o.jsx(Zi,{title:"Overpayment / (Underpayment)",value:`${A<0?"-":""}$${Math.abs(A).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:o.jsx(Ur,{}),color:A<0?"green":"red",subtext:A<0?"You have overpaid":"Remaining balance due"})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",o.jsx(tm,{className:`transition-transform ${y?"rotate-180":""}`,size:16})]}),y&&o.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Gross Profit (from Jobs):"})," ",o.jsxs("span",{className:"font-mono",children:["$",_.grossProfit.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"- Est. Operating Expenses:"})," ",o.jsxs("span",{className:"font-mono",children:["$",_.periodOperatingExpenses.toFixed(2)]})]}),o.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),o.jsxs("div",{className:"flex justify-between font-bold",children:[o.jsx("span",{children:"= Estimated Net Profit:"})," ",o.jsxs("span",{className:"font-mono",children:["$",_.netProfit.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["x Tax Rate (",l,"%):"]})," ",o.jsxs("span",{className:"font-mono",children:["$",_.estimatedTax.toFixed(2)]})]})]})]}),_.netProfit<=0&&o.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[o.jsx(k4,{size:20}),o.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),o.jsx(fj,{width:"100%",height:200,children:o.jsxs(z6,{data:E,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[o.jsx(Qj,{strokeDasharray:"3 3"}),o.jsx(Wh,{type:"number"}),o.jsx(Hh,{type:"category",dataKey:"name",hide:!0}),o.jsx(fi,{formatter:P=>`$${P.toLocaleString()}`}),o.jsx(Hs,{}),o.jsx(fa,{dataKey:"Estimated Tax",fill:"#f97316"}),o.jsx(fa,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),o.jsxs("button",{onClick:()=>i("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(In,{size:16})," Record Payment"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Date"}),o.jsx("th",{className:"p-3",children:"Notes"}),o.jsx("th",{className:"p-3 text-right",children:"Amount"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:n.map(P=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[o.jsx("td",{className:"p-3 font-medium",children:P.date}),o.jsx("td",{className:"p-3",children:P.notes}),o.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(P.amount||0).toFixed(2)]}),o.jsxs("td",{className:"p-3 text-center",children:[o.jsx("button",{onClick:()=>i("taxPayment",P),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>a("taxPayment",P.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:o.jsx(fr,{size:16})})]})]},P.id))})]})})]})]})},Yse=({jobs:t,tasks:e,openModal:r})=>{const[n,i]=z.useState(new Date),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],u=new Date(n.getFullYear(),n.getMonth(),1),d=new Date(n.getFullYear(),n.getMonth()+1,0),h=u.getDay(),p=d.getDate(),m=[];for(let _=0;_<h;_++)m.push(null);for(let _=1;_<=p;_++)m.push(new Date(n.getFullYear(),n.getMonth(),_));const y=z.useMemo(()=>{const _={};return t.forEach(b=>{const A=new Date(b.date).toISOString().split("T")[0];_[A]||(_[A]=[]),_[A].push({...b,type:"job"})}),e.forEach(b=>{const A=new Date(b.date).toISOString().split("T")[0];_[A]||(_[A]=[]),_[A].push({...b,type:"task"})}),_},[t,e]),x=()=>{i(new Date(n.getFullYear(),n.getMonth()-1,1))},k=()=>{i(new Date(n.getFullYear(),n.getMonth()+1,1))};return o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("button",{onClick:x,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:o.jsx(w4,{})}),o.jsxs("h2",{className:"text-xl font-bold",children:[l[n.getMonth()]," ",n.getFullYear()]}),o.jsx("button",{onClick:k,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:o.jsx(U1,{})})]}),o.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[o.jsxs("button",{onClick:()=>r("task"),className:"flex items-center gap-2 text-sm bg-amber-500 hover:bg-amber-400 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(In,{size:16})," Add Task"]}),o.jsxs("button",{onClick:()=>r("job"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(In,{size:16})," Add Job"]})]}),o.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[a.map(_=>o.jsx("div",{className:"font-bold text-sm text-slate-500 dark:text-slate-400 py-2",children:_},_)),m.map((_,b)=>o.jsxs("div",{className:`h-32 border border-slate-200 dark:border-slate-700 rounded-md p-1 overflow-y-auto ${_?"cursor-pointer":"bg-slate-50 dark:bg-slate-800/50"}`,onClick:()=>_&&r("task",{date:_.toISOString().split("T")[0]}),children:[_&&o.jsx("span",{className:"text-xs font-semibold",children:_.getDate()}),_&&y[_.toISOString().split("T")[0]]?.map(A=>o.jsx("div",{onClick:E=>{E.stopPropagation(),r(A.type,A)},className:`text-xs rounded p-1 mt-1 hover:opacity-80 ${A.type==="job"?"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-200":"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200"}`,children:A.name||A.title},A.id))]},b))]})]})},Xse=({item:t=null,type:e,onSave:r,onClose:n,debts:i=[],clients:a=[],vehicles:l=[]})=>{const[u,d]=z.useState({}),[h,p]=z.useState(null);z.useEffect(()=>{if(t)d(t);else{const b=m(e);d(b)}},[t,e]);const m=b=>({bill:{name:"",amount:"",dueDay:1,category:"Utilities",isAutoPay:!1,isRecurring:!1,notes:""},debt:{name:"",creditor:"",debtType:"Credit Card",totalAmount:"",paidAmount:0,interestRate:"",minimumPayment:"",dueDate:"",notes:""},income:{name:"",amount:"",type:"monthly",status:"active",isRecurring:!0,notes:""},weekly:{name:"",amount:"",category:"Other",notes:""},job:{name:"",revenue:"",materialCost:"",laborCost:"",date:new Date().toISOString().split("T")[0],notes:"",clientId:""},task:{title:"",date:new Date().toISOString().split("T")[0],notes:"",isComplete:!1},invoice:{invoiceNumber:"",jobNumber:"",customer:"",billTo:"",grandTotal:"",totalCost:"",netTerms:"Net 30",transactionDate:new Date().toISOString().split("T")[0],dueDate:"",paymentDate:"",completedOn:"",invoiceStatus:"Open",priority:"STD",terms:"Limited Warranty",description:"",serviceAddress:"",locationType:"Commercial",jobType:"Service Call",lineItems:"",payments:"",company:"Mechanical Temp",division:"HVAC & Refrigeration",status:"Unpaid",net:"",invNum:"",jobNo:"",daysElapsed:0,notes:""},taxPayment:{date:new Date().toISOString().split("T")[0],amount:"",notes:""},goal:{name:"",type:"revenue",targetValue:"",deadline:new Date().toISOString().split("T")[0]},client:{name:"",address:"",phone:"",email:"",parentId:"",isParent:!1,companyType:"regular",notes:""},inventory:{name:"",quantity:"",cost:"",notes:""},vehicle:{name:"",make:"",model:"",year:new Date().getFullYear().toString(),vin:"",licensePlate:"",currentMileage:"",status:"active",color:"",registrationExpiry:"",insuranceExpiry:"",lastServiceMileage:"",nextServiceDue:"",notes:""},maintenanceLog:{vehicleId:"",date:new Date().toISOString().split("T")[0],type:"Oil Change",cost:"",mileage:"",notes:"",nextServiceMileage:""}})[b]||{},y=b=>{const{name:A,value:E,type:P,checked:O}=b.target;d(N=>({...N,[A]:P==="checkbox"?O:E}))},x=b=>{if(b.preventDefault(),!u.name&&!u.title&&!u.billTo&&!u.customer){alert("Please fill in the required fields.");return}const A={...u};if(({bill:["amount","dueDay"],debt:["totalAmount","paidAmount","interestRate","minimumPayment"],income:["amount"],weekly:["amount"],job:["revenue","materialCost","laborCost"],invoice:["grandTotal","totalCost","net","daysElapsed"],taxPayment:["amount"],goal:["targetValue"],inventory:["quantity","cost"],vehicle:["currentMileage","year","lastServiceMileage"],maintenanceLog:["cost","mileage","nextServiceMileage"]}[e]||[]).forEach(O=>{A[O]!==void 0&&A[O]!==""&&(A[O]=parseFloat(A[O])||0)}),e==="client"){if(A.isParent&&A.parentId){alert('A parent company cannot have a parent company. Please uncheck "Is Parent Company" or remove the parent selection.');return}A.isParent?(A.companyType="parent",A.parentId=null):A.parentId?A.companyType="child":A.companyType="regular"}if(e==="invoice"){if(A.invoiceNumber||(A.invoiceNumber=`INV-${Date.now().toString().slice(-6)}`),A.transactionDate&&A.netTerms&&!A.dueDate){const O=new Date(A.transactionDate);let N=30;A.netTerms.includes("45")?N=45:A.netTerms.includes("15")?N=15:A.netTerms.includes("Due on Receipt")&&(N=0);const I=new Date(O);I.setDate(I.getDate()+N),A.dueDate=I.toISOString().split("T")[0]}A.status=A.invoiceStatus==="Paid"?"Paid":"Unpaid",A.net=A.grandTotal,A.invNum=A.invoiceNumber,A.jobNo=A.jobNumber,!A.grandTotal&&A.net&&(A.grandTotal=A.net)}r(A,h)},k=a.filter(b=>(b.isParent||b.companyType==="parent")&&(!t||b.id!==t.id)),_=()=>{switch(e){case"bill":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bill Name *"}),o.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),o.jsx("input",{type:"number",step:"0.01",name:"amount",value:u.amount||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Due Day"}),o.jsx("input",{type:"number",min:"1",max:"31",name:"dueDay",value:u.dueDay||1,onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),o.jsxs("select",{name:"category",value:u.category||"Utilities",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Utilities",children:"Utilities"}),o.jsx("option",{value:"Insurance",children:"Insurance"}),o.jsx("option",{value:"Vehicle",children:"Vehicle"}),o.jsx("option",{value:"Software",children:"Software"}),o.jsx("option",{value:"Overhead",children:"Overhead"}),o.jsx("option",{value:"Equipment",children:"Equipment"}),o.jsx("option",{value:"Marketing",children:"Marketing"}),o.jsx("option",{value:"Other",children:"Other"})]})]})]}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isAutoPay",checked:u.isAutoPay||!1,onChange:y,className:"mr-2"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Auto Pay"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isRecurring",checked:u.isRecurring||!1,onChange:y,className:"mr-2"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Recurring"})]})]})]});case"debt":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Debt Name *"}),o.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:y,placeholder:"e.g., Chase Credit Card, Car Loan",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Creditor/Lender"}),o.jsx("input",{type:"text",name:"creditor",value:u.creditor||"",onChange:y,placeholder:"e.g., Chase Bank, Toyota Financial",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Debt Type"}),o.jsxs("select",{name:"debtType",value:u.debtType||"Credit Card",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Credit Card",children:"Credit Card"}),o.jsx("option",{value:"Personal Loan",children:"Personal Loan"}),o.jsx("option",{value:"Auto Loan",children:"Auto Loan"}),o.jsx("option",{value:"Mortgage",children:"Mortgage"}),o.jsx("option",{value:"Student Loan",children:"Student Loan"}),o.jsx("option",{value:"Business Loan",children:"Business Loan"}),o.jsx("option",{value:"Medical Debt",children:"Medical Debt"}),o.jsx("option",{value:"Other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Total Amount *"}),o.jsx("input",{type:"number",step:"0.01",name:"totalAmount",value:u.totalAmount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount Paid"}),o.jsx("input",{type:"number",step:"0.01",name:"paidAmount",value:u.paidAmount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Interest Rate (%) *"}),o.jsx("input",{type:"number",step:"0.01",name:"interestRate",value:u.interestRate||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Minimum Payment"}),o.jsx("input",{type:"number",step:"0.01",name:"minimumPayment",value:u.minimumPayment||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Due Date"}),o.jsx("input",{type:"date",name:"dueDate",value:u.dueDate||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),(u.totalAmount||u.paidAmount)&&o.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-slate-800 dark:text-white mb-3",children:"Payment Progress"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Remaining Balance:"}),o.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",((parseFloat(u.totalAmount)||0)-(parseFloat(u.paidAmount)||0)).toFixed(2)]})]}),o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(u.totalAmount>0?(parseFloat(u.paidAmount)||0)/parseFloat(u.totalAmount)*100:0,100)}%`}})}),o.jsxs("div",{className:"text-center text-xs text-slate-500 dark:text-slate-400",children:[u.totalAmount>0?((parseFloat(u.paidAmount)||0)/parseFloat(u.totalAmount)*100).toFixed(1):0,"% paid off"]})]})]})]});case"income":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Income Source Name *"}),o.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:y,placeholder:"e.g., Main Business Revenue, Consulting Services",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",value:u.amount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Income Type *"}),o.jsxs("select",{name:"type",value:u.type||"monthly",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[o.jsx("option",{value:"monthly",children:"Monthly"}),o.jsx("option",{value:"weekly",children:"Weekly"}),o.jsx("option",{value:"quarterly",children:"Quarterly"}),o.jsx("option",{value:"annually",children:"Annually"}),o.jsx("option",{value:"one-time",children:"One-time"}),o.jsx("option",{value:"project-based",children:"Project-based"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),o.jsxs("select",{name:"status",value:u.status||"active",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"paused",children:"Paused"})]})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isRecurring",checked:u.isRecurring||!1,onChange:y,className:"mr-2"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Recurring Income"})]})})]}),u.amount&&parseFloat(u.amount)>0&&u.type&&o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[o.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"Income Projection Analysis"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[u.type||"Monthly",":"]}),o.jsxs("p",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",parseFloat(u.amount).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Monthly:"}),o.jsxs("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:["$",(()=>{const b=parseFloat(u.amount);switch(u.type){case"weekly":return(b*4.33).toFixed(2);case"quarterly":return(b/3).toFixed(2);case"annually":return(b/12).toFixed(2);case"monthly":default:return b.toFixed(2)}})()]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Annual:"}),o.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:["$",(()=>{const b=parseFloat(u.amount);let A;switch(u.type){case"weekly":A=b*4.33;break;case"quarterly":A=b/3;break;case"annually":A=b/12;break;case"monthly":default:A=b;break}return(A*12).toLocaleString()})()]})]})]})]})]});case"weekly":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost Item Name *"}),o.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:y,placeholder:"e.g., Projected Payroll, Fuel & Maintenance",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Weekly Amount *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",value:u.amount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),o.jsxs("select",{name:"category",value:u.category||"Other",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Payroll",children:"Payroll"}),o.jsx("option",{value:"Fuel & Maintenance",children:"Fuel & Maintenance"}),o.jsx("option",{value:"Equipment Rental",children:"Equipment Rental"}),o.jsx("option",{value:"Utilities",children:"Utilities"}),o.jsx("option",{value:"Insurance",children:"Insurance"}),o.jsx("option",{value:"Marketing",children:"Marketing"}),o.jsx("option",{value:"Office Expenses",children:"Office Expenses"}),o.jsx("option",{value:"Supplies",children:"Supplies"}),o.jsx("option",{value:"Contractors",children:"Contractors"}),o.jsx("option",{value:"Other",children:"Other"})]})]})]}),u.amount&&parseFloat(u.amount)>0&&o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[o.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Cost Impact Analysis"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Weekly:"}),o.jsxs("p",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",parseFloat(u.amount).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Monthly:"}),o.jsxs("p",{className:"font-mono font-bold text-orange-600 dark:text-orange-400",children:["$",(parseFloat(u.amount)*4.33).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Annual:"}),o.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:["$",(parseFloat(u.amount)*52).toLocaleString()]})]})]})]})]});case"vehicle":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle Name *"}),o.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:y,placeholder:"e.g., Jason's Truck, Red Van",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Make *"}),o.jsxs("select",{name:"make",value:u.make||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[o.jsx("option",{value:"",children:"Select Make"}),o.jsx("option",{value:"FORD",children:"Ford"}),o.jsx("option",{value:"CHEVROLET",children:"Chevrolet"}),o.jsx("option",{value:"GMC",children:"GMC"}),o.jsx("option",{value:"TOYOTA",children:"Toyota"}),o.jsx("option",{value:"HONDA",children:"Honda"}),o.jsx("option",{value:"NISSAN",children:"Nissan"}),o.jsx("option",{value:"RAM",children:"Ram"}),o.jsx("option",{value:"DODGE",children:"Dodge"}),o.jsx("option",{value:"JEEP",children:"Jeep"}),o.jsx("option",{value:"HYUNDAI",children:"Hyundai"}),o.jsx("option",{value:"KIA",children:"Kia"}),o.jsx("option",{value:"MAZDA",children:"Mazda"}),o.jsx("option",{value:"SUBARU",children:"Subaru"}),o.jsx("option",{value:"VOLKSWAGEN",children:"Volkswagen"}),o.jsx("option",{value:"BMW",children:"BMW"}),o.jsx("option",{value:"MERCEDES",children:"Mercedes-Benz"}),o.jsx("option",{value:"AUDI",children:"Audi"}),o.jsx("option",{value:"LEXUS",children:"Lexus"}),o.jsx("option",{value:"ACURA",children:"Acura"}),o.jsx("option",{value:"INFINITI",children:"Infiniti"}),o.jsx("option",{value:"CADILLAC",children:"Cadillac"}),o.jsx("option",{value:"LINCOLN",children:"Lincoln"}),o.jsx("option",{value:"BUICK",children:"Buick"}),o.jsx("option",{value:"CHRYSLER",children:"Chrysler"}),o.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Model *"}),o.jsx("input",{type:"text",name:"model",value:u.model||"",onChange:y,placeholder:"e.g., F-150, TRANSIT, SIERRA",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Year *"}),o.jsx("input",{type:"number",min:"1900",max:new Date().getFullYear()+1,name:"year",value:u.year||new Date().getFullYear(),onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Color"}),o.jsx("input",{type:"text",name:"color",value:u.color||"",onChange:y,placeholder:"e.g., White, Black, Blue",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),o.jsxs("select",{name:"status",value:u.status||"active",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"maintenance",children:"In Maintenance"}),o.jsx("option",{value:"inactive",children:"Inactive"}),o.jsx("option",{value:"sold",children:"Sold"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"VIN"}),o.jsx("input",{type:"text",name:"vin",value:u.vin||"",onChange:y,placeholder:"17-character VIN",maxLength:"17",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"License Plate"}),o.jsx("input",{type:"text",name:"licensePlate",value:u.licensePlate||"",onChange:y,placeholder:"e.g., DD16326",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage *"}),o.jsx("input",{type:"number",min:"0",name:"currentMileage",value:u.currentMileage||"",onChange:y,placeholder:"e.g., 104071",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Last Service Mileage"}),o.jsx("input",{type:"number",min:"0",name:"lastServiceMileage",value:u.lastServiceMileage||"",onChange:y,placeholder:"e.g., 98000",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Registration Expiry"}),o.jsx("input",{type:"date",name:"registrationExpiry",value:u.registrationExpiry||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Insurance Expiry"}),o.jsx("input",{type:"date",name:"insuranceExpiry",value:u.insuranceExpiry||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Due"}),o.jsx("input",{type:"date",name:"nextServiceDue",value:u.nextServiceDue||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),(u.name||u.make||u.model)&&o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[o.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:" Vehicle Preview"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:u.name||"Unnamed Vehicle"}),o.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[u.year," ",u.make," ",u.model,u.color&&` (${u.color})`]}),u.licensePlate&&o.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Plate: ",u.licensePlate]}),u.currentMileage&&o.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Mileage: ",parseInt(u.currentMileage).toLocaleString()," miles"]}),o.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Status: ",o.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${u.status==="active"?"bg-green-100 text-green-800":u.status==="maintenance"?"bg-yellow-100 text-yellow-800":u.status==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:u.status||"active"})]})]})]})]});case"client":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Client Name *"}),o.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone"}),o.jsx("input",{type:"tel",name:"phone",value:u.phone||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",value:u.email||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Address"}),o.jsx("textarea",{name:"address",value:u.address||"",onChange:y,rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[o.jsxs("h4",{className:"text-sm font-semibold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[o.jsx(yc,{size:16}),"Company Structure & Hierarchy"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("input",{type:"checkbox",id:"isParent",name:"isParent",checked:u.isParent||!1,onChange:y,className:"mt-1 w-4 h-4 text-blue-600 bg-white dark:bg-slate-600 border-slate-300 dark:border-slate-500 rounded focus:ring-blue-500"}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"isParent",className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[o.jsx(la,{size:14}),"This is a parent company"]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Check this if this company has multiple locations or subsidiaries"})]})]}),!u.isParent&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Parent Company (Optional)"}),o.jsxs("select",{name:"parentId",value:u.parentId||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"",children:"-- Independent Company --"}),k.map(b=>o.jsx("option",{value:b.id,children:b.name},b.id))]}),k.length===0&&o.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"No parent companies available. Create a parent company first if needed."})]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-700/50 p-3 rounded border",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(k4,{size:12,className:"mt-0.5 flex-shrink-0"}),o.jsx("div",{children:u.isParent?o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Parent Company Benefits:"}),o.jsxs("ul",{className:"space-y-1",children:[o.jsx("li",{children:" Can have multiple child locations/subsidiaries"}),o.jsx("li",{children:" Appears in hierarchy view with all child companies"}),o.jsx("li",{children:" Useful for corporate clients with multiple locations"})]})]}):u.parentId?o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-600 dark:text-green-400 mb-1",children:"Child Company Setup:"}),o.jsxs("ul",{className:"space-y-1",children:[o.jsx("li",{children:" This location will be grouped under the parent company"}),o.jsx("li",{children:" Jobs and invoices can be tracked separately"}),o.jsx("li",{children:" Parent company can see consolidated reports"})]})]}):o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Independent Company:"}),o.jsxs("ul",{className:"space-y-1",children:[o.jsx("li",{children:" Standalone client with no parent/child relationships"}),o.jsx("li",{children:" Can be converted to parent company later if needed"}),o.jsx("li",{children:" Most common setup for individual businesses"})]})]})})]})}),(u.isParent||u.parentId)&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded border border-slate-200 dark:border-slate-600",children:[o.jsx("h5",{className:"text-xs font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hierarchy Preview:"}),u.isParent?o.jsxs("div",{className:"text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium",children:[o.jsx(yc,{size:12}),u.name||"New Parent Company"]}),o.jsx("div",{className:"ml-4 mt-1 text-slate-500 dark:text-slate-400",children:" Child companies can be added later"})]}):u.parentId&&o.jsxs("div",{className:"text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium",children:[o.jsx(yc,{size:12}),k.find(b=>b.id===u.parentId)?.name||"Parent Company"]}),o.jsxs("div",{className:"ml-4 mt-1 text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx("span",{children:""}),o.jsx(la,{size:10}),u.name||"New Child Location"]})]})]})]})]})]});case"job":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Name *"}),o.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Revenue *"}),o.jsx("input",{type:"number",step:"0.01",name:"revenue",value:u.revenue||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Material Cost"}),o.jsx("input",{type:"number",step:"0.01",name:"materialCost",value:u.materialCost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Labor Cost"}),o.jsx("input",{type:"number",step:"0.01",name:"laborCost",value:u.laborCost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Date"}),o.jsx("input",{type:"date",name:"date",value:u.date?u.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Client"}),o.jsxs("select",{name:"clientId",value:u.clientId||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Client"}),a.map(b=>o.jsx("option",{value:b.id,children:b.name},b.id))]})]})]})]});case"maintenanceLog":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),o.jsxs("select",{name:"vehicleId",value:u.vehicleId||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[o.jsx("option",{value:"",children:"Select Vehicle"}),l.map(b=>o.jsxs("option",{value:b.id,children:[b.name||"Unnamed"," - ",b.make," ",b.model]},b.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),o.jsx("input",{type:"date",name:"date",value:u.date?u.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),o.jsxs("select",{name:"type",value:u.type||"Oil Change",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[o.jsx("option",{value:"Oil Change",children:"Oil Change"}),o.jsx("option",{value:"Tire Rotation",children:"Tire Rotation"}),o.jsx("option",{value:"Brake Service",children:"Brake Service"}),o.jsx("option",{value:"Transmission Service",children:"Transmission Service"}),o.jsx("option",{value:"Engine Repair",children:"Engine Repair"}),o.jsx("option",{value:"Inspection",children:"Inspection"}),o.jsx("option",{value:"A/C Service",children:"A/C Service"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),o.jsx("input",{type:"number",step:"0.01",name:"cost",value:u.cost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage *"}),o.jsx("input",{type:"number",name:"mileage",value:u.mileage||"",onChange:y,placeholder:"Current vehicle mileage",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),o.jsx("input",{type:"number",name:"nextServiceMileage",value:u.nextServiceMileage||"",onChange:y,placeholder:"When next service is due",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]});case"invoice":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-4",children:[o.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:" AppSheet Invoice Data"}),o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"This form creates invoices compatible with your AppSheet system (1,091 records)"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Invoice Number"}),o.jsx("input",{type:"text",name:"invoiceNumber",value:u.invoiceNumber||"",onChange:y,placeholder:"Auto-generated if empty",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Leave empty to auto-generate (e.g., 12457956)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Number *"}),o.jsx("input",{type:"text",name:"jobNumber",value:u.jobNumber||"",onChange:y,placeholder:"e.g., 6753455-01, 3686529",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Customer *"}),o.jsx("input",{type:"text",name:"customer",value:u.customer||"",onChange:y,placeholder:"e.g., Value City Furniture #175, Rally House #160",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bill To *"}),o.jsx("input",{type:"text",name:"billTo",value:u.billTo||"",onChange:y,placeholder:"e.g., Value City Furniture, Sampler Stores",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Who receives the invoice"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Grand Total *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",name:"grandTotal",value:u.grandTotal||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Total Cost"}),o.jsx("input",{type:"number",step:"0.01",min:"0",name:"totalCost",value:u.totalCost||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Labor + material costs"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Net Terms"}),o.jsxs("select",{name:"netTerms",value:u.netTerms||"Net 30",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Net 15",children:"Net 15"}),o.jsx("option",{value:"Net 30",children:"Net 30"}),o.jsx("option",{value:"Net 45",children:"Net 45"}),o.jsx("option",{value:"Due on Receipt",children:"Due on Receipt"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Address *"}),o.jsx("input",{type:"text",name:"serviceAddress",value:u.serviceAddress||"",onChange:y,placeholder:"e.g., 27775 Novi Rd, Novi, MI 48377, USA",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Description *"}),o.jsx("textarea",{name:"description",value:u.description||"",onChange:y,rows:"3",placeholder:"Describe the work performed, issues found, and solutions provided...",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Transaction Date *"}),o.jsx("input",{type:"date",name:"transactionDate",value:u.transactionDate||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Completed On"}),o.jsx("input",{type:"date",name:"completedOn",value:u.completedOn||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Invoice Status"}),o.jsxs("select",{name:"invoiceStatus",value:u.invoiceStatus||"Open",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Open",children:"Open"}),o.jsx("option",{value:"Paid",children:"Paid"}),o.jsx("option",{value:"Overdue",children:"Overdue"}),o.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Location Type"}),o.jsxs("select",{name:"locationType",value:u.locationType||"Commercial",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Commercial",children:"Commercial"}),o.jsx("option",{value:"Residential",children:"Residential"}),o.jsx("option",{value:"Industrial",children:"Industrial"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Type"}),o.jsxs("select",{name:"jobType",value:u.jobType||"Service Call",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Service Call",children:"Service Call"}),o.jsx("option",{value:"Installation",children:"Installation"}),o.jsx("option",{value:"Maintenance",children:"Maintenance"}),o.jsx("option",{value:"Repair",children:"Repair"}),o.jsx("option",{value:"Emergency",children:"Emergency"})]})]})]}),u.grandTotal&&parseFloat(u.grandTotal)>0&&o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[o.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:" Invoice Summary"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Invoice Total:"}),o.jsxs("p",{className:"font-mono font-bold text-green-600 dark:text-green-400 text-lg",children:["$",parseFloat(u.grandTotal||0).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Total Costs:"}),o.jsxs("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400 text-lg",children:["$",parseFloat(u.totalCost||0).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:"Profit Margin:"}),o.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400 text-lg",children:["$",(parseFloat(u.grandTotal||0)-parseFloat(u.totalCost||0)).toFixed(2)]})]})]})]})]});case"inventory":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Item Name *"}),o.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Quantity *"}),o.jsx("input",{type:"number",min:"0",name:"quantity",value:u.quantity||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost per Unit"}),o.jsx("input",{type:"number",step:"0.01",min:"0",name:"cost",value:u.cost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]})]});case"task":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Task Title *"}),o.jsx("input",{type:"text",name:"title",value:u.title||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",name:"date",value:u.date?u.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isComplete",checked:u.isComplete||!1,onChange:y,className:"mr-2"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Mark as Complete"})]})})]})]});case"taxPayment":return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Date *"}),o.jsx("input",{type:"date",name:"date",value:u.date?u.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),o.jsx("input",{type:"number",step:"0.01",name:"amount",value:u.amount||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]})});case"goal":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name *"}),o.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),o.jsxs("select",{name:"type",value:u.type||"revenue",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"revenue",children:"Revenue"}),o.jsx("option",{value:"profit",children:"Profit"}),o.jsx("option",{value:"clients",children:"New Clients"}),o.jsx("option",{value:"jobs",children:"Completed Jobs"}),o.jsx("option",{value:"debt",children:"Debt Payoff"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Value *"}),o.jsx("input",{type:"number",step:"0.01",name:"targetValue",value:u.targetValue||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Date"}),o.jsx("input",{type:"date",name:"deadline",value:u.deadline?u.deadline.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]})]});default:return o.jsxs("div",{children:["Form not implemented for type: ",e]})}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t?`Edit ${e}`:`Add New ${e}`}),o.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:o.jsx(su,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:[o.jsxs("div",{className:"space-y-4",children:[_(),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),o.jsx("textarea",{name:"notes",value:u.notes||"",onChange:y,rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Additional notes or comments..."})]}),(e==="bill"||e==="invoice")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Attachment"}),o.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:b=>p(b.target.files[0]),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Upload receipt or related document (images and PDFs only)"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[o.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),o.jsxs("button",{onClick:x,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:[t?"Update":"Add"," ",e]})]})]})]})})},Qse=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:l,setSelectedIds:u,handleImportCSV:d,handleExportCSV:h,handleToggleInvoicePaid:p})=>{const[m,y]=z.useState("All"),[x,k]=z.useState("All"),[_,b]=z.useState(!1),A=[{key:"status",header:"Status",render:M=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>p(M.id,M.status),children:M.status==="Paid"?o.jsx(Di,{className:"text-green-500",size:20}):o.jsx(_4,{className:"text-slate-400 dark:text-slate-600",size:20})}),o.jsx(E,{status:M.invoiceStatus||M.status})]})},{key:"invoiceNumber",header:"Invoice #",render:M=>o.jsxs("div",{className:M.status==="Paid"?"opacity-60":"",children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:M.invoiceNumber||`INV-${M.id}`}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Job: ",M.jobNumber||"N/A"]})]})},{key:"customer",header:"Customer",render:M=>o.jsxs("div",{className:M.status==="Paid"?"opacity-60":"",children:[o.jsx("div",{className:`font-medium ${M.status==="Paid"?"line-through":""}`,children:M.customer}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:M.billTo&&M.billTo!==M.customer?`Bill to: ${M.billTo}`:""})]})},{key:"jobType",header:"Job Type",render:M=>o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(P,{jobType:M.jobType}),o.jsx(O,{priority:M.priority})]})},{key:"grandTotal",header:"Amount",className:"text-right",render:M=>o.jsxs("div",{className:`text-right ${M.status==="Paid"?"opacity-60":""}`,children:[o.jsxs("div",{className:`font-mono font-bold ${M.status==="Paid"?"line-through text-green-600":"text-slate-900 dark:text-white"}`,children:["$",parseFloat(M.grandTotal?.toString().replace(/[$,]/g,"")||M.grandTotal||0).toFixed(2)]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:M.netTerms||"Net 30"})]})},{key:"dueDate",header:"Due Date",className:"text-center",render:M=>o.jsxs("div",{className:`text-center ${M.status==="Paid"?"opacity-60":""}`,children:[o.jsx("div",{className:M.status==="Paid"?"line-through":"",children:M.dueDate||"N/A"}),M.daysElapsed>0&&M.status!=="Paid"&&o.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:[M.daysElapsed," days elapsed"]}),N(M)&&o.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"OVERDUE"})]})},{key:"description",header:"Description",render:M=>o.jsxs("div",{className:`max-w-xs ${M.status==="Paid"?"opacity-60":""}`,children:[o.jsx("div",{className:"text-sm truncate",title:M.description,children:M.description||"No description"}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:M.serviceAddress&&o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(z1,{size:10}),o.jsx("span",{className:"truncate",children:M.serviceAddress})]})})]})}],E=({status:M})=>{const R=F=>{switch(F){case"Paid":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-200";case"Sent":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900 dark:text-blue-200";case"Open":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-200";case"Overdue":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-200"}};return o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${R(M)}`,children:M||"Unknown"})},P=({jobType:M})=>{const R=F=>{switch(F){case"Service Call":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Planned Maintenance":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Installation":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Emergency":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${R(M)}`,children:M||"N/A"})},O=({priority:M})=>{if(!M)return null;const R=F=>{switch(F){case"ER":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200";case"URG":return"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200";case"STD":return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200"}};return o.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium border ${R(M)}`,children:M})},N=M=>M.status==="Paid"||!M.dueDate?!1:new Date(M.dueDate)<new Date,I=z.useMemo(()=>{const M=t.reduce((Q,se)=>{const te=parseFloat(se.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+te},0),R=t.filter(Q=>Q.status==="Paid"||Q.invoiceStatus==="Paid"),F=R.reduce((Q,se)=>{const te=parseFloat(se.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+te},0),ee=t.filter(Q=>Q.status!=="Paid"&&Q.invoiceStatus!=="Paid").reduce((Q,se)=>{const te=parseFloat(se.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+te},0),ie=t.filter(Q=>N(Q));return{totalInvoices:t.length,totalAmount:M,paidAmount:F,outstandingAmount:ee,overdueCount:ie.length,paidCount:R.length}},[t]),T=z.useMemo(()=>t.filter(M=>{const R=!i||String(M.invoiceNumber||"").toLowerCase().includes(i.toLowerCase())||String(M.customer||"").toLowerCase().includes(i.toLowerCase())||String(M.vehicleId||"").toLowerCase().includes(i.toLowerCase()),F=m==="all"||M.status===m,$=x==="all"||M.priority===x;return R&&F&&$}),[t,i,m,x]),C=M=>{M.target.checked?u(T.map(R=>R.id)):u([])},L=()=>{const M=["Invoice Number","Job Number","Customer","Bill To","Grand Total","Total Cost","Net Terms","Transaction Date","Due Date","Payment Date","Completed On","Invoice Status","Terms","Priority","Description","Service Address","Location Type","Job Type","Line Items","Payments","Days Elapsed","Company","Division"],R=T.map(Q=>[Q.invoiceNumber||`INV-${Q.id}`,Q.jobNumber||"",Q.customer||"",Q.billTo||"",Q.grandTotal||"",Q.totalCost||"",Q.netTerms||"",Q.transactionDate||"",Q.dueDate||"",Q.paymentDate||"",Q.completedOn||"",Q.invoiceStatus||Q.status||"",Q.terms||"",Q.priority||"",Q.description||"",Q.serviceAddress||"",Q.locationType||"",Q.jobType||"",Q.lineItems||"",Q.payments||"",Q.daysElapsed||0,Q.company||"Mechanical Temp",Q.division||"HVAC & Refrigeration"]),F=[M,...R].map(Q=>Q.map(se=>`"${se}"`).join(",")).join(`
`),$=new Blob([F],{type:"text/csv"}),ee=URL.createObjectURL($),ie=document.createElement("a");ie.href=ee,ie.download=`appsheet_invoices_${new Date().toISOString().split("T")[0]}.csv`,ie.click(),URL.revokeObjectURL(ee)};return o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 p-4 rounded-t-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(BT,{className:"text-blue-600 dark:text-blue-400",size:20}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"AppSheet Integration"}),o.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[t.length," invoices  Last sync: 2 hours ago"]})]})]}),o.jsxs("button",{onClick:()=>b(!_),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[o.jsx(BT,{size:16}),"Sync Now"]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o.jsx(mn,{className:"text-slate-500",size:16}),o.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total"})]}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:I.totalInvoices}),o.jsxs("div",{className:"text-sm text-slate-500",children:["$",I.totalAmount.toLocaleString()]})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o.jsx(Di,{className:"text-green-500",size:16}),o.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Paid"})]}),o.jsx("div",{className:"text-2xl font-bold text-green-600",children:I.paidCount}),o.jsxs("div",{className:"text-sm text-green-600",children:["$",I.paidAmount.toLocaleString()]})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o.jsx(y0,{className:"text-orange-500",size:16}),o.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Outstanding"})]}),o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.length-I.paidCount}),o.jsxs("div",{className:"text-sm text-orange-600",children:["$",I.outstandingAmount.toLocaleString()]})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o.jsx(x0,{className:"text-red-500",size:16}),o.jsx("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Overdue"})]}),o.jsx("div",{className:"text-2xl font-bold text-red-600",children:I.overdueCount}),o.jsx("div",{className:"text-sm text-red-600",children:"Needs attention"})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",T.length," of ",t.length," invoices"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search invoices...",value:i,onChange:M=>a(M.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),o.jsxs("select",{value:m,onChange:M=>y(M.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[o.jsx("option",{value:"All",children:"All Status"}),o.jsx("option",{value:"Paid",children:"Paid"}),o.jsx("option",{value:"Sent",children:"Sent"}),o.jsx("option",{value:"Open",children:"Open"}),o.jsx("option",{value:"Overdue",children:"Overdue"})]}),o.jsxs("select",{value:x,onChange:M=>k(M.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[o.jsx("option",{value:"All",children:"All Priority"}),o.jsx("option",{value:"ER",children:"Emergency"}),o.jsx("option",{value:"URG",children:"Urgent"}),o.jsx("option",{value:"STD",children:"Standard"})]}),l.length>0&&o.jsxs("button",{onClick:()=>n("invoice",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(fr,{size:16})," Delete (",l.length,")"]}),o.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:M=>d(M.target.files[0],"invoice")}),o.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[o.jsx(ro,{size:16})," Import CSV"]}),o.jsxs("button",{onClick:L,className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mn,{size:16})," Export AppSheet CSV"]}),o.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(In,{size:16})," Add New"]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:o.jsx("input",{type:"checkbox",onChange:C,checked:l.length===T.length&&T.length>0,className:"rounded border-slate-300 dark:border-slate-600"})}),A.map(M=>o.jsx("th",{className:`p-3 ${M.className||""}`,children:M.header},M.key)),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:T.map(M=>o.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${M.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[o.jsx("td",{className:"p-3",children:o.jsx("input",{type:"checkbox",checked:l.includes(M.id),onChange:()=>{u(R=>R.includes(M.id)?R.filter(F=>F!==M.id):[...R,M.id])},className:"rounded border-slate-300 dark:border-slate-600"})}),A.map(R=>o.jsx("td",{className:`p-3 ${R.className||""}`,children:R.render(M)},R.key)),o.jsx("td",{className:"p-3 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("button",{onClick:()=>{},className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View Details",children:o.jsx(m8,{size:16})}),o.jsx("button",{onClick:()=>e("invoice",M),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 transition-colors",title:"Edit Invoice",children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>r("invoice",M.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 transition-colors",title:"Delete Invoice",children:o.jsx(fr,{size:16})})]})})]},M.id))})]})}),T.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(mn,{className:"mx-auto text-slate-400 mb-4",size:48}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No invoices found"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:i||m!=="All"||x!=="All"?"Try adjusting your search or filters":"Get started by importing your AppSheet invoice data"})]})]})]})},Jse=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:l,setSelectedIds:u,handleImportCSV:d,handleExportCSV:h,handleBulkUpdate:p})=>{const[m,y]=z.useState("name"),[x,k]=z.useState("asc"),[_,b]=z.useState("all"),[A,E]=z.useState("all"),[P,O]=z.useState("hierarchy"),[N,I]=z.useState(new Set),[T,C]=z.useState(!1),[L,M]=z.useState(!1),[R,F]=z.useState(""),[$,ee]=z.useState(null),ie=z.useMemo(()=>t.filter(U=>!U.parentId||U.parentId===""),[t]),Q=z.useMemo(()=>t.filter(U=>!U.parentId||U.parentId===""),[t]),se=z.useMemo(()=>{let U=t.filter(de=>{const _e=(de.name||"").toLowerCase().includes(i.toLowerCase())||(de.address||"").toLowerCase().includes(i.toLowerCase())||(de.email||"").toLowerCase().includes(i.toLowerCase())||(de.phone||"").includes(i),Oe=_==="all"||_==="parent"&&(!de.parentId||de.parentId==="")||_==="location"&&de.parentId&&de.parentId!==""||_==="unassigned"&&(!de.parentId||de.parentId==="")||_==="active"&&de.status==="Active"||_==="inactive"&&de.status==="Inactive",ze=A==="all"||de.parentId===A||de.id===A;return _e&&Oe&&ze});return U.sort((de,_e)=>{let Oe=de[m]||"",ze=_e[m]||"";return m==="name"&&(Oe=Oe.toLowerCase(),ze=ze.toLowerCase()),x==="asc"?Oe<ze?-1:Oe>ze?1:0:Oe>ze?-1:Oe<ze?1:0}),U},[t,i,m,x,_,A]),te=z.useMemo(()=>se.filter(de=>!de.parentId||de.parentId==="").map(de=>({...de,children:se.filter(_e=>_e.parentId===de.id)})),[se]),Z=U=>{m===U?k(x==="asc"?"desc":"asc"):(y(U),k("asc"))},re=U=>{const de=new Set(N);de.has(U)?de.delete(U):de.add(U),I(de)},W=U=>{U.target.checked?u(se.map(de=>de.id)):u([])},X=()=>{if(l.length>0&&R){const U=l.map(de=>({id:de,parentId:R}));p&&p("client",U),u([]),M(!1),F("")}},Y=()=>{if(l.length>0){const U=l.map(de=>({id:de,parentId:""}));p&&p("client",U),u([])}},ce=(U,de)=>{ee(de),U.dataTransfer.effectAllowed="move"},ve=U=>{U.preventDefault(),U.dataTransfer.dropEffect="move"},pe=(U,de)=>{if(U.preventDefault(),$&&$.id!==de.id){const _e={id:$.id,parentId:de.id};p&&p("client",[_e])}ee(null)},he=U=>{const de=t.filter(_e=>_e.parentId===U.id).map(_e=>_e.id);u(_e=>{const Oe=new Set([..._e,U.id,...de]);return Array.from(Oe)})},be=({client:U,isChild:de=!1,parent:_e=null})=>o.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:shadow-md transition-all duration-200 ${de?"ml-6 border-l-4 border-l-blue-400 bg-blue-50/30 dark:bg-blue-900/10":"border-l-4 border-l-purple-400"} ${l.includes(U.id)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,draggable:!de,onDragStart:Oe=>ce(Oe,U),onDragOver:ve,onDrop:Oe=>!de&&pe(Oe,U),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",checked:l.includes(U.id),onChange:()=>{u(Oe=>Oe.includes(U.id)?Oe.filter(ze=>ze!==U.id):[...Oe,U.id])},className:"rounded"}),de?o.jsx(yc,{className:"h-4 w-4 text-blue-500"}):o.jsx(DT,{className:"h-5 w-5 text-purple-600"}),o.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:U.name}),U.status&&o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${U.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:U.status}),de&&_e&&o.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[" ",_e.name]})]}),o.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-400",children:[U.address&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(z1,{className:"h-4 w-4"}),o.jsx("span",{children:U.address})]}),U.phone&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(VT,{className:"h-4 w-4"}),o.jsx("span",{children:U.phone})]}),U.email&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($T,{className:"h-4 w-4"}),o.jsx("span",{children:U.email})]})]})]}),o.jsxs("div",{className:"flex gap-1 ml-4",children:[!de&&o.jsx("button",{onClick:()=>he(U),className:"p-1 text-slate-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded",title:"Select Parent & All Locations",children:o.jsx(la,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>e("client",U),className:"p-1 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 rounded",title:"Edit Client",children:o.jsx(On,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>r("client",U.id),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Delete Client",children:o.jsx(fr,{className:"h-4 w-4"})})]})]})}),q=()=>o.jsxs("div",{className:"space-y-6",children:[Q.length>0&&o.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[o.jsx(la,{className:"h-5 w-5"}),"Unassigned Clients (",Q.filter(U=>se.includes(U)).length,")"]}),o.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Drag clients to parent companies below"})]}),o.jsx("div",{className:"space-y-2",children:Q.filter(U=>se.includes(U)).map(U=>o.jsx(be,{client:U},U.id))})]}),te.filter(U=>U.children.length>0).map(U=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>re(U.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded",children:N.has(U.id)?o.jsx(tm,{className:"h-4 w-4"}):o.jsx(U1,{className:"h-4 w-4"})}),o.jsx("div",{className:"flex-1",children:o.jsx(be,{client:U})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-slate-500 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:[U.children.length," locations"]}),o.jsx("button",{onClick:()=>he(U),className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 px-2 py-1 rounded hover:bg-purple-200 dark:hover:bg-purple-900/50",title:"Select All",children:"Select All"})]})]}),N.has(U.id)&&o.jsx("div",{className:"space-y-2 border-l-2 border-purple-200 dark:border-purple-700 ml-4 pl-4",children:U.children.map(de=>o.jsx(be,{client:de,isChild:!0,parent:U},de.id))})]},U.id))]}),me=()=>o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:o.jsx("input",{type:"checkbox",onChange:W})}),o.jsx("th",{className:"p-3",children:o.jsxs("button",{onClick:()=>Z("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Name",m==="name"&&(x==="asc"?o.jsx(zo,{className:"h-3 w-3"}):o.jsx(qo,{className:"h-3 w-3"}))]})}),o.jsx("th",{className:"p-3",children:"Type"}),o.jsx("th",{className:"p-3",children:o.jsxs("button",{onClick:()=>Z("address"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Address",m==="address"&&(x==="asc"?o.jsx(zo,{className:"h-3 w-3"}):o.jsx(qo,{className:"h-3 w-3"}))]})}),o.jsx("th",{className:"p-3",children:"Contact"}),o.jsx("th",{className:"p-3",children:"Parent Company"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:se.map(U=>{const de=ie.find(Oe=>Oe.id===U.parentId),_e=l.includes(U.id);return o.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${_e?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[o.jsx("td",{className:"p-3",children:o.jsx("input",{type:"checkbox",checked:_e,onChange:()=>{u(Oe=>Oe.includes(U.id)?Oe.filter(ze=>ze!==U.id):[...Oe,U.id])}})}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[U.parentId?o.jsx(yc,{className:"h-4 w-4 text-blue-500"}):o.jsx(DT,{className:"h-4 w-4 text-purple-600"}),o.jsx("span",{className:"font-medium",children:U.name})]})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${U.parentId?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:U.parentId?"Location":"Parent"})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{children:U.address})}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"space-y-1",children:[U.phone&&o.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[o.jsx(VT,{className:"h-3 w-3"}),o.jsx("span",{children:U.phone})]}),U.email&&o.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[o.jsx($T,{className:"h-3 w-3"}),o.jsx("span",{children:U.email})]})]})}),o.jsx("td",{className:"p-3",children:de?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(h8,{className:"h-3 w-3 text-slate-400"}),o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:de.name})]}):o.jsx("span",{className:"text-xs text-slate-400",children:""})}),o.jsxs("td",{className:"p-3 text-center",children:[o.jsx("button",{onClick:()=>e("client",U),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>r("client",U.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:o.jsx(fr,{size:16})})]})]},U.id)})})]})}),xe=()=>o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:se.map(U=>{const de=ie.find(_e=>_e.id===U.parentId);return o.jsx(be,{client:U,isChild:!!U.parentId,parent:de},U.id)})});return o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[se.length," of ",t.length," clients",l.length>0&&`  ${l.length} selected`]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>M(!0),className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(v8,{size:16})," Assign Parent (",l.length,")"]}),o.jsxs("button",{onClick:Y,className:"flex items-center gap-2 text-sm bg-orange-600 hover:bg-orange-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(N8,{size:16})," Remove Parent"]}),o.jsxs("button",{onClick:()=>n("client",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(fr,{size:16})," Delete (",l.length,")"]})]}),o.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:U=>d(U.target.files[0],"client")}),o.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[o.jsx(ro,{size:16})," Import CSV"]}),o.jsxs("button",{onClick:()=>h(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mn,{size:16})," Export CSV"]}),o.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(In,{size:16})," Add New"]})]})]}),L&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Assign Parent Company"}),o.jsx("button",{onClick:()=>M(!1),className:"text-slate-400 hover:text-slate-600",children:o.jsx(su,{className:"h-5 w-5"})})]}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:["Assign ",l.length," selected clients to a parent company:"]}),o.jsxs("select",{value:R,onChange:U=>F(U.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white mb-4",children:[o.jsx("option",{value:"",children:"Select Parent Company"}),ie.map(U=>o.jsx("option",{value:U.id,children:U.name},U.id))]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>M(!1),className:"flex-1 px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),o.jsx("button",{onClick:X,disabled:!R,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign"})]})]})}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search clients by name, address, phone, or email...",value:i,onChange:U=>a(U.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white"})]}),o.jsxs("button",{onClick:()=>C(!T),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:[o.jsx(au,{className:"h-4 w-4"}),"Filters",o.jsx(tm,{className:`h-4 w-4 transition-transform ${T?"rotate-180":""}`})]}),o.jsxs("div",{className:"flex rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden",children:[o.jsx("button",{onClick:()=>O("hierarchy"),className:`px-3 py-2 text-sm ${P==="hierarchy"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Hierarchy View",children:o.jsx(S8,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>O("list"),className:`px-3 py-2 text-sm ${P==="list"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Table View",children:o.jsx(y8,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>O("cards"),className:`px-3 py-2 text-sm ${P==="cards"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Card View",children:o.jsx(g8,{className:"h-4 w-4"})})]})]}),T&&o.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Type"}),o.jsxs("select",{value:_,onChange:U=>b(U.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[o.jsx("option",{value:"all",children:"All Clients"}),o.jsx("option",{value:"parent",children:"Parent Companies Only"}),o.jsx("option",{value:"location",children:"Store Locations Only"}),o.jsx("option",{value:"unassigned",children:"Unassigned Clients"}),o.jsx("option",{value:"active",children:"Active Only"}),o.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Parent Company"}),o.jsxs("select",{value:A,onChange:U=>E(U.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[o.jsx("option",{value:"all",children:"All Companies"}),ie.map(U=>o.jsx("option",{value:U.id,children:U.name},U.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sort by"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:m,onChange:U=>y(U.target.value),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[o.jsx("option",{value:"name",children:"Name"}),o.jsx("option",{value:"address",children:"Address"}),o.jsx("option",{value:"phone",children:"Phone"}),o.jsx("option",{value:"email",children:"Email"})]}),o.jsx("button",{onClick:()=>k(x==="asc"?"desc":"asc"),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:x==="asc"?o.jsx(zo,{className:"h-4 w-4"}):o.jsx(qo,{className:"h-4 w-4"})})]})]})]})}),o.jsx("div",{className:"min-h-[400px]",children:se.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 dark:text-slate-400",children:[o.jsx(la,{className:"h-12 w-12 mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),o.jsx("p",{className:"text-sm text-center",children:i||_!=="all"||A!=="all"?"Try adjusting your search or filters":"Get started by adding your first client"})]}):o.jsxs(o.Fragment,{children:[P==="hierarchy"&&o.jsx(q,{}),P==="list"&&o.jsx(me,{}),P==="cards"&&o.jsx(xe,{})]})})]})},Zse=({vehicles:t=[],maintenanceLogs:e=[],openModal:r,handleDelete:n,searchTerm:i="",setSearchTerm:a,jobs:l=[]})=>{const[u,d]=z.useState("all"),[h,p]=z.useState("grid"),[m,y]=z.useState("name"),[x,k]=z.useState("asc"),[_,b]=z.useState([]),[A,E]=z.useState(!1),[P,O]=z.useState(null),[N,I]=z.useState(!1),[T,C]=z.useState("vehicles"),L=[{value:"oil_change",label:"Oil Change",interval:3e3,category:"Engine",cost:50},{value:"tire_rotation",label:"Tire Rotation",interval:6e3,category:"Tires",cost:25},{value:"brake_service",label:"Brake Service",interval:12e3,category:"Brakes",cost:300},{value:"transmission",label:"Transmission Service",interval:3e4,category:"Transmission",cost:150},{value:"coolant_flush",label:"Coolant Flush",interval:24e3,category:"Cooling",cost:100},{value:"air_filter",label:"Air Filter",interval:12e3,category:"Engine",cost:30},{value:"spark_plugs",label:"Spark Plugs",interval:3e4,category:"Engine",cost:120},{value:"belts_hoses",label:"Belts & Hoses",interval:24e3,category:"Engine",cost:200},{value:"battery",label:"Battery Service",interval:36e3,category:"Electrical",cost:150},{value:"inspection",label:"Annual Inspection",interval:12e3,category:"Legal",cost:50},{value:"ac_service",label:"A/C Service",interval:12e3,category:"HVAC",cost:180},{value:"general_repair",label:"General Repair",interval:0,category:"Repair",cost:200},{value:"preventive",label:"Preventive Maintenance",interval:6e3,category:"Maintenance",cost:100}];z.useEffect(()=>{console.log("Vehicles updated:",t.length),b([...t])},[t]);const M=({onImport:Y})=>{const ce=z.useRef(null),ve=pe=>{const he=pe.target.files[0];he&&(Y(he),pe.target.value="")};return o.jsxs("div",{className:"inline-block",children:[o.jsx("input",{ref:ce,type:"file",accept:".csv",onChange:ve,style:{display:"none"}}),o.jsxs("button",{onClick:()=>ce.current?.click(),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-lg transition-colors",children:[o.jsx(ro,{size:16}),"Import Vehicles"]})]})},R=Y=>{if(!Y){alert("Please select a file.");return}const ce=new FileReader;ce.onload=ve=>{try{const he=ve.target.result.split(`
`).filter(xe=>xe.trim());if(he.length<2){alert("CSV file must have at least a header row and one data row.");return}const be=xe=>{const U=[];let de="",_e=!1;for(let Oe=0;Oe<xe.length;Oe++){const ze=xe[Oe];ze==='"'?_e=!_e:ze===","&&!_e?(U.push(de.trim()),de=""):de+=ze}return U.push(de.trim()),U},q=be(he[0]).map(xe=>xe.replace(/"/g,"").trim().toLowerCase()),me=[];for(let xe=1;xe<he.length;xe++){const U=be(he[xe]),de={};q.forEach((_e,Oe)=>{const ze=U[Oe]?U[Oe].replace(/"/g,"").trim():"";_e.includes("name")||_e.includes("vehicle")?de.name=ze:_e.includes("make")?de.make=ze.toUpperCase():_e.includes("model")?de.model=ze:_e.includes("year")?de.year=ze:_e.includes("license")||_e.includes("plate")?de.licensePlate=ze:_e.includes("vin")?de.vin=ze:_e.includes("mileage")||_e.includes("miles")?de.currentMileage=parseInt(ze)||0:_e.includes("status")?de.status=ze.toLowerCase()||"active":_e.includes("notes")&&(de.notes=ze)}),(de.name||de.make&&de.model)&&(de.name=de.name||`${de.make} ${de.model}`,de.status=de.status||"active",me.push(de))}if(me.length===0){alert("No valid vehicle records found in the CSV file.");return}me.forEach(xe=>{r("vehicle",xe)}),alert(`Found ${me.length} vehicles to import. Please review and save each one.`)}catch(pe){console.error("Error parsing CSV:",pe),alert("Error parsing CSV file. Please check the file format.")}},ce.readAsText(Y)},F=()=>{if(_.length===0){alert("No vehicles to export.");return}const Y=_.map(q=>({"Vehicle Name":q.name||"",Make:q.make||"",Model:q.model||"",Year:q.year||"","License Plate":q.licensePlate||"",VIN:q.vin||"","Current Mileage":q.currentMileage||0,Status:q.status||"active",Notes:q.notes||"","Date Added":q.createdAt?new Date(q.createdAt.seconds*1e3).toLocaleDateString():""})),ce=Object.keys(Y[0]),ve=[ce.join(","),...Y.map(q=>ce.map(me=>{const xe=q[me];return typeof xe=="string"&&(xe.includes(",")||xe.includes('"')||xe.includes(`
`))?`"${xe.replace(/"/g,'""')}"`:xe}).join(","))].join(`
`),pe=new Blob([ve],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(pe),be=document.createElement("a");be.href=he,be.download=`vehicle-fleet-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(he),console.log(`Exported ${_.length} vehicles to CSV`)},$=()=>{const Y=[{"Vehicle Name":"Service Truck 1",Make:"FORD",Model:"F-150",Year:"2020","License Plate":"ABC123",VIN:"1FTFW1ET0LKD12345","Current Mileage":"75000",Status:"active",Notes:"Primary service vehicle"}],ce=Object.keys(Y[0]),ve=[ce.join(","),...Y.map(q=>ce.map(me=>q[me]).join(","))].join(`
`),pe=new Blob([ve],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(pe),be=document.createElement("a");be.href=he,be.download="vehicle-import-template.csv",document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(he)},ee=async(Y,ce)=>{if(window.confirm('Delete "'+ce+'"?')){console.log("Starting delete for vehicle:",Y,ce),E(!0);try{const ve=_.filter(pe=>pe.id!==Y);b(ve),await n("vehicle",Y),console.log("Vehicle deleted successfully")}catch(ve){console.error("Delete failed, reverting UI:",ve),b([...t]),alert("Failed to delete vehicle: "+ve.message)}finally{E(!1)}}},ie=()=>{let Y=0;return _.forEach(ce=>{L.forEach(ve=>{if(ve.interval>0){const pe=e.filter(me=>me.vehicleId===ce.id&&me.serviceType===ve.value).sort((me,xe)=>new Date(xe.date)-new Date(me.date))[0],he=ce.currentMileage||0,be=pe&&pe.mileage||0;he-be>=ve.interval&&Y++}})}),Y},Q=z.useMemo(()=>{const Y=_.filter(U=>!U.status||U.status==="active"),ce=_.reduce((U,de)=>U+(de.currentMileage||0),0),ve=_.length>0?ce/_.length:0,pe=new Date().getFullYear(),he=_.reduce((U,de)=>U+(pe-parseInt(de.year||pe)),0),be=_.length>0?he/_.length:0,q=_.filter(U=>(U.currentMileage||0)>1e5).length,me=e.filter(U=>U.date&&new Date(U.date).getFullYear()===pe).reduce((U,de)=>U+(de.cost||0),0),xe=ie();return{totalVehicles:_.length,activeVehicles:Y.length,avgMileage:Math.round(ve),avgAge:be.toFixed(1),highMileageVehicles:q,totalMaintenanceCost:me,overdueMaintenance:xe}},[_,e]),se=Y=>{const ce=[],ve=Y.currentMileage||0;return L.forEach(pe=>{if(pe.interval>0){const he=e.filter(xe=>xe.vehicleId===Y.id&&xe.serviceType===pe.value).sort((xe,U)=>new Date(U.date)-new Date(xe.date))[0],be=he&&he.mileage||0,q=ve-be,me=pe.interval-q;q>=pe.interval?ce.push({type:"overdue",service:pe.label,mileage:Math.abs(me),severity:"high"}):me<=1e3&&me>0&&ce.push({type:"due_soon",service:pe.label,mileage:me,severity:"medium"})}}),ce.sort((pe,he)=>he.severity==="high"?1:-1)},te=z.useMemo(()=>{let Y=_;return i&&(Y=Y.filter(ve=>ve.name?.toLowerCase().includes(i.toLowerCase())||ve.make?.toLowerCase().includes(i.toLowerCase())||ve.model?.toLowerCase().includes(i.toLowerCase())||ve.licensePlate?.toLowerCase().includes(i.toLowerCase())||ve.vin?.toLowerCase().includes(i.toLowerCase()))),u!=="all"&&(Y=Y.filter(ve=>(ve.status||"active")===u)),[...Y].sort((ve,pe)=>{let he,be;switch(m){case"name":he=ve.name||"",be=pe.name||"";break;case"mileage":he=ve.currentMileage||0,be=pe.currentMileage||0;break;case"year":he=parseInt(ve.year||0),be=parseInt(pe.year||0);break;case"make":he=ve.make||"",be=pe.make||"";break;default:he=ve.name||"",be=pe.name||""}return typeof he=="string"?x==="asc"?he.localeCompare(be):be.localeCompare(he):x==="asc"?he-be:be-he})},[_,i,u,m,x]),Z=Y=>{const ce=Y.status||"active";return ce==="active"?{status:"active",color:"text-green-500",icon:Di,bg:"bg-green-50 border-green-200 dark:bg-green-900/10 dark:border-green-800",label:"Active"}:ce==="maintenance"?{status:"maintenance",color:"text-yellow-500",icon:Pc,bg:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/10 dark:border-yellow-800",label:"In Maintenance"}:{status:"inactive",color:"text-gray-500",icon:LT,bg:"bg-gray-50 border-gray-200 dark:bg-gray-900/10 dark:border-gray-800",label:"Inactive"}},re=({title:Y,value:ce,icon:ve,color:pe,subtext:he,onClick:be})=>o.jsx("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700 transition-all hover:shadow-md ${be?"cursor-pointer hover:border-blue-300":""}`,onClick:be,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:Y}),o.jsx("p",{className:"text-2xl font-bold "+pe,children:ce}),he&&o.jsx("p",{className:"text-xs text-slate-400",children:he})]}),o.jsx(ve,{size:24,className:pe})]})}),W=()=>{const[Y,ce]=z.useState({vehicleId:P?.id||"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""}),ve=L.find(he=>he.value===Y.serviceType),pe=he=>{he.preventDefault();const be={...Y,cost:parseFloat(Y.cost)||0,mileage:parseInt(Y.mileage)||0,nextServiceMileage:parseInt(Y.nextServiceMileage)||0,createdAt:new Date().toISOString()};!be.nextServiceMileage&&ve?.interval&&(be.nextServiceMileage=be.mileage+ve.interval),r("maintenanceLog",be),I(!1),ce({vehicleId:"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""})};return z.useEffect(()=>{ve&&ce(he=>({...he,cost:he.cost||ve.cost.toString(),description:he.description||ve.label}))},[ve]),N?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx(ec,{className:"text-blue-500",size:24}),"Add Service Record"]}),o.jsx("button",{onClick:()=>I(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:o.jsx(LT,{size:24})})]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),o.jsxs("select",{value:Y.vehicleId,onChange:he=>ce(be=>({...be,vehicleId:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Select Vehicle"}),_.map(he=>o.jsxs("option",{value:he.id,children:[he.name||"Unnamed"," - ",he.make," ",he.model]},he.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),o.jsxs("select",{value:Y.serviceType,onChange:he=>ce(be=>({...be,serviceType:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Select Service"}),L.map(he=>o.jsxs("option",{value:he.value,children:[he.label," (",he.category,")"]},he.value))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),o.jsx("input",{type:"date",value:Y.date,onChange:he=>ce(be=>({...be,date:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage"}),o.jsx("input",{type:"number",value:Y.mileage,onChange:he=>ce(be=>({...be,mileage:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 45000"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),o.jsx("input",{type:"number",step:"0.01",value:Y.cost,onChange:he=>ce(be=>({...be,cost:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),o.jsx("input",{type:"number",value:Y.nextServiceMileage,onChange:he=>ce(be=>({...be,nextServiceMileage:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:ve?`Auto: ${(parseInt(Y.mileage)||0)+ve.interval}`:"Optional"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),o.jsx("input",{type:"text",value:Y.description,onChange:he=>ce(be=>({...be,description:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the service"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),o.jsx("textarea",{value:Y.notes,onChange:he=>ce(be=>({...be,notes:he.target.value})),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Additional notes, parts used, recommendations, etc."})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),o.jsx("button",{type:"button",onClick:pe,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:"Add Service Record"})]})]})]})}):null},X=()=>{const Y=[...e].sort((ce,ve)=>new Date(ve.date)-new Date(ce.date));return o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx(ec,{className:"text-blue-500",size:24}),"Maintenance History"]}),o.jsxs("button",{onClick:()=>{O(null),I(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(Ld,{size:18}),"Add Service"]})]}),Y.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Date"}),o.jsx("th",{className:"p-3",children:"Vehicle"}),o.jsx("th",{className:"p-3",children:"Service"}),o.jsx("th",{className:"p-3",children:"Mileage"}),o.jsx("th",{className:"p-3",children:"Cost"}),o.jsx("th",{className:"p-3",children:"Next Due"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{children:Y.map(ce=>{const ve=_.find(he=>he.id===ce.vehicleId),pe=L.find(he=>he.value===ce.serviceType);return o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"p-3",children:ce.date?new Date(ce.date).toLocaleDateString():"N/A"}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:ve?.name||"Unknown Vehicle"}),o.jsxs("div",{className:"text-xs text-slate-500",children:[ve?.make," ",ve?.model]})]})}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:pe?.label||ce.serviceType}),ce.description&&o.jsx("div",{className:"text-xs text-slate-500",children:ce.description})]})}),o.jsx("td",{className:"p-3 font-mono",children:(ce.mileage||0).toLocaleString()}),o.jsxs("td",{className:"p-3 font-mono",children:["$",(ce.cost||0).toFixed(2)]}),o.jsx("td",{className:"p-3 font-mono",children:ce.nextServiceMileage?ce.nextServiceMileage.toLocaleString():"N/A"}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>r("maintenanceLog",ce),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Service",children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>n("maintenanceLog",ce.id),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Service",children:o.jsx(fr,{size:16})})]})})]},ce.id)})})]})}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ec,{size:48,className:"text-slate-300 dark:text-slate-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mb-2",children:"No maintenance records yet"}),o.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-4",children:"Start tracking your vehicle maintenance and services"}),o.jsx("button",{onClick:()=>I(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Service"})]})]})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx(v0,{className:"text-blue-500",size:24}),"Fleet Overview"]}),_.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(M,{onImport:R}),o.jsxs("button",{onClick:F,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg transition-colors",children:[o.jsx(q1,{size:16}),"Export Vehicles"]}),o.jsxs("button",{onClick:$,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white px-3 py-2 rounded-lg transition-colors",children:[o.jsx(mn,{size:16}),"CSV Template"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[o.jsx(re,{title:"Total Vehicles",value:Q.totalVehicles,icon:fp,color:"text-blue-500"}),o.jsx(re,{title:"Active Fleet",value:Q.activeVehicles,icon:Di,color:"text-green-500",subtext:(Q.activeVehicles/(Q.totalVehicles||1)*100).toFixed(0)+"% active"}),o.jsx(re,{title:"Avg Mileage",value:Q.avgMileage.toLocaleString(),icon:z1,color:"text-purple-500",subtext:"miles per vehicle"}),o.jsx(re,{title:"Fleet Age",value:Q.avgAge+" yrs",icon:y0,color:"text-orange-500",subtext:"average age"}),o.jsx(re,{title:"High Mileage",value:Q.highMileageVehicles,icon:vi,color:"text-amber-500",subtext:">100k miles"}),o.jsx(re,{title:"Maintenance Cost",value:"$"+Q.totalMaintenanceCost.toLocaleString(),icon:Ur,color:"text-emerald-500",subtext:"this year"}),o.jsx(re,{title:"Overdue Services",value:Q.overdueMaintenance,icon:x0,color:Q.overdueMaintenance>0?"text-red-500":"text-green-500",subtext:"need attention",onClick:()=>C("maintenance")})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[o.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:o.jsxs("nav",{className:"flex",children:[o.jsx("button",{onClick:()=>C("vehicles"),className:`px-6 py-4 text-sm font-medium transition-colors ${T==="vehicles"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fp,{size:18}),"Vehicles (",_.length,")"]})}),o.jsx("button",{onClick:()=>C("maintenance"),className:`px-6 py-4 text-sm font-medium transition-colors ${T==="maintenance"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ec,{size:18}),"Maintenance (",e.length,")",Q.overdueMaintenance>0&&o.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1",children:Q.overdueMaintenance})]})})]})}),o.jsx("div",{className:"p-6",children:T==="vehicles"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Fleet Management"}),o.jsxs("div",{className:"flex items-center gap-2",children:[_.length>0&&o.jsxs("button",{onClick:()=>p(h==="grid"?"table":"grid"),className:"flex items-center gap-2 text-sm bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 px-3 py-2 rounded-lg transition-colors",children:[h==="grid"?o.jsx(mn,{size:16}):o.jsx(fp,{size:16}),h==="grid"?"Table View":"Grid View"]}),o.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(Ld,{size:18}),"Add Vehicle"]})]})]}),_.length>0&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),o.jsx("input",{type:"text",placeholder:"Search by name, make, model, license plate, or VIN...",value:i,onChange:Y=>a(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(au,{size:18,className:"text-slate-400"}),o.jsxs("select",{value:u,onChange:Y=>d(Y.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"maintenance",children:"In Maintenance"}),o.jsx("option",{value:"retired",children:"Retired"})]}),o.jsxs("select",{value:m,onChange:Y=>y(Y.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"name",children:"Sort by Name"}),o.jsx("option",{value:"mileage",children:"Sort by Mileage"}),o.jsx("option",{value:"year",children:"Sort by Year"}),o.jsx("option",{value:"make",children:"Sort by Make"})]}),o.jsx("button",{onClick:()=>k(x==="asc"?"desc":"asc"),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",title:"Sort "+(x==="asc"?"Descending":"Ascending"),children:o.jsx(vi,{size:18,className:x==="desc"?"rotate-180":""})})]})]}),_.length>0?h==="grid"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:te.map(Y=>{const ce=Z(Y),ve=se(Y);return o.jsxs("div",{className:"p-5 rounded-lg border-2 transition-all hover:shadow-lg group "+ce.bg+(A?" opacity-50":""),children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ce.icon,{size:24,className:ce.color}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:Y.name||"Unnamed Vehicle"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:ce.label})]})]}),o.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>{O(Y),I(!0)},className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Add Service",disabled:A,children:o.jsx(ec,{size:16})}),o.jsx("button",{onClick:()=>r("vehicle",Y),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Vehicle",disabled:A,children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>ee(Y.id,Y.name||"Unnamed Vehicle"),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Vehicle",disabled:A,children:o.jsx(fr,{size:16})})]})]}),ve.length>0&&o.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(__,{size:16,className:"text-amber-600"}),o.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Maintenance Alerts"})]}),o.jsxs("div",{className:"space-y-1",children:[ve.slice(0,2).map((pe,he)=>o.jsx("div",{className:"text-xs",children:o.jsxs("span",{className:pe.type==="overdue"?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300",children:[pe.service,": ",pe.type==="overdue"?`${pe.mileage} miles overdue`:`due in ${pe.mileage} miles`]})},he)),ve.length>2&&o.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:["+",ve.length-2," more alerts"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Make/Model"}),o.jsxs("span",{className:"font-medium",children:[Y.make||"N/A"," ",Y.model||"N/A"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Year"}),o.jsx("span",{className:"font-medium",children:Y.year||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"License"}),o.jsx("span",{className:"font-medium",children:Y.licensePlate||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Mileage"}),o.jsxs("span",{className:"font-medium",children:[(Y.currentMileage||0).toLocaleString()," mi"]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"VIN"}),o.jsx("span",{className:"font-medium text-xs",children:Y.vin||"N/A"})]})]})]},Y.id)})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Status"}),o.jsx("th",{className:"p-3",children:"Vehicle"}),o.jsx("th",{className:"p-3",children:"Make/Model"}),o.jsx("th",{className:"p-3",children:"Year"}),o.jsx("th",{className:"p-3",children:"License"}),o.jsx("th",{className:"p-3",children:"Mileage"}),o.jsx("th",{className:"p-3",children:"Alerts"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{children:te.map(Y=>{const ce=Z(Y),ve=se(Y);return o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50"+(A?" opacity-50":""),children:[o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ce.icon,{size:16,className:ce.color}),o.jsx("span",{className:"text-xs",children:ce.label})]})}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:Y.name||"Unnamed"}),Y.vin&&o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["VIN: ",Y.vin.slice(-6)]})]})}),o.jsxs("td",{className:"p-3",children:[Y.make||"N/A"," ",Y.model||"N/A"]}),o.jsx("td",{className:"p-3",children:Y.year||"N/A"}),o.jsx("td",{className:"p-3",children:Y.licensePlate||"N/A"}),o.jsx("td",{className:"p-3 font-mono",children:(Y.currentMileage||0).toLocaleString()}),o.jsx("td",{className:"p-3",children:ve.length>0?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(__,{size:14,className:"text-amber-500"}),o.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:[ve.length," alert",ve.length>1?"s":""]})]}):o.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:" Up to date"})}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>{O(Y),I(!0)},className:"p-1 text-slate-500 hover:text-green-600 transition-colors",title:"Add Service",disabled:A,children:o.jsx(ec,{size:16})}),o.jsx("button",{onClick:()=>r("vehicle",Y),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Vehicle",disabled:A,children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>ee(Y.id,Y.name||"Unnamed Vehicle"),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Vehicle",disabled:A,children:o.jsx(fr,{size:16})})]})})]},Y.id)})})]})}):o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-full mb-6",children:o.jsx(fp,{size:40,className:"text-slate-400 dark:text-slate-500"})}),o.jsx("h3",{className:"text-xl font-medium text-slate-500 dark:text-slate-400 mb-3",children:"No vehicles in your fleet yet"}),o.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-6 max-w-md mx-auto",children:"Start building your fleet by adding your first vehicle. Track maintenance, costs, and manage your entire fleet from one place."}),o.jsx("button",{onClick:()=>r("vehicle"),className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-lg transition-colors font-medium text-lg",disabled:A,children:"Add Your First Vehicle"})]})]}):o.jsx(X,{})})]}),o.jsx(W,{}),A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Deleting vehicle..."})]})})]})},eoe=()=>{const[t,e]=z.useState({netProfit:"",ownerSalary:"",ownerPerks:"",depreciation:"",amortization:"",interestExpense:""}),[r,n]=z.useState({recurringRevenue:0,ownerInvolvement:0,customerBase:0,profitabilityTrend:0,technicianTeam:0,brandMarketing:0}),[i,a]=z.useState(0),[l,u]=z.useState(2.75),[d,h]=z.useState(0);z.useEffect(()=>{const E=Object.values(t).map(P=>parseFloat(P)||0).reduce((P,O)=>P+O,0);a(E)},[t]),z.useEffect(()=>{const E=Object.values(r).reduce((P,O)=>P+O,0)/6;E<=.5?u(2+E*1.5):E<=1.5?u(2.75+(E-.5)*.75):u(3.5+(E-1.5)*2)},[r]),z.useEffect(()=>{h(i*l)},[i,l]);const p=(A,E)=>{e(P=>({...P,[A]:E}))},m=(A,E)=>{n(P=>({...P,[A]:E}))},y=A=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(A),x=()=>l<2.75?"Conservative Range":l<3.5?"Average Range":"Premium Range",k=()=>l<2.75?"text-red-600 dark:text-red-400":l<3.5?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",_=()=>{const E=[["HVAC Business Valuation Calculator"],[""],["Financial Information"],["Pre-Tax Net Profit",y(parseFloat(t.netProfit)||0)],["Owner Salary",y(parseFloat(t.ownerSalary)||0)],["Owner Perks",y(parseFloat(t.ownerPerks)||0)],["Depreciation",y(parseFloat(t.depreciation)||0)],["Amortization",y(parseFloat(t.amortization)||0)],["Interest Expense",y(parseFloat(t.interestExpense)||0)],["Seller Discretionary Earnings (SDE)",y(i)],[""],["Valuation Results"],["SDE",y(i)],["Multiple",l.toFixed(2)+"x"],["Estimated Business Value",y(d)]].map(I=>I.join(",")).join(`
`),P=new Blob([E],{type:"text/csv"}),O=window.URL.createObjectURL(P),N=document.createElement("a");N.href=O,N.download="hvac-business-valuation.csv",N.click(),window.URL.revokeObjectURL(O)},b=[{field:"recurringRevenue",title:"Recurring Revenue",icon:o.jsx(vi,{className:"w-5 h-5"}),options:["< 15% of revenue from service contracts","15% - 30% from service contracts","> 30% from stable service contracts"]},{field:"ownerInvolvement",title:"Owner Involvement",icon:o.jsx(la,{className:"w-5 h-5"}),options:["Business relies entirely on you","You are key, but have manager/lead tech","Business runs on systems, with or without you"]},{field:"customerBase",title:"Customer Base",icon:o.jsx(yc,{className:"w-5 h-5"}),options:["Top 5 customers > 30% of revenue","Some customer concentration exists","No single customer > 5% of revenue"]},{field:"profitabilityTrend",title:"Profitability Trend",icon:o.jsx(Ur,{className:"w-5 h-5"}),options:["Profits flat, declining, or unpredictable","Profits stable and consistent","Clear year-over-year profit growth"]},{field:"technicianTeam",title:"Technician Team",icon:o.jsx(la,{className:"w-5 h-5"}),options:["High turnover; hard to find help","Stable team, normal turnover","Experienced, loyal techs, low turnover"]},{field:"brandMarketing",title:"Brand & Marketing",icon:o.jsx(k8,{className:"w-5 h-5"}),options:["Little online presence; word-of-mouth only","Basic website and some reviews","Strong brand, great reviews, active marketing"]}];return o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[o.jsx("div",{className:"bg-blue-600 text-white p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(xc,{className:"w-8 h-8"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"HVAC Business Valuation Calculator"}),o.jsx("p",{className:"text-blue-100 mt-1",children:"Calculate your Seller's Discretionary Earnings (SDE) and estimate your business value"})]})]})}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 p-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-white",children:"Financial Information"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Enter your typical annual figures to calculate your SDE:"}),o.jsx("div",{className:"space-y-4",children:[{key:"netProfit",label:"Pre-Tax Net Profit",desc:"From your income statement"},{key:"ownerSalary",label:"+ Owner's Salary",desc:"Your total salary and distributions"},{key:"ownerPerks",label:"+ Owner's Perks",desc:"Health insurance, vehicle costs, etc."},{key:"depreciation",label:"+ Depreciation",desc:"From income statement or tax return"},{key:"amortization",label:"+ Amortization",desc:"From your income statement"},{key:"interestExpense",label:"+ Interest Expense",desc:"Total interest on business debt"}].map(({key:A,label:E,desc:P})=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:E}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:P})]}),o.jsx("div",{className:"w-32",children:o.jsx("input",{type:"number",value:t[A],onChange:O=>p(A,O.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})})]},A))}),o.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Seller's Discretionary Earnings (SDE)"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Your total earnings figure"})]}),o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y(i)})]})})]}),o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6 border-2 border-green-200 dark:border-green-800",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4 text-green-800 dark:text-green-200",children:"Final Valuation"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Your SDE:"}),o.jsx("span",{className:"font-semibold",children:y(i)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"x Valuation Multiple:"}),o.jsxs("span",{className:`font-semibold ${k()}`,children:[l.toFixed(2),"x (",x(),")"]})]}),o.jsx("div",{className:"border-t pt-2",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Estimated Business Value:"}),o.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:y(d)})]})})]}),o.jsxs("button",{onClick:_,className:"mt-4 w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[o.jsx(q1,{className:"w-4 h-4"}),"Export Results to CSV"]})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-white",children:"Valuation Multiple Scorecard"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Rate each factor to determine your valuation multiple:"}),o.jsx("div",{className:"space-y-6",children:b.map(({field:A,title:E,icon:P,options:O})=>o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[P,o.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:E})]}),o.jsx("div",{className:"space-y-2",children:O.map((N,I)=>o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[o.jsx("input",{type:"radio",name:A,value:I,checked:r[A]===I,onChange:T=>m(A,parseInt(T.target.value)),className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 focus:ring-blue-500"}),o.jsx("span",{className:`text-sm group-hover:text-blue-600 dark:group-hover:text-blue-400 ${I===0?"text-red-600 dark:text-red-400":I===1?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`,children:N})]},I))})]},A))}),o.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"How to Interpret Your Multiple:"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Conservative (2.0x - 2.75x):"})," Higher risk factors present"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Average (2.75x - 3.5x):"})," Mixed risk profile"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Premium (3.5x - 4.5x+):"})," Lower risk, strong fundamentals"]})]})]})]})})]})})]}),o.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-6 border-t",children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Example Calculation:"}),o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"An HVAC business with $200,000 SDE, solid service contracts, stable team, and growing profits might earn a 3.5x multiple: $200,000  3.5 = $700,000 estimated value."})]}),o.jsx("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:o.jsxs("p",{children:[o.jsx("strong",{children:"Disclaimer:"})," This calculator provides estimates for informational purposes only. Actual business valuations may vary significantly based on market conditions, buyer preferences, and other factors not captured in this tool. Consult with a business broker or valuation professional for a comprehensive analysis."]})})]})]})},toe=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:l,setSelectedIds:u,handleImportCSV:d,handleExportCSV:h})=>{const p=[{key:"name",header:"Item Name",render:x=>o.jsx("span",{className:"font-medium",children:x.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:x=>o.jsx("span",{children:x.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:x=>o.jsxs("span",{className:"font-mono",children:["$",(x.cost||0).toFixed(2)]})}],m=z.useMemo(()=>t.filter(x=>(x.name||"").toLowerCase().includes(i.toLowerCase())),[t,i]),y=x=>{x.target.checked?u(m.map(k=>k.id)):u([])};return o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search Inventory...",value:i,onChange:x=>a(x.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),l.length>0&&o.jsxs("button",{onClick:()=>n("inventory",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(fr,{size:16})," Delete (",l.length,")"]}),o.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:x=>d(x.target.files[0],"inventory")}),o.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[o.jsx(ro,{size:16})," Import CSV"]}),o.jsxs("button",{onClick:()=>h(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mn,{size:16})," Export to CSV"]}),o.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(In,{size:16})," Add New"]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:o.jsx("input",{type:"checkbox",onChange:y})}),p.map(x=>o.jsx("th",{className:`p-3 ${x.className||""}`,children:x.header},x.key)),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:m.map(x=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[o.jsx("td",{className:"p-3",children:o.jsx("input",{type:"checkbox",checked:l.includes(x.id),onChange:()=>{u(k=>k.includes(x.id)?k.filter(_=>_!==x.id):[...k,x.id])}})}),p.map(k=>o.jsx("td",{className:`p-3 ${k.className||""}`,children:k.render(x)},k.key)),o.jsxs("td",{className:"p-3 text-center",children:[o.jsx("button",{onClick:()=>e("inventory",x),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>r("inventory",x.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:o.jsx(fr,{size:16})})]})]},x.id))})]})})]})},roe=({clients:t,jobs:e,bills:r,inventory:n})=>{const i=z.useMemo(()=>t.map(u=>{const d=e.filter(m=>m.clientId===u.id),h=d.reduce((m,y)=>m+(y.revenue||0),0),p=d.reduce((m,y)=>m+(y.materialCost||0)+(y.laborCost||0),0);return{name:u.name,netProfit:h-p}}).sort((u,d)=>d.netProfit-u.netProfit),[t,e]),a=z.useMemo(()=>{const u={},d=new Date;return d.setMonth(d.getMonth()-12),e.forEach(h=>{if(h.date&&new Date(h.date)>d){const p=new Date(h.date).toISOString().slice(0,7);u[p]||(u[p]={revenue:0,expenses:0}),u[p].revenue+=h.revenue||0}}),r.forEach(h=>{const p=h.createdAt?.toDate?h.createdAt.toDate():new Date;if(p>d){const m=p.toISOString().slice(0,7);u[m]||(u[m]={revenue:0,expenses:0}),u[m].expenses+=h.amount||0}}),Object.keys(u).map(h=>({month:h,Revenue:u[h].revenue,Expenses:u[h].expenses})).sort((h,p)=>h.month.localeCompare(p.month))},[e,r]),l=z.useMemo(()=>n.map(u=>({name:u.name,totalValue:(u.quantity||0)*(u.cost||0)})).sort((u,d)=>d.totalValue-u.totalValue),[n]);return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),o.jsx(fj,{width:"100%",height:300,children:o.jsxs(z6,{data:a,children:[o.jsx(Qj,{strokeDasharray:"3 3"}),o.jsx(Wh,{dataKey:"month",stroke:"#64748b"}),o.jsx(Hh,{stroke:"#64748b",tickFormatter:u=>`$${u/1e3}k`}),o.jsx(fi,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:u=>`$${u.toLocaleString()}`}),o.jsx(Hs,{}),o.jsx(fa,{dataKey:"Revenue",fill:"#22c55e"}),o.jsx(fa,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Client"}),o.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),o.jsx("tbody",{children:i.map(u=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[o.jsx("td",{className:"p-3 font-medium",children:u.name}),o.jsxs("td",{className:`p-3 text-right font-mono ${u.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",u.netProfit.toFixed(2)]})]},u.name))})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Item"}),o.jsx("th",{className:"p-3 text-center",children:"Quantity"}),o.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),o.jsx("tbody",{children:l.map(u=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[o.jsx("td",{className:"p-3 font-medium",children:u.name}),o.jsx("td",{className:"p-3 text-center",children:n.find(d=>d.name===u.name)?.quantity}),o.jsxs("td",{className:"p-3 text-right font-mono",children:["$",u.totalValue.toFixed(2)]})]},u.name))})]})})]})]})},noe=({bills:t,paidStatus:e,onClose:r})=>{const n=z.useMemo(()=>{const i=new Date,a=new Date;return a.setDate(i.getDate()+3),t.filter(l=>{if(e[l.id])return!1;const u=new Date(i.getFullYear(),i.getMonth(),l.dueDay);return u>=i&&u<=a})},[t,e]);return n.length===0?null:o.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(__,{size:20,className:"mr-3"}),o.jsxs("div",{children:[o.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),o.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(i=>o.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),o.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:o.jsx(su,{size:18})})]})},ioe=({data:t,onSliceClick:e})=>{const[r,n]=z.useState(0),i=z.useCallback((l,u)=>{n(u)},[n]),a=l=>{const{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:y,fill:x,payload:k}=l;return o.jsxs("g",{className:"cursor-pointer",onClick:()=>e(k.name),children:[o.jsx("text",{x:u,y:d,dy:8,textAnchor:"middle",fill:x,className:"font-bold text-lg",children:k.name}),o.jsx(Fj,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:y,fill:x})]})};return o.jsx(fj,{width:"100%",height:300,children:o.jsxs(Hse,{children:[o.jsx(fi,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:l=>`$${l.toFixed(2)}`}),o.jsx(ss,{activeIndex:r,activeShape:a,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:l=>e(l.name),children:t.map((l,u)=>o.jsx(I0,{fill:l.color},`cell-${u}`))})]})})},aoe=({invoices:t=[],bills:e=[],weeklyCosts:r=[],currentBankBalance:n=0,setCurrentBankBalance:i})=>{const a=t.filter(y=>y.status==="Unpaid"),l=a.reduce((y,x)=>y+(x.grandTotal||0),0),u=e.reduce((y,x)=>y+(x.amount||0),0),d=r.reduce((y,x)=>y+(x.amount||0),0)*4.33,h=u+d,p=n+l-h,m=()=>{const y=prompt("Enter current bank balance:",n);if(y!==null&&!isNaN(y)&&y.trim()!==""){const x=parseFloat(y);x>=0?i(x):alert("Please enter a positive number for the balance.")}};return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"Cash Flow Forecast"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Current Balance"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",n.toLocaleString()]})]}),o.jsx(Ur,{className:"text-blue-600 dark:text-blue-400",size:24})]}),o.jsx("button",{onClick:m,className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline cursor-pointer",children:"Update Balance"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Click to update your current bank balance"})]}),o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Pending Revenue"}),o.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["$",l.toLocaleString()]})]}),o.jsx(vi,{className:"text-green-600 dark:text-green-400",size:24})]}),o.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[a.length," unpaid invoices"]})]}),o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Monthly Expenses"}),o.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:["$",h.toLocaleString()]})]}),o.jsx(S4,{className:"text-red-600 dark:text-red-400",size:24})]}),o.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Bills + Weekly costs"})]}),o.jsxs("div",{className:`${p>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"} p-4 rounded-lg`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:`text-sm font-medium ${p>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"Projected Balance"}),o.jsxs("p",{className:`text-2xl font-bold ${p>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["$",p.toLocaleString()]})]}),p>=0?o.jsx(vi,{className:"text-green-600 dark:text-green-400",size:24}):o.jsx(Pc,{className:"text-red-600 dark:text-red-400",size:24})]}),o.jsx("p",{className:`text-xs mt-1 ${p>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"After collections & expenses"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Pending Collections"}),o.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:a.length>0?a.map((y,x)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:y.billTo||y.customer||"Unknown Client"}),o.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Due: ",y.dueDate||"No date"]})]}),o.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:["$",(y.grandTotal||0).toLocaleString()]})]},x)):o.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No pending invoices"})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Monthly Obligations"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Monthly Bills"}),o.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",u.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Weekly Costs (Monthly)"}),o.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",d.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border-t-2 border-slate-300 dark:border-slate-500",children:[o.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:"Total Expenses"}),o.jsxs("span",{className:"font-bold text-red-700 dark:text-red-300 text-lg",children:["$",h.toLocaleString()]})]})]})]})]}),p<0&&o.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pc,{className:"text-red-600 dark:text-red-400",size:20}),o.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Cash Flow Alert"})]}),o.jsx("p",{className:"text-red-700 dark:text-red-300 mt-2",children:"Your projected balance is negative. Consider following up on pending invoices or reducing expenses."})]}),n===0&&o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ur,{className:"text-blue-600 dark:text-blue-400",size:20}),o.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Update Your Balance"})]}),o.jsx("p",{className:"text-blue-700 dark:text-blue-300 mt-2",children:'Click "Update Balance" above to enter your current bank balance for accurate cash flow forecasting.'})]})]})})},soe=({title:t,data:e,columns:r,type:n,searchTerm:i,setSearchTerm:a,handleImportCSV:l,handleExportCSV:u,openModal:d,handleDelete:h,debtPayoffStrategies:p})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),o.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[o.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:m=>a(m.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:m=>l(m.target.files[0],n)}),o.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[o.jsx(ro,{size:16})," Import CSV"]})]}),o.jsxs("button",{onClick:()=>u(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mn,{size:16})," Export to CSV"]}),o.jsxs("button",{onClick:()=>d(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(In,{size:16})," Add New"]})]})]}),n==="debt"&&p&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),o.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),o.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.avalanche.map(m=>o.jsxs("li",{children:[m.name," ",o.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",m.interestRate,"%)"]})]},m.id))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),o.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),o.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.snowball.map(m=>o.jsxs("li",{children:[m.name," ",o.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(m.totalAmount-m.paidAmount).toFixed(2),")"]})]},m.id))})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[r.map(m=>o.jsx("th",{className:`p-3 ${m.className||""}`,children:m.header},m.key)),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:e.map(m=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(y=>o.jsx("td",{className:`p-3 ${y.className||""}`,children:y.render(m)},y.key)),o.jsxs("td",{className:"p-3 text-center",children:[o.jsx("button",{onClick:()=>d(n,m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>h(n,m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:o.jsx(fr,{size:16})})]})]},m.id))})]})})]}),ooe=({jobs:t,clients:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:a,handleImportCSV:l,handleExportCSV:u})=>{const d=[{key:"name",header:"Job/Client",render:h=>o.jsx("span",{className:"font-medium",children:h.name})},{key:"client",header:"Client",render:h=>o.jsx("span",{children:e.find(p=>p.id===h.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:h=>o.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(h.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:h=>o.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(h.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:h=>o.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(h.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:h=>o.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((h.revenue||0)-(h.materialCost||0)-(h.laborCost||0)).toFixed(2)]})}];return o.jsx(soe,{title:"Job Profitability",data:t,columns:d,type:"job",searchTerm:i,setSearchTerm:a,handleImportCSV:l,handleExportCSV:u,openModal:r,handleDelete:n})},loe=({jobs:t,bills:e,weeklyCosts:r,reportingPeriod:n,dateRange:i})=>{const a=z.useMemo(()=>{const u=t.filter(E=>{if(!E.date)return!1;const P=new Date(E.date);return P>=i.start&&P<=i.end}),d=u.reduce((E,P)=>E+(P.revenue||0),0),h=u.reduce((E,P)=>E+(P.materialCost||0)+(P.laborCost||0),0),p=d-h,m=(i.end-i.start)/(1e3*60*60*24*30.44),y=e.reduce((E,P)=>{const O=P.category||"Uncategorized";return E[O]=(E[O]||0)+P.amount,E},{}),x=r.reduce((E,P)=>E+P.amount,0)*m;x>0&&(y["Weekly & Misc"]=(y["Weekly & Misc"]||0)+x);const k=Object.values(y).reduce((E,P)=>E+P,0),_=p-k,b=d>0?p/d*100:0,A=d>0?_/d*100:0;return{revenue:d,cogs:h,grossProfit:p,operatingExpenses:k,expensesByCategory:y,netProfit:_,grossProfitMargin:b,netProfitMargin:A}},[t,e,r,i]),l=()=>{const u={month:"long",year:"numeric"};if(n==="monthly")return`For the Month of ${i.start.toLocaleString("default",u)}`;if(n==="quarterly"){const d={month:"long",day:"numeric",year:"numeric"};return`For the Quarter Ending ${i.end.toLocaleDateString("default",d)}`}return n==="yearly"?`For the Year ${i.start.getFullYear()}`:""};return o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Profit & Loss Statement"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:l()}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 font-semibold",children:[o.jsx("span",{children:"Total Revenue"}),o.jsxs("span",{className:"font-mono",children:["$",a.revenue.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),o.jsxs("span",{className:"font-mono",children:["($",a.cogs.toFixed(2),")"]})]}),o.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),o.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-lg",children:[o.jsx("span",{children:"Gross Profit"}),o.jsxs("span",{className:"font-mono",children:["$",a.grossProfit.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[o.jsx("span",{children:"Gross Profit Margin"}),o.jsxs("span",{className:"font-mono",children:[a.grossProfitMargin.toFixed(1),"%"]})]}),o.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),o.jsx("div",{className:"p-3 font-semibold",children:o.jsx("span",{children:"Operating Expenses"})}),Object.entries(a.expensesByCategory).map(([u,d])=>o.jsxs("div",{className:"flex justify-between items-center p-1 pl-8",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:u}),o.jsxs("span",{className:"font-mono",children:["($",d.toFixed(2),")"]})]},u)),o.jsxs("div",{className:"flex justify-between items-center p-3 pl-8 font-semibold",children:[o.jsx("span",{children:"Total Operating Expenses"}),o.jsxs("span",{className:"font-mono",children:["($",a.operatingExpenses.toFixed(2),")"]})]}),o.jsx("hr",{className:"border-slate-300 dark:border-slate-600 my-2 border-2"}),o.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-xl",style:{color:a.netProfit>=0?"#22c55e":"#ef4444"},children:[o.jsx("span",{children:"Net Profit"}),o.jsx("span",{className:"font-mono",children:a.netProfit<0?`-$${Math.abs(a.netProfit).toFixed(2)}`:`$${a.netProfit.toFixed(2)}`})]}),o.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[o.jsx("span",{children:"Net Profit Margin"}),o.jsxs("span",{className:"font-mono",children:[a.netProfitMargin.toFixed(1),"%"]})]})]})]})},coe=({debts:t=[],openModal:e,handleDelete:r,searchTerm:n,setSearchTerm:i,handleImportCSV:a,handleExportCSV:l,debtPayoffStrategies:u={avalanche:[],snowball:[]}})=>{const[d,h]=z.useState("overview"),[p,m]=z.useState("avalanche"),[y,x]=z.useState(500),k=z.useMemo(()=>{const N=t.reduce((R,F)=>R+(F.totalAmount||0),0),I=t.reduce((R,F)=>R+(F.paidAmount||0),0),T=N-I,C=t.length>0?t.reduce((R,F)=>R+(F.interestRate||0),0)/t.length:0,L=Math.max(...t.map(R=>R.interestRate||0)),M=Math.min(...t.map(R=>(R.totalAmount||0)-(R.paidAmount||0)));return{totalDebt:N,totalPaid:I,totalRemaining:T,avgInterestRate:C,highestInterest:L,lowestBalance:M===1/0?0:M,payoffProgress:N>0?I/N*100:0}},[t]),_=N=>{const I=u[N]||[];let T=[],C=0,L=y;return I.forEach((M,R)=>{const F=(M.totalAmount||0)-(M.paidAmount||0),$=(M.interestRate||0)/100/12;if(F>0&&L>0){const ee=Math.ceil(Math.log(1+F*$/L)/Math.log(1+$));T.push({...M,monthsToPayoff:isFinite(ee)?ee:0,order:R+1,remaining:F}),C=Math.max(C,ee)}}),{timeline:T,totalMonthsToPayoff:C}},b=_("avalanche"),A=_("snowball"),E=z.useMemo(()=>n?t.filter(N=>N.name?.toLowerCase().includes(n.toLowerCase())||N.creditor?.toLowerCase().includes(n.toLowerCase())):t,[t,n]),P=N=>(N.totalAmount||0)-(N.paidAmount||0)<=0?"text-green-600 dark:text-green-400":N.interestRate>20?"text-red-600 dark:text-red-400":N.interestRate>10?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400",O=N=>N.interestRate>20?o.jsx(Pc,{className:"text-red-500",size:16}):N.interestRate>10?o.jsx(vi,{className:"text-yellow-500",size:16}):o.jsx(Di,{className:"text-green-500",size:16});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Debt Management"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Track debts, plan payoffs, and achieve financial freedom"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:()=>a&&a(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(ro,{size:16}),"Import"]}),o.jsxs("button",{onClick:()=>l&&l(t,"debts"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(q1,{size:16}),"Export"]}),o.jsxs("button",{onClick:()=>e("debt"),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(In,{size:18}),"Add Debt"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Debt"}),o.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",k.totalDebt.toLocaleString()]})]}),o.jsx(Gv,{className:"text-red-600 dark:text-red-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Remaining: $",k.totalRemaining.toLocaleString()]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Paid Off"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",k.totalPaid.toLocaleString()]})]}),o.jsx(Di,{className:"text-green-600 dark:text-green-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[k.payoffProgress.toFixed(1),"% complete"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Avg Interest"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[k.avgInterestRate.toFixed(1),"%"]})]}),o.jsx(j4,{className:"text-orange-600 dark:text-orange-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Highest: ",k.highestInterest,"%"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Debts"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.filter(N=>N.totalAmount-N.paidAmount>0).length})]}),o.jsx(v0,{className:"text-blue-600 dark:text-blue-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",t.length," total"]})]})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsxs("button",{onClick:()=>h("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="overview"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[o.jsx(Gv,{size:16}),"Overview"]}),o.jsxs("button",{onClick:()=>h("strategies"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="strategies"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[o.jsx($d,{size:16}),"Payoff Strategies"]}),o.jsxs("button",{onClick:()=>h("calculator"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="calculator"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[o.jsx(xc,{size:16}),"Calculator"]})]})}),d==="overview"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search debts...",value:n,onChange:N=>i(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:E.length===0?o.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[o.jsx(Gv,{size:48,className:"mx-auto mb-4 opacity-50"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No debts found"}),o.jsx("p",{className:"mb-4",children:"Add your debts to start tracking and planning payoffs."}),o.jsx("button",{onClick:()=>e("debt"),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Debt"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Debt Details"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Interest Rate"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Amount"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Paid"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Remaining"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Progress"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:E.map(N=>{const I=(N.totalAmount||0)-(N.paidAmount||0),T=N.totalAmount>0?(N.paidAmount||0)/N.totalAmount*100:0;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[O(N),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:N.name}),N.creditor&&o.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:N.creditor})]})]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("span",{className:`font-mono font-semibold ${P(N)}`,children:[(N.interestRate||0).toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("span",{className:"font-mono text-slate-900 dark:text-white",children:["$",(N.totalAmount||0).toLocaleString()]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(N.paidAmount||0).toLocaleString()]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",I.toLocaleString()]})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(T,100)}%`}})}),o.jsxs("div",{className:"text-xs text-center mt-1 text-slate-500 dark:text-slate-400",children:[T.toFixed(1),"%"]})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("button",{onClick:()=>e("debt",N),className:"text-slate-400 hover:text-blue-500 transition-colors",title:"Edit debt",children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>r("debt",N.id),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Delete debt",children:o.jsx(fr,{size:16})})]})})]},N.id)})})]})})})]}),d==="strategies"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Strategies"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="avalanche"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("avalanche"),children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(S4,{className:"text-purple-600",size:20}),o.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Avalanche"})]}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with highest interest rates first. Saves more money on interest."}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",b.totalMonthsToPayoff," months"]})]}),o.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="snowball"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("snowball"),children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(E8,{className:"text-purple-600",size:20}),o.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Snowball"})]}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off smallest balances first. Builds momentum and motivation."}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",A.totalMonthsToPayoff," months"]})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Monthly Debt Payment Budget"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"number",value:y,onChange:N=>x(parseFloat(N.target.value)||0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"500"})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:[p==="avalanche"?"Avalanche":"Snowball"," Payoff Plan"]}),o.jsx("div",{className:"space-y-4",children:(p==="avalanche"?b.timeline:A.timeline).map((N,I)=>o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:N.order}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:N.name}),o.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["$",N.remaining.toLocaleString()," remaining at ",N.interestRate,"%"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:[N.monthsToPayoff," months"]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"to pay off"})]})]},N.id))})]})]}),d==="calculator"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Calculator"}),o.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400 py-12",children:[o.jsx(xc,{size:48,className:"mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Advanced debt calculator coming soon!"}),o.jsx("p",{className:"text-sm mt-2",children:"Calculate exact payoff dates, interest savings, and payment schedules."})]})]})]})},uoe=({incomes:t,openModal:e,handleDelete:r})=>{const[n,i]=z.useState(""),[a,l]=z.useState("all"),[u,d]=z.useState("all"),[h,p]=z.useState({key:"amount",direction:"desc"}),m=["all","monthly","weekly","quarterly","annually","one-time","project-based"],y=["all","active","pending","completed","paused"],x=z.useMemo(()=>t.filter(N=>{const I=N.name.toLowerCase().includes(n.toLowerCase())||N.notes&&N.notes.toLowerCase().includes(n.toLowerCase()),T=a==="all"||N.type===a,C=u==="all"||N.status===u;return I&&T&&C}).sort((N,I)=>{if(h.key==="amount"){const T=parseFloat(N.amount)||0,C=parseFloat(I.amount)||0;return h.direction==="asc"?T-C:C-T}return h.key==="name"?h.direction==="asc"?N.name.localeCompare(I.name):I.name.localeCompare(N.name):0}),[t,n,a,u,h]),k=z.useMemo(()=>{const O=t.filter(R=>R.status!=="completed"&&R.status!=="paused"),I=O.map(R=>{const F=parseFloat(R.amount)||0;switch(R.type){case"weekly":return F*4.33;case"quarterly":return F/3;case"annually":return F/12;case"monthly":default:return F}}).reduce((R,F)=>R+F,0),T=I*12,C=t.reduce((R,F)=>{const $=F.type||"monthly",ee=parseFloat(F.amount)||0;return R[$]=(R[$]||0)+ee,R},{}),L=t.reduce((R,F)=>{const $=F.status||"active";return R[$]=(R[$]||0)+1,R},{}),M=t.reduce((R,F)=>{const $=parseFloat(F.amount)||0;return $>R.amount?{name:F.name,amount:$}:R},{name:"None",amount:0});return{totalMonthlyIncome:I,totalAnnualIncome:T,typeBreakdown:C,statusBreakdown:L,highestIncome:M,activeCount:O.length,totalCount:t.length,averageIncome:O.length>0?I/O.length:0}},[t]),_=O=>{p(N=>({key:O,direction:N.key===O&&N.direction==="desc"?"asc":"desc"}))},b=O=>{switch(O){case"active":return o.jsx(Di,{size:14,className:"text-green-500"});case"pending":return o.jsx(y0,{size:14,className:"text-yellow-500"});case"completed":return o.jsx(Di,{size:14,className:"text-blue-500"});case"paused":return o.jsx(Pc,{size:14,className:"text-red-500"});default:return o.jsx(Di,{size:14,className:"text-green-500"})}},A=O=>{const N={monthly:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",weekly:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200",quarterly:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200",annually:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200","one-time":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200","project-based":"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-800 dark:text-cyan-200"};return N[O]||N.monthly},E=(O,N)=>{const I=parseFloat(O)||0;switch(N){case"weekly":return I*4.33;case"quarterly":return I/3;case"annually":return I/12;case"monthly":default:return I}},P=()=>{if(t.length===0){alert("No income sources to export.");return}try{const O=["Source Name","Amount","Type","Monthly Equivalent","Annual Equivalent","Status","Recurring","Notes"],N=t.map(M=>[M.name||"",(parseFloat(M.amount)||0).toFixed(2),M.type||"monthly",E(M.amount,M.type).toFixed(2),(E(M.amount,M.type)*12).toFixed(2),M.status||"active",M.isRecurring?"Yes":"No",M.notes||""]),I=[O.join(","),...N.map(M=>M.map(R=>typeof R=="string"&&R.includes(",")?`"${R}"`:R).join(","))].join(`
`),T=new Blob([I],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),L=URL.createObjectURL(T);C.setAttribute("href",L),C.setAttribute("download",`income_sources_${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C),alert(`Successfully exported ${t.length} income sources!`)}catch(O){console.error("Error exporting CSV:",O),alert("Failed to export CSV: "+O.message)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Income"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",k.totalMonthlyIncome.toLocaleString()]})]}),o.jsx(Ur,{className:"text-green-600 dark:text-green-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[k.activeCount," active sources"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Projection"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",k.totalAnnualIncome.toLocaleString()]})]}),o.jsx(vi,{className:"text-blue-600 dark:text-blue-400",size:24})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Based on current rates"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Average Income"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",k.averageIncome.toLocaleString()]})]}),o.jsx(v0,{className:"text-purple-600 dark:text-purple-400",size:24})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Per active source/month"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Source"}),o.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 truncate",children:k.highestIncome.name})]}),o.jsx($d,{className:"text-orange-600 dark:text-orange-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",k.highestIncome.amount.toLocaleString()]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Income Sources"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your revenue streams and income sources"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:P,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mn,{size:16}),"Export CSV"]}),o.jsxs("button",{onClick:()=>e("income"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(In,{size:16}),"Add Income Source"]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search income sources...",value:n,onChange:O=>i(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(au,{className:"text-slate-400",size:16}),o.jsx("select",{value:a,onChange:O=>l(O.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:m.map(O=>o.jsx("option",{value:O,children:O==="all"?"All Types":O.charAt(0).toUpperCase()+O.slice(1).replace("-"," ")},O))}),o.jsx("select",{value:u,onChange:O=>d(O.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:y.map(O=>o.jsx("option",{value:O,children:O==="all"?"All Status":O.charAt(0).toUpperCase()+O.slice(1)},O))})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>_("name"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Income Source",h.key==="name"&&o.jsx("span",{children:h.direction==="asc"?"":""})]})}),o.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>_("amount"),children:o.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Amount",h.key==="amount"&&o.jsx("span",{children:h.direction==="asc"?"":""})]})}),o.jsx("th",{className:"p-3",children:"Type"}),o.jsx("th",{className:"p-3 text-right",children:"Monthly Equiv."}),o.jsx("th",{className:"p-3 text-right",children:"Annual Equiv."}),o.jsx("th",{className:"p-3",children:"Status"}),o.jsx("th",{className:"p-3",children:"Recurring"}),o.jsx("th",{className:"p-3",children:"Notes"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:x.length>0?x.map(O=>{const N=parseFloat(O.amount)||0,I=E(N,O.type),T=I*12;return o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"p-3",children:o.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:O.name})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",N.toFixed(2)]})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${A(O.type)}`,children:(O.type||"monthly").replace("-"," ")})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["$",I.toFixed(2)]})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",T.toLocaleString()]})}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-1",children:[b(O.status),o.jsx("span",{className:"text-xs capitalize",children:O.status||"active"})]})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O.isRecurring?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}`,children:O.isRecurring?"Yes":"No"})}),o.jsx("td",{className:"p-3 max-w-xs",children:o.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:O.notes&&O.notes.length>30?`${O.notes.substring(0,30)}...`:O.notes||""})}),o.jsx("td",{className:"p-3 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>e("income",O),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit income source",children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>r("income",O.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete income source",children:o.jsx(fr,{size:16})})]})})]},O.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||a!=="all"||u!=="all"?o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ja,{size:24,className:"text-slate-400"}),o.jsx("span",{children:"No income sources match your search criteria"}),o.jsx("button",{onClick:()=>{i(""),l("all"),d("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ur,{size:24,className:"text-slate-400"}),o.jsx("span",{children:"No income sources added yet"}),o.jsx("button",{onClick:()=>e("income"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first income source"})]})})})})]})}),x.length>0&&o.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:o.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",x.length," of ",t.length," income sources"]})}),o.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[o.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Monthly: $",x.reduce((O,N)=>O+E(N.amount,N.type),0).toFixed(2)]}),o.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["Annual: $",(x.reduce((O,N)=>O+E(N.amount,N.type),0)*12).toLocaleString()]})]})]})})]}),k.totalCount>=1&&k.highestIncome.amount>k.totalMonthlyIncome*.7&&o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pc,{className:"text-amber-600 dark:text-amber-400",size:20}),o.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Income Diversification Alert"})]}),o.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["Your top income source (",k.highestIncome.name,") represents over 70% of your total income. Consider diversifying your income streams to reduce financial risk."]})]})]})},doe=({goalsWithProgress:t=[],openModal:e,onDeleteGoal:r,onEditGoal:n})=>{const[i,a]=z.useState(null),[l,u]=z.useState(!1),[d,h]=z.useState({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),p=E=>{a(E)},m=E=>{r(E),a(null)},y=()=>{a(null)},x=E=>E>=100?"from-green-500 to-emerald-500":E>=80?"from-green-500 to-green-600":E>=50?"from-yellow-500 to-orange-500":E>=25?"from-orange-500 to-red-500":"from-red-500 to-red-600",k=E=>{const P=new Date,N=new Date(E)-P,I=Math.ceil(N/(1e3*60*60*24));return I<0?{text:"Overdue",color:"text-red-500",bgColor:"bg-red-100 dark:bg-red-900/20"}:I===0?{text:"Due Today",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:I===1?{text:"1 day left",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:I<=7?{text:`${I} days left`,color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/20"}:I<=30?{text:`${I} days left`,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/20"}:{text:`${I} days left`,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-700"}},_=E=>{const P=E.target-E.current,O=Math.ceil((new Date(E.deadline)-new Date)/(1e3*60*60*24));return O>0?Math.ceil(P/O):0},b=(E,P)=>{console.log("Update goal progress:",E,P)},A=E=>{E.preventDefault(),d.name&&d.target&&d.deadline&&(e("goal",{name:d.name,description:d.description,targetValue:Number(d.target),current:Number(d.current),deadline:d.deadline,type:d.type}),h({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),u(!1))};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-100 to-blue-100 dark:from-cyan-900/30 dark:to-blue-900/30 rounded-lg",children:o.jsx($d,{className:"w-6 h-6 text-cyan-600 dark:text-cyan-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.filter(E=>E.progress>=100).length," of ",t.length," completed"]})]})]}),o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[o.jsx(Ld,{size:16}),"Add Goal"]})]}),t.length>0&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg",children:o.jsx(Di,{className:"text-green-600 dark:text-green-400",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Completed"}),o.jsx("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:t.filter(E=>E.progress>=100).length})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg",children:o.jsx(vi,{className:"text-blue-600 dark:text-blue-400",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"In Progress"}),o.jsx("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:t.filter(E=>E.progress>0&&E.progress<100).length})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-800 rounded-lg",children:o.jsx(y0,{className:"text-orange-600 dark:text-orange-400",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Total Value"}),o.jsxs("p",{className:"text-xl font-bold text-orange-800 dark:text-orange-200",children:["$",t.reduce((E,P)=>E+(P.targetValue||0),0).toLocaleString()]})]})]})})]}),o.jsx("div",{className:"space-y-4",children:t.length===0?o.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[o.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:o.jsx($d,{size:32,className:"opacity-50"})}),o.jsx("h4",{className:"font-semibold text-lg mb-2",children:"No financial goals yet"}),o.jsx("p",{className:"text-sm mb-4",children:"Set your first goal and start tracking your financial progress!"}),o.jsx("button",{onClick:()=>u(!0),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create Your First Goal"})]}):t.map(E=>{const P=E.progress||0,O=P>=100,N=(E.targetValue||0)-(E.current||0),I=k(E.deadline),T=x(P),C=I.text==="Overdue",L=_({target:E.targetValue||0,current:E.current||0,deadline:E.deadline});return o.jsx("div",{className:`relative border rounded-lg p-5 transition-all duration-200 hover:shadow-md ${O?"border-green-200 dark:border-green-800 bg-gradient-to-r from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10":C?"border-red-200 dark:border-red-800 bg-gradient-to-r from-red-50/50 to-pink-50/50 dark:from-red-900/10 dark:to-pink-900/10":"border-slate-200 dark:border-slate-600 hover:border-cyan-300 dark:hover:border-cyan-700"}`,children:i!==E.id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:E.name}),O&&o.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 text-xs font-medium rounded-full",children:" Completed"}),E.type&&o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E.type==="savings"?"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200":E.type==="debt"?"bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-200":E.type==="investment"?"bg-purple-100 dark:bg-purple-800 text-purple-800 dark:text-purple-200":E.type==="purchase"?"bg-orange-100 dark:bg-orange-800 text-orange-800 dark:text-orange-200":"bg-cyan-100 dark:bg-cyan-800 text-cyan-800 dark:text-cyan-200"}`,children:E.type||"savings"}),o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${I.bgColor} ${I.color}`,children:I.text})]}),E.description&&o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:E.description}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Current"}),o.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(E.current||0).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Target"}),o.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(E.targetValue||0).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Remaining"}),o.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",N>0?N.toLocaleString():"0"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Daily Need"}),o.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",L>0?L.toLocaleString():"0"]})]})]})]}),o.jsxs("div",{className:"flex gap-2 ml-4",children:[o.jsx("button",{onClick:()=>b(E.id,(E.current||0)+(E.targetValue||0)*.1),className:"text-green-600 hover:text-green-500 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"Add 10%",children:o.jsx(Ld,{size:18})}),o.jsx("button",{onClick:()=>b(E.id,Math.max(0,(E.current||0)-(E.targetValue||0)*.1)),className:"text-orange-600 hover:text-orange-500 p-2 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",title:"Subtract 10%",children:o.jsx(w8,{size:18})}),o.jsx("button",{onClick:()=>p(E.id),className:"text-red-600 hover:text-red-500 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete Goal",children:o.jsx(fr,{size:18})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progress"}),o.jsxs("span",{className:`font-bold ${O?"text-green-600":"text-cyan-600"}`,children:[P.toFixed(1),"%"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:o.jsx("div",{className:`h-4 rounded-full transition-all duration-700 relative overflow-hidden bg-gradient-to-r ${T}`,style:{width:`${Math.min(P,100)}%`},children:o.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),P>15&&o.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:o.jsxs("span",{className:"text-xs font-medium text-white drop-shadow",children:["$",(E.current||0).toLocaleString()]})})]}),o.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[o.jsxs("span",{children:["Deadline: ",new Date(E.deadline).toLocaleDateString()]}),!O&&N>0&&L>0&&o.jsxs("span",{children:["Need $",L.toLocaleString(),"/day"]})]})]})]}):o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:o.jsx(fr,{className:"text-red-600 dark:text-red-400",size:24})}),o.jsxs("p",{className:"text-slate-800 dark:text-white font-medium mb-4",children:['Delete "',E.name,'"?']}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"This action cannot be undone."}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx("button",{onClick:()=>m(E.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Goal"}),o.jsx("button",{onClick:y,className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition-colors font-medium",children:"Cancel"})]})]})})},E.id)})})]}),l&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-lg border border-slate-200 dark:border-slate-700 shadow-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Create Financial Goal"}),o.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:o.jsx(su,{size:20})})]}),o.jsxs("form",{onSubmit:A,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),o.jsxs("select",{value:d.type,onChange:E=>h({...d,type:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"savings",children:" Savings Goal"}),o.jsx("option",{value:"debt",children:" Debt Payoff"}),o.jsx("option",{value:"investment",children:" Investment Target"}),o.jsx("option",{value:"purchase",children:" Large Purchase"}),o.jsx("option",{value:"emergency",children:" Emergency Fund"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name"}),o.jsx("input",{type:"text",value:d.name,onChange:E=>h({...d,name:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Emergency Fund, New Car, Pay off Credit Card",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),o.jsx("textarea",{value:d.description,onChange:E=>h({...d,description:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your goal and why it matters to you",rows:"3"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Amount"}),o.jsx("input",{type:"number",value:d.current,onChange:E=>h({...d,current:Number(E.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Amount"}),o.jsx("input",{type:"number",value:d.target,onChange:E=>h({...d,target:Number(E.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000",required:!0,min:"1"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Deadline"}),o.jsx("input",{type:"date",value:d.deadline,onChange:E=>h({...d,deadline:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:new Date().toISOString().split("T")[0]})]}),d.target>0&&d.deadline&&o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium mb-1",children:"Goal Calculation:"}),o.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["To reach $",d.target.toLocaleString()," by ",new Date(d.deadline).toLocaleDateString(),", you need to save $",Math.ceil((d.target-d.current)/Math.max(1,Math.ceil((new Date(d.deadline)-new Date)/(1e3*60*60*24)))).toLocaleString()," per day."]})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white rounded-lg transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Create Goal"})]})]})]})})]})},hoe=({weeklyCosts:t,openModal:e,handleDelete:r})=>{const[n,i]=z.useState(""),[a,l]=z.useState("all"),[u,d]=z.useState({key:"amount",direction:"desc"}),h=["all","Payroll","Fuel & Maintenance","Equipment Rental","Utilities","Insurance","Marketing","Office Expenses","Supplies","Contractors","Other"],p=z.useMemo(()=>t.filter(_=>{const b=_.name.toLowerCase().includes(n.toLowerCase())||_.notes&&_.notes.toLowerCase().includes(n.toLowerCase()),A=a==="all"||_.category===a;return b&&A}).sort((_,b)=>{if(u.key==="amount"){const A=parseFloat(_.amount)||0,E=parseFloat(b.amount)||0;return u.direction==="asc"?A-E:E-A}return u.key==="name"?u.direction==="asc"?_.name.localeCompare(b.name):b.name.localeCompare(_.name):0}),[t,n,a,u]),m=z.useMemo(()=>{const k=t.reduce((N,I)=>N+(parseFloat(I.amount)||0),0),_=k*4.33,b=k*52,A=t.reduce((N,I)=>(parseFloat(I.amount)||0)>N?parseFloat(I.amount)||0:N,0),E=t.length>0?k/t.length:0,P=t.reduce((N,I)=>{const T=I.category||"Other";return N[T]=(N[T]||0)+(parseFloat(I.amount)||0),N},{}),O=Object.entries(P).reduce((N,[I,T])=>T>(N.amount||0)?{category:I,amount:T}:N,{category:"None",amount:0});return{totalWeekly:k,totalMonthly:_,totalAnnual:b,highestCost:A,averageCost:E,categoryTotals:P,topCategory:O,itemCount:t.length}},[t]),y=k=>{d(_=>({key:k,direction:_.key===k&&_.direction==="desc"?"asc":"desc"}))},x=()=>{if(t.length===0){alert("No weekly costs to export.");return}try{const k=["Name","Weekly Amount","Monthly Amount (4.33x)","Annual Amount (52x)","Category","Notes"],_=t.map(O=>[O.name||"",(parseFloat(O.amount)||0).toFixed(2),((parseFloat(O.amount)||0)*4.33).toFixed(2),((parseFloat(O.amount)||0)*52).toFixed(2),O.category||"Other",O.notes||""]),b=[k.join(","),..._.map(O=>O.map(N=>typeof N=="string"&&N.includes(",")?`"${N}"`:N).join(","))].join(`
`),A=new Blob([b],{type:"text/csv;charset=utf-8;"}),E=document.createElement("a"),P=URL.createObjectURL(A);E.setAttribute("href",P),E.setAttribute("download",`weekly_costs_${new Date().toISOString().split("T")[0]}.csv`),E.style.visibility="hidden",document.body.appendChild(E),E.click(),document.body.removeChild(E),alert(`Successfully exported ${t.length} weekly costs!`)}catch(k){console.error("Error exporting CSV:",k),alert("Failed to export CSV: "+k.message)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Weekly Total"}),o.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",m.totalWeekly.toLocaleString()]})]}),o.jsx(p8,{className:"text-red-600 dark:text-red-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[m.itemCount," cost items"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Impact"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",m.totalMonthly.toLocaleString()]})]}),o.jsx(vi,{className:"text-orange-600 dark:text-orange-400",size:24})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x4.33 weeks/month"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Impact"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",m.totalAnnual.toLocaleString()]})]}),o.jsx(v0,{className:"text-purple-600 dark:text-purple-400",size:24})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x52 weeks/year"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Category"}),o.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:m.topCategory.category})]}),o.jsx(Ur,{className:"text-blue-600 dark:text-blue-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",m.topCategory.amount.toLocaleString(),"/week"]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Weekly Costs"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your regular weekly business expenses"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:x,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mn,{size:16}),"Export CSV"]}),o.jsxs("button",{onClick:()=>e("weekly"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(In,{size:16}),"Add Weekly Cost"]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search weekly costs...",value:n,onChange:k=>i(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(au,{className:"text-slate-400",size:16}),o.jsx("select",{value:a,onChange:k=>l(k.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:h.map(k=>o.jsx("option",{value:k,children:k==="all"?"All Categories":k},k))})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("name"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Cost Item",u.key==="name"&&o.jsx("span",{children:u.direction==="asc"?"":""})]})}),o.jsx("th",{className:"p-3",children:"Category"}),o.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("amount"),children:o.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Weekly Amount",u.key==="amount"&&o.jsx("span",{children:u.direction==="asc"?"":""})]})}),o.jsx("th",{className:"p-3 text-right",children:"Monthly Impact"}),o.jsx("th",{className:"p-3 text-right",children:"Annual Impact"}),o.jsx("th",{className:"p-3",children:"Notes"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:p.length>0?p.map(k=>{const _=parseFloat(k.amount)||0,b=_*4.33,A=_*52;return o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"p-3",children:o.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:k.name})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:k.category||"Other"})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("span",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",_.toFixed(2)]})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",b.toFixed(2)]})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",A.toLocaleString()]})}),o.jsx("td",{className:"p-3 max-w-xs",children:o.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:k.notes&&k.notes.length>50?`${k.notes.substring(0,50)}...`:k.notes||""})}),o.jsx("td",{className:"p-3 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>e("weekly",k),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit cost",children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>r("weekly",k.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete cost",children:o.jsx(fr,{size:16})})]})})]},k.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||a!=="all"?o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ja,{size:24,className:"text-slate-400"}),o.jsx("span",{children:"No weekly costs match your search criteria"}),o.jsx("button",{onClick:()=>{i(""),l("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ur,{size:24,className:"text-slate-400"}),o.jsx("span",{children:"No weekly costs added yet"}),o.jsx("button",{onClick:()=>e("weekly"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first weekly cost"})]})})})})]})}),p.length>0&&o.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:o.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",p.length," of ",t.length," costs"]})}),o.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[o.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["Weekly: $",p.reduce((k,_)=>k+(parseFloat(_.amount)||0),0).toFixed(2)]}),o.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:["Monthly: $",(p.reduce((k,_)=>k+(parseFloat(_.amount)||0),0)*4.33).toFixed(2)]}),o.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:["Annual: $",(p.reduce((k,_)=>k+(parseFloat(_.amount)||0),0)*52).toLocaleString()]})]})]})})]}),m.highestCost>1e3&&o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(x0,{className:"text-amber-600 dark:text-amber-400",size:20}),o.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"High Weekly Cost Alert"})]}),o.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["You have a weekly cost of $",m.highestCost.toLocaleString(),", which amounts to $",(m.highestCost*52).toLocaleString()," annually. Consider reviewing this expense for potential savings opportunities."]})]})]})},foe=[{min:1e4,max:1/0,rate:10},{min:8e3,max:9999,rate:8},{min:5e3,max:7999,rate:5},{min:3500,max:4999,rate:3},{min:0,max:3499,rate:1.5}],poe=[{min:1e4,max:1/0,bonus:10},{min:8e3,max:9999,bonus:8},{min:5e3,max:7999,bonus:5},{min:3500,max:4999,bonus:2},{min:0,max:3499,bonus:0}],moe=({userId:t,db:e,appId:r})=>{const[n,i]=z.useState(foe),[a,l]=z.useState(0),[u,d]=z.useState(poe),[h,p]=z.useState(0),[m,y]=z.useState(0),[x,k]=z.useState([]),[_,b]=z.useState("employees"),[A,E]=z.useState(!1),[P,O]=z.useState(null),[N,I]=z.useState(""),[T,C]=z.useState("all"),[L,M]=z.useState("all"),[R,F]=z.useState({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""});z.useEffect(()=>{if(!t||!e||!r){console.log("Missing Firebase props:",{userId:t,db:e,appId:r});return}console.log("Setting up Firebase listener for employees...");const q=Vo(e,"artifacts",r,"users",t,"employees"),me=Dp(q,xe=>{const U=xe.docs.map(de=>({id:de.id,...de.data()}));console.log("Employees loaded from Firebase:",U),k(U)},xe=>{console.error("Error fetching employees:",xe)});return()=>me()},[t,e,r]);const $=z.useMemo(()=>x.filter(q=>{const me=q.name.toLowerCase().includes(N.toLowerCase())||q.position.toLowerCase().includes(N.toLowerCase())||q.email.toLowerCase().includes(N.toLowerCase()),xe=T==="all"||q.status===T,U=L==="all"||q.department===L;return me&&xe&&U}),[x,N,T,L]),ee=z.useMemo(()=>{const q=x.filter(de=>de.status==="active");let me=0,xe=0,U=0;return q.forEach(de=>{if(de.payType==="salary"?me+=(de.baseSalary||0)/12:(me+=(de.hourlyRate||0)*(de.hoursWorked||0),U+=de.hoursWorked||0),de.incentiveType==="percent"){const _e=n.find(Oe=>de.salesAmount>=Oe.min&&de.salesAmount<=Oe.max);_e&&(xe+=de.salesAmount*(_e.rate/100))}else if(de.incentiveType==="hourly"){const _e=u.find(Oe=>de.salesAmount>=Oe.min&&de.salesAmount<=Oe.max);_e&&(xe+=(de.hoursWorked||0)*_e.bonus)}}),{activeEmployeeCount:q.length,totalEmployeeCount:x.length,totalBasePay:me,totalIncentives:xe,totalPayroll:me+xe,averagePay:q.length>0?(me+xe)/q.length:0,totalHours:U}},[x,n,u]),ie=z.useMemo(()=>["all",...[...new Set(x.map(me=>me.department))]],[x]),Q=z.useMemo(()=>{const q=n.find(me=>a>=me.min&&a<=me.max);return q?a*(q.rate/100):0},[a,n]),se=z.useMemo(()=>{const q=u.find(me=>h>=me.min&&h<=me.max);return!q||!m?0:m*q.bonus},[h,m,u]),te=(q,me,xe)=>{const U=[...n];U[q][me]=parseFloat(xe)||0,i(U)},Z=(q,me,xe)=>{const U=[...u];U[q][me]=parseFloat(xe)||0,d(U)},re=(q,me)=>{F(xe=>({...xe,[q]:me}))},W=async()=>{if(console.log("Adding employee:",R),!R.name.trim()){alert("Please enter employee name");return}if(!t||!e||!r){alert("Please ensure you're logged in.");return}try{const q=Vo(e,"artifacts",r,"users",t,"employees");await r4(q,{...R,baseSalary:parseFloat(R.baseSalary)||0,hourlyRate:parseFloat(R.hourlyRate)||0,hoursWorked:0,salesAmount:0,createdAt:Ji()}),console.log("Employee saved to Firebase successfully!"),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""}),E(!1)}catch(q){console.error("Error adding employee:",q),alert("Failed to add employee: "+q.message)}},X=q=>{F(q),O(q.id),E(!0)},Y=async()=>{if(!(!t||!e||!P))try{const q=Zr(e,"artifacts",r,"users",t,"employees",P);await em(q,{...R,baseSalary:parseFloat(R.baseSalary)||0,hourlyRate:parseFloat(R.hourlyRate)||0,modifiedAt:Ji()}),O(null),E(!1),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""})}catch(q){console.error("Error updating employee:",q),alert("Failed to update employee: "+q.message)}},ce=async q=>{if(!(!t||!e)&&window.confirm("Are you sure you want to delete this employee?"))try{const me=Zr(e,"artifacts",r,"users",t,"employees",q);await t4(me),console.log("Employee deleted from Firebase")}catch(me){console.error("Error deleting employee:",me),alert("Failed to delete employee: "+me.message)}},ve=async(q,me,xe)=>{if(!(!t||!e))try{const U=Zr(e,"artifacts",r,"users",t,"employees",q);await em(U,{[me]:parseFloat(xe)||0,modifiedAt:Ji()})}catch(U){console.error("Error updating employee data:",U)}},pe=q=>{if(q.incentiveType==="percent"){const me=n.find(xe=>q.salesAmount>=xe.min&&q.salesAmount<=xe.max);return me?q.salesAmount*(me.rate/100):0}else if(q.incentiveType==="hourly"){const me=u.find(xe=>q.salesAmount>=xe.min&&q.salesAmount<=xe.max);return me?(q.hoursWorked||0)*me.bonus:0}return 0},he=q=>q.payType==="salary"?(q.baseSalary||0)/12:(q.hourlyRate||0)*(q.hoursWorked||0),be=q=>{switch(q){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200";case"inactive":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";case"terminated":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Payroll Management System"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage employees, calculate payroll, and track incentives"})]})}),o.jsxs("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[o.jsxs("button",{onClick:()=>b("employees"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="employees"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[o.jsx(la,{size:16}),"Employees"]}),o.jsxs("button",{onClick:()=>b("payroll"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="payroll"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[o.jsx(xc,{size:16}),"Payroll"]}),o.jsxs("button",{onClick:()=>b("incentives"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="incentives"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[o.jsx(vi,{size:16}),"Incentive Calculator"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Employees"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:ee.activeEmployeeCount})]}),o.jsx(la,{className:"text-blue-600 dark:text-blue-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",ee.totalEmployeeCount," total"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Base Pay"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",ee.totalBasePay.toLocaleString()]})]}),o.jsx(Ur,{className:"text-green-600 dark:text-green-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Avg: $",ee.averagePay.toLocaleString()]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Incentives"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",ee.totalIncentives.toLocaleString()]})]}),o.jsx(vi,{className:"text-purple-600 dark:text-purple-400",size:24})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Current period"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Payroll"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",ee.totalPayroll.toLocaleString()]})]}),o.jsx(xc,{className:"text-orange-600 dark:text-orange-400",size:24})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Base + incentives"})]})]}),_==="employees"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Employee Management"}),o.jsxs("button",{onClick:()=>{console.log("Add Employee button clicked"),E(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(Ld,{size:16}),"Add Employee"]})]}),x.length===0?o.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[o.jsx(la,{size:48,className:"mx-auto mb-4 opacity-50"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No employees yet"}),o.jsx("p",{className:"mb-4",children:"Add your first employee to get started with payroll management."}),o.jsx("button",{onClick:()=>{console.log("Add First Employee button clicked"),E(!0)},className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Employee"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search employees...",value:N,onChange:q=>I(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(au,{className:"text-slate-400",size:16}),o.jsxs("select",{value:T,onChange:q=>C(q.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"}),o.jsx("option",{value:"terminated",children:"Terminated"})]}),o.jsx("select",{value:L,onChange:q=>M(q.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:ie.map(q=>o.jsx("option",{value:q,children:q==="all"?"All Departments":q},q))})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Employee"}),o.jsx("th",{className:"p-3",children:"Department"}),o.jsx("th",{className:"p-3",children:"Pay Type"}),o.jsx("th",{className:"p-3",children:"Base Pay"}),o.jsx("th",{className:"p-3",children:"Incentive Type"}),o.jsx("th",{className:"p-3",children:"Status"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:$.map(q=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"p-3",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:q.name}),o.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:q.position}),o.jsx("div",{className:"text-xs text-slate-400",children:q.email})]})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:q.department})}),o.jsxs("td",{className:"p-3",children:[o.jsx("span",{className:"capitalize",children:q.payType}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:q.payType==="salary"?`$${q.baseSalary.toLocaleString()}/year`:`$${q.hourlyRate}/hour`})]}),o.jsx("td",{className:"p-3",children:o.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",he(q).toLocaleString()]})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:"capitalize",children:q.incentiveType})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${be(q.status)}`,children:q.status})}),o.jsx("td",{className:"p-3 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>X(q),className:"text-slate-500 dark:text-slate-400 hover:text-blue-500 p-1 rounded transition-colors",title:"Edit employee",children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>ce(q.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete employee",children:o.jsx(fr,{size:16})})]})})]},q.id))})]})})]}),A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:P?"Edit Employee":"Add New Employee"})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Full Name *"}),o.jsx("input",{type:"text",value:R.name,onChange:q=>re("name",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Position *"}),o.jsx("input",{type:"text",value:R.position,onChange:q=>re("position",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:R.email,onChange:q=>re("email",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone"}),o.jsx("input",{type:"tel",value:R.phone,onChange:q=>re("phone",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Department"}),o.jsxs("select",{value:R.department,onChange:q=>re("department",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Operations",children:"Operations"}),o.jsx("option",{value:"Sales",children:"Sales"}),o.jsx("option",{value:"Administration",children:"Administration"}),o.jsx("option",{value:"Management",children:"Management"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Pay Type"}),o.jsxs("select",{value:R.payType,onChange:q=>re("payType",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"salary",children:"Salary"}),o.jsx("option",{value:"hourly",children:"Hourly"})]})]}),R.payType==="salary"?o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Annual Salary"}),o.jsx("input",{type:"number",value:R.baseSalary,onChange:q=>re("baseSalary",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}):o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hourly Rate"}),o.jsx("input",{type:"number",step:"0.01",value:R.hourlyRate,onChange:q=>re("hourlyRate",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Incentive Type"}),o.jsxs("select",{value:R.incentiveType,onChange:q=>re("incentiveType",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"none",children:"None"}),o.jsx("option",{value:"percent",children:"Percentage"}),o.jsx("option",{value:"hourly",children:"Hourly Bonus"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),o.jsxs("select",{value:R.status,onChange:q=>re("status",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"}),o.jsx("option",{value:"terminated",children:"Terminated"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hire Date"}),o.jsx("input",{type:"date",value:R.hireDate,onChange:q=>re("hireDate",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),o.jsx("textarea",{value:R.notes,onChange:q=>re("notes",q.target.value),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Additional notes about the employee..."})]})]})}),o.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{E(!1),O(null),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""})},className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),o.jsx("button",{onClick:()=>{console.log("Form submit button clicked"),P?Y():W()},className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:P?"Update Employee":"Add Employee"})]})]})})]}),_==="payroll"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"Payroll Calculator"}),x.filter(q=>q.status==="active").length===0?o.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[o.jsx(xc,{size:48,className:"mx-auto mb-4 opacity-50"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No active employees"}),o.jsx("p",{className:"mb-4",children:"Add some employees to start calculating payroll."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Employee"}),o.jsx("th",{className:"p-3",children:"Hours"}),o.jsx("th",{className:"p-3",children:"Sales"}),o.jsx("th",{className:"p-3",children:"Base Pay"}),o.jsx("th",{className:"p-3",children:"Incentive"}),o.jsx("th",{className:"p-3",children:"Total Pay"})]})}),o.jsx("tbody",{className:"text-sm",children:x.filter(q=>q.status==="active").map(q=>{const me=he(q),xe=pe(q),U=me+xe;return o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[o.jsxs("td",{className:"p-3",children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:q.name}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:q.position})]}),o.jsx("td",{className:"p-3",children:q.payType==="hourly"?o.jsx("input",{type:"number",value:q.hoursWorked||"",onChange:de=>ve(q.id,"hoursWorked",de.target.value),className:"w-20 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"0"}):o.jsx("span",{className:"text-slate-400",children:""})}),o.jsx("td",{className:"p-3",children:q.incentiveType!=="none"?o.jsx("input",{type:"number",value:q.salesAmount||"",onChange:de=>ve(q.id,"salesAmount",de.target.value),className:"w-24 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"0"}):o.jsx("span",{className:"text-slate-400",children:""})}),o.jsx("td",{className:"p-3",children:o.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",me.toFixed(2)]})}),o.jsx("td",{className:"p-3",children:o.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",xe.toFixed(2)]})}),o.jsx("td",{className:"p-3",children:o.jsxs("span",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:["$",U.toFixed(2)]})})]},q.id)})})]})})]}),_==="incentives"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Percent Incentive Calculator"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2",children:"Sales Bracket"}),o.jsx("th",{className:"p-2",children:"% Scale"})]})}),o.jsx("tbody",{children:n.map((q,me)=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",q.min.toLocaleString(),q.max===1/0?"+":` - $${q.max.toLocaleString()}`]}),o.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:[o.jsx("input",{type:"number",value:q.rate,onChange:xe=>te(me,"rate",xe.target.value),className:"w-20 bg-transparent text-right font-mono"})," %"]})]},me))})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"number",value:a,onChange:q=>l(parseFloat(q.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),o.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[o.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),o.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",Q.toFixed(2)]})]})]})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Hourly Incentive Calculator"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2",children:"Sales Bracket"}),o.jsx("th",{className:"p-2",children:"Bonus per Hour"})]})}),o.jsx("tbody",{children:u.map((q,me)=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",q.min.toLocaleString(),q.max===1/0?"+":` - $${q.max.toLocaleString()}`]}),o.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:["$ ",o.jsx("input",{type:"number",value:q.bonus,onChange:xe=>Z(me,"bonus",xe.target.value),className:"w-20 bg-transparent text-right font-mono"})]})]},me))})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"number",value:h,onChange:q=>p(parseFloat(q.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hours Worked"}),o.jsx("input",{type:"number",value:m,onChange:q=>y(parseFloat(q.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 p-2 rounded-md"})]}),o.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[o.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),o.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",se.toFixed(2)]})]})]})]})]})]})]})]})},goe=({bills:t,paidStatus:e,selectedCategory:r,setSelectedCategory:n,handleTogglePaid:i,handleSort:a,openModal:l,handleDelete:u,handleEnhancedExportCSV:d})=>{const[h,p]=z.useState(""),[m,y]=z.useState("dueDay"),[x,k]=z.useState("asc"),[_,b]=z.useState("all"),[A,E]=z.useState("all"),[P,O]=z.useState("all"),[N,I]=z.useState(!1),T=new Date,C=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),L=new Date(C.getTime()+6*24*60*60*1e3),M=new Date(L.getTime()+1*24*60*60*1e3),R=new Date(M.getTime()+6*24*60*60*1e3),F=new Date(T.getFullYear(),T.getMonth(),1),$=new Date(T.getFullYear(),T.getMonth()+1,0),ee=z.useMemo(()=>{let Z=t.filter(re=>{if(r&&re.category!==r||h&&!re.name.toLowerCase().includes(h.toLowerCase())||_==="paid"&&!e[re.id]||_==="unpaid"&&e[re.id]||P==="under100"&&re.amount>=100||P==="100to500"&&(re.amount<100||re.amount>500)||P==="over500"&&re.amount<=500)return!1;if(A!=="all"&&re.dueDay){const W=new Date(T.getFullYear(),T.getMonth(),re.dueDay);switch(W<T&&W.setMonth(W.getMonth()+1),A){case"overdue":if(W>=T)return!1;break;case"thisWeek":if(W<C||W>L)return!1;break;case"nextWeek":if(W<M||W>R)return!1;break;case"thisMonth":if(W<F||W>$)return!1;break}}return!0});return Z.sort((re,W)=>{let X=re[m],Y=W[m];m==="status"&&(X=e[re.id]?"paid":"unpaid",Y=e[W.id]?"paid":"unpaid"),typeof X=="string"&&(X=X.toLowerCase(),Y=Y.toLowerCase());let ce=0;return X<Y&&(ce=-1),X>Y&&(ce=1),x==="desc"?-ce:ce}),Z},[t,r,h,_,A,P,m,x,e,T]),ie=Z=>{m===Z?k(x==="asc"?"desc":"asc"):(y(Z),k("asc"))},Q=()=>{p(""),y("dueDay"),k("asc"),b("all"),E("all"),O("all"),n(null)},se=z.useMemo(()=>{let Z=0;return h&&Z++,r&&Z++,_!=="all"&&Z++,A!=="all"&&Z++,P!=="all"&&Z++,Z},[h,r,_,A,P]),te=({type:Z,label:re})=>{const W=K.useRef(null);return o.jsxs("div",{className:"inline-block",children:[o.jsx("input",{ref:W,type:"file",accept:".csv",onChange:X=>{X.target.files[0]&&(window.handleEnhancedCSVImport?.(X.target.files[0],Z),X.target.value="")},style:{display:"none"}}),o.jsxs("button",{onClick:()=>W.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(ro,{size:16}),re]})]})};return o.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),r&&o.jsxs("button",{onClick:()=>n(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",r]}),se>0&&o.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:[se," filter",se!==1?"s":""," active"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(te,{type:"bill",label:"Import"}),o.jsxs("button",{onClick:()=>d(ee,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mn,{size:16})," Export"]})]})]}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search bills by name...",value:h,onChange:Z=>p(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),h&&o.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:o.jsx(su,{size:16})})]}),o.jsxs("button",{onClick:()=>I(!N),className:`flex items-center gap-2 px-4 py-2 rounded-md border transition-colors ${N?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[o.jsx(au,{size:16}),"Filters",o.jsx(tm,{className:`transition-transform ${N?"rotate-180":""}`,size:16})]}),se>0&&o.jsx("button",{onClick:Q,className:"px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:"Clear All"})]}),N&&o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Sort By"}),o.jsxs("select",{value:`${m}-${x}`,onChange:Z=>{const[re,W]=Z.target.value.split("-");y(re),k(W)},className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),o.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),o.jsx("option",{value:"dueDay-asc",children:"Due Date (Early)"}),o.jsx("option",{value:"dueDay-desc",children:"Due Date (Late)"}),o.jsx("option",{value:"amount-asc",children:"Amount (Low-High)"}),o.jsx("option",{value:"amount-desc",children:"Amount (High-Low)"}),o.jsx("option",{value:"status-asc",children:"Status (Unpaid First)"}),o.jsx("option",{value:"status-desc",children:"Status (Paid First)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Payment Status"}),o.jsxs("select",{value:_,onChange:Z=>b(Z.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"all",children:"All Bills"}),o.jsx("option",{value:"unpaid",children:"Unpaid Only"}),o.jsx("option",{value:"paid",children:"Paid Only"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Due Date"}),o.jsxs("select",{value:A,onChange:Z=>E(Z.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"all",children:"All Dates"}),o.jsx("option",{value:"overdue",children:"Overdue"}),o.jsx("option",{value:"thisWeek",children:"This Week"}),o.jsx("option",{value:"nextWeek",children:"Next Week"}),o.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Amount Range"}),o.jsxs("select",{value:P,onChange:Z=>O(Z.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"all",children:"All Amounts"}),o.jsx("option",{value:"under100",children:"Under $100"}),o.jsx("option",{value:"100to500",children:"$100 - $500"}),o.jsx("option",{value:"over500",children:"Over $500"})]})]})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Showing ",ee.length," of ",t.length," bills",se>0&&` with ${se} filter${se!==1?"s":""} applied`]})})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:o.jsxs("button",{onClick:()=>ie("status"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Status",m==="status"&&(x==="asc"?o.jsx(zo,{size:14}):o.jsx(qo,{size:14}))]})}),o.jsx("th",{className:"p-3",children:o.jsxs("button",{onClick:()=>ie("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Name",m==="name"&&(x==="asc"?o.jsx(zo,{size:14}):o.jsx(qo,{size:14}))]})}),o.jsx("th",{className:"p-3",children:"Notes"}),o.jsx("th",{className:"p-3",children:"Receipt"}),o.jsx("th",{className:"p-3 text-right",children:o.jsxs("button",{onClick:()=>ie("amount"),className:"flex items-center gap-1 ml-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Amount",m==="amount"&&(x==="asc"?o.jsx(zo,{size:14}):o.jsx(qo,{size:14}))]})}),o.jsx("th",{className:"p-3 text-center",children:o.jsxs("button",{onClick:()=>ie("dueDay"),className:"flex items-center gap-1 mx-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Due Day",m==="dueDay"&&(x==="asc"?o.jsx(zo,{size:14}):o.jsx(qo,{size:14}))]})}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{children:ee.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:t.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills added yet"}),o.jsx("p",{className:"text-sm",children:'Click "Add New Bill" to get started'})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills match your filters"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):ee.map(Z=>o.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${e[Z.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[o.jsx("td",{className:"p-3",children:o.jsx("button",{onClick:()=>i(Z.id),className:"hover:scale-110 transition-transform",children:e[Z.id]?o.jsx(Di,{className:"text-green-500",size:20}):o.jsx(_4,{className:"text-slate-400 dark:text-slate-600",size:20})})}),o.jsxs("td",{className:`p-3 font-medium ${e[Z.id]?"line-through":""}`,children:[Z.name,Z.category&&o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:Z.category})]}),o.jsx("td",{className:"p-3 text-center",children:Z.notes&&o.jsxs("div",{className:"group relative flex justify-center",children:[o.jsx(b8,{size:16,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}),o.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-slate-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:Z.notes})]})}),o.jsx("td",{className:"p-3 text-center",children:Z.attachmentURL?o.jsx("a",{href:Z.attachmentURL,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform inline-block",children:o.jsx(FT,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):o.jsx(FT,{size:16,className:"text-slate-400 dark:text-slate-600"})}),o.jsxs("td",{className:"p-3 text-right font-mono font-semibold",children:["$",(Z.amount||0).toFixed(2)]}),o.jsx("td",{className:"p-3 text-center font-medium",children:Z.dueDay}),o.jsx("td",{className:"p-3 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>l("bill",Z),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit bill",children:o.jsx(On,{size:16})}),o.jsx("button",{onClick:()=>u("bill",Z.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete bill",children:o.jsx(fr,{size:16})})]})})]},Z.id))})]})}),o.jsxs("button",{onClick:()=>l("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold transition-colors",children:[o.jsx(In,{size:18}),"Add New Bill"]})]})},voe={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},Jr="hvac-finance-dashboard",Jj=GR(voe),DR=PM(Jj),sr=O7(Jj),yoe=i8(Jj),ic=({type:t,label:e,acceptTypes:r=".csv"})=>{const n=K.useRef(null);return o.jsxs("div",{className:"inline-block",children:[o.jsx("input",{ref:n,type:"file",accept:r,onChange:i=>{i.target.files[0]&&(window.handleEnhancedCSVImport?.(i.target.files[0],t),i.target.value="")},style:{display:"none"}}),o.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(ro,{size:16}),e]})]})},xoe=()=>{const[t,e]=z.useState(null),[r,n]=z.useState(!0),[i,a]=z.useState(!1),[l,u]=z.useState([]),[d,h]=z.useState([]),[p,m]=z.useState([]),[y,x]=z.useState([]),[k,_]=z.useState([]),[b,A]=z.useState([]),[E,P]=z.useState([]),[O,N]=z.useState([]),[I,T]=z.useState([]),[C,L]=z.useState([]),[M,R]=z.useState([]),[F,$]=z.useState([]),[ee,ie]=z.useState([]),[Q,se]=z.useState({}),[te,Z]=z.useState(!1),[re,W]=z.useState(null),[X,Y]=z.useState("bill"),[ce,ve]=z.useState({key:"dueDay",direction:"ascending"}),[pe,he]=z.useState("dashboard"),[be,q]=z.useState(null),[me,xe]=z.useState(0),[U,de]=z.useState({start:new Date,end:new Date}),[_e,Oe]=z.useState("monthly"),[ze,Zt]=z.useState(!0),[mr,on]=z.useState("dark"),[Ut,qt]=z.useState(""),[Or,ln]=z.useState([]),[Bi,va]=z.useState([]),[vt,zt]=z.useState({show:!1,data:[],headers:[],type:"",fileName:""}),[wn,ya]=z.useState({}),Ui=(oe,ge)=>{if(!oe||!t){alert("Please select a file and ensure you're logged in.");return}const Ce=new FileReader;Ce.onload=Te=>{try{const dt=Te.target.result.split(`
`).filter(mt=>mt.trim());if(dt.length<2){alert("CSV file must have at least a header row and one data row.");return}const ot=mt=>{const wt=[];let It="",Je=!1;for(let Wr=0;Wr<mt.length;Wr++){const ht=mt[Wr];ht==='"'?Je=!Je:ht===","&&!Je?(wt.push(It.trim()),It=""):It+=ht}return wt.push(It.trim()),wt},nt=ot(dt[0]).map(mt=>mt.replace(/"/g,"").trim()),Ue=dt.slice(1,6).map(mt=>{const wt=ot(mt);return nt.reduce((It,Je,Wr)=>{let ht=wt[Wr]||"";return ht=ht.replace(/"/g,"").trim(),ht&&!isNaN(ht)&&ht!==""?It[Je]=parseFloat(ht):It[Je]=ht,It},{})});console.log("CSV Headers:",nt),console.log("CSV Data Preview:",Ue),zt({show:!0,data:Ue,headers:nt,type:ge,fileName:oe.name,fullData:dt.slice(1).map(mt=>{const wt=ot(mt);return nt.reduce((It,Je,Wr)=>{let ht=wt[Wr]||"";return ht=ht.replace(/"/g,"").trim(),ht&&!isNaN(ht)&&ht!==""?It[Je]=parseFloat(ht):It[Je]=ht,It},{})})}),xa(ge,nt)}catch(Re){console.error("Error parsing CSV:",Re),alert("Error parsing CSV file. Please check the file format.")}},Ce.readAsText(oe)};z.useEffect(()=>(window.handleEnhancedCSVImport=Ui,()=>{delete window.handleEnhancedCSVImport}),[t]);const xa=(oe,ge)=>{const Ce={job:{name:Ct(ge,["name","job name","jobname","title","job title","description"]),revenue:Ct(ge,["revenue","amount","total","price","cost","value"]),materialCost:Ct(ge,["material cost","materials","material","parts"]),laborCost:Ct(ge,["labor cost","labor","labour","work"]),date:Ct(ge,["date","created","completed","finish","done"]),notes:Ct(ge,["notes","description","comments","details"]),clientId:Ct(ge,["client","customer","customer id","client id"])},client:{name:Ct(ge,["name","customer name","client name","company"]),address:Ct(ge,["address","location","street"]),phone:Ct(ge,["phone","telephone","mobile","contact"]),email:Ct(ge,["email","e-mail","mail"])},invoice:{billTo:Ct(ge,["bill to","customer","client","name"]),customer:Ct(ge,["customer","client","company"]),jobNo:Ct(ge,["job no","job number","job id","reference"]),completedOn:Ct(ge,["completed","date","finish date"]),net:Ct(ge,["net","amount","total","subtotal"]),grandTotal:Ct(ge,["grand total","total","amount"]),status:Ct(ge,["status","paid","payment status"])}};ya(Ce[oe]||{})},Ct=(oe,ge)=>{for(const Ce of ge){const Te=oe.find(Re=>Re.toLowerCase().includes(Ce.toLowerCase()));if(Te)return Te}return oe[0]||""},oo=async()=>{if(!vt.fullData.length){alert("No data to import.");return}const{type:oe,fullData:ge}=vt;try{console.log("Starting CSV import...",{type:oe,count:ge.length,mapping:wn});const Te={job:"jobs",client:"clients",invoice:"invoices",inventory:"inventory"}[oe];if(!Te){alert("Invalid import type.");return}const Re=Yu(sr),dt=Vo(sr,"artifacts",Jr,"users",t,Te);let ot=0;if(ge.forEach(nt=>{const Ue={};if(Object.entries(wn).forEach(([mt,wt])=>{wt&&nt[wt]!==void 0&&nt[wt]!==""&&(Ue[mt]=nt[wt])}),oe==="job"?(Ue.date=Ue.date||new Date().toISOString(),Ue.revenue=Ue.revenue||0,Ue.materialCost=Ue.materialCost||0,Ue.laborCost=Ue.laborCost||0):oe==="invoice"&&(Ue.status=Ue.status||"Unpaid",Ue.net=Ue.net||0,Ue.grandTotal=Ue.grandTotal||Ue.net||0),oe==="job"&&Ue.name||oe==="client"&&Ue.name||oe==="invoice"&&(Ue.billTo||Ue.customer)||oe==="inventory"&&Ue.name){const mt=Zr(dt);Re.set(mt,{...Ue,importedFrom:vt.fileName,importedAt:Ji(),createdAt:Ji()}),ot++}}),ot===0){alert("No valid records found to import. Please check your field mapping.");return}await Re.commit(),console.log(`Successfully imported ${ot} records`),alert(`Successfully imported ${ot} ${Te} from ${vt.fileName}!`),zt({show:!1,data:[],headers:[],type:"",fileName:""}),ya({})}catch(Ce){console.error("Error importing CSV:",Ce),alert(`Failed to import CSV: ${Ce.message}`)}},bi=(oe,ge,Ce=null)=>{if(!oe.length){alert("No data to export.");return}try{const Te=Ce||Object.keys(oe[0]).filter(wt=>!wt.includes("createdAt")&&!wt.includes("modifiedAt")&&wt!=="id"),Re=wt=>{if(wt==null)return"";const It=String(wt);return It.includes(",")||It.includes('"')||It.includes(`
`)?`"${It.replace(/"/g,'""')}"`:It},ot=[Te.join(","),...oe.map(wt=>Te.map(It=>Re(wt[It])).join(","))].join(`
`),nt=new Blob([ot],{type:"text/csv;charset=utf-8;"}),Ue=document.createElement("a"),mt=URL.createObjectURL(nt);Ue.setAttribute("href",mt),Ue.setAttribute("download",`hvac_${ge}_${new Date().toISOString().split("T")[0]}.csv`),Ue.style.visibility="hidden",document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue),console.log(`Exported ${oe.length} ${ge} records to CSV`),alert(`Successfully exported ${oe.length} ${ge} records!`)}catch(Te){console.error("Error exporting CSV:",Te),alert("Failed to export CSV: "+Te.message)}},lo=()=>{bi([{"Job Name":"Sample HVAC Install",Revenue:5e3,"Material Cost":2e3,"Labor Cost":1500,Date:"2025-01-15",Customer:"Sample Customer",Notes:"Sample job for import"}],"appsheet_template",["Job Name","Revenue","Material Cost","Labor Cost","Date","Customer","Notes"])},co=()=>vt.show?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:["Import Preview: ",vt.fileName]}),o.jsx("button",{onClick:()=>zt({show:!1,data:[],headers:[],type:"",fileName:""}),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:o.jsx(su,{size:24})})]}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Found ",vt.fullData?.length||0," records. Showing first 5 for preview."]})]}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Map CSV Fields to Your App"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(wn).map(oe=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("label",{className:"w-24 text-sm font-medium text-slate-600 dark:text-slate-400",children:[oe,":"]}),o.jsxs("select",{value:wn[oe]||"",onChange:ge=>ya(Ce=>({...Ce,[oe]:ge.target.value})),className:"flex-1 px-3 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[o.jsx("option",{value:"",children:"-- Skip Field --"}),vt.headers.map(ge=>o.jsx("option",{value:ge,children:ge},ge))]})]},oe))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Data Preview"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsx("tr",{children:vt.headers.map(oe=>o.jsx("th",{className:"p-2 text-left border-r border-slate-200 dark:border-slate-600",children:oe},oe))})}),o.jsx("tbody",{children:vt.data.map((oe,ge)=>o.jsx("tr",{className:"border-t border-slate-200 dark:border-slate-700",children:vt.headers.map(Ce=>o.jsx("td",{className:"p-2 border-r border-slate-200 dark:border-slate-600",children:String(oe[Ce]||"")},Ce))},ge))})]})})]})]}),o.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>zt({show:!1,data:[],headers:[],type:"",fileName:""}),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),o.jsxs("button",{onClick:oo,className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-white rounded transition-colors",children:["Import ",vt.fullData?.length||0," Records"]})]})]})}):null;z.useEffect(()=>{mr==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[mr]);const uo=()=>{on(mr==="light"?"dark":"light")};z.useEffect(()=>{const oe=new Date;let ge,Ce;if(_e==="monthly")ge=new Date(oe.getFullYear(),oe.getMonth(),1),Ce=new Date(oe.getFullYear(),oe.getMonth()+1,0);else if(_e==="quarterly"){const Te=Math.floor(oe.getMonth()/3);ge=new Date(oe.getFullYear(),Te*3,1),Ce=new Date(oe.getFullYear(),Te*3+3,0)}else ge=new Date(oe.getFullYear(),0,1),Ce=new Date(oe.getFullYear(),11,31);de({start:ge,end:Ce})},[_e]);const Zn=z.useMemo(()=>U.start.getFullYear()+"-"+String(U.start.getMonth()+1).padStart(2,"0"),[U]);z.useEffect(()=>{const oe=DV(DR,ge=>{ge?(console.log("User authenticated:",ge.uid),e(ge.uid),console.log(" Clean start - Add your business data using the interface")):(console.log("User not authenticated"),e(null)),n(!1)});return()=>oe()},[]),z.useEffect(()=>{if(!t)return;const ge=Object.entries({bills:u,debts:h,incomes:m,weeklyCosts:x,jobs:_,tasks:A,invoices:P,taxPayments:N,goals:T,clients:L,inventory:R,vehicles:$,maintenanceLogs:ie}).map(([Te,Re])=>Dp(U7(Vo(sr,"artifacts",Jr,"users",t,Te)),dt=>{Re(dt.docs.map(ot=>({id:ot.id,...ot.data()})))},dt=>console.error(`Error fetching ${Te}:`,dt))),Ce=Dp(Zr(sr,"artifacts",Jr,"users",t,"paidStatus",Zn),Te=>{se(Te.exists()?Te.data().status:{})},Te=>console.error("Error fetching paid status:",Te));return()=>{ge.forEach(Te=>Te()),Ce()}},[t,Zn]),z.useEffect(()=>{if(!t)return;const oe=Dp(Zr(sr,"artifacts",Jr,"users",t,"settings","currentBalance"),ge=>{ge.exists()?xe(ge.data().amount||0):xe(0)},ge=>{console.error("Error fetching current balance:",ge),xe(0)});return()=>oe()},[t]);const Mn=z.useMemo(()=>k.filter(oe=>{if(!oe.date)return!1;const ge=new Date(oe.date);return ge>=U.start&&ge<=U.end}),[k,U]),ba=z.useMemo(()=>l.filter(oe=>!be||oe.category===be),[l,be]),jr=z.useMemo(()=>{const oe=p.reduce((nt,Ue)=>nt+(Ue.amount||0),0),ge=l.reduce((nt,Ue)=>nt+(Ue.amount||0),0),Ce=y.reduce((nt,Ue)=>nt+(Ue.amount||0),0)*4.33,Te=ge+Ce,Re=oe-Te,dt=d.reduce((nt,Ue)=>nt+((Ue.totalAmount||0)-(Ue.paidAmount||0)),0),ot=l.filter(nt=>Q[nt.id]).reduce((nt,Ue)=>nt+Ue.amount,0);return{totalIncome:oe,totalOutflow:Te,netCashFlow:Re,paidThisMonth:ot,totalDebt:dt,totalMonthlyBills:ge,projectedMonthlyWeekly:Ce}},[l,d,p,y,Q]),zr=z.useMemo(()=>{const oe=Mn.reduce((Te,Re)=>Te+(Re.revenue||0),0),ge=Mn.reduce((Te,Re)=>Te+(Re.materialCost||0)+(Re.laborCost||0),0),Ce=oe-ge;return{revenue:oe,cogs:ge,grossProfit:Ce}},[Mn]),os=z.useMemo(()=>{const oe=l.reduce((Ce,Te)=>{const Re=Te.category||"Uncategorized";return Ce[Re]=(Ce[Re]||0)+Te.amount,Ce},{}),ge=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(oe).map(([Ce,Te],Re)=>({name:Ce,value:Te,color:ge[Re%ge.length]})).sort((Ce,Te)=>Te.value-Ce.value)},[l]);z.useMemo(()=>{let ge={bills:ba,debts:d,incomes:p,weeklyCosts:y,jobs:k,goals:I,clients:C,inventory:M,vehicles:F,invoices:E}[pe]||[];return Ut&&(ge=ge.filter(Ce=>Object.values(Ce).some(Te=>Te&&String(Te).toLowerCase().includes(Ut.toLowerCase())))),[...ge].sort((Ce,Te)=>ce.key?Ce[ce.key]<Te[ce.key]?ce.direction==="ascending"?-1:1:Ce[ce.key]>Te[ce.key]?ce.direction==="ascending"?1:-1:0:0)},[ba,d,p,y,k,I,C,M,F,E,ce,pe,Ut]);const ei=z.useMemo(()=>{const oe=d.map(Te=>({...Te,remaining:Te.totalAmount-Te.paidAmount})).filter(Te=>Te.remaining>0),ge=[...oe].sort((Te,Re)=>Re.interestRate-Te.interestRate),Ce=[...oe].sort((Te,Re)=>Te.remaining-Re.remaining);return{avalanche:ge,snowball:Ce}},[d]),ho=z.useMemo(()=>I.map(oe=>{let ge=0;if(oe.type==="debt"){const Ce=d.find(Te=>Te.id===oe.targetId);Ce&&(ge=Ce.paidAmount/Ce.totalAmount*100)}else oe.type==="revenue"&&(ge=k.reduce((Te,Re)=>Te+(Re.revenue||0),0)/oe.targetValue*100);return{...oe,progress:Math.min(ge,100)}}),[I,d,k]),wa=oe=>ve(ge=>({key:oe,direction:ge.key===oe&&ge.direction==="ascending"?"descending":"ascending"})),fo=async oe=>{t&&await PT(Zr(sr,"artifacts",Jr,"users",t,"paidStatus",Zn),{status:{...Q,[oe]:!Q[oe]}},{merge:!0})},wi=async(oe,ge)=>{if(!t)return;const Ce=ge==="Paid"?"Unpaid":"Paid";await em(Zr(sr,"artifacts",Jr,"users",t,"invoices",oe),{status:Ce})},er=(oe,ge=null)=>{Y(oe),W(ge),Z(!0)},Kt=async oe=>{if(!t){alert("Please log in to update the balance.");return}try{await PT(Zr(sr,"artifacts",Jr,"users",t,"settings","currentBalance"),{amount:oe,updatedAt:Ji()},{merge:!0}),console.log(" Current balance updated to:",oe)}catch(ge){console.error(" Failed to update current balance:",ge),alert("Failed to update balance: "+ge.message)}},ls=async(oe,ge)=>{if(!t)return;const Te={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[X],Re=["artifacts",Jr,"users",t,Te],dt={...oe,modifiedAt:Ji()};if(ge){console.log("Uploading file:",ge.name);const ot=n8(yoe,`receipts/${t}/${Date.now()}-${ge.name}`);try{await t8(ot,ge),dt.attachmentURL=await r8(ot)}catch(nt){console.error("File upload failed:",nt),alert("File upload failed. Please try again.");return}}re?.id?await em(Zr(sr,...Re,re.id),dt):await r4(Vo(sr,...Re),{...dt,createdAt:Ji()}),Z(!1),W(null)},Yt=async(oe,ge)=>{if(!t){console.log("No user ID, cannot delete");return}if(!window.confirm("Delete this item?")){console.log("User cancelled deletion");return}console.log(`Attempting to delete ${oe} with id: ${ge}`);const Te={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[oe];if(!Te){console.error("Invalid type:",oe),alert("Invalid item type for deletion");return}try{const Re=`artifacts/${Jr}/users/${t}/${Te}/${ge}`;console.log("Deleting document at path:",Re);const dt=Zr(sr,"artifacts",Jr,"users",t,Te,ge);await t4(dt),console.log(` Successfully deleted ${oe} with id: ${ge}`),setTimeout(()=>{console.log(`Deletion of ${oe} completed`)},100)}catch(Re){console.error(` Error deleting ${oe}:`,Re),alert(`Failed to delete ${oe}. Error: ${Re.message}`)}},_a=async(oe,ge)=>{if(!t||!ge.length){console.log("No user ID or no updates to process");return}console.log(`Bulk updating ${ge.length} ${oe}s`);const Te={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[oe];if(!Te){console.error("Invalid bulk update type:",oe),alert("Invalid item type for bulk update");return}try{const Re=Yu(sr);ge.forEach(dt=>{const{id:ot,...nt}=dt,Ue=Zr(sr,"artifacts",Jr,"users",t,Te,ot);Re.update(Ue,{...nt,modifiedAt:Ji()})}),await Re.commit(),console.log(` Successfully bulk updated ${ge.length} ${oe}s`)}catch(Re){console.error(` Error bulk updating ${oe}s:`,Re),alert(`Failed to bulk update ${oe}s. Error: ${Re.message}`)}},Dn=(oe,ge)=>{if(!oe.length)return;const Ce=Object.keys(oe[0]),Te=oe.map(nt=>Ce.map(Ue=>{const mt=nt[Ue];return typeof mt=="string"&&mt.includes(",")?`"${mt}"`:mt}).join(",")),Re="data:text/csv;charset=utf-8,"+[Ce.join(","),...Te].join(`
`),dt=encodeURI(Re),ot=document.createElement("a");ot.setAttribute("href",dt),ot.setAttribute("download",`hvac_${ge}_${Zn}.csv`),document.body.appendChild(ot),ot.click(),document.body.removeChild(ot)},ti=(oe,ge)=>{if(!oe||!t)return;const Ce=new FileReader;Ce.onload=async Te=>{const dt=Te.target.result.split(`
`).filter(Je=>Je),ot=dt[0].split(",").map(Je=>Je.trim()),nt=dt.slice(1).map(Je=>{const Wr=Je.split(",").map(ht=>ht.trim());return ot.reduce((ht,Ln,Hr)=>{const $n=Wr[Hr];return ht[Ln]=isNaN($n)||$n===""?$n:parseFloat($n),ht},{})}),mt={client:"clients",job:"jobs",inventory:"inventory",invoice:"invoices"}[ge];if(!mt){alert("Invalid import type.");return}const wt=Yu(sr),It=Vo(sr,"artifacts",Jr,"users",t,mt);nt.forEach(Je=>{const Wr=Zr(It),ht=Object.entries(Je).reduce((Ln,[Hr,$n])=>(Ln[Hr]=$n===void 0?null:$n,Ln),{});wt.set(Wr,{...ht,createdAt:Ji()})});try{await wt.commit(),alert(`Successfully imported ${nt.length} ${mt}!`)}catch(Je){console.error("Error importing CSV:",Je),alert("Failed to import CSV. Please check the console for errors.")}},Ce.readAsText(oe)},cn=async(oe,ge)=>{if(!t||!ge.length||!window.confirm(`Delete ${ge.length} selected items?`))return;const Te={inventory:"inventory",invoice:"invoices",client:"clients",vehicle:"vehicles"}[oe];if(!Te){alert("Invalid bulk delete type.");return}try{const Re=Yu(sr);ge.forEach(dt=>{const ot=Zr(sr,"artifacts",Jr,"users",t,Te,dt);Re.delete(ot),oe==="vehicle"&&ee.filter(Ue=>Ue.vehicleId===dt).forEach(Ue=>{const mt=Zr(sr,"artifacts",Jr,"users",t,"maintenanceLogs",Ue.id);Re.delete(mt)})}),await Re.commit(),ln([]),console.log(`Successfully deleted ${ge.length} ${oe}s`)}catch(Re){console.error(`Error bulk deleting ${oe}s:`,Re),alert(`Failed to delete ${oe}s. Please try again.`)}},po=async()=>{if(!(!t||!window.confirm("Clear all your business data? This will remove everything and give you a fresh start.")))try{console.log("Clearing all business data...");const oe=["bills","debts","incomes","weeklyCosts","jobs","tasks","invoices","taxPayments","goals","clients","inventory","vehicles","maintenanceLogs","paidStatus","system","settings"];for(const ge of oe){const Ce=await W7(Vo(sr,"artifacts",Jr,"users",t,ge));if(Ce.docs.length>0){const Te=Yu(sr);Ce.docs.forEach(Re=>{Te.delete(Re.ref)}),await Te.commit(),console.log(`Cleared ${Ce.docs.length} documents from ${ge}`)}}console.log(" All business data cleared"),alert("All business data has been cleared. You now have a fresh start to add your own business information.")}catch(oe){console.error(" Failed to clear data:",oe),alert("Failed to clear data: "+oe.message)}};if(r)return o.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})});if(!t)return o.jsx(T8,{setUserId:e});const mu=()=>o.jsxs(o.Fragment,{children:[ze&&o.jsx(noe,{bills:l,paidStatus:Q,onClose:()=>Zt(!1)}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx(Zi,{title:"Total Monthly Income",value:`$${jr.totalIncome.toLocaleString()}`,icon:o.jsx(f8,{size:24}),color:"green"}),o.jsx(Zi,{title:"Total Monthly Outflow",value:`$${jr.totalOutflow.toLocaleString()}`,icon:o.jsx(d8,{size:24}),color:"red"}),o.jsx(Zi,{title:"Projected Net",value:`$${jr.netCashFlow.toLocaleString()}`,icon:o.jsx(Ur,{size:24}),color:jr.netCashFlow>=0?"cyan":"amber"}),o.jsx(Zi,{title:"Outstanding Debt",value:`$${jr.totalDebt.toLocaleString()}`,icon:o.jsx(x0,{size:24}),color:"orange"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx(Zi,{title:"Gross Profit Margin",value:`${zr.revenue>0?(zr.grossProfit/zr.revenue*100).toFixed(1):"0.0"}%`,icon:o.jsx(j4,{size:24}),color:"teal",subtext:"For selected period"}),o.jsx(Zi,{title:"Avg. Job Revenue",value:`$${(zr.revenue/(Mn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:o.jsx(vi,{size:24}),color:"indigo",subtext:`${Mn.length} jobs`}),o.jsx(Zi,{title:"Avg. Job Profit",value:`$${(zr.grossProfit/(Mn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:o.jsx($d,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[o.jsx(goe,{bills:l,paidStatus:Q,selectedCategory:be,setSelectedCategory:q,handleTogglePaid:fo,handleSort:wa,openModal:er,handleDelete:Yt,handleEnhancedExportCSV:bi}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),o.jsx(ioe,{data:os,onSliceClick:q})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"AppSheet Integration"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Import your AppSheet jobs and customer data easily with CSV files."}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(ic,{type:"job",label:"Import Jobs"}),o.jsx(ic,{type:"client",label:"Import Customers"}),o.jsx(ic,{type:"invoice",label:"Import Invoices"})]}),o.jsxs("button",{onClick:lo,className:"w-full flex items-center justify-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mn,{size:16}),"Download CSV Template"]}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[o.jsx("p",{children:" Export data from AppSheet as CSV"}),o.jsx("p",{children:" Use Import buttons to map fields"}),o.jsx("p",{children:" Download template for reference"})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Getting Started"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Welcome to Your Business Dashboard!"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Add Clients"})," - Go to Clients section"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Add Vehicles"})," - Go to Vehicles section"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Add Jobs"})," - Go to Jobs section"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Track Bills"})," - Add your monthly expenses"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Manage Inventory"})," - Track your parts/supplies"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Create Invoices"})," - Bill your customers"]})]})]}),o.jsxs("button",{onClick:po,className:"w-full flex items-center justify-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(fr,{size:16}),"Clear All Data (If Needed)"]})]})]})]})]})]});return o.jsxs("div",{className:`${mr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white min-h-screen font-sans`,children:[o.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[o.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Business Financial Dashboard"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Complete Business Management Solution"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:uo,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:mr==="light"?o.jsx(_8,{size:20}):o.jsx(j8,{size:20})}),o.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-3 rounded-lg",children:[o.jsx("span",{className:"text-sm font-semibold",children:"Period:"}),o.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[o.jsx("button",{onClick:()=>Oe("monthly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="monthly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Monthly"}),o.jsx("button",{onClick:()=>Oe("quarterly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="quarterly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Quarterly"}),o.jsx("button",{onClick:()=>Oe("yearly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="yearly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Yearly"})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("button",{onClick:()=>{const oe=new Date(U.start);_e==="monthly"?oe.setMonth(oe.getMonth()-1):_e==="quarterly"?oe.setMonth(oe.getMonth()-3):oe.setFullYear(oe.getFullYear()-1);let ge;_e==="monthly"?ge=new Date(oe.getFullYear(),oe.getMonth()+1,0):_e==="quarterly"?ge=new Date(oe.getFullYear(),oe.getMonth()+3,0):ge=new Date(oe.getFullYear(),11,31),de({start:oe,end:ge})},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-colors",title:"Previous period",children:o.jsx(w4,{size:16})}),o.jsxs("span",{className:"text-sm font-medium min-w-[120px] text-center",children:[_e==="monthly"&&U.start.toLocaleDateString("en-US",{month:"short",year:"numeric"}),_e==="quarterly"&&`Q${Math.ceil((U.start.getMonth()+1)/3)} ${U.start.getFullYear()}`,_e==="yearly"&&U.start.getFullYear().toString()]}),o.jsx("button",{onClick:()=>{const oe=new Date(U.start);_e==="monthly"?oe.setMonth(oe.getMonth()+1):_e==="quarterly"?oe.setMonth(oe.getMonth()+3):oe.setFullYear(oe.getFullYear()+1);let ge;_e==="monthly"?ge=new Date(oe.getFullYear(),oe.getMonth()+1,0):_e==="quarterly"?ge=new Date(oe.getFullYear(),oe.getMonth()+3,0):ge=new Date(oe.getFullYear(),11,31),de({start:oe,end:ge})},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-colors",title:"Next period",children:o.jsx(U1,{size:16})})]})]}),o.jsxs("button",{onClick:()=>LV(DR),className:"flex items-center gap-2 text-sm bg-slate-600 hover:bg-slate-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(x8,{size:16})," Logout"]})]})]}),o.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[o.jsx("button",{onClick:()=>he("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),o.jsx("button",{onClick:()=>he("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="reports"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Reports"}),o.jsx("button",{onClick:()=>he("calendar"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="calendar"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Calendar"}),o.jsx("button",{onClick:()=>he("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="invoices"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Invoices"}),o.jsx("button",{onClick:()=>he("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="tax"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Tax Management"}),o.jsx("button",{onClick:()=>he("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L Statement"}),o.jsx("button",{onClick:()=>he("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="forecast"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Forecast"}),o.jsx("button",{onClick:()=>he("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="goals"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Goals"}),o.jsx("button",{onClick:()=>he("incentives"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="incentives"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Incentives"}),o.jsx("button",{onClick:()=>he("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="clients"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Clients"}),o.jsx("button",{onClick:()=>he("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="jobs"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Jobs"}),o.jsx("button",{onClick:()=>he("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="vehicles"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Vehicles"}),o.jsx("button",{onClick:()=>he("valuation"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="valuation"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Business Valuation"}),o.jsx("button",{onClick:()=>he("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="inventory"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Inventory"}),o.jsx("button",{onClick:()=>he("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="debts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Debt Management"}),o.jsx("button",{onClick:()=>he("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="incomes"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Income Sources"}),o.jsx("button",{onClick:()=>he("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${pe==="weeklyCosts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Weekly Costs"})]}),o.jsxs("main",{children:[pe==="dashboard"&&mu(),pe==="reports"&&o.jsx(roe,{clients:C,jobs:k,bills:l,inventory:M}),pe==="valuation"&&o.jsx(eoe,{}),pe==="calendar"&&o.jsx(Yse,{jobs:k,tasks:b,openModal:er}),pe==="invoices"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(ic,{type:"invoice",label:"Import Invoices"}),o.jsxs("button",{onClick:()=>bi(E,"invoices",["billTo","customer","jobNo","completedOn","net","grandTotal","status"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mn,{size:16}),"Export Invoices"]}),o.jsxs("button",{onClick:()=>er("invoice"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(In,{size:18}),"Add Invoice"]})]})]}),o.jsx(Qse,{invoices:E,openModal:er,handleDelete:Yt,handleBulkDelete:cn,selectedIds:Or,setSelectedIds:ln,searchTerm:Ut,setSearchTerm:qt,handleImportCSV:ti,handleExportCSV:Dn,handleToggleInvoicePaid:wi})]}),pe==="tax"&&o.jsx(Kse,{jobs:k,bills:l,weeklyCosts:y,taxPayments:O,openModal:er,handleDelete:Yt}),pe==="pnl"&&o.jsx(loe,{jobs:k,bills:l,weeklyCosts:y,reportingPeriod:_e,dateRange:U}),pe==="forecast"&&o.jsx(aoe,{invoices:E,bills:l,weeklyCosts:y,currentBankBalance:me,setCurrentBankBalance:Kt}),pe==="goals"&&o.jsx(doe,{goalsWithProgress:ho,openModal:er,onDeleteGoal:oe=>Yt("goal",oe),onEditGoal:oe=>er("goal",oe)}),pe==="incentives"&&o.jsx(moe,{userId:t,db:sr,appId:Jr}),pe==="clients"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(ic,{type:"client",label:"Import Clients"}),o.jsxs("button",{onClick:()=>bi(C,"clients",["name","address","phone","email"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mn,{size:16}),"Export Clients"]}),o.jsxs("button",{onClick:()=>er("client"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(In,{size:18}),"Add Client"]})]})]}),o.jsx(Jse,{clients:C,openModal:er,handleDelete:Yt,handleBulkDelete:cn,selectedIds:Or,setSelectedIds:ln,searchTerm:Ut,setSearchTerm:qt,handleImportCSV:ti,handleExportCSV:Dn,handleBulkUpdate:_a})]}),pe==="jobs"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Jobs Management"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(ic,{type:"job",label:"Import Jobs"}),o.jsxs("button",{onClick:()=>bi(k,"jobs",["name","revenue","materialCost","laborCost","date","notes","clientId"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mn,{size:16}),"Export Jobs"]}),o.jsxs("button",{onClick:()=>er("job"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(In,{size:18}),"Add Job"]})]})]}),o.jsx(ooe,{jobs:k,clients:C,openModal:er,handleDelete:Yt,searchTerm:Ut,setSearchTerm:qt,handleImportCSV:ti,handleExportCSV:Dn})]}),pe==="vehicles"&&o.jsx(Zse,{vehicles:F,maintenanceLogs:ee,openModal:er,handleDelete:Yt,searchTerm:Ut,setSearchTerm:qt}),pe==="inventory"&&o.jsx(toe,{inventory:M,openModal:er,handleDelete:Yt,handleBulkDelete:cn,selectedIds:Or,setSelectedIds:ln,searchTerm:Ut,setSearchTerm:qt,handleImportCSV:ti,handleExportCSV:Dn}),pe==="debts"&&o.jsx(coe,{debts:d,openModal:er,handleDelete:Yt,searchTerm:Ut,setSearchTerm:qt,handleImportCSV:ti,handleExportCSV:Dn,debtPayoffStrategies:ei}),pe==="incomes"&&o.jsx(uoe,{incomes:p,openModal:er,handleDelete:Yt}),pe==="weeklyCosts"&&o.jsx(hoe,{weeklyCosts:y,openModal:er,handleDelete:Yt})]}),o.jsx("footer",{className:"text-center mt-8 py-4 border-t border-slate-200 dark:border-slate-700",children:o.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Powered by ",o.jsx("a",{href:"https://service.money/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-cyan-600 dark:text-cyan-400 hover:underline",children:"Service Coin"})]})})]}),o.jsx(co,{}),te&&o.jsx(Xse,{item:re,type:X,onSave:ls,onClose:()=>Z(!1),debts:d,clients:C,vehicles:F})]})};nF.createRoot(document.getElementById("root")).render(o.jsx(K.StrictMode,{children:o.jsx(xoe,{})}));
