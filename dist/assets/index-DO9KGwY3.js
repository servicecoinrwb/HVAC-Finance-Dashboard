(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y0={exports:{}},ku={},X0={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function M6(){if(pE)return Qe;pE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function b(z,Y,K){this.props=z,this.context=Y,this.refs=_,this.updater=K||x}b.prototype.isReactComponent={},b.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function P(){}P.prototype=b.prototype;function A(z,Y,K){this.props=z,this.context=Y,this.refs=_,this.updater=K||x}var O=A.prototype=new P;O.constructor=A,S(O,b.prototype),O.isPureReactComponent=!0;var R=Array.isArray,E=Object.prototype.hasOwnProperty,N={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function C(z,Y,K){var le,fe={},ye=null,he=null;if(Y!=null)for(le in Y.ref!==void 0&&(he=Y.ref),Y.key!==void 0&&(ye=""+Y.key),Y)E.call(Y,le)&&!T.hasOwnProperty(le)&&(fe[le]=Y[le]);var me=arguments.length-2;if(me===1)fe.children=K;else if(1<me){for(var ue=Array(me),je=0;je<me;je++)ue[je]=arguments[je+2];fe.children=ue}if(z&&z.defaultProps)for(le in me=z.defaultProps,me)fe[le]===void 0&&(fe[le]=me[le]);return{$$typeof:t,type:z,key:ye,ref:he,props:fe,_owner:N.current}}function L(z,Y){return{$$typeof:t,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function I(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function D(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(K){return Y[K]})}var V=/\/+/g;function $(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?D(""+z.key):Y.toString(36)}function ee(z,Y,K,le,fe){var ye=typeof z;(ye==="undefined"||ye==="boolean")&&(z=null);var he=!1;if(z===null)he=!0;else switch(ye){case"string":case"number":he=!0;break;case"object":switch(z.$$typeof){case t:case e:he=!0}}if(he)return he=z,fe=fe(he),z=le===""?"."+$(he,0):le,R(fe)?(K="",z!=null&&(K=z.replace(V,"$&/")+"/"),ee(fe,Y,K,"",function(je){return je})):fe!=null&&(I(fe)&&(fe=L(fe,K+(!fe.key||he&&he.key===fe.key?"":(""+fe.key).replace(V,"$&/")+"/")+z)),Y.push(fe)),1;if(he=0,le=le===""?".":le+":",R(z))for(var me=0;me<z.length;me++){ye=z[me];var ue=le+$(ye,me);he+=ee(ye,Y,K,ue,fe)}else if(ue=y(z),typeof ue=="function")for(z=ue.call(z),me=0;!(ye=z.next()).done;)ye=ye.value,ue=le+$(ye,me++),he+=ee(ye,Y,K,ue,fe);else if(ye==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return he}function ne(z,Y,K){if(z==null)return z;var le=[],fe=0;return ee(z,le,"","",function(ye){return Y.call(K,ye,fe++)}),le}function Q(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(K){(z._status===0||z._status===-1)&&(z._status=1,z._result=K)},function(K){(z._status===0||z._status===-1)&&(z._status=2,z._result=K)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var ie={current:null},Z={transition:null},J={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:Z,ReactCurrentOwner:N};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:ne,forEach:function(z,Y,K){ne(z,function(){Y.apply(this,arguments)},K)},count:function(z){var Y=0;return ne(z,function(){Y++}),Y},toArray:function(z){return ne(z,function(Y){return Y})||[]},only:function(z){if(!I(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Qe.Component=b,Qe.Fragment=r,Qe.Profiler=i,Qe.PureComponent=A,Qe.StrictMode=n,Qe.Suspense=d,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Qe.act=ae,Qe.cloneElement=function(z,Y,K){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var le=S({},z.props),fe=z.key,ye=z.ref,he=z._owner;if(Y!=null){if(Y.ref!==void 0&&(ye=Y.ref,he=N.current),Y.key!==void 0&&(fe=""+Y.key),z.type&&z.type.defaultProps)var me=z.type.defaultProps;for(ue in Y)E.call(Y,ue)&&!T.hasOwnProperty(ue)&&(le[ue]=Y[ue]===void 0&&me!==void 0?me[ue]:Y[ue])}var ue=arguments.length-2;if(ue===1)le.children=K;else if(1<ue){me=Array(ue);for(var je=0;je<ue;je++)me[je]=arguments[je+2];le.children=me}return{$$typeof:t,type:z.type,key:fe,ref:ye,props:le,_owner:he}},Qe.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Qe.createElement=C,Qe.createFactory=function(z){var Y=C.bind(null,z);return Y.type=z,Y},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(z){return{$$typeof:u,render:z}},Qe.isValidElement=I,Qe.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:Q}},Qe.memo=function(z,Y){return{$$typeof:f,type:z,compare:Y===void 0?null:Y}},Qe.startTransition=function(z){var Y=Z.transition;Z.transition={};try{z()}finally{Z.transition=Y}},Qe.unstable_act=ae,Qe.useCallback=function(z,Y){return ie.current.useCallback(z,Y)},Qe.useContext=function(z){return ie.current.useContext(z)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(z){return ie.current.useDeferredValue(z)},Qe.useEffect=function(z,Y){return ie.current.useEffect(z,Y)},Qe.useId=function(){return ie.current.useId()},Qe.useImperativeHandle=function(z,Y,K){return ie.current.useImperativeHandle(z,Y,K)},Qe.useInsertionEffect=function(z,Y){return ie.current.useInsertionEffect(z,Y)},Qe.useLayoutEffect=function(z,Y){return ie.current.useLayoutEffect(z,Y)},Qe.useMemo=function(z,Y){return ie.current.useMemo(z,Y)},Qe.useReducer=function(z,Y,K){return ie.current.useReducer(z,Y,K)},Qe.useRef=function(z){return ie.current.useRef(z)},Qe.useState=function(z){return ie.current.useState(z)},Qe.useSyncExternalStore=function(z,Y,K){return ie.current.useSyncExternalStore(z,Y,K)},Qe.useTransition=function(){return ie.current.useTransition()},Qe.version="18.3.1",Qe}var mE;function u1(){return mE||(mE=1,X0.exports=M6()),X0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function D6(){if(gE)return ku;gE=1;var t=u1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,f){var p,g={},y=null,x=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)n.call(d,p)&&!a.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:x,props:g,_owner:i.current}}return ku.Fragment=r,ku.jsx=o,ku.jsxs=o,ku}var vE;function L6(){return vE||(vE=1,Y0.exports=D6()),Y0.exports}var c=L6(),B=u1();const H=ft(B);var Ah={},Q0={exports:{}},un={},J0={exports:{}},Z0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function $6(){return yE||(yE=1,function(t){function e(Z,J){var ae=Z.length;Z.push(J);e:for(;0<ae;){var z=ae-1>>>1,Y=Z[z];if(0<i(Y,J))Z[z]=J,Z[ae]=Y,ae=z;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var J=Z[0],ae=Z.pop();if(ae!==J){Z[0]=ae;e:for(var z=0,Y=Z.length,K=Y>>>1;z<K;){var le=2*(z+1)-1,fe=Z[le],ye=le+1,he=Z[ye];if(0>i(fe,ae))ye<Y&&0>i(he,fe)?(Z[z]=he,Z[ye]=ae,z=ye):(Z[z]=fe,Z[le]=ae,z=le);else if(ye<Y&&0>i(he,ae))Z[z]=he,Z[ye]=ae,z=ye;else break e}}return J}function i(Z,J){var ae=Z.sortIndex-J.sortIndex;return ae!==0?ae:Z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],f=[],p=1,g=null,y=3,x=!1,S=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Z){for(var J=r(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=Z)n(f),J.sortIndex=J.expirationTime,e(d,J);else break;J=r(f)}}function R(Z){if(_=!1,O(Z),!S)if(r(d)!==null)S=!0,Q(E);else{var J=r(f);J!==null&&ie(R,J.startTime-Z)}}function E(Z,J){S=!1,_&&(_=!1,P(C),C=-1),x=!0;var ae=y;try{for(O(J),g=r(d);g!==null&&(!(g.expirationTime>J)||Z&&!D());){var z=g.callback;if(typeof z=="function"){g.callback=null,y=g.priorityLevel;var Y=z(g.expirationTime<=J);J=t.unstable_now(),typeof Y=="function"?g.callback=Y:g===r(d)&&n(d),O(J)}else n(d);g=r(d)}if(g!==null)var K=!0;else{var le=r(f);le!==null&&ie(R,le.startTime-J),K=!1}return K}finally{g=null,y=ae,x=!1}}var N=!1,T=null,C=-1,L=5,I=-1;function D(){return!(t.unstable_now()-I<L)}function V(){if(T!==null){var Z=t.unstable_now();I=Z;var J=!0;try{J=T(!0,Z)}finally{J?$():(N=!1,T=null)}}else N=!1}var $;if(typeof A=="function")$=function(){A(V)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ne=ee.port2;ee.port1.onmessage=V,$=function(){ne.postMessage(null)}}else $=function(){b(V,0)};function Q(Z){T=Z,N||(N=!0,$())}function ie(Z,J){C=b(function(){Z(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,Q(E))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var ae=y;y=J;try{return Z()}finally{y=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,J){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ae=y;y=Z;try{return J()}finally{y=ae}},t.unstable_scheduleCallback=function(Z,J,ae){var z=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?z+ae:z):ae=z,Z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,Z={id:p++,callback:J,priorityLevel:Z,startTime:ae,expirationTime:Y,sortIndex:-1},ae>z?(Z.sortIndex=ae,e(f,Z),r(d)===null&&Z===r(f)&&(_?(P(C),C=-1):_=!0,ie(R,ae-z))):(Z.sortIndex=Y,e(d,Z),S||x||(S=!0,Q(E))),Z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Z){var J=y;return function(){var ae=y;y=J;try{return Z.apply(this,arguments)}finally{y=ae}}}}(Z0)),Z0}var xE;function F6(){return xE||(xE=1,J0.exports=$6()),J0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function V6(){if(bE)return un;bE=1;var t=u1(),e=F6();function r(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,l){o(s,l),o(s+"Capture",l)}function o(s,l){for(i[s]=l,s=0;s<l.length;s++)n.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(s){return d.call(g,s)?!0:d.call(p,s)?!1:f.test(s)?g[s]=!0:(p[s]=!0,!1)}function x(s,l,h,v){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,l,h,v){if(l===null||typeof l>"u"||x(s,l,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(s,l,h,v,w,j,F){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=s,this.type=l,this.sanitizeURL=j,this.removeEmptyString=F}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];b[l]=new _(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(P,A);b[l]=new _(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(P,A);b[l]=new _(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(P,A);b[l]=new _(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,l,h,v){var w=b.hasOwnProperty(l)?b[l]:null;(w!==null?w.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,h,w,v)&&(h=null),v||w===null?y(l)&&(h===null?s.removeAttribute(l):s.setAttribute(l,""+h)):w.mustUseProperty?s[w.propertyName]=h===null?w.type===3?!1:"":h:(l=w.attributeName,v=w.attributeNamespace,h===null?s.removeAttribute(l):(w=w.type,h=w===3||w===4&&h===!0?"":""+h,v?s.setAttributeNS(v,l,h):s.setAttribute(l,h))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),N=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),Z=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,z;function Y(s){if(z===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+s}var K=!1;function le(s,l){if(!s||K)return"";K=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(oe){var v=oe}Reflect.construct(s,[],l)}else{try{l.call()}catch(oe){v=oe}s.call(l.prototype)}else{try{throw Error()}catch(oe){v=oe}s()}}catch(oe){if(oe&&v&&typeof oe.stack=="string"){for(var w=oe.stack.split(`
`),j=v.stack.split(`
`),F=w.length-1,q=j.length-1;1<=F&&0<=q&&w[F]!==j[q];)q--;for(;1<=F&&0<=q;F--,q--)if(w[F]!==j[q]){if(F!==1||q!==1)do if(F--,q--,0>q||w[F]!==j[q]){var G=`
`+w[F].replace(" at new "," at ");return s.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",s.displayName)),G}while(1<=F&&0<=q);break}}}finally{K=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?Y(s):""}function fe(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=le(s.type,!1),s;case 11:return s=le(s.type.render,!1),s;case 1:return s=le(s.type,!0),s;default:return""}}function ye(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case N:return"Portal";case L:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case I:return(s._context.displayName||"Context")+".Provider";case V:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ne:return l=s.displayName||null,l!==null?l:ye(s.type)||"Memo";case Q:l=s._payload,s=s._init;try{return ye(s(l))}catch{}}return null}function he(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(l);case 8:return l===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ue(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function je(s){var l=ue(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),v=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,j=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return w.call(this)},set:function(F){v=""+F,j.call(this,F)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(F){v=""+F},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Ee(s){s._valueTracker||(s._valueTracker=je(s))}function W(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return s&&(v=ue(s)?s.checked?"true":"false":s.value),s=v,s!==h?(l.setValue(s),!0):!1}function pe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ge(s,l){var h=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function Ae(s,l){var h=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;h=me(l.value!=null?l.value:h),s._wrapperState={initialChecked:v,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function $e(s,l){l=l.checked,l!=null&&O(s,"checked",l,!1)}function Mt(s,l){$e(s,l);var h=me(l.value),v=l.type;if(h!=null)v==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?Br(s,l.type,h):l.hasOwnProperty("defaultValue")&&Br(s,l.type,me(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Zr(s,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,h||l===s.value||(s.value=l),s.defaultValue=l}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function Br(s,l,h){(l!=="number"||pe(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var qr=Array.isArray;function Qt(s,l,h,v){if(s=s.options,l){l={};for(var w=0;w<h.length;w++)l["$"+h[w]]=!0;for(h=0;h<s.length;h++)w=l.hasOwnProperty("$"+s[h].value),s[h].selected!==w&&(s[h].selected=w),w&&v&&(s[h].defaultSelected=!0)}else{for(h=""+me(h),l=null,w=0;w<s.length;w++){if(s[w].value===h){s[w].selected=!0,v&&(s[w].defaultSelected=!0);return}l!==null||s[w].disabled||(l=s[w])}l!==null&&(l.selected=!0)}}function Jt(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Pn(s,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(r(92));if(qr(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),h=l}s._wrapperState={initialValue:me(h)}}function xi(s,l){var h=me(l.value),v=me(l.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),l.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),v!=null&&(s.defaultValue=""+v)}function bi(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Dt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lt(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Dt(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Qn,Fa=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,v,w){MSApp.execUnsafeLocalFunction(function(){return s(l,h,v,w)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Qn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Xi(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zt=["Webkit","ms","Moz","O"];Object.keys(Va).forEach(function(s){Zt.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Va[l]=Va[s]})});function Ko(s,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Va.hasOwnProperty(s)&&Va[s]?(""+l).trim():l+"px"}function Yo(s,l){s=s.style;for(var h in l)if(l.hasOwnProperty(h)){var v=h.indexOf("--")===0,w=Ko(h,l[h],v);h==="float"&&(h="cssFloat"),v?s.setProperty(h,w):s[h]=w}}var Xo=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vs(s,l){if(l){if(Xo[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Us(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wi=null;function Qi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ji=null,en=null,xr=null;function Cn(s){if(s=cu(s)){if(typeof Ji!="function")throw Error(r(280));var l=s.stateNode;l&&(l=Bf(l),Ji(s.stateNode,s.type,l))}}function Nr(s){en?xr?xr.push(s):xr=[s]:en=s}function Bs(){if(en){var s=en,l=xr;if(xr=en=null,Cn(s),l)for(s=0;s<l.length;s++)Cn(l[s])}}function _i(s,l){return s(l)}function qs(){}var Jn=!1;function zs(s,l,h){if(Jn)return s(l,h);Jn=!0;try{return _i(s,l,h)}finally{Jn=!1,(en!==null||xr!==null)&&(qs(),Bs())}}function Ot(s,l){var h=s.stateNode;if(h===null)return null;var v=Bf(h);if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var Ua=!1;if(u)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Ua=!1}function Zi(s,l,h,v,w,j,F,q,G){var oe=Array.prototype.slice.call(arguments,3);try{l.apply(h,oe)}catch(xe){this.onError(xe)}}var ea=!1,lr=null,gn=!1,cr=null,Wc={onError:function(s){ea=!0,lr=s}};function Ba(s,l,h,v,w,j,F,q,G){ea=!1,lr=null,Zi.apply(Wc,arguments)}function Qo(s,l,h,v,w,j,F,q,G){if(Ba.apply(this,arguments),ea){if(ea){var oe=lr;ea=!1,lr=null}else throw Error(r(198));gn||(gn=!0,cr=oe)}}function Ye(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function lt(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function xt(s){if(Ye(s)!==s)throw Error(r(188))}function mt(s){var l=s.alternate;if(!l){if(l=Ye(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,v=l;;){var w=h.return;if(w===null)break;var j=w.alternate;if(j===null){if(v=w.return,v!==null){h=v;continue}break}if(w.child===j.child){for(j=w.child;j;){if(j===h)return xt(w),s;if(j===v)return xt(w),l;j=j.sibling}throw Error(r(188))}if(h.return!==v.return)h=w,v=j;else{for(var F=!1,q=w.child;q;){if(q===h){F=!0,h=w,v=j;break}if(q===v){F=!0,v=w,h=j;break}q=q.sibling}if(!F){for(q=j.child;q;){if(q===h){F=!0,h=j,v=w;break}if(q===v){F=!0,v=j,h=w;break}q=q.sibling}if(!F)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function er(s){return s=mt(s),s!==null?On(s):null}function On(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=On(s);if(l!==null)return l;s=s.sibling}return null}var br=e.unstable_scheduleCallback,tn=e.unstable_cancelCallback,mf=e.unstable_shouldYield,kg=e.unstable_requestPaint,bt=e.unstable_now,gf=e.unstable_getCurrentPriorityLevel,Ws=e.unstable_ImmediatePriority,qa=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,Hc=e.unstable_LowPriority,vf=e.unstable_IdlePriority,Hs=null,vn=null;function yf(s){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Hs,s,void 0,(s.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:bf,Gc=Math.log,xf=Math.LN2;function bf(s){return s>>>=0,s===0?32:31-(Gc(s)/xf|0)|0}var Jo=64,Zo=4194304;function za(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Gs(s,l){var h=s.pendingLanes;if(h===0)return 0;var v=0,w=s.suspendedLanes,j=s.pingedLanes,F=h&268435455;if(F!==0){var q=F&~w;q!==0?v=za(q):(j&=F,j!==0&&(v=za(j)))}else F=h&~w,F!==0?v=za(F):j!==0&&(v=za(j));if(v===0)return 0;if(l!==0&&l!==v&&(l&w)===0&&(w=v&-v,j=l&-l,w>=j||w===16&&(j&4194240)!==0))return l;if((v&4)!==0&&(v|=h&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=v;0<l;)h=31-zr(l),w=1<<h,v|=s[h],l&=~w;return v}function jg(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ta(s,l){for(var h=s.suspendedLanes,v=s.pingedLanes,w=s.expirationTimes,j=s.pendingLanes;0<j;){var F=31-zr(j),q=1<<F,G=w[F];G===-1?((q&h)===0||(q&v)!==0)&&(w[F]=jg(q,l)):G<=l&&(s.expiredLanes|=q),j&=~q}}function yn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ks(){var s=Jo;return Jo<<=1,(Jo&4194240)===0&&(Jo=64),s}function Wa(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function Ha(s,l,h){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-zr(l),s[l]=h}function vt(s,l){var h=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<h;){var w=31-zr(h),j=1<<w;l[w]=0,v[w]=-1,s[w]=-1,h&=~j}}function Ga(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var v=31-zr(h),w=1<<v;w&l|s[v]&l&&(s[v]|=l),h&=~w}}var Ze=0;function Ka(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var wf,el,_f,Sf,kf,Kc=!1,Si=[],wr=null,Zn=null,ei=null,Ya=new Map,Rn=new Map,ki=[],Eg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jf(s,l){switch(s){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Ya.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(l.pointerId)}}function rn(s,l,h,v,w,j){return s===null||s.nativeEvent!==j?(s={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:j,targetContainers:[w]},l!==null&&(l=cu(l),l!==null&&el(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),s)}function Tg(s,l,h,v,w){switch(l){case"focusin":return wr=rn(wr,s,l,h,v,w),!0;case"dragenter":return Zn=rn(Zn,s,l,h,v,w),!0;case"mouseover":return ei=rn(ei,s,l,h,v,w),!0;case"pointerover":var j=w.pointerId;return Ya.set(j,rn(Ya.get(j)||null,s,l,h,v,w)),!0;case"gotpointercapture":return j=w.pointerId,Rn.set(j,rn(Rn.get(j)||null,s,l,h,v,w)),!0}return!1}function Ef(s){var l=Zs(s.target);if(l!==null){var h=Ye(l);if(h!==null){if(l=h.tag,l===13){if(l=lt(h),l!==null){s.blockedOn=l,kf(s.priority,function(){_f(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ra(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=tl(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var v=new h.constructor(h.type,h);wi=v,h.target.dispatchEvent(v),wi=null}else return l=cu(h),l!==null&&el(l),s.blockedOn=h,!1;l.shift()}return!0}function Ys(s,l,h){ra(s)&&h.delete(l)}function Tf(){Kc=!1,wr!==null&&ra(wr)&&(wr=null),Zn!==null&&ra(Zn)&&(Zn=null),ei!==null&&ra(ei)&&(ei=null),Ya.forEach(Ys),Rn.forEach(Ys)}function ti(s,l){s.blockedOn===l&&(s.blockedOn=null,Kc||(Kc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tf)))}function ri(s){function l(w){return ti(w,s)}if(0<Si.length){ti(Si[0],s);for(var h=1;h<Si.length;h++){var v=Si[h];v.blockedOn===s&&(v.blockedOn=null)}}for(wr!==null&&ti(wr,s),Zn!==null&&ti(Zn,s),ei!==null&&ti(ei,s),Ya.forEach(l),Rn.forEach(l),h=0;h<ki.length;h++)v=ki[h],v.blockedOn===s&&(v.blockedOn=null);for(;0<ki.length&&(h=ki[0],h.blockedOn===null);)Ef(h),h.blockedOn===null&&ki.shift()}var na=R.ReactCurrentBatchConfig,Xa=!0;function Nt(s,l,h,v){var w=Ze,j=na.transition;na.transition=null;try{Ze=1,Yc(s,l,h,v)}finally{Ze=w,na.transition=j}}function Ag(s,l,h,v){var w=Ze,j=na.transition;na.transition=null;try{Ze=4,Yc(s,l,h,v)}finally{Ze=w,na.transition=j}}function Yc(s,l,h,v){if(Xa){var w=tl(s,l,h,v);if(w===null)Fg(s,l,v,Xs,h),jf(s,v);else if(Tg(w,s,l,h,v))v.stopPropagation();else if(jf(s,v),l&4&&-1<Eg.indexOf(s)){for(;w!==null;){var j=cu(w);if(j!==null&&wf(j),j=tl(s,l,h,v),j===null&&Fg(s,l,v,Xs,h),j===w)break;w=j}w!==null&&v.stopPropagation()}else Fg(s,l,v,null,h)}}var Xs=null;function tl(s,l,h,v){if(Xs=null,s=Qi(v),s=Zs(s),s!==null)if(l=Ye(s),l===null)s=null;else if(h=l.tag,h===13){if(s=lt(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Xs=s,null}function Xc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gf()){case Ws:return 1;case qa:return 4;case In:case Hc:return 16;case vf:return 536870912;default:return 16}default:return 16}}var xn=null,rl=null,nn=null;function Qc(){if(nn)return nn;var s,l=rl,h=l.length,v,w="value"in xn?xn.value:xn.textContent,j=w.length;for(s=0;s<h&&l[s]===w[s];s++);var F=h-s;for(v=1;v<=F&&l[h-v]===w[j-v];v++);return nn=w.slice(s,1<v?1-v:void 0)}function nl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function ji(){return!0}function Jc(){return!1}function _r(s){function l(h,v,w,j,F){this._reactName=h,this._targetInst=w,this.type=v,this.nativeEvent=j,this.target=F,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(h=s[q],this[q]=h?h(j):j[q]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?ji:Jc,this.isPropagationStopped=Jc,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),l}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=_r(ni),Ei=ae({},ni,{view:0,detail:0}),Ng=_r(Ei),al,ia,Qa,Qs=ae({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Qa&&(Qa&&s.type==="mousemove"?(al=s.screenX-Qa.screenX,ia=s.screenY-Qa.screenY):ia=al=0,Qa=s),al)},movementY:function(s){return"movementY"in s?s.movementY:ia}}),sl=_r(Qs),Zc=ae({},Qs,{dataTransfer:0}),Af=_r(Zc),ol=ae({},Ei,{relatedTarget:0}),ll=_r(ol),Nf=ae({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),aa=_r(Nf),Pf=ae({},ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Cf=_r(Pf),Of=ae({},ni,{data:0}),eu=_r(Of),cl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},If={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rf(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=If[s])?!!l[s]:!1}function Ti(){return Rf}var m=ae({},Ei,{key:function(s){if(s.key){var l=cl[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=nl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Wr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(s){return s.type==="keypress"?nl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?nl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),k=_r(m),M=ae({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=_r(M),te=ae({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),ce=_r(te),Te=ae({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=_r(Te),tr=ae({},Qs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=_r(tr),ur=[9,13,27,32],zt=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var bn=u&&"TextEvent"in window&&!Mn,Js=u&&(!zt||Mn&&8<Mn&&11>=Mn),ul=" ",lk=!1;function ck(s,l){switch(s){case"keyup":return ur.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uk(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var dl=!1;function O3(s,l){switch(s){case"compositionend":return uk(l);case"keypress":return l.which!==32?null:(lk=!0,ul);case"textInput":return s=l.data,s===ul&&lk?null:s;default:return null}}function I3(s,l){if(dl)return s==="compositionend"||!zt&&ck(s,l)?(s=Qc(),nn=rl=xn=null,dl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Js&&l.locale!=="ko"?null:l.data;default:return null}}var R3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dk(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!R3[s.type]:l==="textarea"}function fk(s,l,h,v){Nr(v),l=Ff(l,"onChange"),0<l.length&&(h=new il("onChange","change",null,h,v),s.push({event:h,listeners:l}))}var tu=null,ru=null;function M3(s){Pk(s,0)}function Mf(s){var l=gl(s);if(W(l))return s}function D3(s,l){if(s==="change")return l}var hk=!1;if(u){var Pg;if(u){var Cg="oninput"in document;if(!Cg){var pk=document.createElement("div");pk.setAttribute("oninput","return;"),Cg=typeof pk.oninput=="function"}Pg=Cg}else Pg=!1;hk=Pg&&(!document.documentMode||9<document.documentMode)}function mk(){tu&&(tu.detachEvent("onpropertychange",gk),ru=tu=null)}function gk(s){if(s.propertyName==="value"&&Mf(ru)){var l=[];fk(l,ru,s,Qi(s)),zs(M3,l)}}function L3(s,l,h){s==="focusin"?(mk(),tu=l,ru=h,tu.attachEvent("onpropertychange",gk)):s==="focusout"&&mk()}function $3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Mf(ru)}function F3(s,l){if(s==="click")return Mf(l)}function V3(s,l){if(s==="input"||s==="change")return Mf(l)}function U3(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ii=typeof Object.is=="function"?Object.is:U3;function nu(s,l){if(ii(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var w=h[v];if(!d.call(l,w)||!ii(s[w],l[w]))return!1}return!0}function vk(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function yk(s,l){var h=vk(s);s=0;for(var v;h;){if(h.nodeType===3){if(v=s+h.textContent.length,s<=l&&v>=l)return{node:h,offset:l-s};s=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=vk(h)}}function xk(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?xk(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function bk(){for(var s=window,l=pe();l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=pe(s.document)}return l}function Og(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function B3(s){var l=bk(),h=s.focusedElem,v=s.selectionRange;if(l!==h&&h&&h.ownerDocument&&xk(h.ownerDocument.documentElement,h)){if(v!==null&&Og(h)){if(l=v.start,s=v.end,s===void 0&&(s=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(s,h.value.length);else if(s=(l=h.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var w=h.textContent.length,j=Math.min(v.start,w);v=v.end===void 0?j:Math.min(v.end,w),!s.extend&&j>v&&(w=v,v=j,j=w),w=yk(h,j);var F=yk(h,v);w&&F&&(s.rangeCount!==1||s.anchorNode!==w.node||s.anchorOffset!==w.offset||s.focusNode!==F.node||s.focusOffset!==F.offset)&&(l=l.createRange(),l.setStart(w.node,w.offset),s.removeAllRanges(),j>v?(s.addRange(l),s.extend(F.node,F.offset)):(l.setEnd(F.node,F.offset),s.addRange(l)))}}for(l=[],s=h;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)s=l[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var q3=u&&"documentMode"in document&&11>=document.documentMode,fl=null,Ig=null,iu=null,Rg=!1;function wk(s,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Rg||fl==null||fl!==pe(v)||(v=fl,"selectionStart"in v&&Og(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),iu&&nu(iu,v)||(iu=v,v=Ff(Ig,"onSelect"),0<v.length&&(l=new il("onSelect","select",null,l,h),s.push({event:l,listeners:v}),l.target=fl)))}function Df(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var hl={animationend:Df("Animation","AnimationEnd"),animationiteration:Df("Animation","AnimationIteration"),animationstart:Df("Animation","AnimationStart"),transitionend:Df("Transition","TransitionEnd")},Mg={},_k={};u&&(_k=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function Lf(s){if(Mg[s])return Mg[s];if(!hl[s])return s;var l=hl[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in _k)return Mg[s]=l[h];return s}var Sk=Lf("animationend"),kk=Lf("animationiteration"),jk=Lf("animationstart"),Ek=Lf("transitionend"),Tk=new Map,Ak="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ja(s,l){Tk.set(s,l),a(l,[s])}for(var Dg=0;Dg<Ak.length;Dg++){var Lg=Ak[Dg],z3=Lg.toLowerCase(),W3=Lg[0].toUpperCase()+Lg.slice(1);Ja(z3,"on"+W3)}Ja(Sk,"onAnimationEnd"),Ja(kk,"onAnimationIteration"),Ja(jk,"onAnimationStart"),Ja("dblclick","onDoubleClick"),Ja("focusin","onFocus"),Ja("focusout","onBlur"),Ja(Ek,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H3=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function Nk(s,l,h){var v=s.type||"unknown-event";s.currentTarget=h,Qo(v,l,void 0,s),s.currentTarget=null}function Pk(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var v=s[h],w=v.event;v=v.listeners;e:{var j=void 0;if(l)for(var F=v.length-1;0<=F;F--){var q=v[F],G=q.instance,oe=q.currentTarget;if(q=q.listener,G!==j&&w.isPropagationStopped())break e;Nk(w,q,oe),j=G}else for(F=0;F<v.length;F++){if(q=v[F],G=q.instance,oe=q.currentTarget,q=q.listener,G!==j&&w.isPropagationStopped())break e;Nk(w,q,oe),j=G}}}if(gn)throw s=cr,gn=!1,cr=null,s}function jt(s,l){var h=l[Wg];h===void 0&&(h=l[Wg]=new Set);var v=s+"__bubble";h.has(v)||(Ck(l,s,2,!1),h.add(v))}function $g(s,l,h){var v=0;l&&(v|=4),Ck(h,s,v,l)}var $f="_reactListening"+Math.random().toString(36).slice(2);function su(s){if(!s[$f]){s[$f]=!0,n.forEach(function(h){h!=="selectionchange"&&(H3.has(h)||$g(h,!1,s),$g(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[$f]||(l[$f]=!0,$g("selectionchange",!1,l))}}function Ck(s,l,h,v){switch(Xc(l)){case 1:var w=Nt;break;case 4:w=Ag;break;default:w=Yc}h=w.bind(null,l,h,s),w=void 0,!Ua||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),v?w!==void 0?s.addEventListener(l,h,{capture:!0,passive:w}):s.addEventListener(l,h,!0):w!==void 0?s.addEventListener(l,h,{passive:w}):s.addEventListener(l,h,!1)}function Fg(s,l,h,v,w){var j=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var F=v.tag;if(F===3||F===4){var q=v.stateNode.containerInfo;if(q===w||q.nodeType===8&&q.parentNode===w)break;if(F===4)for(F=v.return;F!==null;){var G=F.tag;if((G===3||G===4)&&(G=F.stateNode.containerInfo,G===w||G.nodeType===8&&G.parentNode===w))return;F=F.return}for(;q!==null;){if(F=Zs(q),F===null)return;if(G=F.tag,G===5||G===6){v=j=F;continue e}q=q.parentNode}}v=v.return}zs(function(){var oe=j,xe=Qi(h),we=[];e:{var ve=Tk.get(s);if(ve!==void 0){var Ne=il,Oe=s;switch(s){case"keypress":if(nl(h)===0)break e;case"keydown":case"keyup":Ne=k;break;case"focusin":Oe="focus",Ne=ll;break;case"focusout":Oe="blur",Ne=ll;break;case"beforeblur":case"afterblur":Ne=ll;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=ce;break;case Sk:case kk:case jk:Ne=aa;break;case Ek:Ne=ht;break;case"scroll":Ne=Ng;break;case"wheel":Ne=tt;break;case"copy":case"cut":case"paste":Ne=Cf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=U}var Ie=(l&4)!==0,Ut=!Ie&&s==="scroll",re=Ie?ve!==null?ve+"Capture":null:ve;Ie=[];for(var X=oe,se;X!==null;){se=X;var _e=se.stateNode;if(se.tag===5&&_e!==null&&(se=_e,re!==null&&(_e=Ot(X,re),_e!=null&&Ie.push(ou(X,_e,se)))),Ut)break;X=X.return}0<Ie.length&&(ve=new Ne(ve,Oe,null,h,xe),we.push({event:ve,listeners:Ie}))}}if((l&7)===0){e:{if(ve=s==="mouseover"||s==="pointerover",Ne=s==="mouseout"||s==="pointerout",ve&&h!==wi&&(Oe=h.relatedTarget||h.fromElement)&&(Zs(Oe)||Oe[sa]))break e;if((Ne||ve)&&(ve=xe.window===xe?xe:(ve=xe.ownerDocument)?ve.defaultView||ve.parentWindow:window,Ne?(Oe=h.relatedTarget||h.toElement,Ne=oe,Oe=Oe?Zs(Oe):null,Oe!==null&&(Ut=Ye(Oe),Oe!==Ut||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Ne=null,Oe=oe),Ne!==Oe)){if(Ie=sl,_e="onMouseLeave",re="onMouseEnter",X="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=U,_e="onPointerLeave",re="onPointerEnter",X="pointer"),Ut=Ne==null?ve:gl(Ne),se=Oe==null?ve:gl(Oe),ve=new Ie(_e,X+"leave",Ne,h,xe),ve.target=Ut,ve.relatedTarget=se,_e=null,Zs(xe)===oe&&(Ie=new Ie(re,X+"enter",Oe,h,xe),Ie.target=se,Ie.relatedTarget=Ut,_e=Ie),Ut=_e,Ne&&Oe)t:{for(Ie=Ne,re=Oe,X=0,se=Ie;se;se=pl(se))X++;for(se=0,_e=re;_e;_e=pl(_e))se++;for(;0<X-se;)Ie=pl(Ie),X--;for(;0<se-X;)re=pl(re),se--;for(;X--;){if(Ie===re||re!==null&&Ie===re.alternate)break t;Ie=pl(Ie),re=pl(re)}Ie=null}else Ie=null;Ne!==null&&Ok(we,ve,Ne,Ie,!1),Oe!==null&&Ut!==null&&Ok(we,Ut,Oe,Ie,!0)}}e:{if(ve=oe?gl(oe):window,Ne=ve.nodeName&&ve.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&ve.type==="file")var Le=D3;else if(dk(ve))if(hk)Le=V3;else{Le=$3;var Ve=L3}else(Ne=ve.nodeName)&&Ne.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Le=F3);if(Le&&(Le=Le(s,oe))){fk(we,Le,h,xe);break e}Ve&&Ve(s,ve,oe),s==="focusout"&&(Ve=ve._wrapperState)&&Ve.controlled&&ve.type==="number"&&Br(ve,"number",ve.value)}switch(Ve=oe?gl(oe):window,s){case"focusin":(dk(Ve)||Ve.contentEditable==="true")&&(fl=Ve,Ig=oe,iu=null);break;case"focusout":iu=Ig=fl=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,wk(we,h,xe);break;case"selectionchange":if(q3)break;case"keydown":case"keyup":wk(we,h,xe)}var Ue;if(zt)e:{switch(s){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else dl?ck(s,h)&&(We="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(We="onCompositionStart");We&&(Js&&h.locale!=="ko"&&(dl||We!=="onCompositionStart"?We==="onCompositionEnd"&&dl&&(Ue=Qc()):(xn=xe,rl="value"in xn?xn.value:xn.textContent,dl=!0)),Ve=Ff(oe,We),0<Ve.length&&(We=new eu(We,s,null,h,xe),we.push({event:We,listeners:Ve}),Ue?We.data=Ue:(Ue=uk(h),Ue!==null&&(We.data=Ue)))),(Ue=bn?O3(s,h):I3(s,h))&&(oe=Ff(oe,"onBeforeInput"),0<oe.length&&(xe=new eu("onBeforeInput","beforeinput",null,h,xe),we.push({event:xe,listeners:oe}),xe.data=Ue))}Pk(we,l)})}function ou(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Ff(s,l){for(var h=l+"Capture",v=[];s!==null;){var w=s,j=w.stateNode;w.tag===5&&j!==null&&(w=j,j=Ot(s,h),j!=null&&v.unshift(ou(s,j,w)),j=Ot(s,l),j!=null&&v.push(ou(s,j,w))),s=s.return}return v}function pl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ok(s,l,h,v,w){for(var j=l._reactName,F=[];h!==null&&h!==v;){var q=h,G=q.alternate,oe=q.stateNode;if(G!==null&&G===v)break;q.tag===5&&oe!==null&&(q=oe,w?(G=Ot(h,j),G!=null&&F.unshift(ou(h,G,q))):w||(G=Ot(h,j),G!=null&&F.push(ou(h,G,q)))),h=h.return}F.length!==0&&s.push({event:l,listeners:F})}var G3=/\r\n?/g,K3=/\u0000|\uFFFD/g;function Ik(s){return(typeof s=="string"?s:""+s).replace(G3,`
`).replace(K3,"")}function Vf(s,l,h){if(l=Ik(l),Ik(s)!==l&&h)throw Error(r(425))}function Uf(){}var Vg=null,Ug=null;function Bg(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var qg=typeof setTimeout=="function"?setTimeout:void 0,Y3=typeof clearTimeout=="function"?clearTimeout:void 0,Rk=typeof Promise=="function"?Promise:void 0,X3=typeof queueMicrotask=="function"?queueMicrotask:typeof Rk<"u"?function(s){return Rk.resolve(null).then(s).catch(Q3)}:qg;function Q3(s){setTimeout(function(){throw s})}function zg(s,l){var h=l,v=0;do{var w=h.nextSibling;if(s.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(v===0){s.removeChild(w),ri(l);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=w}while(h);ri(l)}function Za(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Mk(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}var ml=Math.random().toString(36).slice(2),Ai="__reactFiber$"+ml,lu="__reactProps$"+ml,sa="__reactContainer$"+ml,Wg="__reactEvents$"+ml,J3="__reactListeners$"+ml,Z3="__reactHandles$"+ml;function Zs(s){var l=s[Ai];if(l)return l;for(var h=s.parentNode;h;){if(l=h[sa]||h[Ai]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=Mk(s);s!==null;){if(h=s[Ai])return h;s=Mk(s)}return l}s=h,h=s.parentNode}return null}function cu(s){return s=s[Ai]||s[sa],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function gl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Bf(s){return s[lu]||null}var Hg=[],vl=-1;function es(s){return{current:s}}function Et(s){0>vl||(s.current=Hg[vl],Hg[vl]=null,vl--)}function wt(s,l){vl++,Hg[vl]=s.current,s.current=l}var ts={},Pr=es(ts),an=es(!1),eo=ts;function yl(s,l){var h=s.type.contextTypes;if(!h)return ts;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var w={},j;for(j in h)w[j]=l[j];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=w),w}function sn(s){return s=s.childContextTypes,s!=null}function qf(){Et(an),Et(Pr)}function Dk(s,l,h){if(Pr.current!==ts)throw Error(r(168));wt(Pr,l),wt(an,h)}function Lk(s,l,h){var v=s.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var w in v)if(!(w in l))throw Error(r(108,he(s)||"Unknown",w));return ae({},h,v)}function zf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ts,eo=Pr.current,wt(Pr,s),wt(an,an.current),!0}function $k(s,l,h){var v=s.stateNode;if(!v)throw Error(r(169));h?(s=Lk(s,l,eo),v.__reactInternalMemoizedMergedChildContext=s,Et(an),Et(Pr),wt(Pr,s)):Et(an),wt(an,h)}var oa=null,Wf=!1,Gg=!1;function Fk(s){oa===null?oa=[s]:oa.push(s)}function e6(s){Wf=!0,Fk(s)}function rs(){if(!Gg&&oa!==null){Gg=!0;var s=0,l=Ze;try{var h=oa;for(Ze=1;s<h.length;s++){var v=h[s];do v=v(!0);while(v!==null)}oa=null,Wf=!1}catch(w){throw oa!==null&&(oa=oa.slice(s+1)),br(Ws,rs),w}finally{Ze=l,Gg=!1}}return null}var xl=[],bl=0,Hf=null,Gf=0,Dn=[],Ln=0,to=null,la=1,ca="";function ro(s,l){xl[bl++]=Gf,xl[bl++]=Hf,Hf=s,Gf=l}function Vk(s,l,h){Dn[Ln++]=la,Dn[Ln++]=ca,Dn[Ln++]=to,to=s;var v=la;s=ca;var w=32-zr(v)-1;v&=~(1<<w),h+=1;var j=32-zr(l)+w;if(30<j){var F=w-w%5;j=(v&(1<<F)-1).toString(32),v>>=F,w-=F,la=1<<32-zr(l)+w|h<<w|v,ca=j+s}else la=1<<j|h<<w|v,ca=s}function Kg(s){s.return!==null&&(ro(s,1),Vk(s,1,0))}function Yg(s){for(;s===Hf;)Hf=xl[--bl],xl[bl]=null,Gf=xl[--bl],xl[bl]=null;for(;s===to;)to=Dn[--Ln],Dn[Ln]=null,ca=Dn[--Ln],Dn[Ln]=null,la=Dn[--Ln],Dn[Ln]=null}var wn=null,_n=null,Pt=!1,ai=null;function Uk(s,l){var h=Un(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=s,l=s.deletions,l===null?(s.deletions=[h],s.flags|=16):l.push(h)}function Bk(s,l){switch(s.tag){case 5:var h=s.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,wn=s,_n=Za(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,wn=s,_n=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=to!==null?{id:la,overflow:ca}:null,s.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Un(18,null,null,0),h.stateNode=l,h.return=s,s.child=h,wn=s,_n=null,!0):!1;default:return!1}}function Xg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Qg(s){if(Pt){var l=_n;if(l){var h=l;if(!Bk(s,l)){if(Xg(s))throw Error(r(418));l=Za(h.nextSibling);var v=wn;l&&Bk(s,l)?Uk(v,h):(s.flags=s.flags&-4097|2,Pt=!1,wn=s)}}else{if(Xg(s))throw Error(r(418));s.flags=s.flags&-4097|2,Pt=!1,wn=s}}}function qk(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;wn=s}function Kf(s){if(s!==wn)return!1;if(!Pt)return qk(s),Pt=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Bg(s.type,s.memoizedProps)),l&&(l=_n)){if(Xg(s))throw zk(),Error(r(418));for(;l;)Uk(s,l),l=Za(l.nextSibling)}if(qk(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(l===0){_n=Za(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}s=s.nextSibling}_n=null}}else _n=wn?Za(s.stateNode.nextSibling):null;return!0}function zk(){for(var s=_n;s;)s=Za(s.nextSibling)}function wl(){_n=wn=null,Pt=!1}function Jg(s){ai===null?ai=[s]:ai.push(s)}var t6=R.ReactCurrentBatchConfig;function uu(s,l,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var v=h.stateNode}if(!v)throw Error(r(147,s));var w=v,j=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===j?l.ref:(l=function(F){var q=w.refs;F===null?delete q[j]:q[j]=F},l._stringRef=j,l)}if(typeof s!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,s))}return s}function Yf(s,l){throw s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function Wk(s){var l=s._init;return l(s._payload)}function Hk(s){function l(re,X){if(s){var se=re.deletions;se===null?(re.deletions=[X],re.flags|=16):se.push(X)}}function h(re,X){if(!s)return null;for(;X!==null;)l(re,X),X=X.sibling;return null}function v(re,X){for(re=new Map;X!==null;)X.key!==null?re.set(X.key,X):re.set(X.index,X),X=X.sibling;return re}function w(re,X){return re=us(re,X),re.index=0,re.sibling=null,re}function j(re,X,se){return re.index=se,s?(se=re.alternate,se!==null?(se=se.index,se<X?(re.flags|=2,X):se):(re.flags|=2,X)):(re.flags|=1048576,X)}function F(re){return s&&re.alternate===null&&(re.flags|=2),re}function q(re,X,se,_e){return X===null||X.tag!==6?(X=q0(se,re.mode,_e),X.return=re,X):(X=w(X,se),X.return=re,X)}function G(re,X,se,_e){var Le=se.type;return Le===T?xe(re,X,se.props.children,_e,se.key):X!==null&&(X.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Q&&Wk(Le)===X.type)?(_e=w(X,se.props),_e.ref=uu(re,X,se),_e.return=re,_e):(_e=xh(se.type,se.key,se.props,null,re.mode,_e),_e.ref=uu(re,X,se),_e.return=re,_e)}function oe(re,X,se,_e){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=z0(se,re.mode,_e),X.return=re,X):(X=w(X,se.children||[]),X.return=re,X)}function xe(re,X,se,_e,Le){return X===null||X.tag!==7?(X=uo(se,re.mode,_e,Le),X.return=re,X):(X=w(X,se),X.return=re,X)}function we(re,X,se){if(typeof X=="string"&&X!==""||typeof X=="number")return X=q0(""+X,re.mode,se),X.return=re,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return se=xh(X.type,X.key,X.props,null,re.mode,se),se.ref=uu(re,null,X),se.return=re,se;case N:return X=z0(X,re.mode,se),X.return=re,X;case Q:var _e=X._init;return we(re,_e(X._payload),se)}if(qr(X)||J(X))return X=uo(X,re.mode,se,null),X.return=re,X;Yf(re,X)}return null}function ve(re,X,se,_e){var Le=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Le!==null?null:q(re,X,""+se,_e);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return se.key===Le?G(re,X,se,_e):null;case N:return se.key===Le?oe(re,X,se,_e):null;case Q:return Le=se._init,ve(re,X,Le(se._payload),_e)}if(qr(se)||J(se))return Le!==null?null:xe(re,X,se,_e,null);Yf(re,se)}return null}function Ne(re,X,se,_e,Le){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return re=re.get(se)||null,q(X,re,""+_e,Le);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case E:return re=re.get(_e.key===null?se:_e.key)||null,G(X,re,_e,Le);case N:return re=re.get(_e.key===null?se:_e.key)||null,oe(X,re,_e,Le);case Q:var Ve=_e._init;return Ne(re,X,se,Ve(_e._payload),Le)}if(qr(_e)||J(_e))return re=re.get(se)||null,xe(X,re,_e,Le,null);Yf(X,_e)}return null}function Oe(re,X,se,_e){for(var Le=null,Ve=null,Ue=X,We=X=0,hr=null;Ue!==null&&We<se.length;We++){Ue.index>We?(hr=Ue,Ue=null):hr=Ue.sibling;var st=ve(re,Ue,se[We],_e);if(st===null){Ue===null&&(Ue=hr);break}s&&Ue&&st.alternate===null&&l(re,Ue),X=j(st,X,We),Ve===null?Le=st:Ve.sibling=st,Ve=st,Ue=hr}if(We===se.length)return h(re,Ue),Pt&&ro(re,We),Le;if(Ue===null){for(;We<se.length;We++)Ue=we(re,se[We],_e),Ue!==null&&(X=j(Ue,X,We),Ve===null?Le=Ue:Ve.sibling=Ue,Ve=Ue);return Pt&&ro(re,We),Le}for(Ue=v(re,Ue);We<se.length;We++)hr=Ne(Ue,re,We,se[We],_e),hr!==null&&(s&&hr.alternate!==null&&Ue.delete(hr.key===null?We:hr.key),X=j(hr,X,We),Ve===null?Le=hr:Ve.sibling=hr,Ve=hr);return s&&Ue.forEach(function(ds){return l(re,ds)}),Pt&&ro(re,We),Le}function Ie(re,X,se,_e){var Le=J(se);if(typeof Le!="function")throw Error(r(150));if(se=Le.call(se),se==null)throw Error(r(151));for(var Ve=Le=null,Ue=X,We=X=0,hr=null,st=se.next();Ue!==null&&!st.done;We++,st=se.next()){Ue.index>We?(hr=Ue,Ue=null):hr=Ue.sibling;var ds=ve(re,Ue,st.value,_e);if(ds===null){Ue===null&&(Ue=hr);break}s&&Ue&&ds.alternate===null&&l(re,Ue),X=j(ds,X,We),Ve===null?Le=ds:Ve.sibling=ds,Ve=ds,Ue=hr}if(st.done)return h(re,Ue),Pt&&ro(re,We),Le;if(Ue===null){for(;!st.done;We++,st=se.next())st=we(re,st.value,_e),st!==null&&(X=j(st,X,We),Ve===null?Le=st:Ve.sibling=st,Ve=st);return Pt&&ro(re,We),Le}for(Ue=v(re,Ue);!st.done;We++,st=se.next())st=Ne(Ue,re,We,st.value,_e),st!==null&&(s&&st.alternate!==null&&Ue.delete(st.key===null?We:st.key),X=j(st,X,We),Ve===null?Le=st:Ve.sibling=st,Ve=st);return s&&Ue.forEach(function(R6){return l(re,R6)}),Pt&&ro(re,We),Le}function Ut(re,X,se,_e){if(typeof se=="object"&&se!==null&&se.type===T&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case E:e:{for(var Le=se.key,Ve=X;Ve!==null;){if(Ve.key===Le){if(Le=se.type,Le===T){if(Ve.tag===7){h(re,Ve.sibling),X=w(Ve,se.props.children),X.return=re,re=X;break e}}else if(Ve.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Q&&Wk(Le)===Ve.type){h(re,Ve.sibling),X=w(Ve,se.props),X.ref=uu(re,Ve,se),X.return=re,re=X;break e}h(re,Ve);break}else l(re,Ve);Ve=Ve.sibling}se.type===T?(X=uo(se.props.children,re.mode,_e,se.key),X.return=re,re=X):(_e=xh(se.type,se.key,se.props,null,re.mode,_e),_e.ref=uu(re,X,se),_e.return=re,re=_e)}return F(re);case N:e:{for(Ve=se.key;X!==null;){if(X.key===Ve)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){h(re,X.sibling),X=w(X,se.children||[]),X.return=re,re=X;break e}else{h(re,X);break}else l(re,X);X=X.sibling}X=z0(se,re.mode,_e),X.return=re,re=X}return F(re);case Q:return Ve=se._init,Ut(re,X,Ve(se._payload),_e)}if(qr(se))return Oe(re,X,se,_e);if(J(se))return Ie(re,X,se,_e);Yf(re,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,X!==null&&X.tag===6?(h(re,X.sibling),X=w(X,se),X.return=re,re=X):(h(re,X),X=q0(se,re.mode,_e),X.return=re,re=X),F(re)):h(re,X)}return Ut}var _l=Hk(!0),Gk=Hk(!1),Xf=es(null),Qf=null,Sl=null,Zg=null;function e0(){Zg=Sl=Qf=null}function t0(s){var l=Xf.current;Et(Xf),s._currentValue=l}function r0(s,l,h){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===h)break;s=s.return}}function kl(s,l){Qf=s,Zg=Sl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(on=!0),s.firstContext=null)}function $n(s){var l=s._currentValue;if(Zg!==s)if(s={context:s,memoizedValue:l,next:null},Sl===null){if(Qf===null)throw Error(r(308));Sl=s,Qf.dependencies={lanes:0,firstContext:s}}else Sl=Sl.next=s;return l}var no=null;function n0(s){no===null?no=[s]:no.push(s)}function Kk(s,l,h,v){var w=l.interleaved;return w===null?(h.next=h,n0(l)):(h.next=w.next,w.next=h),l.interleaved=h,ua(s,v)}function ua(s,l){s.lanes|=l;var h=s.alternate;for(h!==null&&(h.lanes|=l),h=s,s=s.return;s!==null;)s.childLanes|=l,h=s.alternate,h!==null&&(h.childLanes|=l),h=s,s=s.return;return h.tag===3?h.stateNode:null}var ns=!1;function i0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yk(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function da(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function is(s,l,h){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(it&2)!==0){var w=v.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),v.pending=l,ua(s,h)}return w=v.interleaved,w===null?(l.next=l,n0(v)):(l.next=w.next,w.next=l),v.interleaved=l,ua(s,h)}function Jf(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,Ga(s,h)}}function Xk(s,l){var h=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var w=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var F={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};j===null?w=j=F:j=j.next=F,h=h.next}while(h!==null);j===null?w=j=l:j=j.next=l}else w=j=l;h={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:j,shared:v.shared,effects:v.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}function Zf(s,l,h,v){var w=s.updateQueue;ns=!1;var j=w.firstBaseUpdate,F=w.lastBaseUpdate,q=w.shared.pending;if(q!==null){w.shared.pending=null;var G=q,oe=G.next;G.next=null,F===null?j=oe:F.next=oe,F=G;var xe=s.alternate;xe!==null&&(xe=xe.updateQueue,q=xe.lastBaseUpdate,q!==F&&(q===null?xe.firstBaseUpdate=oe:q.next=oe,xe.lastBaseUpdate=G))}if(j!==null){var we=w.baseState;F=0,xe=oe=G=null,q=j;do{var ve=q.lane,Ne=q.eventTime;if((v&ve)===ve){xe!==null&&(xe=xe.next={eventTime:Ne,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Oe=s,Ie=q;switch(ve=l,Ne=h,Ie.tag){case 1:if(Oe=Ie.payload,typeof Oe=="function"){we=Oe.call(Ne,we,ve);break e}we=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ie.payload,ve=typeof Oe=="function"?Oe.call(Ne,we,ve):Oe,ve==null)break e;we=ae({},we,ve);break e;case 2:ns=!0}}q.callback!==null&&q.lane!==0&&(s.flags|=64,ve=w.effects,ve===null?w.effects=[q]:ve.push(q))}else Ne={eventTime:Ne,lane:ve,tag:q.tag,payload:q.payload,callback:q.callback,next:null},xe===null?(oe=xe=Ne,G=we):xe=xe.next=Ne,F|=ve;if(q=q.next,q===null){if(q=w.shared.pending,q===null)break;ve=q,q=ve.next,ve.next=null,w.lastBaseUpdate=ve,w.shared.pending=null}}while(!0);if(xe===null&&(G=we),w.baseState=G,w.firstBaseUpdate=oe,w.lastBaseUpdate=xe,l=w.shared.interleaved,l!==null){w=l;do F|=w.lane,w=w.next;while(w!==l)}else j===null&&(w.shared.lanes=0);so|=F,s.lanes=F,s.memoizedState=we}}function Qk(s,l,h){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var v=s[l],w=v.callback;if(w!==null){if(v.callback=null,v=h,typeof w!="function")throw Error(r(191,w));w.call(v)}}}var du={},Ni=es(du),fu=es(du),hu=es(du);function io(s){if(s===du)throw Error(r(174));return s}function a0(s,l){switch(wt(hu,l),wt(fu,s),wt(Ni,du),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Lt(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Lt(l,s)}Et(Ni),wt(Ni,l)}function jl(){Et(Ni),Et(fu),Et(hu)}function Jk(s){io(hu.current);var l=io(Ni.current),h=Lt(l,s.type);l!==h&&(wt(fu,s),wt(Ni,h))}function s0(s){fu.current===s&&(Et(Ni),Et(fu))}var It=es(0);function eh(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var o0=[];function l0(){for(var s=0;s<o0.length;s++)o0[s]._workInProgressVersionPrimary=null;o0.length=0}var th=R.ReactCurrentDispatcher,c0=R.ReactCurrentBatchConfig,ao=0,Rt=null,rr=null,dr=null,rh=!1,pu=!1,mu=0,r6=0;function Cr(){throw Error(r(321))}function u0(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!ii(s[h],l[h]))return!1;return!0}function d0(s,l,h,v,w,j){if(ao=j,Rt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,th.current=s===null||s.memoizedState===null?s6:o6,s=h(v,w),pu){j=0;do{if(pu=!1,mu=0,25<=j)throw Error(r(301));j+=1,dr=rr=null,l.updateQueue=null,th.current=l6,s=h(v,w)}while(pu)}if(th.current=ah,l=rr!==null&&rr.next!==null,ao=0,dr=rr=Rt=null,rh=!1,l)throw Error(r(300));return s}function f0(){var s=mu!==0;return mu=0,s}function Pi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Rt.memoizedState=dr=s:dr=dr.next=s,dr}function Fn(){if(rr===null){var s=Rt.alternate;s=s!==null?s.memoizedState:null}else s=rr.next;var l=dr===null?Rt.memoizedState:dr.next;if(l!==null)dr=l,rr=s;else{if(s===null)throw Error(r(310));rr=s,s={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},dr===null?Rt.memoizedState=dr=s:dr=dr.next=s}return dr}function gu(s,l){return typeof l=="function"?l(s):l}function h0(s){var l=Fn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=rr,w=v.baseQueue,j=h.pending;if(j!==null){if(w!==null){var F=w.next;w.next=j.next,j.next=F}v.baseQueue=w=j,h.pending=null}if(w!==null){j=w.next,v=v.baseState;var q=F=null,G=null,oe=j;do{var xe=oe.lane;if((ao&xe)===xe)G!==null&&(G=G.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),v=oe.hasEagerState?oe.eagerState:s(v,oe.action);else{var we={lane:xe,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};G===null?(q=G=we,F=v):G=G.next=we,Rt.lanes|=xe,so|=xe}oe=oe.next}while(oe!==null&&oe!==j);G===null?F=v:G.next=q,ii(v,l.memoizedState)||(on=!0),l.memoizedState=v,l.baseState=F,l.baseQueue=G,h.lastRenderedState=v}if(s=h.interleaved,s!==null){w=s;do j=w.lane,Rt.lanes|=j,so|=j,w=w.next;while(w!==s)}else w===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function p0(s){var l=Fn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=h.dispatch,w=h.pending,j=l.memoizedState;if(w!==null){h.pending=null;var F=w=w.next;do j=s(j,F.action),F=F.next;while(F!==w);ii(j,l.memoizedState)||(on=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),h.lastRenderedState=j}return[j,v]}function Zk(){}function ej(s,l){var h=Rt,v=Fn(),w=l(),j=!ii(v.memoizedState,w);if(j&&(v.memoizedState=w,on=!0),v=v.queue,m0(nj.bind(null,h,v,s),[s]),v.getSnapshot!==l||j||dr!==null&&dr.memoizedState.tag&1){if(h.flags|=2048,vu(9,rj.bind(null,h,v,w,l),void 0,null),fr===null)throw Error(r(349));(ao&30)!==0||tj(h,l,w)}return w}function tj(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=Rt.updateQueue,l===null?(l={lastEffect:null,stores:null},Rt.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function rj(s,l,h,v){l.value=h,l.getSnapshot=v,ij(l)&&aj(s)}function nj(s,l,h){return h(function(){ij(l)&&aj(s)})}function ij(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!ii(s,h)}catch{return!0}}function aj(s){var l=ua(s,1);l!==null&&ci(l,s,1,-1)}function sj(s){var l=Pi();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:s},l.queue=s,s=s.dispatch=a6.bind(null,Rt,s),[l.memoizedState,s]}function vu(s,l,h,v){return s={tag:s,create:l,destroy:h,deps:v,next:null},l=Rt.updateQueue,l===null?(l={lastEffect:null,stores:null},Rt.updateQueue=l,l.lastEffect=s.next=s):(h=l.lastEffect,h===null?l.lastEffect=s.next=s:(v=h.next,h.next=s,s.next=v,l.lastEffect=s)),s}function oj(){return Fn().memoizedState}function nh(s,l,h,v){var w=Pi();Rt.flags|=s,w.memoizedState=vu(1|l,h,void 0,v===void 0?null:v)}function ih(s,l,h,v){var w=Fn();v=v===void 0?null:v;var j=void 0;if(rr!==null){var F=rr.memoizedState;if(j=F.destroy,v!==null&&u0(v,F.deps)){w.memoizedState=vu(l,h,j,v);return}}Rt.flags|=s,w.memoizedState=vu(1|l,h,j,v)}function lj(s,l){return nh(8390656,8,s,l)}function m0(s,l){return ih(2048,8,s,l)}function cj(s,l){return ih(4,2,s,l)}function uj(s,l){return ih(4,4,s,l)}function dj(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function fj(s,l,h){return h=h!=null?h.concat([s]):null,ih(4,4,dj.bind(null,l,s),h)}function g0(){}function hj(s,l){var h=Fn();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&u0(l,v[1])?v[0]:(h.memoizedState=[s,l],s)}function pj(s,l){var h=Fn();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&u0(l,v[1])?v[0]:(s=s(),h.memoizedState=[s,l],s)}function mj(s,l,h){return(ao&21)===0?(s.baseState&&(s.baseState=!1,on=!0),s.memoizedState=h):(ii(h,l)||(h=Ks(),Rt.lanes|=h,so|=h,s.baseState=!0),l)}function n6(s,l){var h=Ze;Ze=h!==0&&4>h?h:4,s(!0);var v=c0.transition;c0.transition={};try{s(!1),l()}finally{Ze=h,c0.transition=v}}function gj(){return Fn().memoizedState}function i6(s,l,h){var v=ls(s);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},vj(s))yj(l,h);else if(h=Kk(s,l,h,v),h!==null){var w=Gr();ci(h,s,v,w),xj(h,l,v)}}function a6(s,l,h){var v=ls(s),w={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(vj(s))yj(l,w);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var F=l.lastRenderedState,q=j(F,h);if(w.hasEagerState=!0,w.eagerState=q,ii(q,F)){var G=l.interleaved;G===null?(w.next=w,n0(l)):(w.next=G.next,G.next=w),l.interleaved=w;return}}catch{}finally{}h=Kk(s,l,w,v),h!==null&&(w=Gr(),ci(h,s,v,w),xj(h,l,v))}}function vj(s){var l=s.alternate;return s===Rt||l!==null&&l===Rt}function yj(s,l){pu=rh=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function xj(s,l,h){if((h&4194240)!==0){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,Ga(s,h)}}var ah={readContext:$n,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},s6={readContext:$n,useCallback:function(s,l){return Pi().memoizedState=[s,l===void 0?null:l],s},useContext:$n,useEffect:lj,useImperativeHandle:function(s,l,h){return h=h!=null?h.concat([s]):null,nh(4194308,4,dj.bind(null,l,s),h)},useLayoutEffect:function(s,l){return nh(4194308,4,s,l)},useInsertionEffect:function(s,l){return nh(4,2,s,l)},useMemo:function(s,l){var h=Pi();return l=l===void 0?null:l,s=s(),h.memoizedState=[s,l],s},useReducer:function(s,l,h){var v=Pi();return l=h!==void 0?h(l):l,v.memoizedState=v.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},v.queue=s,s=s.dispatch=i6.bind(null,Rt,s),[v.memoizedState,s]},useRef:function(s){var l=Pi();return s={current:s},l.memoizedState=s},useState:sj,useDebugValue:g0,useDeferredValue:function(s){return Pi().memoizedState=s},useTransition:function(){var s=sj(!1),l=s[0];return s=n6.bind(null,s[1]),Pi().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,h){var v=Rt,w=Pi();if(Pt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),fr===null)throw Error(r(349));(ao&30)!==0||tj(v,l,h)}w.memoizedState=h;var j={value:h,getSnapshot:l};return w.queue=j,lj(nj.bind(null,v,j,s),[s]),v.flags|=2048,vu(9,rj.bind(null,v,j,h,l),void 0,null),h},useId:function(){var s=Pi(),l=fr.identifierPrefix;if(Pt){var h=ca,v=la;h=(v&~(1<<32-zr(v)-1)).toString(32)+h,l=":"+l+"R"+h,h=mu++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=r6++,l=":"+l+"r"+h.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},o6={readContext:$n,useCallback:hj,useContext:$n,useEffect:m0,useImperativeHandle:fj,useInsertionEffect:cj,useLayoutEffect:uj,useMemo:pj,useReducer:h0,useRef:oj,useState:function(){return h0(gu)},useDebugValue:g0,useDeferredValue:function(s){var l=Fn();return mj(l,rr.memoizedState,s)},useTransition:function(){var s=h0(gu)[0],l=Fn().memoizedState;return[s,l]},useMutableSource:Zk,useSyncExternalStore:ej,useId:gj,unstable_isNewReconciler:!1},l6={readContext:$n,useCallback:hj,useContext:$n,useEffect:m0,useImperativeHandle:fj,useInsertionEffect:cj,useLayoutEffect:uj,useMemo:pj,useReducer:p0,useRef:oj,useState:function(){return p0(gu)},useDebugValue:g0,useDeferredValue:function(s){var l=Fn();return rr===null?l.memoizedState=s:mj(l,rr.memoizedState,s)},useTransition:function(){var s=p0(gu)[0],l=Fn().memoizedState;return[s,l]},useMutableSource:Zk,useSyncExternalStore:ej,useId:gj,unstable_isNewReconciler:!1};function si(s,l){if(s&&s.defaultProps){l=ae({},l),s=s.defaultProps;for(var h in s)l[h]===void 0&&(l[h]=s[h]);return l}return l}function v0(s,l,h,v){l=s.memoizedState,h=h(v,l),h=h==null?l:ae({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var sh={isMounted:function(s){return(s=s._reactInternals)?Ye(s)===s:!1},enqueueSetState:function(s,l,h){s=s._reactInternals;var v=Gr(),w=ls(s),j=da(v,w);j.payload=l,h!=null&&(j.callback=h),l=is(s,j,w),l!==null&&(ci(l,s,w,v),Jf(l,s,w))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var v=Gr(),w=ls(s),j=da(v,w);j.tag=1,j.payload=l,h!=null&&(j.callback=h),l=is(s,j,w),l!==null&&(ci(l,s,w,v),Jf(l,s,w))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Gr(),v=ls(s),w=da(h,v);w.tag=2,l!=null&&(w.callback=l),l=is(s,w,v),l!==null&&(ci(l,s,v,h),Jf(l,s,v))}};function bj(s,l,h,v,w,j,F){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,j,F):l.prototype&&l.prototype.isPureReactComponent?!nu(h,v)||!nu(w,j):!0}function wj(s,l,h){var v=!1,w=ts,j=l.contextType;return typeof j=="object"&&j!==null?j=$n(j):(w=sn(l)?eo:Pr.current,v=l.contextTypes,j=(v=v!=null)?yl(s,w):ts),l=new l(h,j),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=sh,s.stateNode=l,l._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=w,s.__reactInternalMemoizedMaskedChildContext=j),l}function _j(s,l,h,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==s&&sh.enqueueReplaceState(l,l.state,null)}function y0(s,l,h,v){var w=s.stateNode;w.props=h,w.state=s.memoizedState,w.refs={},i0(s);var j=l.contextType;typeof j=="object"&&j!==null?w.context=$n(j):(j=sn(l)?eo:Pr.current,w.context=yl(s,j)),w.state=s.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(v0(s,l,j,h),w.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(l=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),l!==w.state&&sh.enqueueReplaceState(w,w.state,null),Zf(s,h,w,v),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308)}function El(s,l){try{var h="",v=l;do h+=fe(v),v=v.return;while(v);var w=h}catch(j){w=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:l,stack:w,digest:null}}function x0(s,l,h){return{value:s,source:null,stack:h??null,digest:l??null}}function b0(s,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var c6=typeof WeakMap=="function"?WeakMap:Map;function Sj(s,l,h){h=da(-1,h),h.tag=3,h.payload={element:null};var v=l.value;return h.callback=function(){hh||(hh=!0,M0=v),b0(s,l)},h}function kj(s,l,h){h=da(-1,h),h.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var w=l.value;h.payload=function(){return v(w)},h.callback=function(){b0(s,l)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(h.callback=function(){b0(s,l),typeof v!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var F=l.stack;this.componentDidCatch(l.value,{componentStack:F!==null?F:""})}),h}function jj(s,l,h){var v=s.pingCache;if(v===null){v=s.pingCache=new c6;var w=new Set;v.set(l,w)}else w=v.get(l),w===void 0&&(w=new Set,v.set(l,w));w.has(h)||(w.add(h),s=S6.bind(null,s,l,h),l.then(s,s))}function Ej(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Tj(s,l,h,v,w){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=da(-1,1),l.tag=2,is(h,l,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=w,s)}var u6=R.ReactCurrentOwner,on=!1;function Hr(s,l,h,v){l.child=s===null?Gk(l,null,h,v):_l(l,s.child,h,v)}function Aj(s,l,h,v,w){h=h.render;var j=l.ref;return kl(l,w),v=d0(s,l,h,v,j,w),h=f0(),s!==null&&!on?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~w,fa(s,l,w)):(Pt&&h&&Kg(l),l.flags|=1,Hr(s,l,v,w),l.child)}function Nj(s,l,h,v,w){if(s===null){var j=h.type;return typeof j=="function"&&!B0(j)&&j.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=j,Pj(s,l,j,v,w)):(s=xh(h.type,null,v,l,l.mode,w),s.ref=l.ref,s.return=l,l.child=s)}if(j=s.child,(s.lanes&w)===0){var F=j.memoizedProps;if(h=h.compare,h=h!==null?h:nu,h(F,v)&&s.ref===l.ref)return fa(s,l,w)}return l.flags|=1,s=us(j,v),s.ref=l.ref,s.return=l,l.child=s}function Pj(s,l,h,v,w){if(s!==null){var j=s.memoizedProps;if(nu(j,v)&&s.ref===l.ref)if(on=!1,l.pendingProps=v=j,(s.lanes&w)!==0)(s.flags&131072)!==0&&(on=!0);else return l.lanes=s.lanes,fa(s,l,w)}return w0(s,l,h,v,w)}function Cj(s,l,h){var v=l.pendingProps,w=v.children,j=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Al,Sn),Sn|=h;else{if((h&1073741824)===0)return s=j!==null?j.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,wt(Al,Sn),Sn|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=j!==null?j.baseLanes:h,wt(Al,Sn),Sn|=v}else j!==null?(v=j.baseLanes|h,l.memoizedState=null):v=h,wt(Al,Sn),Sn|=v;return Hr(s,l,w,h),l.child}function Oj(s,l){var h=l.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function w0(s,l,h,v,w){var j=sn(h)?eo:Pr.current;return j=yl(l,j),kl(l,w),h=d0(s,l,h,v,j,w),v=f0(),s!==null&&!on?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~w,fa(s,l,w)):(Pt&&v&&Kg(l),l.flags|=1,Hr(s,l,h,w),l.child)}function Ij(s,l,h,v,w){if(sn(h)){var j=!0;zf(l)}else j=!1;if(kl(l,w),l.stateNode===null)lh(s,l),wj(l,h,v),y0(l,h,v,w),v=!0;else if(s===null){var F=l.stateNode,q=l.memoizedProps;F.props=q;var G=F.context,oe=h.contextType;typeof oe=="object"&&oe!==null?oe=$n(oe):(oe=sn(h)?eo:Pr.current,oe=yl(l,oe));var xe=h.getDerivedStateFromProps,we=typeof xe=="function"||typeof F.getSnapshotBeforeUpdate=="function";we||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(q!==v||G!==oe)&&_j(l,F,v,oe),ns=!1;var ve=l.memoizedState;F.state=ve,Zf(l,v,F,w),G=l.memoizedState,q!==v||ve!==G||an.current||ns?(typeof xe=="function"&&(v0(l,h,xe,v),G=l.memoizedState),(q=ns||bj(l,h,q,v,ve,G,oe))?(we||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(l.flags|=4194308)):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=G),F.props=v,F.state=G,F.context=oe,v=q):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{F=l.stateNode,Yk(s,l),q=l.memoizedProps,oe=l.type===l.elementType?q:si(l.type,q),F.props=oe,we=l.pendingProps,ve=F.context,G=h.contextType,typeof G=="object"&&G!==null?G=$n(G):(G=sn(h)?eo:Pr.current,G=yl(l,G));var Ne=h.getDerivedStateFromProps;(xe=typeof Ne=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(q!==we||ve!==G)&&_j(l,F,v,G),ns=!1,ve=l.memoizedState,F.state=ve,Zf(l,v,F,w);var Oe=l.memoizedState;q!==we||ve!==Oe||an.current||ns?(typeof Ne=="function"&&(v0(l,h,Ne,v),Oe=l.memoizedState),(oe=ns||bj(l,h,oe,v,ve,Oe,G)||!1)?(xe||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,Oe,G),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,Oe,G)),typeof F.componentDidUpdate=="function"&&(l.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof F.componentDidUpdate!="function"||q===s.memoizedProps&&ve===s.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&ve===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Oe),F.props=v,F.state=Oe,F.context=G,v=oe):(typeof F.componentDidUpdate!="function"||q===s.memoizedProps&&ve===s.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&ve===s.memoizedState||(l.flags|=1024),v=!1)}return _0(s,l,h,v,j,w)}function _0(s,l,h,v,w,j){Oj(s,l);var F=(l.flags&128)!==0;if(!v&&!F)return w&&$k(l,h,!1),fa(s,l,j);v=l.stateNode,u6.current=l;var q=F&&typeof h.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,s!==null&&F?(l.child=_l(l,s.child,null,j),l.child=_l(l,null,q,j)):Hr(s,l,q,j),l.memoizedState=v.state,w&&$k(l,h,!0),l.child}function Rj(s){var l=s.stateNode;l.pendingContext?Dk(s,l.pendingContext,l.pendingContext!==l.context):l.context&&Dk(s,l.context,!1),a0(s,l.containerInfo)}function Mj(s,l,h,v,w){return wl(),Jg(w),l.flags|=256,Hr(s,l,h,v),l.child}var S0={dehydrated:null,treeContext:null,retryLane:0};function k0(s){return{baseLanes:s,cachePool:null,transitions:null}}function Dj(s,l,h){var v=l.pendingProps,w=It.current,j=!1,F=(l.flags&128)!==0,q;if((q=F)||(q=s!==null&&s.memoizedState===null?!1:(w&2)!==0),q?(j=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(w|=1),wt(It,w&1),s===null)return Qg(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(F=v.children,s=v.fallback,j?(v=l.mode,j=l.child,F={mode:"hidden",children:F},(v&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=F):j=bh(F,v,0,null),s=uo(s,v,h,null),j.return=l,s.return=l,j.sibling=s,l.child=j,l.child.memoizedState=k0(h),l.memoizedState=S0,s):j0(l,F));if(w=s.memoizedState,w!==null&&(q=w.dehydrated,q!==null))return d6(s,l,F,v,q,w,h);if(j){j=v.fallback,F=l.mode,w=s.child,q=w.sibling;var G={mode:"hidden",children:v.children};return(F&1)===0&&l.child!==w?(v=l.child,v.childLanes=0,v.pendingProps=G,l.deletions=null):(v=us(w,G),v.subtreeFlags=w.subtreeFlags&14680064),q!==null?j=us(q,j):(j=uo(j,F,h,null),j.flags|=2),j.return=l,v.return=l,v.sibling=j,l.child=v,v=j,j=l.child,F=s.child.memoizedState,F=F===null?k0(h):{baseLanes:F.baseLanes|h,cachePool:null,transitions:F.transitions},j.memoizedState=F,j.childLanes=s.childLanes&~h,l.memoizedState=S0,v}return j=s.child,s=j.sibling,v=us(j,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=h),v.return=l,v.sibling=null,s!==null&&(h=l.deletions,h===null?(l.deletions=[s],l.flags|=16):h.push(s)),l.child=v,l.memoizedState=null,v}function j0(s,l){return l=bh({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function oh(s,l,h,v){return v!==null&&Jg(v),_l(l,s.child,null,h),s=j0(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function d6(s,l,h,v,w,j,F){if(h)return l.flags&256?(l.flags&=-257,v=x0(Error(r(422))),oh(s,l,F,v)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(j=v.fallback,w=l.mode,v=bh({mode:"visible",children:v.children},w,0,null),j=uo(j,w,F,null),j.flags|=2,v.return=l,j.return=l,v.sibling=j,l.child=v,(l.mode&1)!==0&&_l(l,s.child,null,F),l.child.memoizedState=k0(F),l.memoizedState=S0,j);if((l.mode&1)===0)return oh(s,l,F,null);if(w.data==="$!"){if(v=w.nextSibling&&w.nextSibling.dataset,v)var q=v.dgst;return v=q,j=Error(r(419)),v=x0(j,v,void 0),oh(s,l,F,v)}if(q=(F&s.childLanes)!==0,on||q){if(v=fr,v!==null){switch(F&-F){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(v.suspendedLanes|F))!==0?0:w,w!==0&&w!==j.retryLane&&(j.retryLane=w,ua(s,w),ci(v,s,w,-1))}return U0(),v=x0(Error(r(421))),oh(s,l,F,v)}return w.data==="$?"?(l.flags|=128,l.child=s.child,l=k6.bind(null,s),w._reactRetry=l,null):(s=j.treeContext,_n=Za(w.nextSibling),wn=l,Pt=!0,ai=null,s!==null&&(Dn[Ln++]=la,Dn[Ln++]=ca,Dn[Ln++]=to,la=s.id,ca=s.overflow,to=l),l=j0(l,v.children),l.flags|=4096,l)}function Lj(s,l,h){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),r0(s.return,l,h)}function E0(s,l,h,v,w){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:w}:(j.isBackwards=l,j.rendering=null,j.renderingStartTime=0,j.last=v,j.tail=h,j.tailMode=w)}function $j(s,l,h){var v=l.pendingProps,w=v.revealOrder,j=v.tail;if(Hr(s,l,v.children,h),v=It.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lj(s,h,l);else if(s.tag===19)Lj(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(wt(It,v),(l.mode&1)===0)l.memoizedState=null;else switch(w){case"forwards":for(h=l.child,w=null;h!==null;)s=h.alternate,s!==null&&eh(s)===null&&(w=h),h=h.sibling;h=w,h===null?(w=l.child,l.child=null):(w=h.sibling,h.sibling=null),E0(l,!1,w,h,j);break;case"backwards":for(h=null,w=l.child,l.child=null;w!==null;){if(s=w.alternate,s!==null&&eh(s)===null){l.child=w;break}s=w.sibling,w.sibling=h,h=w,w=s}E0(l,!0,h,null,j);break;case"together":E0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function lh(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function fa(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),so|=l.lanes,(h&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=us(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=us(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function f6(s,l,h){switch(l.tag){case 3:Rj(l),wl();break;case 5:Jk(l);break;case 1:sn(l.type)&&zf(l);break;case 4:a0(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,w=l.memoizedProps.value;wt(Xf,v._currentValue),v._currentValue=w;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(wt(It,It.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?Dj(s,l,h):(wt(It,It.current&1),s=fa(s,l,h),s!==null?s.sibling:null);wt(It,It.current&1);break;case 19:if(v=(h&l.childLanes)!==0,(s.flags&128)!==0){if(v)return $j(s,l,h);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),wt(It,It.current),v)break;return null;case 22:case 23:return l.lanes=0,Cj(s,l,h)}return fa(s,l,h)}var Fj,T0,Vj,Uj;Fj=function(s,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},T0=function(){},Vj=function(s,l,h,v){var w=s.memoizedProps;if(w!==v){s=l.stateNode,io(Ni.current);var j=null;switch(h){case"input":w=ge(s,w),v=ge(s,v),j=[];break;case"select":w=ae({},w,{value:void 0}),v=ae({},v,{value:void 0}),j=[];break;case"textarea":w=Jt(s,w),v=Jt(s,v),j=[];break;default:typeof w.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=Uf)}Vs(h,v);var F;h=null;for(oe in w)if(!v.hasOwnProperty(oe)&&w.hasOwnProperty(oe)&&w[oe]!=null)if(oe==="style"){var q=w[oe];for(F in q)q.hasOwnProperty(F)&&(h||(h={}),h[F]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?j||(j=[]):(j=j||[]).push(oe,null));for(oe in v){var G=v[oe];if(q=w?.[oe],v.hasOwnProperty(oe)&&G!==q&&(G!=null||q!=null))if(oe==="style")if(q){for(F in q)!q.hasOwnProperty(F)||G&&G.hasOwnProperty(F)||(h||(h={}),h[F]="");for(F in G)G.hasOwnProperty(F)&&q[F]!==G[F]&&(h||(h={}),h[F]=G[F])}else h||(j||(j=[]),j.push(oe,h)),h=G;else oe==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,q=q?q.__html:void 0,G!=null&&q!==G&&(j=j||[]).push(oe,G)):oe==="children"?typeof G!="string"&&typeof G!="number"||(j=j||[]).push(oe,""+G):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(G!=null&&oe==="onScroll"&&jt("scroll",s),j||q===G||(j=[])):(j=j||[]).push(oe,G))}h&&(j=j||[]).push("style",h);var oe=j;(l.updateQueue=oe)&&(l.flags|=4)}},Uj=function(s,l,h,v){h!==v&&(l.flags|=4)};function yu(s,l){if(!Pt)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Or(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,v=0;if(l)for(var w=s.child;w!==null;)h|=w.lanes|w.childLanes,v|=w.subtreeFlags&14680064,v|=w.flags&14680064,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)h|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=v,s.childLanes=h,l}function h6(s,l,h){var v=l.pendingProps;switch(Yg(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(l),null;case 1:return sn(l.type)&&qf(),Or(l),null;case 3:return v=l.stateNode,jl(),Et(an),Et(Pr),l0(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(Kf(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ai!==null&&($0(ai),ai=null))),T0(s,l),Or(l),null;case 5:s0(l);var w=io(hu.current);if(h=l.type,s!==null&&l.stateNode!=null)Vj(s,l,h,v,w),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(r(166));return Or(l),null}if(s=io(Ni.current),Kf(l)){v=l.stateNode,h=l.type;var j=l.memoizedProps;switch(v[Ai]=l,v[lu]=j,s=(l.mode&1)!==0,h){case"dialog":jt("cancel",v),jt("close",v);break;case"iframe":case"object":case"embed":jt("load",v);break;case"video":case"audio":for(w=0;w<au.length;w++)jt(au[w],v);break;case"source":jt("error",v);break;case"img":case"image":case"link":jt("error",v),jt("load",v);break;case"details":jt("toggle",v);break;case"input":Ae(v,j),jt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!j.multiple},jt("invalid",v);break;case"textarea":Pn(v,j),jt("invalid",v)}Vs(h,j),w=null;for(var F in j)if(j.hasOwnProperty(F)){var q=j[F];F==="children"?typeof q=="string"?v.textContent!==q&&(j.suppressHydrationWarning!==!0&&Vf(v.textContent,q,s),w=["children",q]):typeof q=="number"&&v.textContent!==""+q&&(j.suppressHydrationWarning!==!0&&Vf(v.textContent,q,s),w=["children",""+q]):i.hasOwnProperty(F)&&q!=null&&F==="onScroll"&&jt("scroll",v)}switch(h){case"input":Ee(v),Zr(v,j,!0);break;case"textarea":Ee(v),bi(v);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(v.onclick=Uf)}v=w,l.updateQueue=v,v!==null&&(l.flags|=4)}else{F=w.nodeType===9?w:w.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Dt(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=F.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=F.createElement(h,{is:v.is}):(s=F.createElement(h),h==="select"&&(F=s,v.multiple?F.multiple=!0:v.size&&(F.size=v.size))):s=F.createElementNS(s,h),s[Ai]=l,s[lu]=v,Fj(s,l,!1,!1),l.stateNode=s;e:{switch(F=Us(h,v),h){case"dialog":jt("cancel",s),jt("close",s),w=v;break;case"iframe":case"object":case"embed":jt("load",s),w=v;break;case"video":case"audio":for(w=0;w<au.length;w++)jt(au[w],s);w=v;break;case"source":jt("error",s),w=v;break;case"img":case"image":case"link":jt("error",s),jt("load",s),w=v;break;case"details":jt("toggle",s),w=v;break;case"input":Ae(s,v),w=ge(s,v),jt("invalid",s);break;case"option":w=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},w=ae({},v,{value:void 0}),jt("invalid",s);break;case"textarea":Pn(s,v),w=Jt(s,v),jt("invalid",s);break;default:w=v}Vs(h,w),q=w;for(j in q)if(q.hasOwnProperty(j)){var G=q[j];j==="style"?Yo(s,G):j==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Fa(s,G)):j==="children"?typeof G=="string"?(h!=="textarea"||G!=="")&&Xi(s,G):typeof G=="number"&&Xi(s,""+G):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?G!=null&&j==="onScroll"&&jt("scroll",s):G!=null&&O(s,j,G,F))}switch(h){case"input":Ee(s),Zr(s,v,!1);break;case"textarea":Ee(s),bi(s);break;case"option":v.value!=null&&s.setAttribute("value",""+me(v.value));break;case"select":s.multiple=!!v.multiple,j=v.value,j!=null?Qt(s,!!v.multiple,j,!1):v.defaultValue!=null&&Qt(s,!!v.multiple,v.defaultValue,!0);break;default:typeof w.onClick=="function"&&(s.onclick=Uf)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Or(l),null;case 6:if(s&&l.stateNode!=null)Uj(s,l,s.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(h=io(hu.current),io(Ni.current),Kf(l)){if(v=l.stateNode,h=l.memoizedProps,v[Ai]=l,(j=v.nodeValue!==h)&&(s=wn,s!==null))switch(s.tag){case 3:Vf(v.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Vf(v.nodeValue,h,(s.mode&1)!==0)}j&&(l.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[Ai]=l,l.stateNode=v}return Or(l),null;case 13:if(Et(It),v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Pt&&_n!==null&&(l.mode&1)!==0&&(l.flags&128)===0)zk(),wl(),l.flags|=98560,j=!1;else if(j=Kf(l),v!==null&&v.dehydrated!==null){if(s===null){if(!j)throw Error(r(318));if(j=l.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Ai]=l}else wl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Or(l),j=!1}else ai!==null&&($0(ai),ai=null),j=!0;if(!j)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(It.current&1)!==0?nr===0&&(nr=3):U0())),l.updateQueue!==null&&(l.flags|=4),Or(l),null);case 4:return jl(),T0(s,l),s===null&&su(l.stateNode.containerInfo),Or(l),null;case 10:return t0(l.type._context),Or(l),null;case 17:return sn(l.type)&&qf(),Or(l),null;case 19:if(Et(It),j=l.memoizedState,j===null)return Or(l),null;if(v=(l.flags&128)!==0,F=j.rendering,F===null)if(v)yu(j,!1);else{if(nr!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(F=eh(s),F!==null){for(l.flags|=128,yu(j,!1),v=F.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=h,h=l.child;h!==null;)j=h,s=v,j.flags&=14680066,F=j.alternate,F===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=F.childLanes,j.lanes=F.lanes,j.child=F.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=F.memoizedProps,j.memoizedState=F.memoizedState,j.updateQueue=F.updateQueue,j.type=F.type,s=F.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return wt(It,It.current&1|2),l.child}s=s.sibling}j.tail!==null&&bt()>Nl&&(l.flags|=128,v=!0,yu(j,!1),l.lanes=4194304)}else{if(!v)if(s=eh(F),s!==null){if(l.flags|=128,v=!0,h=s.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),yu(j,!0),j.tail===null&&j.tailMode==="hidden"&&!F.alternate&&!Pt)return Or(l),null}else 2*bt()-j.renderingStartTime>Nl&&h!==1073741824&&(l.flags|=128,v=!0,yu(j,!1),l.lanes=4194304);j.isBackwards?(F.sibling=l.child,l.child=F):(h=j.last,h!==null?h.sibling=F:l.child=F,j.last=F)}return j.tail!==null?(l=j.tail,j.rendering=l,j.tail=l.sibling,j.renderingStartTime=bt(),l.sibling=null,h=It.current,wt(It,v?h&1|2:h&1),l):(Or(l),null);case 22:case 23:return V0(),v=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(Sn&1073741824)!==0&&(Or(l),l.subtreeFlags&6&&(l.flags|=8192)):Or(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function p6(s,l){switch(Yg(l),l.tag){case 1:return sn(l.type)&&qf(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return jl(),Et(an),Et(Pr),l0(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return s0(l),null;case 13:if(Et(It),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));wl()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Et(It),null;case 4:return jl(),null;case 10:return t0(l.type._context),null;case 22:case 23:return V0(),null;case 24:return null;default:return null}}var ch=!1,Ir=!1,m6=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Tl(s,l){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){$t(s,l,v)}else h.current=null}function A0(s,l,h){try{h()}catch(v){$t(s,l,v)}}var Bj=!1;function g6(s,l){if(Vg=Xa,s=bk(),Og(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var w=v.anchorOffset,j=v.focusNode;v=v.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var F=0,q=-1,G=-1,oe=0,xe=0,we=s,ve=null;t:for(;;){for(var Ne;we!==h||w!==0&&we.nodeType!==3||(q=F+w),we!==j||v!==0&&we.nodeType!==3||(G=F+v),we.nodeType===3&&(F+=we.nodeValue.length),(Ne=we.firstChild)!==null;)ve=we,we=Ne;for(;;){if(we===s)break t;if(ve===h&&++oe===w&&(q=F),ve===j&&++xe===v&&(G=F),(Ne=we.nextSibling)!==null)break;we=ve,ve=we.parentNode}we=Ne}h=q===-1||G===-1?null:{start:q,end:G}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ug={focusedElem:s,selectionRange:h},Xa=!1,Pe=l;Pe!==null;)if(l=Pe,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Pe=s;else for(;Pe!==null;){l=Pe;try{var Oe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Ie=Oe.memoizedProps,Ut=Oe.memoizedState,re=l.stateNode,X=re.getSnapshotBeforeUpdate(l.elementType===l.type?Ie:si(l.type,Ie),Ut);re.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var se=l.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(_e){$t(l,l.return,_e)}if(s=l.sibling,s!==null){s.return=l.return,Pe=s;break}Pe=l.return}return Oe=Bj,Bj=!1,Oe}function xu(s,l,h){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var w=v=v.next;do{if((w.tag&s)===s){var j=w.destroy;w.destroy=void 0,j!==void 0&&A0(l,h,j)}w=w.next}while(w!==v)}}function uh(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&s)===s){var v=h.create;h.destroy=v()}h=h.next}while(h!==l)}}function N0(s){var l=s.ref;if(l!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof l=="function"?l(s):l.current=s}}function qj(s){var l=s.alternate;l!==null&&(s.alternate=null,qj(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Ai],delete l[lu],delete l[Wg],delete l[J3],delete l[Z3])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function zj(s){return s.tag===5||s.tag===3||s.tag===4}function Wj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||zj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function P0(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(s,l):h.insertBefore(s,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(s,h)):(l=h,l.appendChild(s)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Uf));else if(v!==4&&(s=s.child,s!==null))for(P0(s,l,h),s=s.sibling;s!==null;)P0(s,l,h),s=s.sibling}function C0(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(C0(s,l,h),s=s.sibling;s!==null;)C0(s,l,h),s=s.sibling}var Sr=null,oi=!1;function as(s,l,h){for(h=h.child;h!==null;)Hj(s,l,h),h=h.sibling}function Hj(s,l,h){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Hs,h)}catch{}switch(h.tag){case 5:Ir||Tl(h,l);case 6:var v=Sr,w=oi;Sr=null,as(s,l,h),Sr=v,oi=w,Sr!==null&&(oi?(s=Sr,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):Sr.removeChild(h.stateNode));break;case 18:Sr!==null&&(oi?(s=Sr,h=h.stateNode,s.nodeType===8?zg(s.parentNode,h):s.nodeType===1&&zg(s,h),ri(s)):zg(Sr,h.stateNode));break;case 4:v=Sr,w=oi,Sr=h.stateNode.containerInfo,oi=!0,as(s,l,h),Sr=v,oi=w;break;case 0:case 11:case 14:case 15:if(!Ir&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){w=v=v.next;do{var j=w,F=j.destroy;j=j.tag,F!==void 0&&((j&2)!==0||(j&4)!==0)&&A0(h,l,F),w=w.next}while(w!==v)}as(s,l,h);break;case 1:if(!Ir&&(Tl(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(q){$t(h,l,q)}as(s,l,h);break;case 21:as(s,l,h);break;case 22:h.mode&1?(Ir=(v=Ir)||h.memoizedState!==null,as(s,l,h),Ir=v):as(s,l,h);break;default:as(s,l,h)}}function Gj(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new m6),l.forEach(function(v){var w=j6.bind(null,s,v);h.has(v)||(h.add(v),v.then(w,w))})}}function li(s,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var w=h[v];try{var j=s,F=l,q=F;e:for(;q!==null;){switch(q.tag){case 5:Sr=q.stateNode,oi=!1;break e;case 3:Sr=q.stateNode.containerInfo,oi=!0;break e;case 4:Sr=q.stateNode.containerInfo,oi=!0;break e}q=q.return}if(Sr===null)throw Error(r(160));Hj(j,F,w),Sr=null,oi=!1;var G=w.alternate;G!==null&&(G.return=null),w.return=null}catch(oe){$t(w,l,oe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Kj(l,s),l=l.sibling}function Kj(s,l){var h=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(li(l,s),Ci(s),v&4){try{xu(3,s,s.return),uh(3,s)}catch(Ie){$t(s,s.return,Ie)}try{xu(5,s,s.return)}catch(Ie){$t(s,s.return,Ie)}}break;case 1:li(l,s),Ci(s),v&512&&h!==null&&Tl(h,h.return);break;case 5:if(li(l,s),Ci(s),v&512&&h!==null&&Tl(h,h.return),s.flags&32){var w=s.stateNode;try{Xi(w,"")}catch(Ie){$t(s,s.return,Ie)}}if(v&4&&(w=s.stateNode,w!=null)){var j=s.memoizedProps,F=h!==null?h.memoizedProps:j,q=s.type,G=s.updateQueue;if(s.updateQueue=null,G!==null)try{q==="input"&&j.type==="radio"&&j.name!=null&&$e(w,j),Us(q,F);var oe=Us(q,j);for(F=0;F<G.length;F+=2){var xe=G[F],we=G[F+1];xe==="style"?Yo(w,we):xe==="dangerouslySetInnerHTML"?Fa(w,we):xe==="children"?Xi(w,we):O(w,xe,we,oe)}switch(q){case"input":Mt(w,j);break;case"textarea":xi(w,j);break;case"select":var ve=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!j.multiple;var Ne=j.value;Ne!=null?Qt(w,!!j.multiple,Ne,!1):ve!==!!j.multiple&&(j.defaultValue!=null?Qt(w,!!j.multiple,j.defaultValue,!0):Qt(w,!!j.multiple,j.multiple?[]:"",!1))}w[lu]=j}catch(Ie){$t(s,s.return,Ie)}}break;case 6:if(li(l,s),Ci(s),v&4){if(s.stateNode===null)throw Error(r(162));w=s.stateNode,j=s.memoizedProps;try{w.nodeValue=j}catch(Ie){$t(s,s.return,Ie)}}break;case 3:if(li(l,s),Ci(s),v&4&&h!==null&&h.memoizedState.isDehydrated)try{ri(l.containerInfo)}catch(Ie){$t(s,s.return,Ie)}break;case 4:li(l,s),Ci(s);break;case 13:li(l,s),Ci(s),w=s.child,w.flags&8192&&(j=w.memoizedState!==null,w.stateNode.isHidden=j,!j||w.alternate!==null&&w.alternate.memoizedState!==null||(R0=bt())),v&4&&Gj(s);break;case 22:if(xe=h!==null&&h.memoizedState!==null,s.mode&1?(Ir=(oe=Ir)||xe,li(l,s),Ir=oe):li(l,s),Ci(s),v&8192){if(oe=s.memoizedState!==null,(s.stateNode.isHidden=oe)&&!xe&&(s.mode&1)!==0)for(Pe=s,xe=s.child;xe!==null;){for(we=Pe=xe;Pe!==null;){switch(ve=Pe,Ne=ve.child,ve.tag){case 0:case 11:case 14:case 15:xu(4,ve,ve.return);break;case 1:Tl(ve,ve.return);var Oe=ve.stateNode;if(typeof Oe.componentWillUnmount=="function"){v=ve,h=ve.return;try{l=v,Oe.props=l.memoizedProps,Oe.state=l.memoizedState,Oe.componentWillUnmount()}catch(Ie){$t(v,h,Ie)}}break;case 5:Tl(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Qj(we);continue}}Ne!==null?(Ne.return=ve,Pe=Ne):Qj(we)}xe=xe.sibling}e:for(xe=null,we=s;;){if(we.tag===5){if(xe===null){xe=we;try{w=we.stateNode,oe?(j=w.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(q=we.stateNode,G=we.memoizedProps.style,F=G!=null&&G.hasOwnProperty("display")?G.display:null,q.style.display=Ko("display",F))}catch(Ie){$t(s,s.return,Ie)}}}else if(we.tag===6){if(xe===null)try{we.stateNode.nodeValue=oe?"":we.memoizedProps}catch(Ie){$t(s,s.return,Ie)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===s)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===s)break e;for(;we.sibling===null;){if(we.return===null||we.return===s)break e;xe===we&&(xe=null),we=we.return}xe===we&&(xe=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:li(l,s),Ci(s),v&4&&Gj(s);break;case 21:break;default:li(l,s),Ci(s)}}function Ci(s){var l=s.flags;if(l&2){try{e:{for(var h=s.return;h!==null;){if(zj(h)){var v=h;break e}h=h.return}throw Error(r(160))}switch(v.tag){case 5:var w=v.stateNode;v.flags&32&&(Xi(w,""),v.flags&=-33);var j=Wj(s);C0(s,j,w);break;case 3:case 4:var F=v.stateNode.containerInfo,q=Wj(s);P0(s,q,F);break;default:throw Error(r(161))}}catch(G){$t(s,s.return,G)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function v6(s,l,h){Pe=s,Yj(s)}function Yj(s,l,h){for(var v=(s.mode&1)!==0;Pe!==null;){var w=Pe,j=w.child;if(w.tag===22&&v){var F=w.memoizedState!==null||ch;if(!F){var q=w.alternate,G=q!==null&&q.memoizedState!==null||Ir;q=ch;var oe=Ir;if(ch=F,(Ir=G)&&!oe)for(Pe=w;Pe!==null;)F=Pe,G=F.child,F.tag===22&&F.memoizedState!==null?Jj(w):G!==null?(G.return=F,Pe=G):Jj(w);for(;j!==null;)Pe=j,Yj(j),j=j.sibling;Pe=w,ch=q,Ir=oe}Xj(s)}else(w.subtreeFlags&8772)!==0&&j!==null?(j.return=w,Pe=j):Xj(s)}}function Xj(s){for(;Pe!==null;){var l=Pe;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Ir||uh(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!Ir)if(h===null)v.componentDidMount();else{var w=l.elementType===l.type?h.memoizedProps:si(l.type,h.memoizedProps);v.componentDidUpdate(w,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var j=l.updateQueue;j!==null&&Qk(l,j,v);break;case 3:var F=l.updateQueue;if(F!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}Qk(l,F,h)}break;case 5:var q=l.stateNode;if(h===null&&l.flags&4){h=q;var G=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&h.focus();break;case"img":G.src&&(h.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var oe=l.alternate;if(oe!==null){var xe=oe.memoizedState;if(xe!==null){var we=xe.dehydrated;we!==null&&ri(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ir||l.flags&512&&N0(l)}catch(ve){$t(l,l.return,ve)}}if(l===s){Pe=null;break}if(h=l.sibling,h!==null){h.return=l.return,Pe=h;break}Pe=l.return}}function Qj(s){for(;Pe!==null;){var l=Pe;if(l===s){Pe=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Pe=h;break}Pe=l.return}}function Jj(s){for(;Pe!==null;){var l=Pe;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{uh(4,l)}catch(G){$t(l,h,G)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var w=l.return;try{v.componentDidMount()}catch(G){$t(l,w,G)}}var j=l.return;try{N0(l)}catch(G){$t(l,j,G)}break;case 5:var F=l.return;try{N0(l)}catch(G){$t(l,F,G)}}}catch(G){$t(l,l.return,G)}if(l===s){Pe=null;break}var q=l.sibling;if(q!==null){q.return=l.return,Pe=q;break}Pe=l.return}}var y6=Math.ceil,dh=R.ReactCurrentDispatcher,O0=R.ReactCurrentOwner,Vn=R.ReactCurrentBatchConfig,it=0,fr=null,Wt=null,kr=0,Sn=0,Al=es(0),nr=0,bu=null,so=0,fh=0,I0=0,wu=null,ln=null,R0=0,Nl=1/0,ha=null,hh=!1,M0=null,ss=null,ph=!1,os=null,mh=0,_u=0,D0=null,gh=-1,vh=0;function Gr(){return(it&6)!==0?bt():gh!==-1?gh:gh=bt()}function ls(s){return(s.mode&1)===0?1:(it&2)!==0&&kr!==0?kr&-kr:t6.transition!==null?(vh===0&&(vh=Ks()),vh):(s=Ze,s!==0||(s=window.event,s=s===void 0?16:Xc(s.type)),s)}function ci(s,l,h,v){if(50<_u)throw _u=0,D0=null,Error(r(185));Ha(s,h,v),((it&2)===0||s!==fr)&&(s===fr&&((it&2)===0&&(fh|=h),nr===4&&cs(s,kr)),cn(s,v),h===1&&it===0&&(l.mode&1)===0&&(Nl=bt()+500,Wf&&rs()))}function cn(s,l){var h=s.callbackNode;ta(s,l);var v=Gs(s,s===fr?kr:0);if(v===0)h!==null&&tn(h),s.callbackNode=null,s.callbackPriority=0;else if(l=v&-v,s.callbackPriority!==l){if(h!=null&&tn(h),l===1)s.tag===0?e6(eE.bind(null,s)):Fk(eE.bind(null,s)),X3(function(){(it&6)===0&&rs()}),h=null;else{switch(Ka(v)){case 1:h=Ws;break;case 4:h=qa;break;case 16:h=In;break;case 536870912:h=vf;break;default:h=In}h=lE(h,Zj.bind(null,s))}s.callbackPriority=l,s.callbackNode=h}}function Zj(s,l){if(gh=-1,vh=0,(it&6)!==0)throw Error(r(327));var h=s.callbackNode;if(Pl()&&s.callbackNode!==h)return null;var v=Gs(s,s===fr?kr:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||l)l=yh(s,v);else{l=v;var w=it;it|=2;var j=rE();(fr!==s||kr!==l)&&(ha=null,Nl=bt()+500,lo(s,l));do try{w6();break}catch(q){tE(s,q)}while(!0);e0(),dh.current=j,it=w,Wt!==null?l=0:(fr=null,kr=0,l=nr)}if(l!==0){if(l===2&&(w=yn(s),w!==0&&(v=w,l=L0(s,w))),l===1)throw h=bu,lo(s,0),cs(s,v),cn(s,bt()),h;if(l===6)cs(s,v);else{if(w=s.current.alternate,(v&30)===0&&!x6(w)&&(l=yh(s,v),l===2&&(j=yn(s),j!==0&&(v=j,l=L0(s,j))),l===1))throw h=bu,lo(s,0),cs(s,v),cn(s,bt()),h;switch(s.finishedWork=w,s.finishedLanes=v,l){case 0:case 1:throw Error(r(345));case 2:co(s,ln,ha);break;case 3:if(cs(s,v),(v&130023424)===v&&(l=R0+500-bt(),10<l)){if(Gs(s,0)!==0)break;if(w=s.suspendedLanes,(w&v)!==v){Gr(),s.pingedLanes|=s.suspendedLanes&w;break}s.timeoutHandle=qg(co.bind(null,s,ln,ha),l);break}co(s,ln,ha);break;case 4:if(cs(s,v),(v&4194240)===v)break;for(l=s.eventTimes,w=-1;0<v;){var F=31-zr(v);j=1<<F,F=l[F],F>w&&(w=F),v&=~j}if(v=w,v=bt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*y6(v/1960))-v,10<v){s.timeoutHandle=qg(co.bind(null,s,ln,ha),v);break}co(s,ln,ha);break;case 5:co(s,ln,ha);break;default:throw Error(r(329))}}}return cn(s,bt()),s.callbackNode===h?Zj.bind(null,s):null}function L0(s,l){var h=wu;return s.current.memoizedState.isDehydrated&&(lo(s,l).flags|=256),s=yh(s,l),s!==2&&(l=ln,ln=h,l!==null&&$0(l)),s}function $0(s){ln===null?ln=s:ln.push.apply(ln,s)}function x6(s){for(var l=s;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var w=h[v],j=w.getSnapshot;w=w.value;try{if(!ii(j(),w))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function cs(s,l){for(l&=~I0,l&=~fh,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var h=31-zr(l),v=1<<h;s[h]=-1,l&=~v}}function eE(s){if((it&6)!==0)throw Error(r(327));Pl();var l=Gs(s,0);if((l&1)===0)return cn(s,bt()),null;var h=yh(s,l);if(s.tag!==0&&h===2){var v=yn(s);v!==0&&(l=v,h=L0(s,v))}if(h===1)throw h=bu,lo(s,0),cs(s,l),cn(s,bt()),h;if(h===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,co(s,ln,ha),cn(s,bt()),null}function F0(s,l){var h=it;it|=1;try{return s(l)}finally{it=h,it===0&&(Nl=bt()+500,Wf&&rs())}}function oo(s){os!==null&&os.tag===0&&(it&6)===0&&Pl();var l=it;it|=1;var h=Vn.transition,v=Ze;try{if(Vn.transition=null,Ze=1,s)return s()}finally{Ze=v,Vn.transition=h,it=l,(it&6)===0&&rs()}}function V0(){Sn=Al.current,Et(Al)}function lo(s,l){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,Y3(h)),Wt!==null)for(h=Wt.return;h!==null;){var v=h;switch(Yg(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&qf();break;case 3:jl(),Et(an),Et(Pr),l0();break;case 5:s0(v);break;case 4:jl();break;case 13:Et(It);break;case 19:Et(It);break;case 10:t0(v.type._context);break;case 22:case 23:V0()}h=h.return}if(fr=s,Wt=s=us(s.current,null),kr=Sn=l,nr=0,bu=null,I0=fh=so=0,ln=wu=null,no!==null){for(l=0;l<no.length;l++)if(h=no[l],v=h.interleaved,v!==null){h.interleaved=null;var w=v.next,j=h.pending;if(j!==null){var F=j.next;j.next=w,v.next=F}h.pending=v}no=null}return s}function tE(s,l){do{var h=Wt;try{if(e0(),th.current=ah,rh){for(var v=Rt.memoizedState;v!==null;){var w=v.queue;w!==null&&(w.pending=null),v=v.next}rh=!1}if(ao=0,dr=rr=Rt=null,pu=!1,mu=0,O0.current=null,h===null||h.return===null){nr=1,bu=l,Wt=null;break}e:{var j=s,F=h.return,q=h,G=l;if(l=kr,q.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var oe=G,xe=q,we=xe.tag;if((xe.mode&1)===0&&(we===0||we===11||we===15)){var ve=xe.alternate;ve?(xe.updateQueue=ve.updateQueue,xe.memoizedState=ve.memoizedState,xe.lanes=ve.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Ne=Ej(F);if(Ne!==null){Ne.flags&=-257,Tj(Ne,F,q,j,l),Ne.mode&1&&jj(j,oe,l),l=Ne,G=oe;var Oe=l.updateQueue;if(Oe===null){var Ie=new Set;Ie.add(G),l.updateQueue=Ie}else Oe.add(G);break e}else{if((l&1)===0){jj(j,oe,l),U0();break e}G=Error(r(426))}}else if(Pt&&q.mode&1){var Ut=Ej(F);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),Tj(Ut,F,q,j,l),Jg(El(G,q));break e}}j=G=El(G,q),nr!==4&&(nr=2),wu===null?wu=[j]:wu.push(j),j=F;do{switch(j.tag){case 3:j.flags|=65536,l&=-l,j.lanes|=l;var re=Sj(j,G,l);Xk(j,re);break e;case 1:q=G;var X=j.type,se=j.stateNode;if((j.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(ss===null||!ss.has(se)))){j.flags|=65536,l&=-l,j.lanes|=l;var _e=kj(j,q,l);Xk(j,_e);break e}}j=j.return}while(j!==null)}iE(h)}catch(Le){l=Le,Wt===h&&h!==null&&(Wt=h=h.return);continue}break}while(!0)}function rE(){var s=dh.current;return dh.current=ah,s===null?ah:s}function U0(){(nr===0||nr===3||nr===2)&&(nr=4),fr===null||(so&268435455)===0&&(fh&268435455)===0||cs(fr,kr)}function yh(s,l){var h=it;it|=2;var v=rE();(fr!==s||kr!==l)&&(ha=null,lo(s,l));do try{b6();break}catch(w){tE(s,w)}while(!0);if(e0(),it=h,dh.current=v,Wt!==null)throw Error(r(261));return fr=null,kr=0,nr}function b6(){for(;Wt!==null;)nE(Wt)}function w6(){for(;Wt!==null&&!mf();)nE(Wt)}function nE(s){var l=oE(s.alternate,s,Sn);s.memoizedProps=s.pendingProps,l===null?iE(s):Wt=l,O0.current=null}function iE(s){var l=s;do{var h=l.alternate;if(s=l.return,(l.flags&32768)===0){if(h=h6(h,l,Sn),h!==null){Wt=h;return}}else{if(h=p6(h,l),h!==null){h.flags&=32767,Wt=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{nr=6,Wt=null;return}}if(l=l.sibling,l!==null){Wt=l;return}Wt=l=s}while(l!==null);nr===0&&(nr=5)}function co(s,l,h){var v=Ze,w=Vn.transition;try{Vn.transition=null,Ze=1,_6(s,l,h,v)}finally{Vn.transition=w,Ze=v}return null}function _6(s,l,h,v){do Pl();while(os!==null);if((it&6)!==0)throw Error(r(327));h=s.finishedWork;var w=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var j=h.lanes|h.childLanes;if(vt(s,j),s===fr&&(Wt=fr=null,kr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||ph||(ph=!0,lE(In,function(){return Pl(),null})),j=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||j){j=Vn.transition,Vn.transition=null;var F=Ze;Ze=1;var q=it;it|=4,O0.current=null,g6(s,h),Kj(h,s),B3(Ug),Xa=!!Vg,Ug=Vg=null,s.current=h,v6(h),kg(),it=q,Ze=F,Vn.transition=j}else s.current=h;if(ph&&(ph=!1,os=s,mh=w),j=s.pendingLanes,j===0&&(ss=null),yf(h.stateNode),cn(s,bt()),l!==null)for(v=s.onRecoverableError,h=0;h<l.length;h++)w=l[h],v(w.value,{componentStack:w.stack,digest:w.digest});if(hh)throw hh=!1,s=M0,M0=null,s;return(mh&1)!==0&&s.tag!==0&&Pl(),j=s.pendingLanes,(j&1)!==0?s===D0?_u++:(_u=0,D0=s):_u=0,rs(),null}function Pl(){if(os!==null){var s=Ka(mh),l=Vn.transition,h=Ze;try{if(Vn.transition=null,Ze=16>s?16:s,os===null)var v=!1;else{if(s=os,os=null,mh=0,(it&6)!==0)throw Error(r(331));var w=it;for(it|=4,Pe=s.current;Pe!==null;){var j=Pe,F=j.child;if((Pe.flags&16)!==0){var q=j.deletions;if(q!==null){for(var G=0;G<q.length;G++){var oe=q[G];for(Pe=oe;Pe!==null;){var xe=Pe;switch(xe.tag){case 0:case 11:case 15:xu(8,xe,j)}var we=xe.child;if(we!==null)we.return=xe,Pe=we;else for(;Pe!==null;){xe=Pe;var ve=xe.sibling,Ne=xe.return;if(qj(xe),xe===oe){Pe=null;break}if(ve!==null){ve.return=Ne,Pe=ve;break}Pe=Ne}}}var Oe=j.alternate;if(Oe!==null){var Ie=Oe.child;if(Ie!==null){Oe.child=null;do{var Ut=Ie.sibling;Ie.sibling=null,Ie=Ut}while(Ie!==null)}}Pe=j}}if((j.subtreeFlags&2064)!==0&&F!==null)F.return=j,Pe=F;else e:for(;Pe!==null;){if(j=Pe,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:xu(9,j,j.return)}var re=j.sibling;if(re!==null){re.return=j.return,Pe=re;break e}Pe=j.return}}var X=s.current;for(Pe=X;Pe!==null;){F=Pe;var se=F.child;if((F.subtreeFlags&2064)!==0&&se!==null)se.return=F,Pe=se;else e:for(F=X;Pe!==null;){if(q=Pe,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:uh(9,q)}}catch(Le){$t(q,q.return,Le)}if(q===F){Pe=null;break e}var _e=q.sibling;if(_e!==null){_e.return=q.return,Pe=_e;break e}Pe=q.return}}if(it=w,rs(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Hs,s)}catch{}v=!0}return v}finally{Ze=h,Vn.transition=l}}return!1}function aE(s,l,h){l=El(h,l),l=Sj(s,l,1),s=is(s,l,1),l=Gr(),s!==null&&(Ha(s,1,l),cn(s,l))}function $t(s,l,h){if(s.tag===3)aE(s,s,h);else for(;l!==null;){if(l.tag===3){aE(l,s,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ss===null||!ss.has(v))){s=El(h,s),s=kj(l,s,1),l=is(l,s,1),s=Gr(),l!==null&&(Ha(l,1,s),cn(l,s));break}}l=l.return}}function S6(s,l,h){var v=s.pingCache;v!==null&&v.delete(l),l=Gr(),s.pingedLanes|=s.suspendedLanes&h,fr===s&&(kr&h)===h&&(nr===4||nr===3&&(kr&130023424)===kr&&500>bt()-R0?lo(s,0):I0|=h),cn(s,l)}function sE(s,l){l===0&&((s.mode&1)===0?l=1:(l=Zo,Zo<<=1,(Zo&130023424)===0&&(Zo=4194304)));var h=Gr();s=ua(s,l),s!==null&&(Ha(s,l,h),cn(s,h))}function k6(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),sE(s,h)}function j6(s,l){var h=0;switch(s.tag){case 13:var v=s.stateNode,w=s.memoizedState;w!==null&&(h=w.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(l),sE(s,h)}var oE;oE=function(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps||an.current)on=!0;else{if((s.lanes&h)===0&&(l.flags&128)===0)return on=!1,f6(s,l,h);on=(s.flags&131072)!==0}else on=!1,Pt&&(l.flags&1048576)!==0&&Vk(l,Gf,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;lh(s,l),s=l.pendingProps;var w=yl(l,Pr.current);kl(l,h),w=d0(null,l,v,s,w,h);var j=f0();return l.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,sn(v)?(j=!0,zf(l)):j=!1,l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,i0(l),w.updater=sh,l.stateNode=w,w._reactInternals=l,y0(l,v,s,h),l=_0(null,l,v,!0,j,h)):(l.tag=0,Pt&&j&&Kg(l),Hr(null,l,w,h),l=l.child),l;case 16:v=l.elementType;e:{switch(lh(s,l),s=l.pendingProps,w=v._init,v=w(v._payload),l.type=v,w=l.tag=T6(v),s=si(v,s),w){case 0:l=w0(null,l,v,s,h);break e;case 1:l=Ij(null,l,v,s,h);break e;case 11:l=Aj(null,l,v,s,h);break e;case 14:l=Nj(null,l,v,si(v.type,s),h);break e}throw Error(r(306,v,""))}return l;case 0:return v=l.type,w=l.pendingProps,w=l.elementType===v?w:si(v,w),w0(s,l,v,w,h);case 1:return v=l.type,w=l.pendingProps,w=l.elementType===v?w:si(v,w),Ij(s,l,v,w,h);case 3:e:{if(Rj(l),s===null)throw Error(r(387));v=l.pendingProps,j=l.memoizedState,w=j.element,Yk(s,l),Zf(l,v,null,h);var F=l.memoizedState;if(v=F.element,j.isDehydrated)if(j={element:v,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){w=El(Error(r(423)),l),l=Mj(s,l,v,h,w);break e}else if(v!==w){w=El(Error(r(424)),l),l=Mj(s,l,v,h,w);break e}else for(_n=Za(l.stateNode.containerInfo.firstChild),wn=l,Pt=!0,ai=null,h=Gk(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(wl(),v===w){l=fa(s,l,h);break e}Hr(s,l,v,h)}l=l.child}return l;case 5:return Jk(l),s===null&&Qg(l),v=l.type,w=l.pendingProps,j=s!==null?s.memoizedProps:null,F=w.children,Bg(v,w)?F=null:j!==null&&Bg(v,j)&&(l.flags|=32),Oj(s,l),Hr(s,l,F,h),l.child;case 6:return s===null&&Qg(l),null;case 13:return Dj(s,l,h);case 4:return a0(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=_l(l,null,v,h):Hr(s,l,v,h),l.child;case 11:return v=l.type,w=l.pendingProps,w=l.elementType===v?w:si(v,w),Aj(s,l,v,w,h);case 7:return Hr(s,l,l.pendingProps,h),l.child;case 8:return Hr(s,l,l.pendingProps.children,h),l.child;case 12:return Hr(s,l,l.pendingProps.children,h),l.child;case 10:e:{if(v=l.type._context,w=l.pendingProps,j=l.memoizedProps,F=w.value,wt(Xf,v._currentValue),v._currentValue=F,j!==null)if(ii(j.value,F)){if(j.children===w.children&&!an.current){l=fa(s,l,h);break e}}else for(j=l.child,j!==null&&(j.return=l);j!==null;){var q=j.dependencies;if(q!==null){F=j.child;for(var G=q.firstContext;G!==null;){if(G.context===v){if(j.tag===1){G=da(-1,h&-h),G.tag=2;var oe=j.updateQueue;if(oe!==null){oe=oe.shared;var xe=oe.pending;xe===null?G.next=G:(G.next=xe.next,xe.next=G),oe.pending=G}}j.lanes|=h,G=j.alternate,G!==null&&(G.lanes|=h),r0(j.return,h,l),q.lanes|=h;break}G=G.next}}else if(j.tag===10)F=j.type===l.type?null:j.child;else if(j.tag===18){if(F=j.return,F===null)throw Error(r(341));F.lanes|=h,q=F.alternate,q!==null&&(q.lanes|=h),r0(F,h,l),F=j.sibling}else F=j.child;if(F!==null)F.return=j;else for(F=j;F!==null;){if(F===l){F=null;break}if(j=F.sibling,j!==null){j.return=F.return,F=j;break}F=F.return}j=F}Hr(s,l,w.children,h),l=l.child}return l;case 9:return w=l.type,v=l.pendingProps.children,kl(l,h),w=$n(w),v=v(w),l.flags|=1,Hr(s,l,v,h),l.child;case 14:return v=l.type,w=si(v,l.pendingProps),w=si(v.type,w),Nj(s,l,v,w,h);case 15:return Pj(s,l,l.type,l.pendingProps,h);case 17:return v=l.type,w=l.pendingProps,w=l.elementType===v?w:si(v,w),lh(s,l),l.tag=1,sn(v)?(s=!0,zf(l)):s=!1,kl(l,h),wj(l,v,w),y0(l,v,w,h),_0(null,l,v,!0,s,h);case 19:return $j(s,l,h);case 22:return Cj(s,l,h)}throw Error(r(156,l.tag))};function lE(s,l){return br(s,l)}function E6(s,l,h,v){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,l,h,v){return new E6(s,l,h,v)}function B0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function T6(s){if(typeof s=="function")return B0(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===ne)return 14}return 2}function us(s,l){var h=s.alternate;return h===null?(h=Un(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function xh(s,l,h,v,w,j){var F=2;if(v=s,typeof s=="function")B0(s)&&(F=1);else if(typeof s=="string")F=5;else e:switch(s){case T:return uo(h.children,w,j,l);case C:F=8,w|=8;break;case L:return s=Un(12,h,l,w|2),s.elementType=L,s.lanes=j,s;case $:return s=Un(13,h,l,w),s.elementType=$,s.lanes=j,s;case ee:return s=Un(19,h,l,w),s.elementType=ee,s.lanes=j,s;case ie:return bh(h,w,j,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:F=10;break e;case D:F=9;break e;case V:F=11;break e;case ne:F=14;break e;case Q:F=16,v=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return l=Un(F,h,l,w),l.elementType=s,l.type=v,l.lanes=j,l}function uo(s,l,h,v){return s=Un(7,s,v,l),s.lanes=h,s}function bh(s,l,h,v){return s=Un(22,s,v,l),s.elementType=ie,s.lanes=h,s.stateNode={isHidden:!1},s}function q0(s,l,h){return s=Un(6,s,null,l),s.lanes=h,s}function z0(s,l,h){return l=Un(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function A6(s,l,h,v,w){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wa(0),this.expirationTimes=Wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.identifierPrefix=v,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function W0(s,l,h,v,w,j,F,q,G){return s=new A6(s,l,h,q,G),l===1?(l=1,j===!0&&(l|=8)):l=0,j=Un(3,null,null,l),s.current=j,j.stateNode=s,j.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},i0(j),s}function N6(s,l,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:v==null?null:""+v,children:s,containerInfo:l,implementation:h}}function cE(s){if(!s)return ts;s=s._reactInternals;e:{if(Ye(s)!==s||s.tag!==1)throw Error(r(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(sn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(s.tag===1){var h=s.type;if(sn(h))return Lk(s,h,l)}return l}function uE(s,l,h,v,w,j,F,q,G){return s=W0(h,v,!0,s,w,j,F,q,G),s.context=cE(null),h=s.current,v=Gr(),w=ls(h),j=da(v,w),j.callback=l??null,is(h,j,w),s.current.lanes=w,Ha(s,w,v),cn(s,v),s}function wh(s,l,h,v){var w=l.current,j=Gr(),F=ls(w);return h=cE(h),l.context===null?l.context=h:l.pendingContext=h,l=da(j,F),l.payload={element:s},v=v===void 0?null:v,v!==null&&(l.callback=v),s=is(w,l,F),s!==null&&(ci(s,w,F,j),Jf(s,w,F)),F}function _h(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function dE(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function H0(s,l){dE(s,l),(s=s.alternate)&&dE(s,l)}function P6(){return null}var fE=typeof reportError=="function"?reportError:function(s){console.error(s)};function G0(s){this._internalRoot=s}Sh.prototype.render=G0.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));wh(s,l,null,null)},Sh.prototype.unmount=G0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;oo(function(){wh(null,s,null,null)}),l[sa]=null}};function Sh(s){this._internalRoot=s}Sh.prototype.unstable_scheduleHydration=function(s){if(s){var l=Sf();s={blockedOn:null,target:s,priority:l};for(var h=0;h<ki.length&&l!==0&&l<ki[h].priority;h++);ki.splice(h,0,s),h===0&&Ef(s)}};function K0(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function kh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function hE(){}function C6(s,l,h,v,w){if(w){if(typeof v=="function"){var j=v;v=function(){var oe=_h(F);j.call(oe)}}var F=uE(l,v,s,0,null,!1,!1,"",hE);return s._reactRootContainer=F,s[sa]=F.current,su(s.nodeType===8?s.parentNode:s),oo(),F}for(;w=s.lastChild;)s.removeChild(w);if(typeof v=="function"){var q=v;v=function(){var oe=_h(G);q.call(oe)}}var G=W0(s,0,!1,null,null,!1,!1,"",hE);return s._reactRootContainer=G,s[sa]=G.current,su(s.nodeType===8?s.parentNode:s),oo(function(){wh(l,G,h,v)}),G}function jh(s,l,h,v,w){var j=h._reactRootContainer;if(j){var F=j;if(typeof w=="function"){var q=w;w=function(){var G=_h(F);q.call(G)}}wh(l,F,s,w)}else F=C6(h,l,s,w,v);return _h(F)}wf=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var h=za(l.pendingLanes);h!==0&&(Ga(l,h|1),cn(l,bt()),(it&6)===0&&(Nl=bt()+500,rs()))}break;case 13:oo(function(){var v=ua(s,1);if(v!==null){var w=Gr();ci(v,s,1,w)}}),H0(s,1)}},el=function(s){if(s.tag===13){var l=ua(s,134217728);if(l!==null){var h=Gr();ci(l,s,134217728,h)}H0(s,134217728)}},_f=function(s){if(s.tag===13){var l=ls(s),h=ua(s,l);if(h!==null){var v=Gr();ci(h,s,l,v)}H0(s,l)}},Sf=function(){return Ze},kf=function(s,l){var h=Ze;try{return Ze=s,l()}finally{Ze=h}},Ji=function(s,l,h){switch(l){case"input":if(Mt(s,h),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==s&&v.form===s.form){var w=Bf(v);if(!w)throw Error(r(90));W(v),Mt(v,w)}}}break;case"textarea":xi(s,h);break;case"select":l=h.value,l!=null&&Qt(s,!!h.multiple,l,!1)}},_i=F0,qs=oo;var O6={usingClientEntryPoint:!1,Events:[cu,gl,Bf,Nr,Bs,F0]},Su={findFiberByHostInstance:Zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I6={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=er(s),s===null?null:s.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance||P6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{Hs=Eh.inject(I6),vn=Eh}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O6,un.createPortal=function(s,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K0(l))throw Error(r(200));return N6(s,l,null,h)},un.createRoot=function(s,l){if(!K0(s))throw Error(r(299));var h=!1,v="",w=fE;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=W0(s,1,!1,null,null,h,!1,v,w),s[sa]=l.current,su(s.nodeType===8?s.parentNode:s),new G0(l)},un.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=er(l),s=s===null?null:s.stateNode,s},un.flushSync=function(s){return oo(s)},un.hydrate=function(s,l,h){if(!kh(l))throw Error(r(200));return jh(null,s,l,!0,h)},un.hydrateRoot=function(s,l,h){if(!K0(s))throw Error(r(405));var v=h!=null&&h.hydratedSources||null,w=!1,j="",F=fE;if(h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(F=h.onRecoverableError)),l=uE(l,null,s,1,h??null,w,!1,j,F),s[sa]=l.current,su(s),v)for(s=0;s<v.length;s++)h=v[s],w=h._getVersion,w=w(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,w]:l.mutableSourceEagerHydrationData.push(h,w);return new Sh(l)},un.render=function(s,l,h){if(!kh(l))throw Error(r(200));return jh(null,s,l,!1,h)},un.unmountComponentAtNode=function(s){if(!kh(s))throw Error(r(40));return s._reactRootContainer?(oo(function(){jh(null,null,s,!1,function(){s._reactRootContainer=null,s[sa]=null})}),!0):!1},un.unstable_batchedUpdates=F0,un.unstable_renderSubtreeIntoContainer=function(s,l,h,v){if(!kh(h))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return jh(s,l,h,!1,v)},un.version="18.3.1-next-f1338f8080-20240426",un}var wE;function U6(){if(wE)return Q0.exports;wE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Q0.exports=V6(),Q0.exports}var _E;function B6(){if(_E)return Ah;_E=1;var t=U6();return Ah.createRoot=t.createRoot,Ah.hydrateRoot=t.hydrateRoot,Ah}var q6=B6();const z6=ft(q6);var SE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},W6=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],u=t[r++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},JI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,u=o?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let y=(u&15)<<2|f>>6,x=f&63;d||(x=64,o||(y=64)),n.push(r[p],r[g],r[y],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const g=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||g==null)throw new H6;const y=a<<2|u>>4;if(n.push(y),f!==64){const x=u<<4&240|f>>2;if(n.push(x),g!==64){const S=f<<6&192|g;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class H6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G6=function(t){const e=QI(t);return JI.encodeByteArray(e,!0)},op=function(t){return G6(t).replace(/\./g,"")},ZI=function(t){try{return JI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=()=>K6().__FIREBASE_DEFAULTS__,X6=()=>{if(typeof process>"u"||typeof SE>"u")return;const t=SE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZI(t[1]);return e&&JSON.parse(e)},wm=()=>{try{return Y6()||X6()||Q6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eR=t=>{var e,r;return(r=(e=wm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},tR=t=>{const e=eR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},rR=()=>{var t;return(t=wm())===null||t===void 0?void 0:t.config},nR=t=>{var e;return(e=wm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[op(JSON.stringify(r)),op(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ur())}function e$(){var t;const e=(t=wm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i$(){const t=Ur();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function a$(){return!e$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s$(){try{return typeof indexedDB=="object"}catch{return!1}}function o$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$="FirebaseError";class Hi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=l$,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wd.prototype.create)}}class Wd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?c$(a,n):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Hi(i,u,n)}}function c$(t,e){return t.replace(u$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const u$=/\{\$([^}]+)}/g;function d$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(kE(a)&&kE(o)){if(!lp(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function kE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Du(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function f$(t,e){const r=new h$(t,e);return r.subscribe.bind(r)}class h${constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");p$(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=ev),i.error===void 0&&(i.error=ev),i.complete===void 0&&(i.complete=ev);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p$(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function ev(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new J6;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v$(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:g$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g$(t){return t===mo?void 0:t}function v$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new m$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const x$={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},b$=et.INFO,w$={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},_$=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=w$[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d1{constructor(e){this.name=e,this._logLevel=b$,this._logHandler=_$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const S$=(t,e)=>e.some(r=>t instanceof r);let jE,EE;function k$(){return jE||(jE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j$(){return EE||(EE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aR=new WeakMap,mw=new WeakMap,sR=new WeakMap,tv=new WeakMap,f1=new WeakMap;function E$(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Ss(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&aR.set(r,t)}).catch(()=>{}),f1.set(e,t),e}function T$(t){if(mw.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});mw.set(t,e)}let gw={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return mw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sR.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ss(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A$(t){gw=t(gw)}function N$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(rv(this),e,...r);return sR.set(n,e.sort?e.sort():[e]),Ss(n)}:j$().includes(t)?function(...e){return t.apply(rv(this),e),Ss(aR.get(this))}:function(...e){return Ss(t.apply(rv(this),e))}}function P$(t){return typeof t=="function"?N$(t):(t instanceof IDBTransaction&&T$(t),S$(t,k$())?new Proxy(t,gw):t)}function Ss(t){if(t instanceof IDBRequest)return E$(t);if(tv.has(t))return tv.get(t);const e=P$(t);return e!==t&&(tv.set(t,e),f1.set(e,t)),e}const rv=t=>f1.get(t);function C$(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),u=Ss(o);return n&&o.addEventListener("upgradeneeded",d=>{n(Ss(o.result),d.oldVersion,d.newVersion,Ss(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const O$=["get","getKey","getAll","getAllKeys","count"],I$=["put","add","delete","clear"],nv=new Map;function TE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nv.get(e))return nv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=I$.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||O$.includes(r)))return;const a=async function(o,...u){const d=this.transaction(o,i?"readwrite":"readonly");let f=d.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[r](...u),i&&d.done]))[0]};return nv.set(e,a),a}A$(t=>({...t,get:(e,r,n)=>TE(e,r)||t.get(e,r,n),has:(e,r)=>!!TE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(M$(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function M$(t){const e=t.getComponent();return e?.type==="VERSION"}const vw="@firebase/app",AE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new d1("@firebase/app"),D$="@firebase/app-compat",L$="@firebase/analytics-compat",$$="@firebase/analytics",F$="@firebase/app-check-compat",V$="@firebase/app-check",U$="@firebase/auth",B$="@firebase/auth-compat",q$="@firebase/database",z$="@firebase/data-connect",W$="@firebase/database-compat",H$="@firebase/functions",G$="@firebase/functions-compat",K$="@firebase/installations",Y$="@firebase/installations-compat",X$="@firebase/messaging",Q$="@firebase/messaging-compat",J$="@firebase/performance",Z$="@firebase/performance-compat",e5="@firebase/remote-config",t5="@firebase/remote-config-compat",r5="@firebase/storage",n5="@firebase/storage-compat",i5="@firebase/firestore",a5="@firebase/vertexai-preview",s5="@firebase/firestore-compat",o5="firebase",l5="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="[DEFAULT]",c5={[vw]:"fire-core",[D$]:"fire-core-compat",[$$]:"fire-analytics",[L$]:"fire-analytics-compat",[V$]:"fire-app-check",[F$]:"fire-app-check-compat",[U$]:"fire-auth",[B$]:"fire-auth-compat",[q$]:"fire-rtdb",[z$]:"fire-data-connect",[W$]:"fire-rtdb-compat",[H$]:"fire-fn",[G$]:"fire-fn-compat",[K$]:"fire-iid",[Y$]:"fire-iid-compat",[X$]:"fire-fcm",[Q$]:"fire-fcm-compat",[J$]:"fire-perf",[Z$]:"fire-perf-compat",[e5]:"fire-rc",[t5]:"fire-rc-compat",[r5]:"fire-gcs",[n5]:"fire-gcs-compat",[i5]:"fire-fst",[s5]:"fire-fst-compat",[a5]:"fire-vertex","fire-js":"fire-js",[o5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new Map,u5=new Map,xw=new Map;function NE(t,e){try{t.container.addComponent(e)}catch(r){Ea.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Po(t){const e=t.name;if(xw.has(e))return Ea.debug(`There were multiple attempts to register component ${e}.`),!1;xw.set(e,t);for(const r of cp.values())NE(r,t);for(const r of u5.values())NE(r,t);return!0}function _m(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ri(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new Wd("app","Firebase",d5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=l5;function oR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:yw,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ks.create("bad-app-name",{appName:String(i)});if(r||(r=rR()),!r)throw ks.create("no-options");const a=cp.get(i);if(a){if(lp(r,a.options)&&lp(n,a.config))return a;throw ks.create("duplicate-app",{appName:i})}const o=new y$(i);for(const d of xw.values())o.addComponent(d);const u=new f5(r,n,o);return cp.set(i,u),u}function h1(t=yw){const e=cp.get(t);if(!e&&t===yw&&rR())return oR();if(!e)throw ks.create("no-app",{appName:t});return e}function Di(t,e,r){var n;let i=(n=c5[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ea.warn(u.join(" "));return}Po(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="firebase-heartbeat-database",p5=1,td="firebase-heartbeat-store";let iv=null;function lR(){return iv||(iv=C$(h5,p5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(td)}catch(r){console.warn(r)}}}}).catch(t=>{throw ks.create("idb-open",{originalErrorMessage:t.message})})),iv}async function m5(t){try{const r=(await lR()).transaction(td),n=await r.objectStore(td).get(cR(t));return await r.done,n}catch(e){if(e instanceof Hi)Ea.warn(e.message);else{const r=ks.create("idb-get",{originalErrorMessage:e?.message});Ea.warn(r.message)}}}async function PE(t,e){try{const n=(await lR()).transaction(td,"readwrite");await n.objectStore(td).put(e,cR(t)),await n.done}catch(r){if(r instanceof Hi)Ea.warn(r.message);else{const n=ks.create("idb-set",{originalErrorMessage:r?.message});Ea.warn(n.message)}}}function cR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=1024,v5=30*24*60*60*1e3;class y5{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new b5(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=CE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=v5}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ea.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=CE(),{heartbeatsToSend:n,unsentEntries:i}=x5(this._heartbeatsCache.heartbeats),a=op(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ea.warn(r),""}}}function CE(){return new Date().toISOString().substring(0,10)}function x5(t,e=g5){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),OE(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),OE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class b5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s$()?o$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await m5(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return PE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return PE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function OE(t){return op(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){Po(new Ns("platform-logger",e=>new R$(e),"PRIVATE")),Po(new Ns("heartbeat",e=>new y5(e),"PRIVATE")),Di(vw,AE,t),Di(vw,AE,"esm2017"),Di("fire-js","")}w5("");var _5="firebase",S5="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(_5,S5,"app");function p1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function uR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k5=uR,dR=new Wd("auth","Firebase",uR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new d1("@firebase/auth");function j5(t,...e){up.logLevel<=et.WARN&&up.warn(`Auth (${Bo}): ${t}`,...e)}function Xh(t,...e){up.logLevel<=et.ERROR&&up.error(`Auth (${Bo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,...e){throw m1(t,...e)}function Li(t,...e){return m1(t,...e)}function fR(t,e,r){const n=Object.assign(Object.assign({},k5()),{[e]:r});return new Wd("auth","Firebase",n).create(e,{appName:t.name})}function Sa(t){return fR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return dR.create(t,...e)}function qe(t,e,...r){if(!t)throw m1(e,...r)}function va(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xh(e),new Error(e)}function Ta(t,e){t||va(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function E5(){return IE()==="http:"||IE()==="https:"}function IE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E5()||r$()||"connection"in navigator)?navigator.onLine:!0}function A5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ta(r>e,"Short delay should be less than long delay!"),this.isMobile=Z6()||n$()}get(){return T5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t,e){Ta(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;va("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;va("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;va("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new Gd(3e4,6e4);function Is(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rs(t,e,r,n,i={}){return pR(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const u=Hd(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},a);return t$()||(f.referrerPolicy="no-referrer"),hR.fetch()(mR(t,t.config.apiHost,r,u),f)})}async function pR(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},N5),e);try{const i=new O5(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Nh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const u=a.ok?o.errorMessage:o.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Nh(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw Nh(t,"user-disabled",o);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw fR(t,p,f);gi(t,p)}}catch(i){if(i instanceof Hi)throw i;gi(t,"network-request-failed",{message:String(i)})}}async function Kd(t,e,r,n,i={}){const a=await Rs(t,e,r,n,i);return"mfaPendingCredential"in a&&gi(t,"multi-factor-auth-required",{_serverResponse:a}),a}function mR(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?g1(t.config,i):`${t.config.apiScheme}://${i}`}function C5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Li(this.auth,"network-request-failed")),P5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Li(t,e,n);return i.customData._tokenResponse=r,i}function RE(t){return t!==void 0&&t.enterprise!==void 0}class I5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return C5(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function R5(t,e){return Rs(t,"GET","/v2/recaptchaConfig",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t,e){return Rs(t,"POST","/v1/accounts:delete",e)}async function gR(t,e){return Rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D5(t,e=!1){const r=Jr(t),n=await r.getIdToken(e),i=v1(n);qe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:n,authTime:zu(av(i.auth_time)),issuedAtTime:zu(av(i.iat)),expirationTime:zu(av(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function av(t){return Number(t)*1e3}function v1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZI(r);return i?JSON.parse(i):(Xh("Failed to decode base64 JWT payload"),null)}catch(i){return Xh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ME(t){const e=v1(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Hi&&L5(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function L5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(t){var e;const r=t.auth,n=await t.getIdToken(),i=await rd(t,gR(r,{idToken:n}));qe(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?vR(a.providerUserInfo):[],u=V5(t.providerData,o),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,p=d?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ww(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function F5(t){const e=Jr(t);await dp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V5(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function vR(t){return t.map(e=>{var{providerId:r}=e,n=p1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e){const r=await pR(t,{},async()=>{const n=Hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=mR(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",hR.fetch()(o,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function B5(t,e){return Rs(t,"POST","/v2/accounts:revokeToken",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ME(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const r=ME(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await U5(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new ql;return n&&(qe(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(qe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(qe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return va("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ya{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=p1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ww(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await rd(this,this.stsTokenManager.getToken(this.auth,e));return qe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return D5(this,e)}reload(){return F5(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ya(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await dp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(Sa(this.auth));const e=await this.getIdToken();return await rd(this,M5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,u,d,f,p;const g=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,x=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,S=(o=r.photoURL)!==null&&o!==void 0?o:void 0,_=(u=r.tenantId)!==null&&u!==void 0?u:void 0,b=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,P=(f=r.createdAt)!==null&&f!==void 0?f:void 0,A=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:O,emailVerified:R,isAnonymous:E,providerData:N,stsTokenManager:T}=r;qe(O&&T,e,"internal-error");const C=ql.fromJSON(this.name,T);qe(typeof O=="string",e,"internal-error"),fs(g,e.name),fs(y,e.name),qe(typeof R=="boolean",e,"internal-error"),qe(typeof E=="boolean",e,"internal-error"),fs(x,e.name),fs(S,e.name),fs(_,e.name),fs(b,e.name),fs(P,e.name),fs(A,e.name);const L=new ya({uid:O,auth:e,email:y,emailVerified:R,displayName:g,isAnonymous:E,photoURL:S,phoneNumber:x,tenantId:_,stsTokenManager:C,createdAt:P,lastLoginAt:A});return N&&Array.isArray(N)&&(L.providerData=N.map(I=>Object.assign({},I))),b&&(L._redirectEventId=b),L}static async _fromIdTokenResponse(e,r,n=!1){const i=new ql;i.updateFromServerResponse(r);const a=new ya({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await dp(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];qe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?vR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,u=new ql;u.updateFromIdToken(n);const d=new ya({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ww(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function xa(t){Ta(t instanceof Function,"Expected a class definition");let e=DE.get(t);return e?(Ta(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}yR.type="NONE";const LE=yR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e,r){return`firebase:${t}:${e}:${r}`}class zl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Qh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Qh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ya._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new zl(xa(LE),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||xa(LE);const o=Qh(n,e.config.apiKey,e.name);let u=null;for(const f of r)try{const p=await f._get(o);if(p){const g=ya._fromJSON(e,p);f!==a&&(u=g),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new zl(a,e,n):(a=d[0],u&&await a._set(o,u.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new zl(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_R(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kR(e))return"Blackberry";if(jR(e))return"Webos";if(bR(e))return"Safari";if((e.includes("chrome/")||wR(e))&&!e.includes("edge/"))return"Chrome";if(SR(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function xR(t=Ur()){return/firefox\//i.test(t)}function bR(t=Ur()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wR(t=Ur()){return/crios\//i.test(t)}function _R(t=Ur()){return/iemobile/i.test(t)}function SR(t=Ur()){return/android/i.test(t)}function kR(t=Ur()){return/blackberry/i.test(t)}function jR(t=Ur()){return/webos/i.test(t)}function y1(t=Ur()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q5(t=Ur()){var e;return y1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z5(){return i$()&&document.documentMode===10}function ER(t=Ur()){return y1(t)||SR(t)||jR(t)||kR(t)||/windows phone/i.test(t)||_R(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t,e=[]){let r;switch(t){case"Browser":r=$E(Ur());break;case"Worker":r=`${$E(Ur())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Bo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,u)=>{try{const d=e(a);o(d)}catch(d){u(d)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e={}){return Rs(t,"GET","/v2/passwordPolicy",Is(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=6;class K5{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:G5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new W5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=xa(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await gR(this,{idToken:e}),n=await ya._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Ri(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===u)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await dp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(Sa(this));const r=e?Jr(e):null;return r&&qe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(Sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(Sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H5(this),r=new K5(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await B5(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&xa(e)||this._popupRedirectResolver;qe(r,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[xa(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(u,this,"internal-error"),u.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,i);return()=>{o=!0,d()}}else{const d=e.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&j5(`Error while retrieving App Check token: ${r.error}`),r?.token}}function qo(t){return Jr(t)}class FE{constructor(e){this.auth=e,this.observer=null,this.addObserver=f$(r=>this.observer=r)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X5(t){Sm=t}function AR(t){return Sm.loadJS(t)}function Q5(){return Sm.recaptchaEnterpriseScript}function J5(){return Sm.gapiScript}function Z5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const eF="recaptcha-enterprise",tF="NO_RECAPTCHA";class rF{constructor(e){this.type=eF,this.auth=qo(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,u)=>{R5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new I5(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(d=>{u(d)})})}function i(a,o,u){const d=window.grecaptcha;RE(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(tF)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(u=>{if(!r&&RE(window.grecaptcha))i(u,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Q5();d.length!==0&&(d+=u),AR(d).then(()=>{i(u,a,o)}).catch(f=>{o(f)})}}).catch(u=>{o(u)})})}}async function VE(t,e,r,n=!1){const i=new rF(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function _w(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await VE(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await VE(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t,e){const r=_m(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(lp(a,e??{}))return i;gi(i,"already-initialized")}return r.initialize({options:e})}function iF(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(xa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function aF(t,e,r){const n=qo(t);qe(n._canInitEmulator,n,"emulator-config-failed"),qe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=NR(e),{host:o,port:u}=sF(e),d=u===null?"":`:${u}`;n.config.emulator={url:`${a}//${o}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),oF()}function NR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sF(t){const e=NR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:UE(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:UE(o)}}}function UE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oF(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return va("not implemented")}_getIdTokenResponse(e){return va("not implemented")}_linkToIdToken(e,r){return va("not implemented")}_getReauthenticationResolver(e){return va("not implemented")}}async function lF(t,e){return Rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(t,e){return Kd(t,"POST","/v1/accounts:signInWithPassword",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(t,e){return Kd(t,"POST","/v1/accounts:signInWithEmailLink",Is(t,e))}async function dF(t,e){return Kd(t,"POST","/v1/accounts:signInWithEmailLink",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends x1{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new nd(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new nd(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _w(e,r,"signInWithPassword",cF);case"emailLink":return uF(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _w(e,n,"signUpPassword",lF);case"emailLink":return dF(e,{idToken:r,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e){return Kd(t,"POST","/v1/accounts:signInWithIdp",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF="http://localhost";class Co extends x1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):gi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=p1(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Co(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Wl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Wl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Wl(e,r)}buildRequest(){const e={requestUri:fF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Hd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pF(t){const e=Mu(Du(t)).link,r=e?Mu(Du(e)).deep_link_id:null,n=Mu(Du(t)).deep_link_id;return(n?Mu(Du(n)).link:null)||n||r||e||t}class b1{constructor(e){var r,n,i,a,o,u;const d=Mu(Du(e)),f=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,g=hF((i=d.mode)!==null&&i!==void 0?i:null);qe(f&&p&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=p,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=pF(e);try{return new b1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.providerId=Pc.PROVIDER_ID}static credential(e,r){return nd._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=b1.parseLink(r);return qe(n,"argument-error"),nd._fromEmailAndCode(e,n.code,n.tenantId)}}Pc.PROVIDER_ID="password";Pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends PR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Yd{constructor(){super("facebook.com")}static credential(e){return Co._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Yd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Co._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return gs.credential(r,n)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Yd{constructor(){super("github.com")}static credential(e){return Co._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Yd{constructor(){super("twitter.com")}static credential(e,r){return Co._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ys.credential(r,n)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(t,e){return Kd(t,"POST","/v1/accounts:signUp",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ya._fromIdTokenResponse(e,n,i),o=BE(n);return new Oo({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=BE(n);return new Oo({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function BE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends Hi{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,fp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new fp(e,r,n,i)}}function CR(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fp._fromErrorAndOperation(t,a,e,n):a})}async function gF(t,e,r=!1){const n=await rd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Oo._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(t,e,r=!1){const{auth:n}=t;if(Ri(n.app))return Promise.reject(Sa(n));const i="reauthenticate";try{const a=await rd(t,CR(n,i,e,t),r);qe(a.idToken,n,"internal-error");const o=v1(a.idToken);qe(o,n,"internal-error");const{sub:u}=o;return qe(t.uid===u,n,"user-mismatch"),Oo._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&gi(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(t,e,r=!1){if(Ri(t.app))return Promise.reject(Sa(t));const n="signIn",i=await CR(t,n,e),a=await Oo._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function yF(t,e){return OR(qo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(t){const e=qo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xF(t,e,r){if(Ri(t.app))return Promise.reject(Sa(t));const n=qo(t),o=await _w(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mF).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&IR(t),d}),u=await Oo._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(u.user),u}function bF(t,e,r){return Ri(t.app)?Promise.reject(Sa(t)):yF(Jr(t),Pc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&IR(t),n})}function wF(t,e,r,n){return Jr(t).onIdTokenChanged(e,r,n)}function _F(t,e,r){return Jr(t).beforeAuthStateChanged(e,r)}function SF(t,e,r,n){return Jr(t).onAuthStateChanged(e,r,n)}const hp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(hp,"1"),this.storage.removeItem(hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=1e3,jF=10;class MR extends RR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ER(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,u,d)=>{this.notifyListeners(o,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);z5()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jF):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},kF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}MR.type="LOCAL";const EF=MR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR extends RR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}DR.type="SESSION";const LR=DR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new km(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(o).map(async f=>f(r.origin,a)),d=await TF(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((u,d)=>{const f=w1("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(){return window}function NF(t){$i().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function PF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OF(){return $R()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebaseLocalStorageDb",IF=1,pp="firebaseLocalStorage",VR="fbase_key";class Xd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function jm(t,e){return t.transaction([pp],e?"readwrite":"readonly").objectStore(pp)}function RF(){const t=indexedDB.deleteDatabase(FR);return new Xd(t).toPromise()}function Sw(){const t=indexedDB.open(FR,IF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(pp,{keyPath:VR})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(pp)?e(n):(n.close(),await RF(),e(await Sw()))})})}async function qE(t,e,r){const n=jm(t,!0).put({[VR]:e,value:r});return new Xd(n).toPromise()}async function MF(t,e){const r=jm(t,!1).get(e),n=await new Xd(r).toPromise();return n===void 0?null:n.value}function zE(t,e){const r=jm(t,!0).delete(e);return new Xd(r).toPromise()}const DF=800,LF=3;class UR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sw(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>LF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $R()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=km._getInstance(OF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await PF(),!this.activeServiceWorker)return;this.sender=new AF(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sw();return await qE(e,hp,"1"),await zE(e,hp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>qE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>MF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>zE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=jm(i,!1).getAll();return new Xd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UR.type="LOCAL";const $F=UR;new Gd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t,e){return e?xa(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends x1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Wl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function VF(t){return OR(t.auth,new _1(t),t.bypassAuthState)}function UF(t){const{auth:e,user:r}=t;return qe(r,e,"internal-error"),vF(r,new _1(t),t.bypassAuthState)}async function BF(t){const{auth:e,user:r}=t;return qe(r,e,"internal-error"),gF(r,new _1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:u}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VF;case"linkViaPopup":case"linkViaRedirect":return BF;case"reauthViaPopup":case"reauthViaRedirect":return UF;default:gi(this.auth,"internal-error")}}resolve(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new Gd(2e3,1e4);class Ll extends BR{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Ll.currentPopupAction&&Ll.currentPopupAction.cancel(),Ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Ta(this.filter.length===1,"Popup operations only handle one event");const e=w1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qF.get())};e()}}Ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF="pendingRedirect",Jh=new Map;class WF extends BR{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Jh.get(this.auth._key());if(!e){try{const n=await HF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Jh.set(this.auth._key(),e)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HF(t,e){const r=YF(e),n=KF(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function GF(t,e){Jh.set(t._key(),e)}function KF(t){return xa(t._redirectPersistence)}function YF(t){return Qh(zF,t.config.apiKey,t.name)}async function XF(t,e,r=!1){if(Ri(t.app))return Promise.reject(Sa(t));const n=qo(t),i=FF(n,e),o=await new WF(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=10*60*1e3;class JF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!qR(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Li(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QF&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(e))}saveEventToCache(e){this.cachedEventUids.add(WE(e)),this.lastProcessedEventTime=Date.now()}}function WE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ZF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e={}){return Rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rV=/^https?/;async function nV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eV(t);for(const r of e)try{if(iV(r))return}catch{}gi(t,"unauthorized-domain")}function iV(t){const e=bw(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!rV.test(r))return!1;if(tV.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new Gd(3e4,6e4);function HE(){const t=$i().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function sV(t){return new Promise((e,r)=>{var n,i,a;function o(){HE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HE(),r(Li(t,"network-request-failed"))},timeout:aV.get()})}if(!((i=(n=$i().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=$i().gapi)===null||a===void 0)&&a.load)o();else{const u=Z5("iframefcb");return $i()[u]=()=>{gapi.load?o():r(Li(t,"network-request-failed"))},AR(`${J5()}?onload=${u}`).catch(d=>r(d))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function oV(t){return Zh=Zh||sV(t),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new Gd(5e3,15e3),cV="__/auth/iframe",uV="emulator/auth/iframe",dV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hV(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?g1(e,uV):`https://${t.config.authDomain}/${cV}`,n={apiKey:e.apiKey,appName:t.name,v:Bo},i=fV.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Hd(n).slice(1)}`}async function pV(t){const e=await oV(t),r=$i().gapi;return qe(r,t,"internal-error"),e.open({where:document.body,url:hV(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dV,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Li(t,"network-request-failed"),u=$i().setTimeout(()=>{a(o)},lV.get());function d(){$i().clearTimeout(u),i(n)}n.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gV=500,vV=600,yV="_blank",xV="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bV(t,e,r,n=gV,i=vV){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},mV),{width:n.toString(),height:i.toString(),top:a,left:o}),f=Ur().toLowerCase();r&&(u=wR(f)?yV:r),xR(f)&&(e=e||xV,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[x,S])=>`${y}${x}=${S},`,"");if(q5(f)&&u!=="_self")return wV(e||"",u),new GE(null);const g=window.open(e||"",u,p);qe(g,t,"popup-blocked");try{g.focus()}catch{}return new GE(g)}function wV(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="__/auth/handler",SV="emulator/auth/handler",kV=encodeURIComponent("fac");async function KE(t,e,r,n,i,a){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Bo,eventId:i};if(e instanceof PR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",d$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof Yd){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),f=d?`#${kV}=${encodeURIComponent(d)}`:"";return`${jV(t)}?${Hd(u).slice(1)}${f}`}function jV({config:t}){return t.emulator?g1(t,SV):`https://${t.authDomain}/${_V}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="webStorageSupport";class EV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LR,this._completeRedirectFn=XF,this._overrideRedirectResult=GF}async _openPopup(e,r,n,i){var a;Ta((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await KE(e,r,n,bw(),i);return bV(e,o,w1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await KE(e,r,n,bw(),i);return NF(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ta(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await pV(e),n=new JF(e);return r.register("authEvent",i=>(qe(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(sv,{type:sv},i=>{var a;const o=(a=i?.[0])===null||a===void 0?void 0:a[sv];o!==void 0&&r(!!o),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=nV(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return ER()||bR()||y1()}}const TV=EV;var YE="@firebase/auth",XE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PV(t){Po(new Ns("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=n.options;qe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TR(t)},f=new Y5(n,i,a,d);return iF(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Po(new Ns("auth-internal",e=>{const r=qo(e.getProvider("auth").getImmediate());return(n=>new AV(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(YE,XE,NV(t)),Di(YE,XE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=5*60,OV=nR("authIdTokenMaxAge")||CV;let QE=null;const IV=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>OV)return;const i=r?.token;QE!==i&&(QE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zR(t=h1()){const e=_m(t,"auth");if(e.isInitialized())return e.getImmediate();const r=nF(t,{popupRedirectResolver:TV,persistence:[$F,EF,LR]}),n=nR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=IV(a.toString());_F(r,o,()=>o(r.currentUser)),wF(r,u=>o(u))}}const i=eR("auth");return i&&aF(r,`http://${i}`),r}function RV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}X5({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Li("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",RV().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PV("Browser");var JE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eo,WR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,C){function L(){}L.prototype=C.prototype,T.D=C.prototype,T.prototype=new L,T.prototype.constructor=T,T.C=function(I,D,V){for(var $=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)$[ee-2]=arguments[ee];return C.prototype[D].apply(I,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,C,L){L||(L=0);var I=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)I[D]=C.charCodeAt(L++)|C.charCodeAt(L++)<<8|C.charCodeAt(L++)<<16|C.charCodeAt(L++)<<24;else for(D=0;16>D;++D)I[D]=C[L++]|C[L++]<<8|C[L++]<<16|C[L++]<<24;C=T.g[0],L=T.g[1],D=T.g[2];var V=T.g[3],$=C+(V^L&(D^V))+I[0]+3614090360&4294967295;C=L+($<<7&4294967295|$>>>25),$=V+(D^C&(L^D))+I[1]+3905402710&4294967295,V=C+($<<12&4294967295|$>>>20),$=D+(L^V&(C^L))+I[2]+606105819&4294967295,D=V+($<<17&4294967295|$>>>15),$=L+(C^D&(V^C))+I[3]+3250441966&4294967295,L=D+($<<22&4294967295|$>>>10),$=C+(V^L&(D^V))+I[4]+4118548399&4294967295,C=L+($<<7&4294967295|$>>>25),$=V+(D^C&(L^D))+I[5]+1200080426&4294967295,V=C+($<<12&4294967295|$>>>20),$=D+(L^V&(C^L))+I[6]+2821735955&4294967295,D=V+($<<17&4294967295|$>>>15),$=L+(C^D&(V^C))+I[7]+4249261313&4294967295,L=D+($<<22&4294967295|$>>>10),$=C+(V^L&(D^V))+I[8]+1770035416&4294967295,C=L+($<<7&4294967295|$>>>25),$=V+(D^C&(L^D))+I[9]+2336552879&4294967295,V=C+($<<12&4294967295|$>>>20),$=D+(L^V&(C^L))+I[10]+4294925233&4294967295,D=V+($<<17&4294967295|$>>>15),$=L+(C^D&(V^C))+I[11]+2304563134&4294967295,L=D+($<<22&4294967295|$>>>10),$=C+(V^L&(D^V))+I[12]+1804603682&4294967295,C=L+($<<7&4294967295|$>>>25),$=V+(D^C&(L^D))+I[13]+4254626195&4294967295,V=C+($<<12&4294967295|$>>>20),$=D+(L^V&(C^L))+I[14]+2792965006&4294967295,D=V+($<<17&4294967295|$>>>15),$=L+(C^D&(V^C))+I[15]+1236535329&4294967295,L=D+($<<22&4294967295|$>>>10),$=C+(D^V&(L^D))+I[1]+4129170786&4294967295,C=L+($<<5&4294967295|$>>>27),$=V+(L^D&(C^L))+I[6]+3225465664&4294967295,V=C+($<<9&4294967295|$>>>23),$=D+(C^L&(V^C))+I[11]+643717713&4294967295,D=V+($<<14&4294967295|$>>>18),$=L+(V^C&(D^V))+I[0]+3921069994&4294967295,L=D+($<<20&4294967295|$>>>12),$=C+(D^V&(L^D))+I[5]+3593408605&4294967295,C=L+($<<5&4294967295|$>>>27),$=V+(L^D&(C^L))+I[10]+38016083&4294967295,V=C+($<<9&4294967295|$>>>23),$=D+(C^L&(V^C))+I[15]+3634488961&4294967295,D=V+($<<14&4294967295|$>>>18),$=L+(V^C&(D^V))+I[4]+3889429448&4294967295,L=D+($<<20&4294967295|$>>>12),$=C+(D^V&(L^D))+I[9]+568446438&4294967295,C=L+($<<5&4294967295|$>>>27),$=V+(L^D&(C^L))+I[14]+3275163606&4294967295,V=C+($<<9&4294967295|$>>>23),$=D+(C^L&(V^C))+I[3]+4107603335&4294967295,D=V+($<<14&4294967295|$>>>18),$=L+(V^C&(D^V))+I[8]+1163531501&4294967295,L=D+($<<20&4294967295|$>>>12),$=C+(D^V&(L^D))+I[13]+2850285829&4294967295,C=L+($<<5&4294967295|$>>>27),$=V+(L^D&(C^L))+I[2]+4243563512&4294967295,V=C+($<<9&4294967295|$>>>23),$=D+(C^L&(V^C))+I[7]+1735328473&4294967295,D=V+($<<14&4294967295|$>>>18),$=L+(V^C&(D^V))+I[12]+2368359562&4294967295,L=D+($<<20&4294967295|$>>>12),$=C+(L^D^V)+I[5]+4294588738&4294967295,C=L+($<<4&4294967295|$>>>28),$=V+(C^L^D)+I[8]+2272392833&4294967295,V=C+($<<11&4294967295|$>>>21),$=D+(V^C^L)+I[11]+1839030562&4294967295,D=V+($<<16&4294967295|$>>>16),$=L+(D^V^C)+I[14]+4259657740&4294967295,L=D+($<<23&4294967295|$>>>9),$=C+(L^D^V)+I[1]+2763975236&4294967295,C=L+($<<4&4294967295|$>>>28),$=V+(C^L^D)+I[4]+1272893353&4294967295,V=C+($<<11&4294967295|$>>>21),$=D+(V^C^L)+I[7]+4139469664&4294967295,D=V+($<<16&4294967295|$>>>16),$=L+(D^V^C)+I[10]+3200236656&4294967295,L=D+($<<23&4294967295|$>>>9),$=C+(L^D^V)+I[13]+681279174&4294967295,C=L+($<<4&4294967295|$>>>28),$=V+(C^L^D)+I[0]+3936430074&4294967295,V=C+($<<11&4294967295|$>>>21),$=D+(V^C^L)+I[3]+3572445317&4294967295,D=V+($<<16&4294967295|$>>>16),$=L+(D^V^C)+I[6]+76029189&4294967295,L=D+($<<23&4294967295|$>>>9),$=C+(L^D^V)+I[9]+3654602809&4294967295,C=L+($<<4&4294967295|$>>>28),$=V+(C^L^D)+I[12]+3873151461&4294967295,V=C+($<<11&4294967295|$>>>21),$=D+(V^C^L)+I[15]+530742520&4294967295,D=V+($<<16&4294967295|$>>>16),$=L+(D^V^C)+I[2]+3299628645&4294967295,L=D+($<<23&4294967295|$>>>9),$=C+(D^(L|~V))+I[0]+4096336452&4294967295,C=L+($<<6&4294967295|$>>>26),$=V+(L^(C|~D))+I[7]+1126891415&4294967295,V=C+($<<10&4294967295|$>>>22),$=D+(C^(V|~L))+I[14]+2878612391&4294967295,D=V+($<<15&4294967295|$>>>17),$=L+(V^(D|~C))+I[5]+4237533241&4294967295,L=D+($<<21&4294967295|$>>>11),$=C+(D^(L|~V))+I[12]+1700485571&4294967295,C=L+($<<6&4294967295|$>>>26),$=V+(L^(C|~D))+I[3]+2399980690&4294967295,V=C+($<<10&4294967295|$>>>22),$=D+(C^(V|~L))+I[10]+4293915773&4294967295,D=V+($<<15&4294967295|$>>>17),$=L+(V^(D|~C))+I[1]+2240044497&4294967295,L=D+($<<21&4294967295|$>>>11),$=C+(D^(L|~V))+I[8]+1873313359&4294967295,C=L+($<<6&4294967295|$>>>26),$=V+(L^(C|~D))+I[15]+4264355552&4294967295,V=C+($<<10&4294967295|$>>>22),$=D+(C^(V|~L))+I[6]+2734768916&4294967295,D=V+($<<15&4294967295|$>>>17),$=L+(V^(D|~C))+I[13]+1309151649&4294967295,L=D+($<<21&4294967295|$>>>11),$=C+(D^(L|~V))+I[4]+4149444226&4294967295,C=L+($<<6&4294967295|$>>>26),$=V+(L^(C|~D))+I[11]+3174756917&4294967295,V=C+($<<10&4294967295|$>>>22),$=D+(C^(V|~L))+I[2]+718787259&4294967295,D=V+($<<15&4294967295|$>>>17),$=L+(V^(D|~C))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+C&4294967295,T.g[1]=T.g[1]+(D+($<<21&4294967295|$>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+V&4294967295}n.prototype.u=function(T,C){C===void 0&&(C=T.length);for(var L=C-this.blockSize,I=this.B,D=this.h,V=0;V<C;){if(D==0)for(;V<=L;)i(this,T,V),V+=this.blockSize;if(typeof T=="string"){for(;V<C;)if(I[D++]=T.charCodeAt(V++),D==this.blockSize){i(this,I),D=0;break}}else for(;V<C;)if(I[D++]=T[V++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=C},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var C=1;C<T.length-8;++C)T[C]=0;var L=8*this.o;for(C=T.length-8;C<T.length;++C)T[C]=L&255,L/=256;for(this.u(T),T=Array(16),C=L=0;4>C;++C)for(var I=0;32>I;I+=8)T[L++]=this.g[C]>>>I&255;return T};function a(T,C){var L=u;return Object.prototype.hasOwnProperty.call(L,T)?L[T]:L[T]=C(T)}function o(T,C){this.h=C;for(var L=[],I=!0,D=T.length-1;0<=D;D--){var V=T[D]|0;I&&V==C||(L[D]=V,I=!1)}this.g=L}var u={};function d(T){return-128<=T&&128>T?a(T,function(C){return new o([C|0],0>C?-1:0)}):new o([T|0],0>T?-1:0)}function f(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return b(f(-T));for(var C=[],L=1,I=0;T>=L;I++)C[I]=T/L|0,L*=4294967296;return new o(C,0)}function p(T,C){if(T.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T.charAt(0)=="-")return b(p(T.substring(1),C));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=f(Math.pow(C,8)),I=g,D=0;D<T.length;D+=8){var V=Math.min(8,T.length-D),$=parseInt(T.substring(D,D+V),C);8>V?(V=f(Math.pow(C,V)),I=I.j(V).add(f($))):(I=I.j(L),I=I.add(f($)))}return I}var g=d(0),y=d(1),x=d(16777216);t=o.prototype,t.m=function(){if(_(this))return-b(this).m();for(var T=0,C=1,L=0;L<this.g.length;L++){var I=this.i(L);T+=(0<=I?I:4294967296+I)*C,C*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(_(this))return"-"+b(this).toString(T);for(var C=f(Math.pow(T,6)),L=this,I="";;){var D=R(L,C).g;L=P(L,D.j(C));var V=((0<L.g.length?L.g[0]:L.h)>>>0).toString(T);if(L=D,S(L))return V+I;for(;6>V.length;)V="0"+V;I=V+I}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var C=0;C<T.g.length;C++)if(T.g[C]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=P(this,T),_(T)?-1:S(T)?0:1};function b(T){for(var C=T.g.length,L=[],I=0;I<C;I++)L[I]=~T.g[I];return new o(L,~T.h).add(y)}t.abs=function(){return _(this)?b(this):this},t.add=function(T){for(var C=Math.max(this.g.length,T.g.length),L=[],I=0,D=0;D<=C;D++){var V=I+(this.i(D)&65535)+(T.i(D)&65535),$=(V>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);I=$>>>16,V&=65535,$&=65535,L[D]=$<<16|V}return new o(L,L[L.length-1]&-2147483648?-1:0)};function P(T,C){return T.add(b(C))}t.j=function(T){if(S(this)||S(T))return g;if(_(this))return _(T)?b(this).j(b(T)):b(b(this).j(T));if(_(T))return b(this.j(b(T)));if(0>this.l(x)&&0>T.l(x))return f(this.m()*T.m());for(var C=this.g.length+T.g.length,L=[],I=0;I<2*C;I++)L[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<T.g.length;D++){var V=this.i(I)>>>16,$=this.i(I)&65535,ee=T.i(D)>>>16,ne=T.i(D)&65535;L[2*I+2*D]+=$*ne,A(L,2*I+2*D),L[2*I+2*D+1]+=V*ne,A(L,2*I+2*D+1),L[2*I+2*D+1]+=$*ee,A(L,2*I+2*D+1),L[2*I+2*D+2]+=V*ee,A(L,2*I+2*D+2)}for(I=0;I<C;I++)L[I]=L[2*I+1]<<16|L[2*I];for(I=C;I<2*C;I++)L[I]=0;return new o(L,0)};function A(T,C){for(;(T[C]&65535)!=T[C];)T[C+1]+=T[C]>>>16,T[C]&=65535,C++}function O(T,C){this.g=T,this.h=C}function R(T,C){if(S(C))throw Error("division by zero");if(S(T))return new O(g,g);if(_(T))return C=R(b(T),C),new O(b(C.g),b(C.h));if(_(C))return C=R(T,b(C)),new O(b(C.g),C.h);if(30<T.g.length){if(_(T)||_(C))throw Error("slowDivide_ only works with positive integers.");for(var L=y,I=C;0>=I.l(T);)L=E(L),I=E(I);var D=N(L,1),V=N(I,1);for(I=N(I,2),L=N(L,2);!S(I);){var $=V.add(I);0>=$.l(T)&&(D=D.add(L),V=$),I=N(I,1),L=N(L,1)}return C=P(T,D.j(C)),new O(D,C)}for(D=g;0<=T.l(C);){for(L=Math.max(1,Math.floor(T.m()/C.m())),I=Math.ceil(Math.log(L)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),V=f(L),$=V.j(C);_($)||0<$.l(T);)L-=I,V=f(L),$=V.j(C);S(V)&&(V=y),D=D.add(V),T=P(T,$)}return new O(D,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var C=Math.max(this.g.length,T.g.length),L=[],I=0;I<C;I++)L[I]=this.i(I)&T.i(I);return new o(L,this.h&T.h)},t.or=function(T){for(var C=Math.max(this.g.length,T.g.length),L=[],I=0;I<C;I++)L[I]=this.i(I)|T.i(I);return new o(L,this.h|T.h)},t.xor=function(T){for(var C=Math.max(this.g.length,T.g.length),L=[],I=0;I<C;I++)L[I]=this.i(I)^T.i(I);return new o(L,this.h^T.h)};function E(T){for(var C=T.g.length+1,L=[],I=0;I<C;I++)L[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(L,T.h)}function N(T,C){var L=C>>5;C%=32;for(var I=T.g.length-L,D=[],V=0;V<I;V++)D[V]=0<C?T.i(V+L)>>>C|T.i(V+L+1)<<32-C:T.i(V+L);return new o(D,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,WR=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=p,Eo=o}).apply(typeof JE<"u"?JE:typeof self<"u"?self:typeof window<"u"?window:{});var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HR,Lu,GR,ep,kw,KR,YR,XR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,k,M){return m==Array.prototype||m==Object.prototype||(m[k]=M.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ph=="object"&&Ph];for(var k=0;k<m.length;++k){var M=m[k];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var n=r(this);function i(m,k){if(k)e:{var M=n;m=m.split(".");for(var U=0;U<m.length-1;U++){var te=m[U];if(!(te in M))break e;M=M[te]}m=m[m.length-1],U=M[m],k=k(U),k!=U&&k!=null&&e(M,m,{configurable:!0,writable:!0,value:k})}}function a(m,k){m instanceof String&&(m+="");var M=0,U=!1,te={next:function(){if(!U&&M<m.length){var ce=M++;return{value:k(ce,m[ce]),done:!1}}return U=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}i("Array.prototype.values",function(m){return m||function(){return a(this,function(k,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function d(m){var k=typeof m;return k=k!="object"?k:m?Array.isArray(m)?"array":k:"null",k=="array"||k=="object"&&typeof m.length=="number"}function f(m){var k=typeof m;return k=="object"&&m!=null||k=="function"}function p(m,k,M){return m.call.apply(m.bind,arguments)}function g(m,k,M){if(!m)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,U),m.apply(k,te)}}return function(){return m.apply(k,arguments)}}function y(m,k,M){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function x(m,k){var M=Array.prototype.slice.call(arguments,1);return function(){var U=M.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function S(m,k){function M(){}M.prototype=k.prototype,m.aa=k.prototype,m.prototype=new M,m.prototype.constructor=m,m.Qb=function(U,te,ce){for(var Te=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)Te[ht-2]=arguments[ht];return k.prototype[te].apply(U,Te)}}function _(m){const k=m.length;if(0<k){const M=Array(k);for(let U=0;U<k;U++)M[U]=m[U];return M}return[]}function b(m,k){for(let M=1;M<arguments.length;M++){const U=arguments[M];if(d(U)){const te=m.length||0,ce=U.length||0;m.length=te+ce;for(let Te=0;Te<ce;Te++)m[te+Te]=U[Te]}else m.push(U)}}class P{constructor(k,M){this.i=k,this.j=M,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function A(m){return/^[\s\xa0]*$/.test(m)}function O(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function R(m){return R[" "](m),m}R[" "]=function(){};var E=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function N(m,k,M){for(const U in m)k.call(M,m[U],U,m)}function T(m,k){for(const M in m)k.call(void 0,m[M],M,m)}function C(m){const k={};for(const M in m)k[M]=m[M];return k}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(m,k){let M,U;for(let te=1;te<arguments.length;te++){U=arguments[te];for(M in U)m[M]=U[M];for(let ce=0;ce<L.length;ce++)M=L[ce],Object.prototype.hasOwnProperty.call(U,M)&&(m[M]=U[M])}}function D(m){var k=1;m=m.split(":");const M=[];for(;0<k&&m.length;)M.push(m.shift()),k--;return m.length&&M.push(m.join(":")),M}function V(m){u.setTimeout(()=>{throw m},0)}function $(){var m=J;let k=null;return m.g&&(k=m.g,m.g=m.g.next,m.g||(m.h=null),k.next=null),k}class ee{constructor(){this.h=this.g=null}add(k,M){const U=ne.get();U.set(k,M),this.h?this.h.next=U:this.g=U,this.h=U}}var ne=new P(()=>new Q,m=>m.reset());class Q{constructor(){this.next=this.g=this.h=null}set(k,M){this.h=k,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Z=!1,J=new ee,ae=()=>{const m=u.Promise.resolve(void 0);ie=()=>{m.then(z)}};var z=()=>{for(var m;m=$();){try{m.h.call(m.g)}catch(M){V(M)}var k=ne;k.j(m),100>k.h&&(k.h++,m.next=k.g,k.g=m)}Z=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(m,k){this.type=m,this.g=this.target=k,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,k=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const M=()=>{};u.addEventListener("test",M,k),u.removeEventListener("test",M,k)}catch{}return m}();function fe(m,k){if(K.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var M=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=k,k=m.relatedTarget){if(E){e:{try{R(k.nodeName);var te=!0;break e}catch{}te=!1}te||(k=null)}}else M=="mouseover"?k=m.fromElement:M=="mouseout"&&(k=m.toElement);this.relatedTarget=k,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ye[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&fe.aa.h.call(this)}}S(fe,K);var ye={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),me=0;function ue(m,k,M,U,te){this.listener=m,this.proxy=null,this.src=k,this.type=M,this.capture=!!U,this.ha=te,this.key=++me,this.da=this.fa=!1}function je(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ee(m){this.src=m,this.g={},this.h=0}Ee.prototype.add=function(m,k,M,U,te){var ce=m.toString();m=this.g[ce],m||(m=this.g[ce]=[],this.h++);var Te=pe(m,k,U,te);return-1<Te?(k=m[Te],M||(k.fa=!1)):(k=new ue(k,this.src,ce,!!U,te),k.fa=M,m.push(k)),k};function W(m,k){var M=k.type;if(M in m.g){var U=m.g[M],te=Array.prototype.indexOf.call(U,k,void 0),ce;(ce=0<=te)&&Array.prototype.splice.call(U,te,1),ce&&(je(k),m.g[M].length==0&&(delete m.g[M],m.h--))}}function pe(m,k,M,U){for(var te=0;te<m.length;++te){var ce=m[te];if(!ce.da&&ce.listener==k&&ce.capture==!!M&&ce.ha==U)return te}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),Ae={};function $e(m,k,M,U,te){if(Array.isArray(k)){for(var ce=0;ce<k.length;ce++)$e(m,k[ce],M,U,te);return null}return M=bi(M),m&&m[he]?m.K(k,M,f(U)?!!U.capture:!1,te):Mt(m,k,M,!1,U,te)}function Mt(m,k,M,U,te,ce){if(!k)throw Error("Invalid event type");var Te=f(te)?!!te.capture:!!te,ht=Pn(m);if(ht||(m[ge]=ht=new Ee(m)),M=ht.add(k,M,U,Te,ce),M.proxy)return M;if(U=Zr(),M.proxy=U,U.src=m,U.listener=M,m.addEventListener)le||(te=Te),te===void 0&&(te=!1),m.addEventListener(k.toString(),U,te);else if(m.attachEvent)m.attachEvent(Qt(k.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Zr(){function m(M){return k.call(m.src,m.listener,M)}const k=Jt;return m}function Br(m,k,M,U,te){if(Array.isArray(k))for(var ce=0;ce<k.length;ce++)Br(m,k[ce],M,U,te);else U=f(U)?!!U.capture:!!U,M=bi(M),m&&m[he]?(m=m.i,k=String(k).toString(),k in m.g&&(ce=m.g[k],M=pe(ce,M,U,te),-1<M&&(je(ce[M]),Array.prototype.splice.call(ce,M,1),ce.length==0&&(delete m.g[k],m.h--)))):m&&(m=Pn(m))&&(k=m.g[k.toString()],m=-1,k&&(m=pe(k,M,U,te)),(M=-1<m?k[m]:null)&&qr(M))}function qr(m){if(typeof m!="number"&&m&&!m.da){var k=m.src;if(k&&k[he])W(k.i,m);else{var M=m.type,U=m.proxy;k.removeEventListener?k.removeEventListener(M,U,m.capture):k.detachEvent?k.detachEvent(Qt(M),U):k.addListener&&k.removeListener&&k.removeListener(U),(M=Pn(k))?(W(M,m),M.h==0&&(M.src=null,k[ge]=null)):je(m)}}}function Qt(m){return m in Ae?Ae[m]:Ae[m]="on"+m}function Jt(m,k){if(m.da)m=!0;else{k=new fe(k,this);var M=m.listener,U=m.ha||m.src;m.fa&&qr(m),m=M.call(U,k)}return m}function Pn(m){return m=m[ge],m instanceof Ee?m:null}var xi="__closure_events_fn_"+(1e9*Math.random()>>>0);function bi(m){return typeof m=="function"?m:(m[xi]||(m[xi]=function(k){return m.handleEvent(k)}),m[xi])}function Dt(){Y.call(this),this.i=new Ee(this),this.M=this,this.F=null}S(Dt,Y),Dt.prototype[he]=!0,Dt.prototype.removeEventListener=function(m,k,M,U){Br(this,m,k,M,U)};function Lt(m,k){var M,U=m.F;if(U)for(M=[];U;U=U.F)M.push(U);if(m=m.M,U=k.type||k,typeof k=="string")k=new K(k,m);else if(k instanceof K)k.target=k.target||m;else{var te=k;k=new K(U,m),I(k,te)}if(te=!0,M)for(var ce=M.length-1;0<=ce;ce--){var Te=k.g=M[ce];te=Qn(Te,U,!0,k)&&te}if(Te=k.g=m,te=Qn(Te,U,!0,k)&&te,te=Qn(Te,U,!1,k)&&te,M)for(ce=0;ce<M.length;ce++)Te=k.g=M[ce],te=Qn(Te,U,!1,k)&&te}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var m=this.i,k;for(k in m.g){for(var M=m.g[k],U=0;U<M.length;U++)je(M[U]);delete m.g[k],m.h--}}this.F=null},Dt.prototype.K=function(m,k,M,U){return this.i.add(String(m),k,!1,M,U)},Dt.prototype.L=function(m,k,M,U){return this.i.add(String(m),k,!0,M,U)};function Qn(m,k,M,U){if(k=m.i.g[String(k)],!k)return!0;k=k.concat();for(var te=!0,ce=0;ce<k.length;++ce){var Te=k[ce];if(Te&&!Te.da&&Te.capture==M){var ht=Te.listener,tr=Te.ha||Te.src;Te.fa&&W(m.i,Te),te=ht.call(tr,U)!==!1&&te}}return te&&!U.defaultPrevented}function Fa(m,k,M){if(typeof m=="function")M&&(m=y(m,M));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:u.setTimeout(m,k||0)}function Xi(m){m.g=Fa(()=>{m.g=null,m.i&&(m.i=!1,Xi(m))},m.l);const k=m.h;m.h=null,m.m.apply(null,k)}class Va extends Y{constructor(k,M){super(),this.m=k,this.l=M,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Xi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(m){Y.call(this),this.h=m,this.g={}}S(Zt,Y);var Ko=[];function Yo(m){N(m.g,function(k,M){this.g.hasOwnProperty(M)&&qr(k)},m),m.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),Yo(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xo=u.JSON.stringify,Vs=u.JSON.parse,Us=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function wi(){}wi.prototype.h=null;function Qi(m){return m.h||(m.h=m.i())}function Ji(){}var en={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){K.call(this,"d")}S(xr,K);function Cn(){K.call(this,"c")}S(Cn,K);var Nr={},Bs=null;function _i(){return Bs=Bs||new Dt}Nr.La="serverreachability";function qs(m){K.call(this,Nr.La,m)}S(qs,K);function Jn(m){const k=_i();Lt(k,new qs(k))}Nr.STAT_EVENT="statevent";function zs(m,k){K.call(this,Nr.STAT_EVENT,m),this.stat=k}S(zs,K);function Ot(m){const k=_i();Lt(k,new zs(k,m))}Nr.Ma="timingevent";function Ua(m,k){K.call(this,Nr.Ma,m),this.size=k}S(Ua,K);function mn(m,k){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},k)}function Zi(){this.g=!0}Zi.prototype.xa=function(){this.g=!1};function ea(m,k,M,U,te,ce){m.info(function(){if(m.g)if(ce)for(var Te="",ht=ce.split("&"),tr=0;tr<ht.length;tr++){var tt=ht[tr].split("=");if(1<tt.length){var ur=tt[0];tt=tt[1];var zt=ur.split("_");Te=2<=zt.length&&zt[1]=="type"?Te+(ur+"="+tt+"&"):Te+(ur+"=redacted&")}}else Te=null;else Te=ce;return"XMLHTTP REQ ("+U+") [attempt "+te+"]: "+k+`
`+M+`
`+Te})}function lr(m,k,M,U,te,ce,Te){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+te+"]: "+k+`
`+M+`
`+ce+" "+Te})}function gn(m,k,M,U){m.info(function(){return"XMLHTTP TEXT ("+k+"): "+Wc(m,M)+(U?" "+U:"")})}function cr(m,k){m.info(function(){return"TIMEOUT: "+k})}Zi.prototype.info=function(){};function Wc(m,k){if(!m.g)return k;if(!k)return null;try{var M=JSON.parse(k);if(M){for(m=0;m<M.length;m++)if(Array.isArray(M[m])){var U=M[m];if(!(2>U.length)){var te=U[1];if(Array.isArray(te)&&!(1>te.length)){var ce=te[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Te=1;Te<te.length;Te++)te[Te]=""}}}}return Xo(M)}catch{return k}}var Ba={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ye;function lt(){}S(lt,wi),lt.prototype.g=function(){return new XMLHttpRequest},lt.prototype.i=function(){return{}},Ye=new lt;function xt(m,k,M,U){this.j=m,this.i=k,this.l=M,this.R=U||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var er={},On={};function br(m,k,M){m.L=1,m.v=Ga(yn(k)),m.m=M,m.P=!0,tn(m,null)}function tn(m,k){m.F=Date.now(),bt(m),m.A=yn(m.v);var M=m.A,U=m.R;Array.isArray(U)||(U=[String(U)]),Ya(M.i,"t",U),m.C=0,M=m.j.J,m.h=new mt,m.g=Of(m.j,M?k:null,!m.m),0<m.O&&(m.M=new Va(y(m.Y,m,m.g),m.O)),k=m.U,M=m.g,U=m.ca;var te="readystatechange";Array.isArray(te)||(te&&(Ko[0]=te.toString()),te=Ko);for(var ce=0;ce<te.length;ce++){var Te=$e(M,te[ce],U||k.handleEvent,!1,k.h||k);if(!Te)break;k.g[Te.key]=Te}k=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,k)):(m.u="GET",m.g.ea(m.A,m.u,null,k)),Jn(),ea(m.i,m.u,m.A,m.l,m.R,m.m)}xt.prototype.ca=function(m){m=m.target;const k=this.M;k&&nn(m)==3?k.j():this.Y(m)},xt.prototype.Y=function(m){try{if(m==this.g)e:{const zt=nn(this.g);var k=this.g.Ba();const Mn=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Qc(this.g)))){this.J||zt!=4||k==7||(k==8||0>=Mn?Jn(3):Jn(2)),Ws(this);var M=this.g.Z();this.X=M;t:if(mf(this)){var U=Qc(this.g);m="";var te=U.length,ce=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),qa(this);var Te="";break t}this.h.i=new u.TextDecoder}for(k=0;k<te;k++)this.h.h=!0,m+=this.h.i.decode(U[k],{stream:!(ce&&k==te-1)});U.length=0,this.h.g+=m,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=M==200,lr(this.i,this.u,this.A,this.l,this.R,zt,M),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,tr=this.g;if((ht=tr.g?tr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(ht)){var tt=ht;break t}}tt=null}if(M=tt)gn(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hc(this,M);else{this.o=!1,this.s=3,Ot(12),In(this),qa(this);break e}}if(this.P){M=!0;let bn;for(;!this.J&&this.C<Te.length;)if(bn=kg(this,Te),bn==On){zt==4&&(this.s=4,Ot(14),M=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==er){this.s=4,Ot(15),gn(this.i,this.l,Te,"[Invalid Chunk]"),M=!1;break}else gn(this.i,this.l,bn,null),Hc(this,bn);if(mf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||Te.length!=0||this.h.h||(this.s=1,Ot(16),M=!1),this.o=this.o&&M,!M)gn(this.i,this.l,Te,"[Invalid Chunked Response]"),In(this),qa(this);else if(0<Te.length&&!this.W){this.W=!0;var ur=this.j;ur.g==this&&ur.ba&&!ur.M&&(ur.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),Zc(ur),ur.M=!0,Ot(11))}}else gn(this.i,this.l,Te,null),Hc(this,Te);zt==4&&In(this),this.o&&!this.J&&(zt==4?ll(this.j,this):(this.o=!1,bt(this)))}else nl(this.g),M==400&&0<Te.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),In(this),qa(this)}}}catch{}finally{}};function mf(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function kg(m,k){var M=m.C,U=k.indexOf(`
`,M);return U==-1?On:(M=Number(k.substring(M,U)),isNaN(M)?er:(U+=1,U+M>k.length?On:(k=k.slice(U,U+M),m.C=U+M,k)))}xt.prototype.cancel=function(){this.J=!0,In(this)};function bt(m){m.S=Date.now()+m.I,gf(m,m.I)}function gf(m,k){if(m.B!=null)throw Error("WatchDog timer not null");m.B=mn(y(m.ba,m),k)}function Ws(m){m.B&&(u.clearTimeout(m.B),m.B=null)}xt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(cr(this.i,this.A),this.L!=2&&(Jn(),Ot(17)),In(this),this.s=2,qa(this)):gf(this,this.S-m)};function qa(m){m.j.G==0||m.J||ll(m.j,m)}function In(m){Ws(m);var k=m.M;k&&typeof k.ma=="function"&&k.ma(),m.M=null,Yo(m.U),m.g&&(k=m.g,m.g=null,k.abort(),k.ma())}function Hc(m,k){try{var M=m.j;if(M.G!=0&&(M.g==m||zr(M.h,m))){if(!m.K&&zr(M.h,m)&&M.G==3){try{var U=M.Da.g.parse(k)}catch{U=null}if(Array.isArray(U)&&U.length==3){var te=U;if(te[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<m.F)ol(M),ni(M);else break e;sl(M),Ot(18)}}else M.za=te[1],0<M.za-M.T&&37500>te[2]&&M.F&&M.v==0&&!M.C&&(M.C=mn(y(M.Za,M),6e3));if(1>=yf(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else aa(M,11)}else if((m.K||M.g==m)&&ol(M),!A(k))for(te=M.Da.g.parse(k),k=0;k<te.length;k++){let tt=te[k];if(M.T=tt[0],tt=tt[1],M.G==2)if(tt[0]=="c"){M.K=tt[1],M.ia=tt[2];const ur=tt[3];ur!=null&&(M.la=ur,M.j.info("VER="+M.la));const zt=tt[4];zt!=null&&(M.Aa=zt,M.j.info("SVER="+M.Aa));const Mn=tt[5];Mn!=null&&typeof Mn=="number"&&0<Mn&&(U=1.5*Mn,M.L=U,M.j.info("backChannelRequestTimeoutMs_="+U)),U=M;const bn=m.g;if(bn){const Js=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Js){var ce=U.h;ce.g||Js.indexOf("spdy")==-1&&Js.indexOf("quic")==-1&&Js.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Gc(ce,ce.h),ce.h=null))}if(U.D){const ul=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(U.ya=ul,vt(U.I,U.D,ul))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-m.F,M.j.info("Handshake RTT: "+M.R+"ms")),U=M;var Te=m;if(U.qa=Cf(U,U.J?U.ia:null,U.W),Te.K){xf(U.h,Te);var ht=Te,tr=U.L;tr&&(ht.I=tr),ht.B&&(Ws(ht),bt(ht)),U.g=Te}else Qs(U);0<M.i.length&&Ei(M)}else tt[0]!="stop"&&tt[0]!="close"||aa(M,7);else M.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?aa(M,7):_r(M):tt[0]!="noop"&&M.l&&M.l.ta(tt),M.v=0)}}Jn(4)}catch{}}var vf=class{constructor(m,k){this.g=m,this.map=k}};function Hs(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vn(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function yf(m){return m.h?1:m.g?m.g.size:0}function zr(m,k){return m.h?m.h==k:m.g?m.g.has(k):!1}function Gc(m,k){m.g?m.g.add(k):m.h=k}function xf(m,k){m.h&&m.h==k?m.h=null:m.g&&m.g.has(k)&&m.g.delete(k)}Hs.prototype.cancel=function(){if(this.i=bf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function bf(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let k=m.i;for(const M of m.g.values())k=k.concat(M.D);return k}return _(m.i)}function Jo(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var k=[],M=m.length,U=0;U<M;U++)k.push(m[U]);return k}k=[],M=0;for(U in m)k[M++]=m[U];return k}function Zo(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var k=[];m=m.length;for(var M=0;M<m;M++)k.push(M);return k}k=[],M=0;for(const U in m)k[M++]=U;return k}}}function za(m,k){if(m.forEach&&typeof m.forEach=="function")m.forEach(k,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,k,void 0);else for(var M=Zo(m),U=Jo(m),te=U.length,ce=0;ce<te;ce++)k.call(void 0,U[ce],M&&M[ce],m)}var Gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jg(m,k){if(m){m=m.split("&");for(var M=0;M<m.length;M++){var U=m[M].indexOf("="),te=null;if(0<=U){var ce=m[M].substring(0,U);te=m[M].substring(U+1)}else ce=m[M];k(ce,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function ta(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ta){this.h=m.h,Ks(this,m.j),this.o=m.o,this.g=m.g,Wa(this,m.s),this.l=m.l;var k=m.i,M=new Si;M.i=k.i,k.g&&(M.g=new Map(k.g),M.h=k.h),Ha(this,M),this.m=m.m}else m&&(k=String(m).match(Gs))?(this.h=!1,Ks(this,k[1]||"",!0),this.o=Ze(k[2]||""),this.g=Ze(k[3]||"",!0),Wa(this,k[4]),this.l=Ze(k[5]||"",!0),Ha(this,k[6]||"",!0),this.m=Ze(k[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}ta.prototype.toString=function(){var m=[],k=this.j;k&&m.push(Ka(k,el,!0),":");var M=this.g;return(M||k=="file")&&(m.push("//"),(k=this.o)&&m.push(Ka(k,el,!0),"@"),m.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&m.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&m.push("/"),m.push(Ka(M,M.charAt(0)=="/"?Sf:_f,!0))),(M=this.i.toString())&&m.push("?",M),(M=this.m)&&m.push("#",Ka(M,Kc)),m.join("")};function yn(m){return new ta(m)}function Ks(m,k,M){m.j=M?Ze(k,!0):k,m.j&&(m.j=m.j.replace(/:$/,""))}function Wa(m,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);m.s=k}else m.s=null}function Ha(m,k,M){k instanceof Si?(m.i=k,ki(m.i,m.h)):(M||(k=Ka(k,kf)),m.i=new Si(k,m.h))}function vt(m,k,M){m.i.set(k,M)}function Ga(m){return vt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ze(m,k){return m?k?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ka(m,k,M){return typeof m=="string"?(m=encodeURI(m).replace(k,wf),M&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function wf(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var el=/[#\/\?@]/g,_f=/[#\?:]/g,Sf=/[#\?]/g,kf=/[#\?@]/g,Kc=/#/g;function Si(m,k){this.h=this.g=null,this.i=m||null,this.j=!!k}function wr(m){m.g||(m.g=new Map,m.h=0,m.i&&jg(m.i,function(k,M){m.add(decodeURIComponent(k.replace(/\+/g," ")),M)}))}t=Si.prototype,t.add=function(m,k){wr(this),this.i=null,m=Rn(this,m);var M=this.g.get(m);return M||this.g.set(m,M=[]),M.push(k),this.h+=1,this};function Zn(m,k){wr(m),k=Rn(m,k),m.g.has(k)&&(m.i=null,m.h-=m.g.get(k).length,m.g.delete(k))}function ei(m,k){return wr(m),k=Rn(m,k),m.g.has(k)}t.forEach=function(m,k){wr(this),this.g.forEach(function(M,U){M.forEach(function(te){m.call(k,te,U,this)},this)},this)},t.na=function(){wr(this);const m=Array.from(this.g.values()),k=Array.from(this.g.keys()),M=[];for(let U=0;U<k.length;U++){const te=m[U];for(let ce=0;ce<te.length;ce++)M.push(k[U])}return M},t.V=function(m){wr(this);let k=[];if(typeof m=="string")ei(this,m)&&(k=k.concat(this.g.get(Rn(this,m))));else{m=Array.from(this.g.values());for(let M=0;M<m.length;M++)k=k.concat(m[M])}return k},t.set=function(m,k){return wr(this),this.i=null,m=Rn(this,m),ei(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[k]),this.h+=1,this},t.get=function(m,k){return m?(m=this.V(m),0<m.length?String(m[0]):k):k};function Ya(m,k,M){Zn(m,k),0<M.length&&(m.i=null,m.g.set(Rn(m,k),_(M)),m.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],k=Array.from(this.g.keys());for(var M=0;M<k.length;M++){var U=k[M];const ce=encodeURIComponent(String(U)),Te=this.V(U);for(U=0;U<Te.length;U++){var te=ce;Te[U]!==""&&(te+="="+encodeURIComponent(String(Te[U]))),m.push(te)}}return this.i=m.join("&")};function Rn(m,k){return k=String(k),m.j&&(k=k.toLowerCase()),k}function ki(m,k){k&&!m.j&&(wr(m),m.i=null,m.g.forEach(function(M,U){var te=U.toLowerCase();U!=te&&(Zn(this,U),Ya(this,te,M))},m)),m.j=k}function Eg(m,k){const M=new Zi;if(u.Image){const U=new Image;U.onload=x(rn,M,"TestLoadImage: loaded",!0,k,U),U.onerror=x(rn,M,"TestLoadImage: error",!1,k,U),U.onabort=x(rn,M,"TestLoadImage: abort",!1,k,U),U.ontimeout=x(rn,M,"TestLoadImage: timeout",!1,k,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else k(!1)}function jf(m,k){const M=new Zi,U=new AbortController,te=setTimeout(()=>{U.abort(),rn(M,"TestPingServer: timeout",!1,k)},1e4);fetch(m,{signal:U.signal}).then(ce=>{clearTimeout(te),ce.ok?rn(M,"TestPingServer: ok",!0,k):rn(M,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(te),rn(M,"TestPingServer: error",!1,k)})}function rn(m,k,M,U,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),U(M)}catch{}}function Tg(){this.g=new Us}function Ef(m,k,M){const U=M||"";try{za(m,function(te,ce){let Te=te;f(te)&&(Te=Xo(te)),k.push(U+ce+"="+encodeURIComponent(Te))})}catch(te){throw k.push(U+"type="+encodeURIComponent("_badmap")),te}}function ra(m){this.l=m.Ub||null,this.j=m.eb||!1}S(ra,wi),ra.prototype.g=function(){return new Ys(this.l,this.j)},ra.prototype.i=function(m){return function(){return m}}({});function Ys(m,k){Dt.call(this),this.D=m,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ys,Dt),t=Ys.prototype,t.open=function(m,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=k,this.readyState=1,ri(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(k.body=m),(this.D||u).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tf(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tf(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var k=m.value?m.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!m.done}))&&(this.response=this.responseText+=k)}m.done?ti(this):ri(this),this.readyState==3&&Tf(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ti(this))},t.Qa=function(m){this.g&&(this.response=m,ti(this))},t.ga=function(){this.g&&ti(this)};function ti(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ri(m)}t.setRequestHeader=function(m,k){this.u.append(m,k)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],k=this.h.entries();for(var M=k.next();!M.done;)M=M.value,m.push(M[0]+": "+M[1]),M=k.next();return m.join(`\r
`)};function ri(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function na(m){let k="";return N(m,function(M,U){k+=U,k+=":",k+=M,k+=`\r
`}),k}function Xa(m,k,M){e:{for(U in M){var U=!1;break e}U=!0}U||(M=na(M),typeof m=="string"?M!=null&&encodeURIComponent(String(M)):vt(m,k,M))}function Nt(m){Dt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Nt,Dt);var Ag=/^https?$/i,Yc=["POST","PUT"];t=Nt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,k,M,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);k=k?k.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ye.g(),this.v=this.o?Qi(this.o):Qi(Ye),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(k,String(m),!0),this.B=!1}catch(ce){Xs(this,ce);return}if(m=M||"",M=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var te in U)M.set(te,U[te]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ce of U.keys())M.set(ce,U.get(ce));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(M.keys()).find(ce=>ce.toLowerCase()=="content-type"),te=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Yc,k,void 0))||U||te||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Te]of M)this.g.setRequestHeader(ce,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rl(this),this.u=!0,this.g.send(m),this.u=!1}catch(ce){Xs(this,ce)}};function Xs(m,k){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=k,m.m=5,tl(m),xn(m)}function tl(m){m.A||(m.A=!0,Lt(m,"complete"),Lt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Lt(this,"complete"),Lt(this,"abort"),xn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xn(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xc(this):this.bb())},t.bb=function(){Xc(this)};function Xc(m){if(m.h&&typeof o<"u"&&(!m.v[1]||nn(m)!=4||m.Z()!=2)){if(m.u&&nn(m)==4)Fa(m.Ea,0,m);else if(Lt(m,"readystatechange"),nn(m)==4){m.h=!1;try{const Te=m.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var M;if(!(M=k)){var U;if(U=Te===0){var te=String(m.D).match(Gs)[1]||null;!te&&u.self&&u.self.location&&(te=u.self.location.protocol.slice(0,-1)),U=!Ag.test(te?te.toLowerCase():"")}M=U}if(M)Lt(m,"complete"),Lt(m,"success");else{m.m=6;try{var ce=2<nn(m)?m.g.statusText:""}catch{ce=""}m.l=ce+" ["+m.Z()+"]",tl(m)}}finally{xn(m)}}}}function xn(m,k){if(m.g){rl(m);const M=m.g,U=m.v[0]?()=>{}:null;m.g=null,m.v=null,k||Lt(m,"ready");try{M.onreadystatechange=U}catch{}}}function rl(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function nn(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var k=this.g.responseText;return m&&k.indexOf(m)==0&&(k=k.substring(m.length)),Vs(k)}};function Qc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function nl(m){const k={};m=(m.g&&2<=nn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(A(m[U]))continue;var M=D(m[U]);const te=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ce=k[te]||[];k[te]=ce,ce.push(M)}T(k,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(m,k,M){return M&&M.internalChannelParams&&M.internalChannelParams[m]||k}function Jc(m){this.Aa=0,this.i=[],this.j=new Zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ji("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ji("baseRetryDelayMs",5e3,m),this.cb=ji("retryDelaySeedMs",1e4,m),this.Wa=ji("forwardChannelMaxRetries",2,m),this.wa=ji("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Hs(m&&m.concurrentRequestLimit),this.Da=new Tg,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jc.prototype,t.la=8,t.G=1,t.connect=function(m,k,M,U){Ot(0),this.W=m,this.H=k||{},M&&U!==void 0&&(this.H.OSID=M,this.H.OAID=U),this.F=this.X,this.I=Cf(this,null,this.W),Ei(this)};function _r(m){if(il(m),m.G==3){var k=m.U++,M=yn(m.I);if(vt(M,"SID",m.K),vt(M,"RID",k),vt(M,"TYPE","terminate"),ia(m,M),k=new xt(m,m.j,k),k.L=2,k.v=Ga(yn(M)),M=!1,u.navigator&&u.navigator.sendBeacon)try{M=u.navigator.sendBeacon(k.v.toString(),"")}catch{}!M&&u.Image&&(new Image().src=k.v,M=!0),M||(k.g=Of(k.j,null),k.g.ea(k.v)),k.F=Date.now(),bt(k)}Pf(m)}function ni(m){m.g&&(Zc(m),m.g.cancel(),m.g=null)}function il(m){ni(m),m.u&&(u.clearTimeout(m.u),m.u=null),ol(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Ei(m){if(!vn(m.h)&&!m.s){m.s=!0;var k=m.Ga;ie||ae(),Z||(ie(),Z=!0),J.add(k,m),m.B=0}}function Ng(m,k){return yf(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=k.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=mn(y(m.Ga,m,k),Nf(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const te=new xt(this,this.j,m);let ce=this.o;if(this.S&&(ce?(ce=C(ce),I(ce,this.S)):ce=this.S),this.m!==null||this.O||(te.H=ce,ce=null),this.P)e:{for(var k=0,M=0;M<this.i.length;M++){t:{var U=this.i[M];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(k+=U,4096<k){k=M;break e}if(k===4096||M===this.i.length-1){k=M+1;break e}}k=1e3}else k=1e3;k=Qa(this,te,k),M=yn(this.I),vt(M,"RID",m),vt(M,"CVER",22),this.D&&vt(M,"X-HTTP-Session-Id",this.D),ia(this,M),ce&&(this.O?k="headers="+encodeURIComponent(String(na(ce)))+"&"+k:this.m&&Xa(M,this.m,ce)),Gc(this.h,te),this.Ua&&vt(M,"TYPE","init"),this.P?(vt(M,"$req",k),vt(M,"SID","null"),te.T=!0,br(te,M,null)):br(te,M,k),this.G=2}}else this.G==3&&(m?al(this,m):this.i.length==0||vn(this.h)||al(this))};function al(m,k){var M;k?M=k.l:M=m.U++;const U=yn(m.I);vt(U,"SID",m.K),vt(U,"RID",M),vt(U,"AID",m.T),ia(m,U),m.m&&m.o&&Xa(U,m.m,m.o),M=new xt(m,m.j,M,m.B+1),m.m===null&&(M.H=m.o),k&&(m.i=k.D.concat(m.i)),k=Qa(m,M,1e3),M.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Gc(m.h,M),br(M,U,k)}function ia(m,k){m.H&&N(m.H,function(M,U){vt(k,U,M)}),m.l&&za({},function(M,U){vt(k,U,M)})}function Qa(m,k,M){M=Math.min(m.i.length,M);var U=m.l?y(m.l.Na,m.l,m):null;e:{var te=m.i;let ce=-1;for(;;){const Te=["count="+M];ce==-1?0<M?(ce=te[0].g,Te.push("ofs="+ce)):ce=0:Te.push("ofs="+ce);let ht=!0;for(let tr=0;tr<M;tr++){let tt=te[tr].g;const ur=te[tr].map;if(tt-=ce,0>tt)ce=Math.max(0,te[tr].g-100),ht=!1;else try{Ef(ur,Te,"req"+tt+"_")}catch{U&&U(ur)}}if(ht){U=Te.join("&");break e}}}return m=m.i.splice(0,M),k.D=m,U}function Qs(m){if(!m.g&&!m.u){m.Y=1;var k=m.Fa;ie||ae(),Z||(ie(),Z=!0),J.add(k,m),m.v=0}}function sl(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=mn(y(m.Fa,m),Nf(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Af(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=mn(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),ni(this),Af(this))};function Zc(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Af(m){m.g=new xt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var k=yn(m.qa);vt(k,"RID","rpc"),vt(k,"SID",m.K),vt(k,"AID",m.T),vt(k,"CI",m.F?"0":"1"),!m.F&&m.ja&&vt(k,"TO",m.ja),vt(k,"TYPE","xmlhttp"),ia(m,k),m.m&&m.o&&Xa(k,m.m,m.o),m.L&&(m.g.I=m.L);var M=m.g;m=m.ia,M.L=1,M.v=Ga(yn(k)),M.m=null,M.P=!0,tn(M,m)}t.Za=function(){this.C!=null&&(this.C=null,ni(this),sl(this),Ot(19))};function ol(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function ll(m,k){var M=null;if(m.g==k){ol(m),Zc(m),m.g=null;var U=2}else if(zr(m.h,k))M=k.D,xf(m.h,k),U=1;else return;if(m.G!=0){if(k.o)if(U==1){M=k.m?k.m.length:0,k=Date.now()-k.F;var te=m.B;U=_i(),Lt(U,new Ua(U,M)),Ei(m)}else Qs(m);else if(te=k.s,te==3||te==0&&0<k.X||!(U==1&&Ng(m,k)||U==2&&sl(m)))switch(M&&0<M.length&&(k=m.h,k.i=k.i.concat(M)),te){case 1:aa(m,5);break;case 4:aa(m,10);break;case 3:aa(m,6);break;default:aa(m,2)}}}function Nf(m,k){let M=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(M*=2),M*k}function aa(m,k){if(m.j.info("Error code "+k),k==2){var M=y(m.fb,m),U=m.Xa;const te=!U;U=new ta(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ks(U,"https"),Ga(U),te?Eg(U.toString(),M):jf(U.toString(),M)}else Ot(2);m.G=0,m.l&&m.l.sa(k),Pf(m),il(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Pf(m){if(m.G=0,m.ka=[],m.l){const k=bf(m.h);(k.length!=0||m.i.length!=0)&&(b(m.ka,k),b(m.ka,m.i),m.h.i.length=0,_(m.i),m.i.length=0),m.l.ra()}}function Cf(m,k,M){var U=M instanceof ta?yn(M):new ta(M);if(U.g!="")k&&(U.g=k+"."+U.g),Wa(U,U.s);else{var te=u.location;U=te.protocol,k=k?k+"."+te.hostname:te.hostname,te=+te.port;var ce=new ta(null);U&&Ks(ce,U),k&&(ce.g=k),te&&Wa(ce,te),M&&(ce.l=M),U=ce}return M=m.D,k=m.ya,M&&k&&vt(U,M,k),vt(U,"VER",m.la),ia(m,U),U}function Of(m,k,M){if(k&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=m.Ca&&!m.pa?new Nt(new ra({eb:M})):new Nt(m.pa),k.Ha(m.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}t=eu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cl(){}cl.prototype.g=function(m,k){return new Wr(m,k)};function Wr(m,k){Dt.call(this),this.g=new Jc(k),this.l=m,this.h=k&&k.messageUrlParams||null,m=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(m?m["X-WebChannel-Content-Type"]=k.messageContentType:m={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(m?m["X-WebChannel-Client-Profile"]=k.va:m={"X-WebChannel-Client-Profile":k.va}),this.g.S=m,(m=k&&k.Sb)&&!A(m)&&(this.g.m=m),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!A(k)&&(this.g.D=k,m=this.h,m!==null&&k in m&&(m=this.h,k in m&&delete m[k])),this.j=new Ti(this)}S(Wr,Dt),Wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wr.prototype.close=function(){_r(this.g)},Wr.prototype.o=function(m){var k=this.g;if(typeof m=="string"){var M={};M.__data__=m,m=M}else this.u&&(M={},M.__data__=Xo(m),m=M);k.i.push(new vf(k.Ya++,m)),k.G==3&&Ei(k)},Wr.prototype.N=function(){this.g.l=null,delete this.j,_r(this.g),delete this.g,Wr.aa.N.call(this)};function If(m){xr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var k=m.__sm__;if(k){e:{for(const M in k){m=M;break e}m=void 0}(this.i=m)&&(m=this.i,k=k!==null&&m in k?k[m]:void 0),this.data=k}else this.data=m}S(If,xr);function Rf(){Cn.call(this),this.status=1}S(Rf,Cn);function Ti(m){this.g=m}S(Ti,eu),Ti.prototype.ua=function(){Lt(this.g,"a")},Ti.prototype.ta=function(m){Lt(this.g,new If(m))},Ti.prototype.sa=function(m){Lt(this.g,new Rf)},Ti.prototype.ra=function(){Lt(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,Wr.prototype.send=Wr.prototype.o,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,XR=function(){return new cl},YR=function(){return _i()},KR=Nr,kw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ba.NO_ERROR=0,Ba.TIMEOUT=8,Ba.HTTP_ERROR=6,ep=Ba,Qo.COMPLETE="complete",GR=Qo,Ji.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Lu=Ji,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,HR=Nt}).apply(typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{});const ZE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new d1("@firebase/firestore");function ju(){return Io.logLevel}function Re(t,...e){if(Io.logLevel<=et.DEBUG){const r=e.map(S1);Io.debug(`Firestore (${Cc}): ${t}`,...r)}}function Aa(t,...e){if(Io.logLevel<=et.ERROR){const r=e.map(S1);Io.error(`Firestore (${Cc}): ${t}`,...r)}}function Jl(t,...e){if(Io.logLevel<=et.WARN){const r=e.map(S1);Io.warn(`Firestore (${Cc}): ${t}`,...r)}}function S1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${Cc}) INTERNAL ASSERTION FAILED: `+t;throw Aa(e),new Error(e)}function Vt(t,e){t||Ke()}function nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Hi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Dr.UNAUTHENTICATED))}shutdown(){}}class DV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class LV{constructor(e){this.t=e,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Vt(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let a=new Hl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hl)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Vt(typeof n.accessToken=="string"),new QR(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string"),new Dr(e)}}class $V{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Dr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class FV{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new $V(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Vt(this.o===void 0);const n=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Vt(typeof r.token=="string"),this.R=r.token,new VV(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=BV(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function ct(t,e){return t<e?-1:t>e?1:0}function Zl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Me(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Me(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Me(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new vr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new vr(0,0))}static max(){return new Ge(new vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ke(),n===void 0?n=e.length-r:n>e.length-r&&Ke(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return id.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof id?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class At extends id{construct(e,r,n){return new At(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Me(Se.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new At(r)}static emptyPath(){return new At([])}}const qV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends id{construct(e,r,n){return new Fr(e,r,n)}static isValidIdentifier(e){return qV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Me(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Me(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Me(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(n+=u,i++):(a(),i++)}if(a(),o)throw new Me(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(r)}static emptyPath(){return new Fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(At.fromString(e))}static fromName(e){return new Fe(At.fromString(e).popFirst(5))}static empty(){return new Fe(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return At.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new At(e.slice()))}}function zV(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(n===1e9?new vr(r+1,0):new vr(r,n));return new Ps(i,Fe.empty(),e)}function WV(t){return new Ps(t.readTime,t.key,-1)}class Ps{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ps(Ge.min(),Fe.empty(),-1)}static max(){return new Ps(Ge.max(),Fe.empty(),-1)}}function HV(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Fe.comparator(t.documentKey,e.documentKey),r!==0?r:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(t){if(t.code!==Se.FAILED_PRECONDITION||t.message!==GV)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new be((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof be?r:be.resolve(r)}catch(r){return be.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):be.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):be.reject(r)}static resolve(e){return new be((r,n)=>{r(e)})}static reject(e){return new be((r,n)=>{n(e)})}static waitFor(e){return new be((r,n)=>{let i=0,a=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++a,o&&a===i&&r()},d=>n(d))}),o=!0,a===i&&r()})}static or(e){let r=be.resolve(!1);for(const n of e)r=r.next(i=>i?be.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new be((n,i)=>{const a=e.length,o=new Array(a);let u=0;for(let d=0;d<a;d++){const f=d;r(e[f]).next(p=>{o[f]=p,++u,u===a&&n(o)},p=>i(p))}})}static doWhile(e,r){return new be((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function YV(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Qd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}j1.oe=-1;function Em(t){return t==null}function mp(t){return t===0&&1/t==-1/0}function XV(t){return typeof t=="number"&&Number.isInteger(t)&&!mp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Jd(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function ZR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,r){this.comparator=e,this.root=r||Er.EMPTY}insert(e,r){return new qt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Er.RED,this.left=i??Er.EMPTY,this.right=a??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Er(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Er.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Er(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new tT(this.data.getIterator())}getIteratorFrom(e){return new tT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Tr(this.comparator);return r.data=e,r}}class tT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new bs([])}unionWith(e){let r=new Tr(Fr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new bs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Zl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new eM("Invalid base64 string: "+a):a}}(e);return new Ar(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Ar(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const QV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(Vt(!!t),typeof t=="string"){let e=0;const r=QV.exec(t);if(Vt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ro(t){return typeof t=="string"?Ar.fromBase64String(t):Ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function T1(t){const e=t.mapValue.fields.__previous_value__;return E1(e)?T1(e):e}function ad(t){const e=Cs(t.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,r,n,i,a,o,u,d,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f}}class sd{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new sd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh={mapValue:{}};function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?E1(t)?4:eU(t)?9007199254740991:ZV(t)?10:11:Ke()}function Bi(t,e){if(t===e)return!0;const r=Mo(t);if(r!==Mo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ad(t).isEqual(ad(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Cs(i.timestampValue),u=Cs(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ro(i.bytesValue).isEqual(Ro(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Bt(i.geoPointValue.latitude)===Bt(a.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Bt(i.integerValue)===Bt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Bt(i.doubleValue),u=Bt(a.doubleValue);return o===u?mp(o)===mp(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return Zl(t.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},u=a.mapValue.fields||{};if(eT(o)!==eT(u))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(u[d]===void 0||!Bi(o[d],u[d])))return!1;return!0}(t,e);default:return Ke()}}function od(t,e){return(t.values||[]).find(r=>Bi(r,e))!==void 0}function ec(t,e){if(t===e)return 0;const r=Mo(t),n=Mo(e);if(r!==n)return ct(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(a,o){const u=Bt(a.integerValue||a.doubleValue),d=Bt(o.integerValue||o.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(t,e);case 3:return rT(t.timestampValue,e.timestampValue);case 4:return rT(ad(t),ad(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(a,o){const u=Ro(a),d=Ro(o);return u.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const u=a.split("/"),d=o.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=ct(u[f],d[f]);if(p!==0)return p}return ct(u.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const u=ct(Bt(a.latitude),Bt(o.latitude));return u!==0?u:ct(Bt(a.longitude),Bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nT(t.arrayValue,e.arrayValue);case 10:return function(a,o){var u,d,f,p;const g=a.fields||{},y=o.fields||{},x=(u=g.value)===null||u===void 0?void 0:u.arrayValue,S=(d=y.value)===null||d===void 0?void 0:d.arrayValue,_=ct(((f=x?.values)===null||f===void 0?void 0:f.length)||0,((p=S?.values)===null||p===void 0?void 0:p.length)||0);return _!==0?_:nT(x,S)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Oh.mapValue&&o===Oh.mapValue)return 0;if(a===Oh.mapValue)return 1;if(o===Oh.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),f=o.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const y=ct(d[g],p[g]);if(y!==0)return y;const x=ec(u[d[g]],f[p[g]]);if(x!==0)return x}return ct(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Ke()}}function rT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const r=Cs(t),n=Cs(e),i=ct(r.seconds,n.seconds);return i!==0?i:ct(r.nanos,n.nanos)}function nT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=ec(r[i],n[i]);if(a)return a}return ct(r.length,n.length)}function tc(t){return jw(t)}function jw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Cs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ro(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Fe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=jw(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${jw(r.fields[o])}`;return i+"}"}(t.mapValue):Ke()}function iT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ew(t){return!!t&&"integerValue"in t}function A1(t){return!!t&&"arrayValue"in t}function aT(t){return!!t&&"nullValue"in t}function sT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ov(t){return!!t&&"mapValue"in t}function ZV(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Wu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jd(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Wu(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Wu(t.arrayValue.values[r]);return e}return Object.assign({},t)}function eU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!ov(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(r)}setAll(e){let r=Fr.emptyPath(),n={},i=[];e.forEach((o,u)=>{if(!r.isImmediateParentOf(u)){const d=this.getFieldsMap(r);this.applyChanges(d,n,i),n={},i=[],r=u.popLast()}o?n[u.lastSegment()]=Wu(o):i.push(u.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());ov(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];ov(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Jd(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Ii(Wu(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,r,n,i,a,o,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Lr(e,0,Ge.min(),Ge.min(),Ge.min(),Ii.empty(),0)}static newFoundDocument(e,r,n,i){return new Lr(e,1,r,Ge.min(),n,i,0)}static newNoDocument(e,r){return new Lr(e,2,r,Ge.min(),Ge.min(),Ii.empty(),0)}static newUnknownDocument(e,r){return new Lr(e,3,r,Ge.min(),Ge.min(),Ii.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,r){this.position=e,this.inclusive=r}}function oT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Fe.comparator(Fe.fromName(o.referenceValue),r.key):n=ec(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function lT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Bi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,r="asc"){this.field=e,this.dir=r}}function tU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tM=class{};class Kt extends tM{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new nU(e,r,n):r==="array-contains"?new sU(e,n):r==="in"?new oU(e,n):r==="not-in"?new lU(e,n):r==="array-contains-any"?new cU(e,n):new Kt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new iU(e,n):new aU(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ec(r,this.value)):r!==null&&Mo(this.value)===Mo(r)&&this.matchesComparison(ec(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends tM{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new vi(e,r)}matches(e){return rM(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rM(t){return t.op==="and"}function nM(t){return rU(t)&&rM(t)}function rU(t){for(const e of t.filters)if(e instanceof vi)return!1;return!0}function Tw(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+tc(t.value);if(nM(t))return t.filters.map(e=>Tw(e)).join(",");{const e=t.filters.map(r=>Tw(r)).join(",");return`${t.op}(${e})`}}function iM(t,e){return t instanceof Kt?function(n,i){return i instanceof Kt&&n.op===i.op&&n.field.isEqual(i.field)&&Bi(n.value,i.value)}(t,e):t instanceof vi?function(n,i){return i instanceof vi&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,u)=>a&&iM(o,i.filters[u]),!0):!1}(t,e):void Ke()}function aM(t){return t instanceof Kt?function(r){return`${r.field.canonicalString()} ${r.op} ${tc(r.value)}`}(t):t instanceof vi?function(r){return r.op.toString()+" {"+r.getFilters().map(aM).join(" ,")+"}"}(t):"Filter"}class nU extends Kt{constructor(e,r,n){super(e,r,n),this.key=Fe.fromName(n.referenceValue)}matches(e){const r=Fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class iU extends Kt{constructor(e,r){super(e,"in",r),this.keys=sM("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class aU extends Kt{constructor(e,r){super(e,"not-in",r),this.keys=sM("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function sM(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Fe.fromName(n.referenceValue))}class sU extends Kt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return A1(r)&&od(r.arrayValue,this.value)}}class oU extends Kt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&od(this.value.arrayValue,r)}}class lU extends Kt{constructor(e,r){super(e,"not-in",r)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!od(this.value.arrayValue,r)}}class cU extends Kt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!A1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>od(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,r=null,n=[],i=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ue=null}}function cT(t,e=null,r=[],n=[],i=null,a=null,o=null){return new uU(t,e,r,n,i,a,o)}function N1(t){const e=nt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Tw(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Em(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>tc(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>tc(n)).join(",")),e.ue=r}return e.ue}function P1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!tU(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!iM(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lT(t.startAt,e.startAt)&&lT(t.endAt,e.endAt)}function Aw(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,r=null,n=[],i=[],a=null,o="F",u=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function dU(t,e,r,n,i,a,o,u){return new Zd(t,e,r,n,i,a,o,u)}function C1(t){return new Zd(t)}function uT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oM(t){return t.collectionGroup!==null}function Hu(t){const e=nt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Tr(Fr.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new vp(a,n))}),r.has(Fr.keyField().canonicalString())||e.ce.push(new vp(Fr.keyField(),n))}return e.ce}function Fi(t){const e=nt(t);return e.le||(e.le=fU(e,Hu(t))),e.le}function fU(t,e){if(t.limitType==="F")return cT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new vp(i.field,a)});const r=t.endAt?new gp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new gp(t.startAt.position,t.startAt.inclusive):null;return cT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Nw(t,e){const r=t.filters.concat([e]);return new Zd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Pw(t,e,r){return new Zd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Tm(t,e){return P1(Fi(t),Fi(e))&&t.limitType===e.limitType}function lM(t){return`${N1(Fi(t))}|lt:${t.limitType}`}function Rl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>aM(i)).join(", ")}]`),Em(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>tc(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>tc(i)).join(",")),`Target(${n})`}(Fi(t))}; limitType=${t.limitType})`}function Am(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Fe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Hu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,u,d){const f=oT(o,u,d);return o.inclusive?f<=0:f<0}(n.startAt,Hu(n),i)||n.endAt&&!function(o,u,d){const f=oT(o,u,d);return o.inclusive?f>=0:f>0}(n.endAt,Hu(n),i))}(t,e)}function hU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cM(t){return(e,r)=>{let n=!1;for(const i of Hu(t)){const a=pU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function pU(t,e,r){const n=t.field.isKeyField()?Fe.comparator(e.key,r.key):function(a,o,u){const d=o.data.field(a),f=u.data.field(a);return d!==null&&f!==null?ec(d,f):Ke()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jd(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return ZR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=new qt(Fe.comparator);function Os(){return mU}const uM=new qt(Fe.comparator);function $u(...t){let e=uM;for(const r of t)e=e.insert(r.key,r);return e}function gU(t){let e=uM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function xo(){return Gu()}function dM(){return Gu()}function Gu(){return new Oc(t=>t.toString(),(t,e)=>t.isEqual(e))}const vU=new Tr(Fe.comparator);function at(...t){let e=vU;for(const r of t)e=e.add(r);return e}const yU=new Tr(ct);function xU(){return yU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mp(e)?"-0":e}}function fM(t){return{integerValue:""+t}}function bU(t,e){return XV(e)?fM(e):O1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this._=void 0}}function wU(t,e,r){return t instanceof Cw?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&E1(a)&&(a=T1(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof yp?hM(t,e):t instanceof xp?pM(t,e):function(i,a){const o=SU(i,a),u=dT(o)+dT(i.Pe);return Ew(o)&&Ew(i.Pe)?fM(u):O1(i.serializer,u)}(t,e)}function _U(t,e,r){return t instanceof yp?hM(t,e):t instanceof xp?pM(t,e):r}function SU(t,e){return t instanceof Ow?function(n){return Ew(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Cw extends Nm{}class yp extends Nm{constructor(e){super(),this.elements=e}}function hM(t,e){const r=mM(e);for(const n of t.elements)r.some(i=>Bi(i,n))||r.push(n);return{arrayValue:{values:r}}}class xp extends Nm{constructor(e){super(),this.elements=e}}function pM(t,e){let r=mM(e);for(const n of t.elements)r=r.filter(i=>!Bi(i,n));return{arrayValue:{values:r}}}class Ow extends Nm{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function dT(t){return Bt(t.integerValue||t.doubleValue)}function mM(t){return A1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kU(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof yp&&i instanceof yp||n instanceof xp&&i instanceof xp?Zl(n.elements,i.elements,Bi):n instanceof Ow&&i instanceof Ow?Bi(n.Pe,i.Pe):n instanceof Cw&&i instanceof Cw}(t.transform,e.transform)}class To{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new To}static exists(e){return new To(void 0,e)}static updateTime(e){return new To(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class I1{}function gM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new EU(t.key,To.none()):new R1(t.key,t.data,To.none());{const r=t.data,n=Ii.empty();let i=new Tr(Fr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Pm(t.key,n,new bs(i.toArray()),To.none())}}function jU(t,e,r){t instanceof R1?function(i,a,o){const u=i.value.clone(),d=hT(i.fieldTransforms,a,o.transformResults);u.setAll(d),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,r):t instanceof Pm?function(i,a,o){if(!tp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const u=hT(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(vM(i)),d.setAll(u),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Ku(t,e,r,n){return t instanceof R1?function(a,o,u,d){if(!tp(a.precondition,o))return u;const f=a.value.clone(),p=pT(a.fieldTransforms,d,o);return f.setAll(p),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof Pm?function(a,o,u,d){if(!tp(a.precondition,o))return u;const f=pT(a.fieldTransforms,d,o),p=o.data;return p.setAll(vM(a)),p.setAll(f),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(t,e,r,n):function(a,o,u){return tp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,r)}function fT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Zl(n,i,(a,o)=>kU(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class R1 extends I1{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pm extends I1{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vM(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function hT(t,e,r){const n=new Map;Vt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,u=e.data.field(a.field);n.set(a.field,_U(o,u,r[i]))}return n}function pT(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,wU(a,o,e))}return n}class EU extends I1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&jU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Ku(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Ku(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=dM();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=r.has(i.key)?null:u;const d=gM(o,u);d!==null&&n.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(Ge.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),at())}isEqual(e){return this.batchId===e.batchId&&Zl(this.mutations,e.mutations,(r,n)=>fT(r,n))&&Zl(this.baseMutations,e.baseMutations,(r,n)=>fT(r,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,rt;function yM(t){if(t===void 0)return Aa("GRPC error has no .code"),Se.UNKNOWN;switch(t){case Ht.OK:return Se.OK;case Ht.CANCELLED:return Se.CANCELLED;case Ht.UNKNOWN:return Se.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return Se.INTERNAL;case Ht.UNAVAILABLE:return Se.UNAVAILABLE;case Ht.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Ht.NOT_FOUND:return Se.NOT_FOUND;case Ht.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Ht.ABORTED:return Se.ABORTED;case Ht.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Ht.DATA_LOSS:return Se.DATA_LOSS;default:return Ke()}}(rt=Ht||(Ht={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=new Eo([4294967295,4294967295],0);function mT(t){const e=PU().encode(t),r=new WR;return r.update(e),new Uint8Array(r.digest())}function gT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Eo([r,n],0),new Eo([i,a],0)]}class M1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Fu(`Invalid padding: ${r}`);if(n<0)throw new Fu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Eo.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Eo.fromNumber(n)));return i.compare(CU)===1&&(i=new Eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=mT(e),[n,i]=gT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new M1(a,i,r);return n.forEach(u=>o.insert(u)),o}insert(e){if(this.Ie===0)return;const r=mT(e),[n,i]=gT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,ef.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Cm(Ge.min(),i,new qt(ct),Os(),at())}}class ef{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new ef(n,r,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class xM{constructor(e,r){this.targetId=e,this.me=r}}class bM{constructor(e,r,n=Ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class vT{constructor(){this.fe=0,this.ge=xT(),this.pe=Ar.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=at(),r=at(),n=at();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ke()}}),new ef(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=xT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class OU{constructor(e){this.Le=e,this.Be=new Map,this.ke=Os(),this.qe=yT(),this.Qe=new qt(ct)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ke()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(Aw(a))if(n===0){const o=new Fe(a.path);this.Ue(r,o,Lr.newNoDocument(o,Ge.min()))}else Vt(n===1);else{const o=this.Ye(r);if(o!==n){const u=this.Ze(e),d=u?this.Xe(u,e,o):1;if(d!==0){this.je(r);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,f)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,u;try{o=Ro(n).toUint8Array()}catch(d){if(d instanceof eM)return Jl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new M1(o,i,a)}catch(d){return Jl(d instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ie===0?null:u}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const u=this.Je(o);if(u){if(a.current&&Aw(u.target)){const d=new Fe(u.target.path);this.ke.get(d)!==null||this.it(o,d)||this.Ue(o,d,Lr.newNoDocument(d,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=at();this.qe.forEach((a,o)=>{let u=!0;o.forEachWhile(d=>{const f=this.Je(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Cm(e,r,this.Qe,this.ke,n);return this.ke=Os(),this.qe=yT(),this.Qe=new qt(ct),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new vT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Tr(ct),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Re("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function yT(){return new qt(Fe.comparator)}function xT(){return new qt(Fe.comparator)}const IU={asc:"ASCENDING",desc:"DESCENDING"},RU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MU={and:"AND",or:"OR"};class DU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Iw(t,e){return t.useProto3Json||Em(e)?e:{value:e}}function Rw(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gl(t){return Vt(!!t),Ge.fromTimestamp(function(r){const n=Cs(r);return new vr(n.seconds,n.nanos)}(t))}function _M(t,e){return Mw(t,e).canonicalString()}function Mw(t,e){const r=function(i){return new At(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function SM(t){const e=At.fromString(t);return Vt(AM(e)),e}function lv(t,e){const r=SM(e);if(r.get(1)!==t.databaseId.projectId)throw new Me(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Me(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Fe(jM(r))}function kM(t,e){return _M(t.databaseId,e)}function LU(t){const e=SM(t);return e.length===4?At.emptyPath():jM(e)}function bT(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jM(t){return Vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $U(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(Vt(p===void 0||typeof p=="string"),Ar.fromBase64String(p||"")):(Vt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ar.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(f){const p=f.code===void 0?Se.UNKNOWN:yM(f.code);return new Me(p,f.message||"")}(o);r=new bM(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=lv(t,n.document.name),a=Gl(n.document.updateTime),o=n.document.createTime?Gl(n.document.createTime):Ge.min(),u=new Ii({mapValue:{fields:n.document.fields}}),d=Lr.newFoundDocument(i,a,o,u),f=n.targetIds||[],p=n.removedTargetIds||[];r=new rp(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=lv(t,n.document),a=n.readTime?Gl(n.readTime):Ge.min(),o=Lr.newNoDocument(i,a),u=n.removedTargetIds||[];r=new rp([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=lv(t,n.document),a=n.removedTargetIds||[];r=new rp([],a,i,null)}else{if(!("filter"in e))return Ke();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new NU(i,a),u=n.targetId;r=new xM(u,o)}}return r}function FU(t,e){return{documents:[kM(t,e.path)]}}function VU(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=kM(t,i);const a=function(f){if(f.length!==0)return TM(vi.create(f,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(f){if(f.length!==0)return f.map(p=>function(y){return{field:Ml(y.field),direction:qU(y.dir)}}(p))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const u=Iw(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:r,parent:i}}function UU(t){let e=LU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Vt(n===1);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=function(g){const y=EM(g);return y instanceof vi&&nM(y)?y.getFilters():[y]}(r.where));let o=[];r.orderBy&&(o=function(g){return g.map(y=>function(S){return new vp(Dl(S.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(r.orderBy));let u=null;r.limit&&(u=function(g){let y;return y=typeof g=="object"?g.value:g,Em(y)?null:y}(r.limit));let d=null;r.startAt&&(d=function(g){const y=!!g.before,x=g.values||[];return new gp(x,y)}(r.startAt));let f=null;return r.endAt&&(f=function(g){const y=!g.before,x=g.values||[];return new gp(x,y)}(r.endAt)),dU(e,i,o,a,u,"F",d,f)}function BU(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function EM(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Dl(r.unaryFilter.field);return Kt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Dl(r.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Dl(r.unaryFilter.field);return Kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Dl(r.unaryFilter.field);return Kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(t):t.fieldFilter!==void 0?function(r){return Kt.create(Dl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return vi.create(r.compositeFilter.filters.map(n=>EM(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke()}}(r.compositeFilter.op))}(t):Ke()}function qU(t){return IU[t]}function zU(t){return RU[t]}function WU(t){return MU[t]}function Ml(t){return{fieldPath:t.canonicalString()}}function Dl(t){return Fr.fromServerFormat(t.fieldPath)}function TM(t){return t instanceof Kt?function(r){if(r.op==="=="){if(sT(r.value))return{unaryFilter:{field:Ml(r.field),op:"IS_NAN"}};if(aT(r.value))return{unaryFilter:{field:Ml(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(sT(r.value))return{unaryFilter:{field:Ml(r.field),op:"IS_NOT_NAN"}};if(aT(r.value))return{unaryFilter:{field:Ml(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(r.field),op:zU(r.op),value:r.value}}}(t):t instanceof vi?function(r){const n=r.getFilters().map(i=>TM(i));return n.length===1?n[0]:{compositeFilter:{op:WU(r.op),filters:n}}}(t):Ke()}function AM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,r,n,i,a=Ge.min(),o=Ge.min(),u=Ar.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.ct=e}}function GU(t){const e=UU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.un=new YU}addToCollectionParentIndex(e,r){return this.un.add(r),be.resolve()}getCollectionParents(e,r){return be.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return be.resolve()}deleteFieldIndex(e,r){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,r){return be.resolve()}getDocumentsMatchingTarget(e,r){return be.resolve(null)}getIndexType(e,r){return be.resolve(0)}getFieldIndexes(e,r){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,r){return be.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,r){return be.resolve(Ps.min())}updateCollectionGroup(e,r,n){return be.resolve()}updateIndexEntries(e,r){return be.resolve()}}class YU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Tr(At.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Tr(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new rc(0)}static kn(){return new rc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.changes=new Oc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Lr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?be.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Ku(n.mutation,i,bs.empty(),vr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,at()).next(()=>n))}getLocalViewOfDocuments(e,r,n=at()){const i=xo();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=$u();return a.forEach((u,d)=>{o=o.insert(u,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=xo();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,at()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,u)=>{r.set(o,u)})})}computeViews(e,r,n,i){let a=Os();const o=Gu(),u=function(){return Gu()}();return r.forEach((d,f)=>{const p=n.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof Pm)?a=a.insert(f.key,f):p!==void 0?(o.set(f.key,p.mutation.getFieldMask()),Ku(p.mutation,f,p.mutation.getFieldMask(),vr.now())):o.set(f.key,bs.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((f,p)=>o.set(f,p)),r.forEach((f,p)=>{var g;return u.set(f,new QU(p,(g=o.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,r){const n=Gu();let i=new qt((o,u)=>o-u),a=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const u of o)u.keys().forEach(d=>{const f=r.get(d);if(f===null)return;let p=n.get(d)||bs.empty();p=u.applyToLocalView(f,p),n.set(d,p);const g=(i.get(u.batchId)||at()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,g=dM();p.forEach(y=>{if(!a.has(y)){const x=gM(r.get(y),n.get(y));x!==null&&g.set(y,x),a=a.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,g))}return be.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):oM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):be.resolve(xo());let u=-1,d=a;return o.next(f=>be.forEach(f,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?be.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{d=d.insert(p,y)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,d,f,at())).next(p=>({batchId:u,changes:gU(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Fe(r)).next(n=>{let i=$u();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=$u();return this.indexManager.getCollectionParents(e,a).next(u=>be.forEach(u,d=>{const f=function(g,y){return new Zd(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(p=>{p.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((d,f)=>{const p=f.getKey();o.get(p)===null&&(o=o.insert(p,Lr.newInvalidDocument(p)))});let u=$u();return o.forEach((d,f)=>{const p=a.get(d);p!==void 0&&Ku(p.mutation,f,bs.empty(),vr.now()),Am(r,f)&&(u=u.insert(d,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return be.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Gl(i.createTime)}}(r)),be.resolve()}getNamedQuery(e,r){return be.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:GU(i.bundledQuery),readTime:Gl(i.readTime)}}(r)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.overlays=new qt(Fe.comparator),this.Ir=new Map}getOverlay(e,r){return be.resolve(this.overlays.get(r))}getOverlays(e,r){const n=xo();return be.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),be.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),be.resolve()}getOverlaysForCollection(e,r,n){const i=xo(),a=r.length+1,o=new Fe(r.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>n&&i.set(d.getKey(),d)}return be.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new qt((f,p)=>f-p);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let p=a.get(f.largestBatchId);p===null&&(p=xo(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=xo(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=i)););return be.resolve(u)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new AU(r,n));let a=this.Ir.get(r);a===void 0&&(a=at(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(){this.sessionToken=Ar.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.Tr=new Tr(pr.Er),this.dr=new Tr(pr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new pr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new pr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Fe(new At([])),n=new pr(r,e),i=new pr(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Fe(new At([])),n=new pr(r,e),i=new pr(r,e+1);let a=at();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new pr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class pr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Fe.comparator(e.key,r.key)||ct(e.wr,r.wr)}static Ar(e,r){return ct(e.wr,r.wr)||Fe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Tr(pr.Er)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new TU(a,r,n,i);this.mutationQueue.push(o);for(const u of i)this.br=this.br.add(new pr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return be.resolve(o)}lookupMutationBatch(e,r){return be.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return be.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new pr(r,0),i=new pr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const u=this.Dr(o.wr);a.push(u)}),be.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Tr(ct);return r.forEach(i=>{const a=new pr(i,0),o=new pr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],u=>{n=n.add(u.wr)})}),be.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Fe.isDocumentKey(a)||(a=a.child(""));const o=new pr(new Fe(a),0);let u=new Tr(ct);return this.br.forEachWhile(d=>{const f=d.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.wr)),!0)},o),be.resolve(this.Cr(u))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Vt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return be.forEach(r.mutations,i=>{const a=new pr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new pr(r,0),i=this.br.firstAfterOrEqual(n);return be.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.Mr=e,this.docs=function(){return new qt(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return be.resolve(n?n.document.mutableCopy():Lr.newInvalidDocument(r))}getEntries(e,r){let n=Os();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Lr.newInvalidDocument(i))}),be.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Os();const o=r.path,u=new Fe(o.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||HV(WV(p),n)<=0||(i.has(p.key)||Am(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return be.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ke()}Or(e,r){return be.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new iB(this)}getSize(e){return be.resolve(this.size)}}class iB extends XU{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),be.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.persistence=e,this.Nr=new Oc(r=>N1(r),P1),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new D1,this.targetCount=0,this.kr=rc.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),be.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new rc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,be.resolve()}updateTargetData(e,r){return this.Kn(r),be.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),be.waitFor(a).next(()=>i)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return be.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),be.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),be.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),be.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return be.resolve(n)}containsKey(e,r){return be.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,r){this.qr={},this.overlays={},this.Qr=new j1(0),this.Kr=!1,this.Kr=!0,this.$r=new tB,this.referenceDelegate=e(this),this.Ur=new aB(this),this.indexManager=new KU,this.remoteDocumentCache=function(i){return new nB(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new HU(r),this.Gr=new ZU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new eB,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new rB(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Re("MemoryPersistence","Starting transaction:",e);const i=new oB(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return be.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class oB extends KV{constructor(e){super(),this.currentSequenceNumber=e}}class L1{constructor(e){this.persistence=e,this.Jr=new D1,this.Yr=null}static Zr(e){return new L1(e)}get Xr(){if(this.Yr)return this.Yr;throw Ke()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),be.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),be.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),be.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Xr,n=>{const i=Fe.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Ge.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return be.or([()=>be.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=at(),i=at();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new $1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return a$()?8:YV(Ur())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new lB;return this.Xi(e,r,o).next(u=>{if(a.result=u,this.zi)return this.es(e,r,o,u.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(ju()<=et.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Rl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),be.resolve()):(ju()<=et.DEBUG&&Re("QueryEngine","Query:",Rl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(ju()<=et.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Rl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(r))):be.resolve())}Yi(e,r){if(uT(r))return be.resolve(null);let n=Fi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Pw(r,null,"F"),n=Fi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=at(...a);return this.Ji.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,n).next(d=>{const f=this.ts(r,u);return this.ns(r,f,o,d.readTime)?this.Yi(e,Pw(r,null,"F")):this.rs(e,f,r,d)}))})))}Zi(e,r,n,i){return uT(r)||i.isEqual(Ge.min())?be.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?be.resolve(null):(ju()<=et.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rl(r)),this.rs(e,o,r,zV(i,-1)).next(u=>u))})}ts(e,r){let n=new Tr(cM(e));return r.forEach((i,a)=>{Am(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return ju()<=et.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Rl(r)),this.Ji.getDocumentsMatchingQuery(e,r,Ps.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new qt(ct),this._s=new Oc(a=>N1(a),P1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function dB(t,e,r,n){return new uB(t,e,r,n)}async function NM(t,e){const r=nt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],u=[];let d=at();for(const f of i){o.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of a){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next(f=>({hs:f,removedBatchIds:o,addedBatchIds:u}))})})}function PM(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function fB(t,e){const r=nt(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const u=[];e.targetChanges.forEach((p,g)=>{const y=i.get(g);if(!y)return;u.push(r.Ur.removeMatchingKeys(a,p.removedDocuments,g).next(()=>r.Ur.addMatchingKeys(a,p.addedDocuments,g)));let x=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(Ar.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,n)),i=i.insert(g,x),function(_,b,P){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(y,x,p)&&u.push(r.Ur.updateTargetData(a,x))});let d=Os(),f=at();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(hB(a,o,e.documentUpdates).next(p=>{d=p.Ps,f=p.Is})),!n.isEqual(Ge.min())){const p=r.Ur.getLastRemoteSnapshotVersion(a).next(g=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));u.push(p)}return be.waitFor(u).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,d,f)).next(()=>d)}).then(a=>(r.os=i,a))}function hB(t,e,r){let n=at(),i=at();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Os();return r.forEach((u,d)=>{const f=a.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Ge.min())?(e.removeEntry(u,d.readTime),o=o.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),o=o.insert(u,d)):Re("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{Ps:o,Is:i}})}function pB(t,e){const r=nt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,be.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new ws(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Dw(t,e,r){const n=nt(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Qd(o))throw o;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function wT(t,e,r){const n=nt(t);let i=Ge.min(),a=at();return n.persistence.runTransaction("Execute query","readwrite",o=>function(d,f,p){const g=nt(d),y=g._s.get(p);return y!==void 0?be.resolve(g.os.get(y)):g.Ur.getTargetData(f,p)}(n,o,Fi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,u.targetId).next(d=>{a=d})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:Ge.min(),r?a:at())).next(u=>(mB(n,hU(e),u),{documents:u,Ts:a})))}function mB(t,e,r){let n=t.us.get(e)||Ge.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class _T{constructor(){this.activeTargetIds=xU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gB{constructor(){this.so=new _T,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _T,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih=null;function cv(){return Ih===null?Ih=function(){return 268435456+Math.round(2147483648*Math.random())}():Ih++,"0x"+Ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="WebChannelConnection";class bB extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const u=cv(),d=this.xo(r,n.toUriEncodedString());Re("RestConnection",`Sending RPC '${r}' ${u}:`,d,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,a,o),this.No(r,d,f,i).then(p=>(Re("RestConnection",`Received RPC '${r}' ${u}: `,p),p),p=>{throw Jl("RestConnection",`RPC '${r}' ${u} failed with error: `,p,"url: ",d,"request:",i),p})}Lo(r,n,i,a,o,u){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cc}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=yB[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=cv();return new Promise((o,u)=>{const d=new HR;d.setWithCredentials(!0),d.listenOnce(GR.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ep.NO_ERROR:const p=d.getResponseJson();Re(Rr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case ep.TIMEOUT:Re(Rr,`RPC '${e}' ${a} timed out`),u(new Me(Se.DEADLINE_EXCEEDED,"Request time out"));break;case ep.HTTP_ERROR:const g=d.getStatus();if(Re(Rr,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const S=function(b){const P=b.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(P)>=0?P:Se.UNKNOWN}(x.status);u(new Me(S,x.message))}else u(new Me(Se.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Me(Se.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Re(Rr,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Re(Rr,`RPC '${e}' ${a} sending request:`,i),d.send(r,"POST",f,n,15)})}Bo(e,r,n){const i=cv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XR(),u=YR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=a.join("");Re(Rr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=o.createWebChannel(p,d);let y=!1,x=!1;const S=new xB({Io:b=>{x?Re(Rr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(Re(Rr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),Re(Rr,`RPC '${e}' stream ${i} sending:`,b),g.send(b))},To:()=>g.close()}),_=(b,P,A)=>{b.listen(P,O=>{try{A(O)}catch(R){setTimeout(()=>{throw R},0)}})};return _(g,Lu.EventType.OPEN,()=>{x||(Re(Rr,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),_(g,Lu.EventType.CLOSE,()=>{x||(x=!0,Re(Rr,`RPC '${e}' stream ${i} transport closed`),S.So())}),_(g,Lu.EventType.ERROR,b=>{x||(x=!0,Jl(Rr,`RPC '${e}' stream ${i} transport errored:`,b),S.So(new Me(Se.UNAVAILABLE,"The operation could not be completed")))}),_(g,Lu.EventType.MESSAGE,b=>{var P;if(!x){const A=b.data[0];Vt(!!A);const O=A,R=O.error||((P=O[0])===null||P===void 0?void 0:P.error);if(R){Re(Rr,`RPC '${e}' stream ${i} received error:`,R);const E=R.status;let N=function(L){const I=Ht[L];if(I!==void 0)return yM(I)}(E),T=R.message;N===void 0&&(N=Se.INTERNAL,T="Unknown error status: "+E+" with message "+R.message),x=!0,S.So(new Me(N,T)),g.close()}else Re(Rr,`RPC '${e}' stream ${i} received:`,A),S.bo(A)}}),_(u,KR.STAT_EVENT,b=>{b.stat===kw.PROXY?Re(Rr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===kw.NOPROXY&&Re(Rr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function uv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t){return new DU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,r,n,i,a,o,u,d){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new CM(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Se.RESOURCE_EXHAUSTED?(Aa(r.toString()),Aa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Me(Se.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _B extends wB{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=$U(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ge.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ge.min():o.readTime?Gl(o.readTime):Ge.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=bT(this.serializer),r.addTarget=function(a,o){let u;const d=o.target;if(u=Aw(d)?{documents:FU(a,d)}:{query:VU(a,d)._t},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=wM(a,o.resumeToken);const f=Iw(a,o.expectedCount);f!==null&&(u.expectedCount=f)}else if(o.snapshotVersion.compareTo(Ge.min())>0){u.readTime=Rw(a,o.snapshotVersion.toTimestamp());const f=Iw(a,o.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const n=BU(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=bT(this.serializer),r.removeTarget=e,this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Me(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,Mw(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(Se.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Lo(e,Mw(r,n),i,o,u,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(Se.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class kB{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Aa(r),this.D_=!1):Re("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{rf(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(d){const f=nt(d);f.L_.add(4),await tf(f),f.q_.set("Unknown"),f.L_.delete(4),await Im(f)}(this))})}),this.q_=new kB(n,i)}}async function Im(t){if(rf(t))for(const e of t.B_)await e(!0)}async function tf(t){for(const e of t.B_)await e(!1)}function OM(t,e){const r=nt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),B1(r)?U1(r):Ic(r).r_()&&V1(r,e))}function F1(t,e){const r=nt(t),n=Ic(r);r.N_.delete(e),n.r_()&&IM(r,e),r.N_.size===0&&(n.r_()?n.o_():rf(r)&&r.q_.set("Unknown"))}function V1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ic(t).A_(e)}function IM(t,e){t.Q_.xe(e),Ic(t).R_(e)}function U1(t){t.Q_=new OU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ic(t).start(),t.q_.v_()}function B1(t){return rf(t)&&!Ic(t).n_()&&t.N_.size>0}function rf(t){return nt(t).L_.size===0}function RM(t){t.Q_=void 0}async function EB(t){t.q_.set("Online")}async function TB(t){t.N_.forEach((e,r)=>{V1(t,e)})}async function AB(t,e){RM(t),B1(t)?(t.q_.M_(e),U1(t)):t.q_.set("Unknown")}async function NB(t,e,r){if(t.q_.set("Online"),e instanceof bM&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const u of a.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(n){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await kT(t,n)}else if(e instanceof rp?t.Q_.Ke(e):e instanceof xM?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ge.min()))try{const n=await PM(t.localStore);r.compareTo(n)>=0&&await function(a,o){const u=a.Q_.rt(o);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.N_.get(f);p&&a.N_.set(f,p.withResumeToken(d.resumeToken,o))}}),u.targetMismatches.forEach((d,f)=>{const p=a.N_.get(d);if(!p)return;a.N_.set(d,p.withResumeToken(Ar.EMPTY_BYTE_STRING,p.snapshotVersion)),IM(a,d);const g=new ws(p.target,d,f,p.sequenceNumber);V1(a,g)}),a.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(n){Re("RemoteStore","Failed to raise snapshot:",n),await kT(t,n)}}async function kT(t,e,r){if(!Qd(e))throw e;t.L_.add(1),await tf(t),t.q_.set("Offline"),r||(r=()=>PM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Im(t)})}async function jT(t,e){const r=nt(t);r.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const n=rf(r);r.L_.add(3),await tf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Im(r)}async function PB(t,e){const r=nt(t);e?(r.L_.delete(2),await Im(r)):e||(r.L_.add(2),await tf(r),r.q_.set("Unknown"))}function Ic(t){return t.K_||(t.K_=function(r,n,i){const a=nt(r);return a.w_(),new _B(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:EB.bind(null,t),Ro:TB.bind(null,t),mo:AB.bind(null,t),d_:NB.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),B1(t)?U1(t):t.q_.set("Unknown")):(await t.K_.stop(),RM(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,u=new q1(e,r,o,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function MM(t,e){if(Aa("AsyncQueue",`${e}: ${t}`),Qd(t))return new Me(Se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Fe.comparator(r.key,n.key):(r,n)=>Fe.comparator(r.key,n.key),this.keyedMap=$u(),this.sortedSet=new qt(this.comparator)}static emptySet(e){return new Kl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Kl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Kl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.W_=new qt(Fe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ke():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class nc{constructor(e,r,n,i,a,o,u,d,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(u=>{o.push({type:0,doc:u})}),new nc(e,r,Kl.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class OB{constructor(){this.queries=TT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=nt(r),a=i.queries;i.queries=TT(),a.forEach((o,u)=>{for(const d of u.j_)d.onError(n)})})(this,new Me(Se.ABORTED,"Firestore shutting down"))}}function TT(){return new Oc(t=>lM(t),Tm)}async function IB(t,e){const r=nt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new CB,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const u=MM(o,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&z1(r)}async function RB(t,e){const r=nt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function MB(t,e){const r=nt(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const u of o.j_)u.X_(i)&&(n=!0);o.z_=i}}n&&z1(r)}function DB(t,e,r){const n=nt(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function z1(t){t.Y_.forEach(e=>{e.next()})}var Lw,AT;(AT=Lw||(Lw={})).ea="default",AT.Cache="cache";class LB{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new nc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Lw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.key=e}}class LM{constructor(e){this.key=e}}class $B{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=at(),this.mutatedKeys=at(),this.Aa=cM(e),this.Ra=new Kl(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new ET,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const y=i.get(p),x=Am(this.query,g)?g:null,S=!!y&&this.mutatedKeys.has(y.key),_=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;y&&x?y.data.isEqual(x.data)?S!==_&&(n.track({type:3,doc:x}),b=!0):this.ga(y,x)||(n.track({type:2,doc:x}),b=!0,(d&&this.Aa(x,d)>0||f&&this.Aa(x,f)<0)&&(u=!0)):!y&&x?(n.track({type:0,doc:x}),b=!0):y&&!x&&(n.track({type:1,doc:y}),b=!0,(d||f)&&(u=!0)),b&&(x?(o=o.add(x),a=_?a.add(p):a.delete(p)):(o=o.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{Ra:o,fa:n,ns:u,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,g)=>function(x,S){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return _(x)-_(S)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(n),i=i!=null&&i;const u=r&&!i?this.ya():[],d=this.da.size===0&&this.current&&!i?1:0,f=d!==this.Ea;return this.Ea=d,o.length!==0||f?{snapshot:new nc(this.query,e.Ra,a,o,e.mutatedKeys,d===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ET,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=at(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new LM(n))}),this.da.forEach(n=>{e.has(n)||r.push(new DM(n))}),r}ba(e){this.Ta=e.Ts,this.da=at();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return nc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class FB{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class VB{constructor(e){this.key=e,this.va=!1}}class UB{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Oc(u=>lM(u),Tm),this.Ma=new Map,this.xa=new Set,this.Oa=new qt(Fe.comparator),this.Na=new Map,this.La=new D1,this.Ba={},this.ka=new Map,this.qa=rc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function BB(t,e,r=!0){const n=BM(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await $M(n,e,r,!0),i}async function qB(t,e){const r=BM(t);await $M(r,e,!0,!1)}async function $M(t,e,r,n){const i=await pB(t.localStore,Fi(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await zB(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&OM(t.remoteStore,i),u}async function zB(t,e,r,n,i){t.Ka=(g,y,x)=>async function(_,b,P,A){let O=b.view.ma(P);O.ns&&(O=await wT(_.localStore,b.query,!1).then(({documents:T})=>b.view.ma(T,O)));const R=A&&A.targetChanges.get(b.targetId),E=A&&A.targetMismatches.get(b.targetId)!=null,N=b.view.applyChanges(O,_.isPrimaryClient,R,E);return PT(_,b.targetId,N.wa),N.snapshot}(t,g,y,x);const a=await wT(t.localStore,e,!0),o=new $B(e,a.Ts),u=o.ma(a.documents),d=ef.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=o.applyChanges(u,t.isPrimaryClient,d);PT(t,r,f.wa);const p=new FB(e,r,o);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),f.snapshot}async function WB(t,e,r){const n=nt(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!Tm(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Dw(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&F1(n.remoteStore,i.targetId),$w(n,i.targetId)}).catch(k1)):($w(n,i.targetId),await Dw(n.localStore,i.targetId,!0))}async function HB(t,e){const r=nt(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),F1(r.remoteStore,n.targetId))}async function FM(t,e){const r=nt(t);try{const n=await fB(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Vt(o.va):i.removedDocuments.size>0&&(Vt(o.va),o.va=!1))}),await UM(r,n,e)}catch(n){await k1(n)}}function NT(t,e,r){const n=nt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const u=o.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const d=nt(o);d.onlineState=u;let f=!1;d.queries.forEach((p,g)=>{for(const y of g.j_)y.Z_(u)&&(f=!0)}),f&&z1(d)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function GB(t,e,r){const n=nt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new qt(Fe.comparator);o=o.insert(a,Lr.newNoDocument(a,Ge.min()));const u=at().add(a),d=new Cm(Ge.min(),new Map,new qt(ct),o,u);await FM(n,d),n.Oa=n.Oa.remove(a),n.Na.delete(e),W1(n)}else await Dw(n.localStore,e,!1).then(()=>$w(n,e,r)).catch(k1)}function $w(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||VM(t,n)})}function VM(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(F1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),W1(t))}function PT(t,e,r){for(const n of r)n instanceof DM?(t.La.addReference(n.key,e),KB(t,n)):n instanceof LM?(Re("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||VM(t,n.key)):Ke()}function KB(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Re("SyncEngine","New document in limbo: "+r),t.xa.add(n),W1(t))}function W1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Fe(At.fromString(e)),n=t.qa.next();t.Na.set(n,new VB(r)),t.Oa=t.Oa.insert(r,n),OM(t.remoteStore,new ws(Fi(C1(r.path)),n,"TargetPurposeLimboResolution",j1.oe))}}async function UM(t,e,r){const n=nt(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((u,d)=>{o.push(n.Ka(d,e,r).then(f=>{var p;if((f||r)&&n.isPrimaryClient){const g=f?!f.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){i.push(f);const g=$1.Wi(d.targetId,f);a.push(g)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(d,f){const p=nt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>be.forEach(f,y=>be.forEach(y.$i,x=>p.persistence.referenceDelegate.addReference(g,y.targetId,x)).next(()=>be.forEach(y.Ui,x=>p.persistence.referenceDelegate.removeReference(g,y.targetId,x)))))}catch(g){if(!Qd(g))throw g;Re("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const x=p.os.get(y),S=x.snapshotVersion,_=x.withLastLimboFreeSnapshotVersion(S);p.os=p.os.insert(y,_)}}}(n.localStore,a))}async function YB(t,e){const r=nt(t);if(!r.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const n=await NM(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(u=>{u.forEach(d=>{d.reject(new Me(Se.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await UM(r,n.hs)}}function XB(t,e){const r=nt(t),n=r.Na.get(e);if(n&&n.va)return at().add(n.key);{let i=at();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const u=r.Fa.get(o);i=i.unionWith(u.view.Va)}return i}}function BM(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GB.bind(null,e),e.Ca.d_=MB.bind(null,e.eventManager),e.Ca.$a=DB.bind(null,e.eventManager),e}class bp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Om(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return dB(this.persistence,new cB,e.initialUser,this.serializer)}Ga(e){return new sB(L1.Zr,this.serializer)}Wa(e){return new gB}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bp.provider={build:()=>new bp};class Fw{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>NT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=YB.bind(null,this.syncEngine),await PB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OB}()}createDatastore(e){const r=Om(e.databaseInfo.databaseId),n=function(a){return new bB(a)}(e.databaseInfo);return function(a,o,u,d){return new SB(a,o,u,d)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,u){return new jB(n,i,a,o,u)}(this.localStore,this.datastore,e.asyncQueue,r=>NT(this.syncEngine,r,0),function(){return ST.D()?new ST:new vB}())}createSyncEngine(e,r){return function(i,a,o,u,d,f,p){const g=new UB(i,a,o,u,d,f);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=nt(i);Re("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await tf(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Fw.provider={build:()=>new Fw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Aa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Dr.UNAUTHENTICATED,this.clientId=JR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{Re("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=MM(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function dv(t,e){t.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await NM(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function CT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await ZB(t);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>jT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>jT(e.remoteStore,i)),t._onlineComponents=e}async function ZB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await dv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Jl("Error using user provided cache. Falling back to memory cache: "+r),await dv(t,new bp)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await dv(t,new bp);return t._offlineComponents}async function e9(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await CT(t,t._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await CT(t,new Fw))),t._onlineComponents}async function OT(t){const e=await e9(t),r=e.eventManager;return r.onListen=BB.bind(null,e.syncEngine),r.onUnlisten=WB.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=qB.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=HB.bind(null,e.syncEngine),r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t,e,r){if(!r)throw new Me(Se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t9(t,e,r,n){if(e===!0&&n===!0)throw new Me(Se.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function RT(t){if(!Fe.isDocumentKey(t))throw new Me(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MT(t){if(Fe.isDocumentKey(t))throw new Me(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function np(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Rm(t);throw new Me(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Me(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qM((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Me(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Me(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Me(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new MV;switch(n.type){case"firstParty":return new FV(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Me(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=IT.get(r);n&&(Re("ComponentProvider","Removing Datastore"),IT.delete(r),n.terminate())}(this),Promise.resolve()}}function r9(t,e,r,n={}){var i;const a=(t=np(t,Mm))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=Dr.MOCK_USER;else{u=iR(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Me(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Dr(f)}t._authCredentials=new DV(new QR(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Rc(this.firestore,e,this._query)}}class Tn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class js extends Rc{constructor(e,r,n){super(e,r,C1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Fe(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function n9(t,e,...r){if(t=Jr(t),zM("collection","path",e),t instanceof Mm){const n=At.fromString(e,...r);return MT(n),new js(t,null,n)}{if(!(t instanceof Tn||t instanceof js))throw new Me(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(At.fromString(e,...r));return MT(n),new js(t.firestore,null,n)}}function i9(t,e,...r){if(t=Jr(t),arguments.length===1&&(e=JR.newId()),zM("doc","path",e),t instanceof Mm){const n=At.fromString(e,...r);return RT(n),new Tn(t,null,new Fe(n))}{if(!(t instanceof Tn||t instanceof js))throw new Me(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(At.fromString(e,...r));return RT(n),new Tn(t.firestore,t instanceof js?t.converter:null,new Fe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new CM(this,"async_queue_retry"),this.Vu=()=>{const n=uv();n&&Re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=uv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=uv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Hl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Qd(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(n);throw Aa("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=q1.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function $T(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Vw extends Mm{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new LT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LT(e),this._firestoreClient=void 0,await e}}}function a9(t,e){const r=typeof t=="object"?t:h1(),n=typeof t=="string"?t:"(default)",i=_m(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=tR("firestore");a&&r9(i,...a)}return i}function s9(t){if(t._terminated)throw new Me(Se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||o9(t),t._firestoreClient}function o9(t){var e,r,n;const i=t._freezeSettings(),a=function(u,d,f,p){return new JV(u,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qM(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new JB(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(Ar.fromBase64String(e))}catch(r){throw new Me(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ic(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Me(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Me(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Me(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=/^__.*__$/;function GM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class K1{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new K1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Uw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(GM(this.Cu)&&l9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class c9{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Om(e)}Qu(e,r,n,i=!1){return new K1({Cu:e,methodName:r,qu:n,path:Fr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u9(t){const e=t._freezeSettings(),r=Om(t._databaseId);return new c9(t._databaseId,!!e.ignoreUndefinedProperties,r)}function d9(t,e,r,n=!1){return Y1(r,t.Qu(n?4:3,e))}function Y1(t,e){if(KM(t=Jr(t)))return h9("Unsupported field value:",e,t),f9(t,e);if(t instanceof HM)return function(n,i){if(!GM(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const u of n){let d=Y1(u,i.Lu(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Jr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=vr.fromDate(n);return{timestampValue:Rw(i.serializer,a)}}if(n instanceof vr){const a=new vr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Rw(i.serializer,a)}}if(n instanceof H1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ic)return{bytesValue:wM(i.serializer,n._byteString)};if(n instanceof Tn){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_M(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof G1)return function(o,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw u.Bu("VectorValues must only contain numeric values.");return O1(u.serializer,d)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Rm(n)}`)}(t,e)}function f9(t,e){const r={};return ZR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jd(t,(n,i)=>{const a=Y1(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function KM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vr||t instanceof H1||t instanceof ic||t instanceof Tn||t instanceof HM||t instanceof G1)}function h9(t,e,r){if(!KM(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Rm(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}const p9=new RegExp("[~\\*/\\[\\]]");function m9(t,e,r){if(e.search(p9)>=0)throw Uw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new WM(...e.split("."))._internalPath}catch{throw Uw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Uw(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${n}`),o&&(d+=` in document ${i}`),d+=")"),new Me(Se.INVALID_ARGUMENT,u+t+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(XM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class g9 extends YM{data(){return super.data()}}function XM(t,e){return typeof e=="string"?m9(t,e):e instanceof WM?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X1{}class y9 extends X1{}function x9(t,e,...r){let n=[];e instanceof X1&&n.push(e),n=n.concat(r),function(a){const o=a.filter(d=>d instanceof J1).length,u=a.filter(d=>d instanceof Q1).length;if(o>1||o>0&&u>0)throw new Me(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Q1 extends y9{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Q1(e,r,n)}_apply(e){const r=this._parse(e);return QM(e._query,r),new Rc(e.firestore,e.converter,Nw(e._query,r))}_parse(e){const r=u9(e.firestore);return function(a,o,u,d,f,p,g){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Me(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){VT(g,p);const x=[];for(const S of g)x.push(FT(d,a,S));y={arrayValue:{values:x}}}else y=FT(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||VT(g,p),y=d9(u,o,g,p==="in"||p==="not-in");return Kt.create(f,p,y)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class J1 extends X1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new J1(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:vi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const u=a.getFlattenedFilters();for(const d of u)QM(o,d),o=Nw(o,d)}(e._query,r),new Rc(e.firestore,e.converter,Nw(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FT(t,e,r){if(typeof(r=Jr(r))=="string"){if(r==="")throw new Me(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oM(e)&&r.indexOf("/")!==-1)throw new Me(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(At.fromString(r));if(!Fe.isDocumentKey(n))throw new Me(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return iT(t,new Fe(n))}if(r instanceof Tn)return iT(t,r._key);throw new Me(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rm(r)}.`)}function VT(t,e){if(!Array.isArray(t)||t.length===0)throw new Me(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QM(t,e){const r=function(i,a){for(const o of i)for(const u of o.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Me(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class b9{convertValue(e,r="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Jd(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Bt(o.doubleValue));return new G1(a)}convertGeoPoint(e){return new H1(Bt(e.latitude),Bt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=T1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(ad(e));default:return null}}convertTimestamp(e){const r=Cs(e);return new vr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=At.fromString(e);Vt(AM(n));const i=new sd(n.get(1),n.get(3)),a=new Fe(n.popFirst(5));return i.isEqual(r)||Aa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JM extends YM{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(XM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class ip extends JM{data(e={}){return super.data(e)}}class w9{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Vu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new ip(this._firestore,this._userDataWriter,n.key,n,new Vu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Me(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const d=new ip(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Vu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const d=new ip(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Vu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return u.type!==0&&(f=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),p=o.indexOf(u.doc.key)),{type:_9(u.type),doc:d,oldIndex:f,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function _9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}class ZM extends b9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,r)}}function UT(t,...e){var r,n,i;t=Jr(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||$T(e[o])||(a=e[o],o++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if($T(e[o])){const g=e[o];e[o]=(r=g.next)===null||r===void 0?void 0:r.bind(g),e[o+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,f,p;if(t instanceof Tn)f=np(t.firestore,Vw),p=C1(t._key.path),d={next:g=>{e[o]&&e[o](S9(f,t,g))},error:e[o+1],complete:e[o+2]};else{const g=np(t,Rc);f=np(g.firestore,Vw),p=g._query;const y=new ZM(f);d={next:x=>{e[o]&&e[o](new w9(f,y,g,x))},error:e[o+1],complete:e[o+2]},v9(t._query)}return function(y,x,S,_){const b=new QB(_),P=new LB(x,b,S);return y.asyncQueue.enqueueAndForget(async()=>IB(await OT(y),P)),()=>{b.Za(),y.asyncQueue.enqueueAndForget(async()=>RB(await OT(y),P))}}(s9(f),p,u,d)}function S9(t,e,r){const n=r.docs.get(e._key),i=new ZM(t);return new JM(t,i,e._key,n,new Vu(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Cc=i})(Bo),Po(new Ns("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),u=new Vw(new LV(n.getProvider("auth-internal")),new UV(n.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Me(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(f.options.projectId,p)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Di(ZE,"4.7.3",e),Di(ZE,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="firebasestorage.googleapis.com",k9="storageBucket",j9=2*60*1e3,E9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Hi{constructor(e,r,n=0){super(fv(e),`Firebase Storage: ${r} (${fv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qi||(qi={}));function fv(t){return"storage/"+t}function T9(){const t="An unknown error occurred, please check the error payload for server response.";return new Gi(qi.UNKNOWN,t)}function A9(){return new Gi(qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function N9(){return new Gi(qi.CANCELED,"User canceled the upload/download.")}function P9(t){return new Gi(qi.INVALID_URL,"Invalid URL '"+t+"'.")}function C9(t){return new Gi(qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function BT(t){return new Gi(qi.INVALID_ARGUMENT,t)}function tD(){return new Gi(qi.APP_DELETED,"The Firebase app was deleted.")}function O9(t){return new Gi(qi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=hi.makeFromUrl(e,r)}catch{return new hi(e,"")}if(n.path==="")return n;throw C9(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),d={bucket:1,path:3};function f(R){R.path_=decodeURIComponent(R.path)}const p="v[A-Za-z0-9_]+",g=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${p}/b/${i}/o${y}`,"i"),S={bucket:1,path:3},_=r===eD?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",P=new RegExp(`^https?://${_}/${i}/${b}`,"i"),O=[{regex:u,indices:d,postModify:a},{regex:x,indices:S,postModify:f},{regex:P,indices:{bucket:1,path:2},postModify:f}];for(let R=0;R<O.length;R++){const E=O[R],N=E.regex.exec(e);if(N){const T=N[E.indices.bucket];let C=N[E.indices.path];C||(C=""),n=new hi(T,C),E.postModify(n);break}}if(n==null)throw P9(e);return n}}class I9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t,e,r){let n=1,i=null,a=null,o=!1,u=0;function d(){return u===2}let f=!1;function p(...b){f||(f=!0,e.apply(null,b))}function g(b){i=setTimeout(()=>{i=null,t(x,d())},b)}function y(){a&&clearTimeout(a)}function x(b,...P){if(f){y();return}if(b){y(),p.call(null,b,...P);return}if(d()||o){y(),p.call(null,b,...P);return}n<64&&(n*=2);let O;u===1?(u=2,O=0):O=(n+Math.random())*1e3,g(O)}let S=!1;function _(b){S||(S=!0,y(),!f&&(i!==null?(b||(u=2),clearTimeout(i),g(0)):b||(u=1)))}return g(0),a=setTimeout(()=>{o=!0,_(!0)},r),_}function M9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){return t!==void 0}function qT(t,e,r,n){if(n<e)throw BT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw BT(`Invalid value for '${t}'. Expected ${r} or less.`)}function L9(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var wp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wp||(wp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,r,n,i,a,o,u,d,f,p,g,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,S)=>{this.resolve_=x,this.reject_=S,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Rh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const u=a.getErrorCode()===wp.NO_ERROR,d=a.getStatus();if(!u||$9(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===wp.ABORT;n(!1,new Rh(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;n(!0,new Rh(f,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());D9(d)?a(d):a()}catch(d){o(d)}else if(u!==null){const d=T9();d.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,d)):o(d)}else if(i.canceled){const d=this.appDelete_?tD():N9();o(d)}else{const d=A9();o(d)}};this.canceled_?r(!1,new Rh(!1,null,!0)):this.backoffId_=R9(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&M9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rh{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function V9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function U9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function B9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function q9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function z9(t,e,r,n,i,a,o=!0){const u=L9(t.urlParams),d=t.url+u,f=Object.assign({},t.headers);return B9(f,e),V9(f,r),U9(f,a),q9(f,n),new F9(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function H9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,r){this._service=e,r instanceof hi?this._location=r:this._location=hi.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new _p(e,r)}get root(){const e=new hi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H9(this._location.path)}get storage(){return this._service}get parent(){const e=W9(this._location.path);if(e===null)return null;const r=new hi(this._location.bucket,e);return new _p(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw O9(e)}}function zT(t,e){const r=e?.[k9];return r==null?null:hi.makeFromBucketSpec(r,t)}function G9(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:iR(i,t.app.options.projectId))}class K9{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=eD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=j9,this._maxUploadRetryTime=E9,this._requests=new Set,i!=null?this._bucket=hi.makeFromBucketSpec(i,this._host):this._bucket=zT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hi.makeFromBucketSpec(this._url,e):this._bucket=zT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _p(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new I9(tD());{const o=z9(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const WT="@firebase/storage",HT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="storage";function Y9(t=h1(),e){t=Jr(t);const n=_m(t,rD).getImmediate({identifier:e}),i=tR("storage");return i&&X9(n,...i),n}function X9(t,e,r,n={}){G9(t,e,r,n)}function Q9(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new K9(r,n,i,e,Bo)}function J9(){Po(new Ns(rD,Q9,"PUBLIC").setMultipleInstances(!0)),Di(WT,HT,""),Di(WT,HT,"esm2017")}J9();/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nD=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var e8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...u},d)=>B.createElement("svg",{ref:d,...e8,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:nD("lucide",i),...u},[...o.map(([f,p])=>B.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const r=B.forwardRef(({className:n,...i},a)=>B.createElement(t8,{ref:a,iconNode:e,className:nD(`lucide-${Z9(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=De("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=De("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=De("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=De("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=De("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=De("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=De("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=De("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=De("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=De("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=De("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=De("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=De("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=De("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=De("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=De("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=De("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=De("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=De("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=De("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=De("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=De("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=De("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=De("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=De("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=De("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=De("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=De("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),w8=({setUserId:t})=>{const[e,r]=B.useState(!0),[n,i]=B.useState(""),[a,o]=B.useState(""),[u,d]=B.useState(""),[f,p]=B.useState(!1),g=zR(),y=async x=>{x.preventDefault(),d(""),p(!0);try{e?await bF(g,n,a):await xF(g,n,a)}catch(S){d(S.message)}finally{p(!1)}};return c.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(fn,{className:"mx-auto h-12 w-auto text-cyan-500"}),c.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[c.jsxs("form",{className:"space-y-6",onSubmit:y,children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:x=>i(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:x=>o(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),u&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("p",{className:"text-sm text-red-700",children:u})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:f,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:f?"Processing...":e?"Sign in":"Create account"})})]}),c.jsx("div",{className:"mt-6",children:c.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",c.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},Oi=({title:t,value:e,icon:r,color:n,subtext:i})=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),c.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]});function uD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=uD(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=uD(t))&&(n&&(n+=" "),n+=e);return n}var pv,JT;function pn(){if(JT)return pv;JT=1;var t=Array.isArray;return pv=t,pv}var mv,ZT;function dD(){if(ZT)return mv;ZT=1;var t=typeof Th=="object"&&Th&&Th.Object===Object&&Th;return mv=t,mv}var gv,eA;function Ki(){if(eA)return gv;eA=1;var t=dD(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return gv=r,gv}var vv,tA;function af(){if(tA)return vv;tA=1;var t=Ki(),e=t.Symbol;return vv=e,vv}var yv,rA;function _8(){if(rA)return yv;rA=1;var t=af(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var u=r.call(o,i),d=o[i];try{o[i]=void 0;var f=!0}catch{}var p=n.call(o);return f&&(u?o[i]=d:delete o[i]),p}return yv=a,yv}var xv,nA;function S8(){if(nA)return xv;nA=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return xv=r,xv}var bv,iA;function Ma(){if(iA)return bv;iA=1;var t=af(),e=_8(),r=S8(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return bv=o,bv}var wv,aA;function Da(){if(aA)return wv;aA=1;function t(e){return e!=null&&typeof e=="object"}return wv=t,wv}var _v,sA;function Lc(){if(sA)return _v;sA=1;var t=Ma(),e=Da(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return _v=n,_v}var Sv,oA;function eS(){if(oA)return Sv;oA=1;var t=pn(),e=Lc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return Sv=i,Sv}var kv,lA;function Ds(){if(lA)return kv;lA=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return kv=t,kv}var jv,cA;function tS(){if(cA)return jv;cA=1;var t=Ma(),e=Ds(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(u){if(!e(u))return!1;var d=t(u);return d==n||d==i||d==r||d==a}return jv=o,jv}var Ev,uA;function k8(){if(uA)return Ev;uA=1;var t=Ki(),e=t["__core-js_shared__"];return Ev=e,Ev}var Tv,dA;function j8(){if(dA)return Tv;dA=1;var t=k8(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Tv=r,Tv}var Av,fA;function fD(){if(fA)return Av;fA=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Av=r,Av}var Nv,hA;function E8(){if(hA)return Nv;hA=1;var t=tS(),e=j8(),r=Ds(),n=fD(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,d=o.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(y){if(!r(y)||e(y))return!1;var x=t(y)?p:a;return x.test(n(y))}return Nv=g,Nv}var Pv,pA;function T8(){if(pA)return Pv;pA=1;function t(e,r){return e?.[r]}return Pv=t,Pv}var Cv,mA;function zo(){if(mA)return Cv;mA=1;var t=E8(),e=T8();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Cv=r,Cv}var Ov,gA;function Vm(){if(gA)return Ov;gA=1;var t=zo(),e=t(Object,"create");return Ov=e,Ov}var Iv,vA;function A8(){if(vA)return Iv;vA=1;var t=Vm();function e(){this.__data__=t?t(null):{},this.size=0}return Iv=e,Iv}var Rv,yA;function N8(){if(yA)return Rv;yA=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Rv=t,Rv}var Mv,xA;function P8(){if(xA)return Mv;xA=1;var t=Vm(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var u=o[a];return u===e?void 0:u}return n.call(o,a)?o[a]:void 0}return Mv=i,Mv}var Dv,bA;function C8(){if(bA)return Dv;bA=1;var t=Vm(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return Dv=n,Dv}var Lv,wA;function O8(){if(wA)return Lv;wA=1;var t=Vm(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return Lv=r,Lv}var $v,_A;function I8(){if(_A)return $v;_A=1;var t=A8(),e=N8(),r=P8(),n=C8(),i=O8();function a(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,$v=a,$v}var Fv,SA;function R8(){if(SA)return Fv;SA=1;function t(){this.__data__=[],this.size=0}return Fv=t,Fv}var Vv,kA;function rS(){if(kA)return Vv;kA=1;function t(e,r){return e===r||e!==e&&r!==r}return Vv=t,Vv}var Uv,jA;function Um(){if(jA)return Uv;jA=1;var t=rS();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Uv=e,Uv}var Bv,EA;function M8(){if(EA)return Bv;EA=1;var t=Um(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var u=a.length-1;return o==u?a.pop():r.call(a,o,1),--this.size,!0}return Bv=n,Bv}var qv,TA;function D8(){if(TA)return qv;TA=1;var t=Um();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return qv=e,qv}var zv,AA;function L8(){if(AA)return zv;AA=1;var t=Um();function e(r){return t(this.__data__,r)>-1}return zv=e,zv}var Wv,NA;function $8(){if(NA)return Wv;NA=1;var t=Um();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Wv=e,Wv}var Hv,PA;function Bm(){if(PA)return Hv;PA=1;var t=R8(),e=M8(),r=D8(),n=L8(),i=$8();function a(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Hv=a,Hv}var Gv,CA;function nS(){if(CA)return Gv;CA=1;var t=zo(),e=Ki(),r=t(e,"Map");return Gv=r,Gv}var Kv,OA;function F8(){if(OA)return Kv;OA=1;var t=I8(),e=Bm(),r=nS();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Kv=n,Kv}var Yv,IA;function V8(){if(IA)return Yv;IA=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Yv=t,Yv}var Xv,RA;function qm(){if(RA)return Xv;RA=1;var t=V8();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Xv=e,Xv}var Qv,MA;function U8(){if(MA)return Qv;MA=1;var t=qm();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Qv=e,Qv}var Jv,DA;function B8(){if(DA)return Jv;DA=1;var t=qm();function e(r){return t(this,r).get(r)}return Jv=e,Jv}var Zv,LA;function q8(){if(LA)return Zv;LA=1;var t=qm();function e(r){return t(this,r).has(r)}return Zv=e,Zv}var ey,$A;function z8(){if($A)return ey;$A=1;var t=qm();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return ey=e,ey}var ty,FA;function iS(){if(FA)return ty;FA=1;var t=F8(),e=U8(),r=B8(),n=q8(),i=z8();function a(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,ty=a,ty}var ry,VA;function hD(){if(VA)return ry;VA=1;var t=iS(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,u=i?i.apply(this,o):o[0],d=a.cache;if(d.has(u))return d.get(u);var f=n.apply(this,o);return a.cache=d.set(u,f)||d,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,ry=r,ry}var ny,UA;function W8(){if(UA)return ny;UA=1;var t=hD(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return ny=r,ny}var iy,BA;function H8(){if(BA)return iy;BA=1;var t=W8(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,u,d,f){a.push(d?f.replace(r,"$1"):u||o)}),a});return iy=n,iy}var ay,qA;function aS(){if(qA)return ay;qA=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return ay=t,ay}var sy,zA;function G8(){if(zA)return sy;zA=1;var t=af(),e=aS(),r=pn(),n=Lc(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(u){if(typeof u=="string")return u;if(r(u))return e(u,o)+"";if(n(u))return a?a.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return sy=o,sy}var oy,WA;function pD(){if(WA)return oy;WA=1;var t=G8();function e(r){return r==null?"":t(r)}return oy=e,oy}var ly,HA;function mD(){if(HA)return ly;HA=1;var t=pn(),e=eS(),r=H8(),n=pD();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return ly=i,ly}var cy,GA;function zm(){if(GA)return cy;GA=1;var t=Lc();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return cy=e,cy}var uy,KA;function sS(){if(KA)return uy;KA=1;var t=mD(),e=zm();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return uy=r,uy}var dy,YA;function gD(){if(YA)return dy;YA=1;var t=sS();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return dy=e,dy}var K8=gD();const Nn=ft(K8);var fy,XA;function Y8(){if(XA)return fy;XA=1;function t(e){return e==null}return fy=t,fy}var X8=Y8();const Je=ft(X8);var hy,QA;function Q8(){if(QA)return hy;QA=1;var t=Ma(),e=pn(),r=Da(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return hy=i,hy}var J8=Q8();const Do=ft(J8);var Z8=tS();const He=ft(Z8);var eq=Ds();const $c=ft(eq);var py={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function tq(){if(JA)return ut;JA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function _(b){if(typeof b=="object"&&b!==null){var P=b.$$typeof;switch(P){case t:switch(b=b.type,b){case r:case i:case n:case f:case p:return b;default:switch(b=b&&b.$$typeof,b){case u:case o:case d:case y:case g:case a:return b;default:return P}}case e:return P}}}return ut.ContextConsumer=o,ut.ContextProvider=a,ut.Element=t,ut.ForwardRef=d,ut.Fragment=r,ut.Lazy=y,ut.Memo=g,ut.Portal=e,ut.Profiler=i,ut.StrictMode=n,ut.Suspense=f,ut.SuspenseList=p,ut.isAsyncMode=function(){return!1},ut.isConcurrentMode=function(){return!1},ut.isContextConsumer=function(b){return _(b)===o},ut.isContextProvider=function(b){return _(b)===a},ut.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},ut.isForwardRef=function(b){return _(b)===d},ut.isFragment=function(b){return _(b)===r},ut.isLazy=function(b){return _(b)===y},ut.isMemo=function(b){return _(b)===g},ut.isPortal=function(b){return _(b)===e},ut.isProfiler=function(b){return _(b)===i},ut.isStrictMode=function(b){return _(b)===n},ut.isSuspense=function(b){return _(b)===f},ut.isSuspenseList=function(b){return _(b)===p},ut.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===f||b===p||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===g||b.$$typeof===a||b.$$typeof===o||b.$$typeof===d||b.$$typeof===S||b.getModuleId!==void 0)},ut.typeOf=_,ut}var ZA;function rq(){return ZA||(ZA=1,py.exports=tq()),py.exports}var nq=rq(),my,eN;function vD(){if(eN)return my;eN=1;var t=Ma(),e=Da(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return my=n,my}var gy,tN;function iq(){if(tN)return gy;tN=1;var t=vD();function e(r){return t(r)&&r!=+r}return gy=e,gy}var aq=iq();const sf=ft(aq);var sq=vD();const oq=ft(sq);var Kr=function(e){return e===0?0:e>0?1:-1},_o=function(e){return Do(e)&&e.indexOf("%")===e.length-1},ke=function(e){return oq(e)&&!sf(e)},lq=function(e){return Je(e)},sr=function(e){return ke(e)||Do(e)},cq=0,of=function(e){var r=++cq;return"".concat(e||"").concat(r)},Yr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!Do(e))return n;var a;if(_o(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return sf(a)&&(a=n),i&&a>r&&(a=r),a},xs=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},uq=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},hs=function(e,r){return ke(e)&&ke(r)?function(n){return e+n*(r-e)}:function(){return r}};function zw(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Nn(n,e))===r})}var dq=function(e,r){return ke(e)&&ke(r)?e-r:Do(e)&&Do(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Yl(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Ww(t){"@babel/helpers - typeof";return Ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ww(t)}var fq=["viewBox","children"],hq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rN=["points","pathLength"],vy={svg:fq,polygon:rN,polyline:rN},oS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ep=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(B.isValidElement(e)&&(n=e.props),!$c(n))return null;var i={};return Object.keys(n).forEach(function(a){oS.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},pq=function(e,r,n){return function(i){return e(r,n,i),null}},Lo=function(e,r,n){if(!$c(e)||Ww(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];oS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=pq(o,r,n))}),i},mq=["children"],gq=["children"];function nN(t,e){if(t==null)return{};var r=vq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var iN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ka=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},aN=null,yy=null,lS=function t(e){if(e===aN&&Array.isArray(yy))return yy;var r=[];return B.Children.forEach(e,function(n){Je(n)||(nq.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),yy=r,aN=e,r};function Kn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ka(i)}):n=[ka(e)],lS(t).forEach(function(i){var a=Nn(i,"type.displayName")||Nn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function jn(t,e){var r=Kn(t,e);return r&&r[0]}var sN=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ke(n)||n<=0||!ke(i)||i<=0)},yq=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xq=function(e){return e&&e.type&&Do(e.type)&&yq.indexOf(e.type)>=0},bq=function(e,r,n,i){var a,o=(a=vy?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!He(e)&&(i&&o.includes(r)||hq.includes(r))||n&&oS.includes(r)},ze=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!$c(i))return null;var a={};return Object.keys(i).forEach(function(o){var u;bq((u=i)===null||u===void 0?void 0:u[o],o,r,n)&&(a[o]=i[o])}),a},Hw=function t(e,r){if(e===r)return!0;var n=B.Children.count(e);if(n!==B.Children.count(r))return!1;if(n===0)return!0;if(n===1)return oN(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!oN(a,o))return!1}return!0},oN=function(e,r){if(Je(e)&&Je(r))return!0;if(!Je(e)&&!Je(r)){var n=e.props||{},i=n.children,a=nN(n,mq),o=r.props||{},u=o.children,d=nN(o,gq);return i&&u?Yl(a,d)&&Hw(i,u):!i&&!u?Yl(a,d):!1}return!1},lN=function(e,r){var n=[],i={};return lS(e).forEach(function(a,o){if(xq(a))n.push(a);else if(a){var u=ka(a.type),d=r[u]||{},f=d.handler,p=d.once;if(f&&(!p||!i[u])){var g=f(a,u,o);n.push(g),i[u]=!0}}}),n},wq=function(e){var r=e&&e.type;return r&&iN[r]?iN[r]:null},_q=function(e,r){return lS(r).indexOf(e)},Sq=["children","width","height","viewBox","className","style","title","desc"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gw.apply(this,arguments)}function kq(t,e){if(t==null)return{};var r=jq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kw(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,u=t.title,d=t.desc,f=kq(t,Sq),p=i||{width:r,height:n,x:0,y:0},g=Xe("recharts-surface",a);return H.createElement("svg",Gw({},ze(f,!0,"svg"),{className:g,width:r,height:n,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),H.createElement("title",null,u),H.createElement("desc",null,d),e)}var Eq=["children","className"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yw.apply(this,arguments)}function Tq(t,e){if(t==null)return{};var r=Aq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pt=H.forwardRef(function(t,e){var r=t.children,n=t.className,i=Tq(t,Eq),a=Xe("recharts-layer",n);return H.createElement("g",Yw({className:a},ze(i,!0),{ref:e}),r)}),mi=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},xy,cN;function Nq(){if(cN)return xy;cN=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return xy=t,xy}var by,uN;function Pq(){if(uN)return by;uN=1;var t=Nq();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return by=e,by}var wy,dN;function yD(){if(dN)return wy;dN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+i+a+"]");function d(f){return u.test(f)}return wy=d,wy}var _y,fN;function Cq(){if(fN)return _y;fN=1;function t(e){return e.split("")}return _y=t,_y}var Sy,hN;function Oq(){if(hN)return Sy;hN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",S=f+"?",_="["+a+"]?",b="(?:"+x+"(?:"+[p,g,y].join("|")+")"+_+S+")*",P=_+S+b,A="(?:"+[p+u+"?",u,g,y,o].join("|")+")",O=RegExp(d+"(?="+d+")|"+A+P,"g");function R(E){return E.match(O)||[]}return Sy=R,Sy}var ky,pN;function Iq(){if(pN)return ky;pN=1;var t=Cq(),e=yD(),r=Oq();function n(i){return e(i)?r(i):t(i)}return ky=n,ky}var jy,mN;function Rq(){if(mN)return jy;mN=1;var t=Pq(),e=yD(),r=Iq(),n=pD();function i(a){return function(o){o=n(o);var u=e(o)?r(o):void 0,d=u?u[0]:o.charAt(0),f=u?t(u,1).join(""):o.slice(1);return d[a]()+f}}return jy=i,jy}var Ey,gN;function Mq(){if(gN)return Ey;gN=1;var t=Rq(),e=t("toUpperCase");return Ey=e,Ey}var Dq=Mq();const Wm=ft(Dq);function St(t){return function(){return t}}const xD=Math.cos,Tp=Math.sin,yi=Math.sqrt,Ap=Math.PI,Hm=2*Ap,Xw=Math.PI,Qw=2*Xw,go=1e-6,Lq=Qw-go;function bD(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function $q(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bD;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Fq{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bD:$q(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,d=n-e,f=i-r,p=o-e,g=u-r,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>go)if(!(Math.abs(g*d-f*p)>go)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-o,S=i-u,_=d*d+f*f,b=x*x+S*S,P=Math.sqrt(_),A=Math.sqrt(y),O=a*Math.tan((Xw-Math.acos((_+y-b)/(2*P*A)))/2),R=O/A,E=O/P;Math.abs(R-1)>go&&this._append`L${e+R*p},${r+R*g}`,this._append`A${a},${a},0,0,${+(g*x>p*S)},${this._x1=e+E*d},${this._y1=r+E*f}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),f=e+u,p=r+d,g=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>go||Math.abs(this._y1-p)>go)&&this._append`L${f},${p}`,n&&(y<0&&(y=y%Qw+Qw),y>Lq?this._append`A${n},${n},0,1,${g},${e-u},${r-d}A${n},${n},0,1,${g},${this._x1=f},${this._y1=p}`:y>go&&this._append`A${n},${n},0,${+(y>=Xw)},${g},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function cS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Fq(e)}function uS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wD(t){this._context=t}wD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gm(t){return new wD(t)}function _D(t){return t[0]}function SD(t){return t[1]}function kD(t,e){var r=St(!0),n=null,i=Gm,a=null,o=cS(u);t=typeof t=="function"?t:t===void 0?_D:St(t),e=typeof e=="function"?e:e===void 0?SD:St(e);function u(d){var f,p=(d=uS(d)).length,g,y=!1,x;for(n==null&&(a=i(x=o())),f=0;f<=p;++f)!(f<p&&r(g=d[f],f,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(g,f,d),+e(g,f,d));if(x)return a=null,x+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:St(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:St(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:St(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),u):n},u}function Dh(t,e,r){var n=null,i=St(!0),a=null,o=Gm,u=null,d=cS(f);t=typeof t=="function"?t:t===void 0?_D:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?SD:St(+r);function f(g){var y,x,S,_=(g=uS(g)).length,b,P=!1,A,O=new Array(_),R=new Array(_);for(a==null&&(u=o(A=d())),y=0;y<=_;++y){if(!(y<_&&i(b=g[y],y,g))===P)if(P=!P)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=x;--S)u.point(O[S],R[S]);u.lineEnd(),u.areaEnd()}P&&(O[y]=+t(b,y,g),R[y]=+e(b,y,g),u.point(n?+n(b,y,g):O[y],r?+r(b,y,g):R[y]))}if(A)return u=null,A+""||null}function p(){return kD().defined(i).curve(o).context(a)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:St(+g),n=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:St(+g),f):t},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:St(+g),f):n},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:St(+g),r=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:St(+g),f):e},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:St(+g),f):r},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(r)},f.lineX1=function(){return p().x(n).y(e)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:St(!!g),f):i},f.curve=function(g){return arguments.length?(o=g,a!=null&&(u=o(a)),f):o},f.context=function(g){return arguments.length?(g==null?a=u=null:u=o(a=g),f):a},f}class jD{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Vq(t){return new jD(t,!0)}function Uq(t){return new jD(t,!1)}const dS={draw(t,e){const r=yi(e/Ap);t.moveTo(r,0),t.arc(0,0,r,0,Hm)}},Bq={draw(t,e){const r=yi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},ED=yi(1/3),qq=ED*2,zq={draw(t,e){const r=yi(e/qq),n=r*ED;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Wq={draw(t,e){const r=yi(e),n=-r/2;t.rect(n,n,r,r)}},Hq=.8908130915292852,TD=Tp(Ap/10)/Tp(7*Ap/10),Gq=Tp(Hm/10)*TD,Kq=-xD(Hm/10)*TD,Yq={draw(t,e){const r=yi(e*Hq),n=Gq*r,i=Kq*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Hm*a/5,u=xD(o),d=Tp(o);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*i,d*n+u*i)}t.closePath()}},Ty=yi(3),Xq={draw(t,e){const r=-yi(e/(Ty*3));t.moveTo(0,r*2),t.lineTo(-Ty*r,-r),t.lineTo(Ty*r,-r),t.closePath()}},Bn=-.5,qn=yi(3)/2,Jw=1/yi(12),Qq=(Jw/2+1)*3,Jq={draw(t,e){const r=yi(e/Qq),n=r/2,i=r*Jw,a=n,o=r*Jw+r,u=-a,d=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(u,d),t.lineTo(Bn*n-qn*i,qn*n+Bn*i),t.lineTo(Bn*a-qn*o,qn*a+Bn*o),t.lineTo(Bn*u-qn*d,qn*u+Bn*d),t.lineTo(Bn*n+qn*i,Bn*i-qn*n),t.lineTo(Bn*a+qn*o,Bn*o-qn*a),t.lineTo(Bn*u+qn*d,Bn*d-qn*u),t.closePath()}};function Zq(t,e){let r=null,n=cS(i);t=typeof t=="function"?t:St(t||dS),e=typeof e=="function"?e:St(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:St(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:St(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Np(){}function Pp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function AD(t){this._context=t}AD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ez(t){return new AD(t)}function ND(t){this._context=t}ND.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Pp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tz(t){return new ND(t)}function PD(t){this._context=t}PD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Pp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rz(t){return new PD(t)}function CD(t){this._context=t}CD.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function nz(t){return new CD(t)}function vN(t){return t<0?-1:1}function yN(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),u=(a*i+o*n)/(n+i);return(vN(a)+vN(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function xN(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Ay(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,o-u*r,a,o)}function Cp(t){this._context=t}Cp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ay(this,this._t0,xN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ay(this,xN(this,r=yN(this,t,e)),r);break;default:Ay(this,this._t0,r=yN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function OD(t){this._context=new ID(t)}(OD.prototype=Object.create(Cp.prototype)).point=function(t,e){Cp.prototype.point.call(this,e,t)};function ID(t){this._context=t}ID.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function iz(t){return new Cp(t)}function az(t){return new OD(t)}function RD(t){this._context=t}RD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=bN(t),i=bN(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function bN(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function sz(t){return new RD(t)}function Km(t,e){this._context=t,this._t=e}Km.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function oz(t){return new Km(t,.5)}function lz(t){return new Km(t,0)}function cz(t){return new Km(t,1)}function sc(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,u=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Zw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function uz(t,e){return t[e]}function dz(t){const e=[];return e.key=t,e}function fz(){var t=St([]),e=Zw,r=sc,n=uz;function i(a){var o=Array.from(t.apply(this,arguments),dz),u,d=o.length,f=-1,p;for(const g of a)for(u=0,++f;u<d;++u)(o[u][f]=[0,+n(g,o[u].key,f,a)]).data=g;for(u=0,p=uS(e(o));u<d;++u)o[p[u]].index=u;return r(o,p),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:St(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:St(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Zw:typeof a=="function"?a:St(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??sc,i):r},i}function hz(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}sc(t,e)}}function pz(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,u=0;o<i;++o)u+=t[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}sc(t,e)}}function mz(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var u=0,d=0,f=0;u<o;++u){for(var p=t[e[u]],g=p[n][1]||0,y=p[n-1][1]||0,x=(g-y)/2,S=0;S<u;++S){var _=t[e[S]],b=_[n][1]||0,P=_[n-1][1]||0;x+=b-P}d+=g,f+=x*g}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,sc(t,e)}}function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}var gz=["type","size","sizeType"];function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e_.apply(this,arguments)}function wN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _N(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(r),!0).forEach(function(n){vz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vz(t,e,r){return e=yz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yz(t){var e=xz(t,"string");return ud(e)=="symbol"?e:e+""}function xz(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bz(t,e){if(t==null)return{};var r=wz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var MD={symbolCircle:dS,symbolCross:Bq,symbolDiamond:zq,symbolSquare:Wq,symbolStar:Yq,symbolTriangle:Xq,symbolWye:Jq},_z=Math.PI/180,Sz=function(e){var r="symbol".concat(Wm(e));return MD[r]||dS},kz=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*_z;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jz=function(e,r){MD["symbol".concat(Wm(e))]=r},fS=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,u=o===void 0?"area":o,d=bz(e,gz),f=_N(_N({},d),{},{type:n,size:a,sizeType:u}),p=function(){var b=Sz(n),P=Zq().type(b).size(kz(a,u,n));return P()},g=f.className,y=f.cx,x=f.cy,S=ze(f,!0);return y===+y&&x===+x&&a===+a?H.createElement("path",e_({},S,{className:Xe("recharts-symbols",g),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};fS.registerSymbol=jz;function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t_.apply(this,arguments)}function SN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ez(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(r),!0).forEach(function(n){dd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Az(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LD(n.key),n)}}function Nz(t,e,r){return e&&Az(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pz(t,e,r){return e=Op(e),Cz(t,DD()?Reflect.construct(e,r||[],Op(t).constructor):e.apply(t,r))}function Cz(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oz(t)}function Oz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DD=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(t)}function Iz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r_(t,e)}function r_(t,e){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r_(t,e)}function dd(t,e,r){return e=LD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LD(t){var e=Rz(t,"string");return oc(e)=="symbol"?e:e+""}function Rz(t,e){if(oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zn=32,hS=function(t){function e(){return Tz(this,e),Pz(this,e,arguments)}return Iz(e,t),Nz(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=zn/2,o=zn/6,u=zn/3,d=n.inactive?i:n.color;if(n.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:zn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(zn,"M").concat(2*u,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return H.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(zn/8,"h").concat(zn,"v").concat(zn*3/4,"h").concat(-zn,"z"),className:"recharts-legend-icon"});if(H.isValidElement(n.legendIcon)){var f=Ez({},n);return delete f.legendIcon,H.cloneElement(n.legendIcon,f)}return H.createElement(fS,{fill:d,cx:a,cy:a,size:zn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:zn,height:zn},g={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,S){var _=x.formatter||d,b=Xe(dd(dd({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",x.inactive));if(x.type==="none")return null;var P=He(x.value)?null:x.value;mi(!He(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=x.inactive?f:x.color;return H.createElement("li",t_({className:b,style:g,key:"legend-item-".concat(S)},Lo(n.props,x,S)),H.createElement(Kw,{width:o,height:o,viewBox:p,style:y},n.renderIcon(x)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},_?_(P,x,S):P))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(B.PureComponent);dd(hS,"displayName","Legend");dd(hS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ny,kN;function Mz(){if(kN)return Ny;kN=1;var t=Bm();function e(){this.__data__=new t,this.size=0}return Ny=e,Ny}var Py,jN;function Dz(){if(jN)return Py;jN=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Py=t,Py}var Cy,EN;function Lz(){if(EN)return Cy;EN=1;function t(e){return this.__data__.get(e)}return Cy=t,Cy}var Oy,TN;function $z(){if(TN)return Oy;TN=1;function t(e){return this.__data__.has(e)}return Oy=t,Oy}var Iy,AN;function Fz(){if(AN)return Iy;AN=1;var t=Bm(),e=nS(),r=iS(),n=200;function i(a,o){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([a,o]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(a,o),this.size=u.size,this}return Iy=i,Iy}var Ry,NN;function $D(){if(NN)return Ry;NN=1;var t=Bm(),e=Mz(),r=Dz(),n=Lz(),i=$z(),a=Fz();function o(u){var d=this.__data__=new t(u);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,Ry=o,Ry}var My,PN;function Vz(){if(PN)return My;PN=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return My=e,My}var Dy,CN;function Uz(){if(CN)return Dy;CN=1;function t(e){return this.__data__.has(e)}return Dy=t,Dy}var Ly,ON;function FD(){if(ON)return Ly;ON=1;var t=iS(),e=Vz(),r=Uz();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Ly=n,Ly}var $y,IN;function VD(){if(IN)return $y;IN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return $y=t,$y}var Fy,RN;function UD(){if(RN)return Fy;RN=1;function t(e,r){return e.has(r)}return Fy=t,Fy}var Vy,MN;function BD(){if(MN)return Vy;MN=1;var t=FD(),e=VD(),r=UD(),n=1,i=2;function a(o,u,d,f,p,g){var y=d&n,x=o.length,S=u.length;if(x!=S&&!(y&&S>x))return!1;var _=g.get(o),b=g.get(u);if(_&&b)return _==u&&b==o;var P=-1,A=!0,O=d&i?new t:void 0;for(g.set(o,u),g.set(u,o);++P<x;){var R=o[P],E=u[P];if(f)var N=y?f(E,R,P,u,o,g):f(R,E,P,o,u,g);if(N!==void 0){if(N)continue;A=!1;break}if(O){if(!e(u,function(T,C){if(!r(O,C)&&(R===T||p(R,T,d,f,g)))return O.push(C)})){A=!1;break}}else if(!(R===E||p(R,E,d,f,g))){A=!1;break}}return g.delete(o),g.delete(u),A}return Vy=a,Vy}var Uy,DN;function Bz(){if(DN)return Uy;DN=1;var t=Ki(),e=t.Uint8Array;return Uy=e,Uy}var By,LN;function qz(){if(LN)return By;LN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return By=t,By}var qy,$N;function pS(){if($N)return qy;$N=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return qy=t,qy}var zy,FN;function zz(){if(FN)return zy;FN=1;var t=af(),e=Bz(),r=rS(),n=BD(),i=qz(),a=pS(),o=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",g="[object Map]",y="[object Number]",x="[object RegExp]",S="[object Set]",_="[object String]",b="[object Symbol]",P="[object ArrayBuffer]",A="[object DataView]",O=t?t.prototype:void 0,R=O?O.valueOf:void 0;function E(N,T,C,L,I,D,V){switch(C){case A:if(N.byteLength!=T.byteLength||N.byteOffset!=T.byteOffset)return!1;N=N.buffer,T=T.buffer;case P:return!(N.byteLength!=T.byteLength||!D(new e(N),new e(T)));case d:case f:case y:return r(+N,+T);case p:return N.name==T.name&&N.message==T.message;case x:case _:return N==T+"";case g:var $=i;case S:var ee=L&o;if($||($=a),N.size!=T.size&&!ee)return!1;var ne=V.get(N);if(ne)return ne==T;L|=u,V.set(N,T);var Q=n($(N),$(T),L,I,D,V);return V.delete(N),Q;case b:if(R)return R.call(N)==R.call(T)}return!1}return zy=E,zy}var Wy,VN;function qD(){if(VN)return Wy;VN=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return Wy=t,Wy}var Hy,UN;function Wz(){if(UN)return Hy;UN=1;var t=qD(),e=pn();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return Hy=r,Hy}var Gy,BN;function Hz(){if(BN)return Gy;BN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var u=e[n];r(u,n,e)&&(o[a++]=u)}return o}return Gy=t,Gy}var Ky,qN;function Gz(){if(qN)return Ky;qN=1;function t(){return[]}return Ky=t,Ky}var Yy,zN;function Kz(){if(zN)return Yy;zN=1;var t=Hz(),e=Gz(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(u){return n.call(o,u)}))}:e;return Yy=a,Yy}var Xy,WN;function Yz(){if(WN)return Xy;WN=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Xy=t,Xy}var Qy,HN;function Xz(){if(HN)return Qy;HN=1;var t=Ma(),e=Da(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Qy=n,Qy}var Jy,GN;function mS(){if(GN)return Jy;GN=1;var t=Xz(),e=Da(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return Jy=a,Jy}var Uu={exports:{}},Zy,KN;function Qz(){if(KN)return Zy;KN=1;function t(){return!1}return Zy=t,Zy}Uu.exports;var YN;function zD(){return YN||(YN=1,function(t,e){var r=Ki(),n=Qz(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,u=o?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;t.exports=f}(Uu,Uu.exports)),Uu.exports}var ex,XN;function gS(){if(XN)return ex;XN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return ex=r,ex}var tx,QN;function vS(){if(QN)return tx;QN=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return tx=e,tx}var rx,JN;function Jz(){if(JN)return rx;JN=1;var t=Ma(),e=vS(),r=Da(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",g="[object Object]",y="[object RegExp]",x="[object Set]",S="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",P="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",R="[object Int8Array]",E="[object Int16Array]",N="[object Int32Array]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",I="[object Uint32Array]",D={};D[A]=D[O]=D[R]=D[E]=D[N]=D[T]=D[C]=D[L]=D[I]=!0,D[n]=D[i]=D[b]=D[a]=D[P]=D[o]=D[u]=D[d]=D[f]=D[p]=D[g]=D[y]=D[x]=D[S]=D[_]=!1;function V($){return r($)&&e($.length)&&!!D[t($)]}return rx=V,rx}var nx,ZN;function WD(){if(ZN)return nx;ZN=1;function t(e){return function(r){return e(r)}}return nx=t,nx}var Bu={exports:{}};Bu.exports;var eP;function Zz(){return eP||(eP=1,function(t,e){var r=dD(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,u=function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();t.exports=u}(Bu,Bu.exports)),Bu.exports}var ix,tP;function HD(){if(tP)return ix;tP=1;var t=Jz(),e=WD(),r=Zz(),n=r&&r.isTypedArray,i=n?e(n):t;return ix=i,ix}var ax,rP;function e7(){if(rP)return ax;rP=1;var t=Yz(),e=mS(),r=pn(),n=zD(),i=gS(),a=HD(),o=Object.prototype,u=o.hasOwnProperty;function d(f,p){var g=r(f),y=!g&&e(f),x=!g&&!y&&n(f),S=!g&&!y&&!x&&a(f),_=g||y||x||S,b=_?t(f.length,String):[],P=b.length;for(var A in f)(p||u.call(f,A))&&!(_&&(A=="length"||x&&(A=="offset"||A=="parent")||S&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,P)))&&b.push(A);return b}return ax=d,ax}var sx,nP;function t7(){if(nP)return sx;nP=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return sx=e,sx}var ox,iP;function GD(){if(iP)return ox;iP=1;function t(e,r){return function(n){return e(r(n))}}return ox=t,ox}var lx,aP;function r7(){if(aP)return lx;aP=1;var t=GD(),e=t(Object.keys,Object);return lx=e,lx}var cx,sP;function n7(){if(sP)return cx;sP=1;var t=t7(),e=r7(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&o.push(u);return o}return cx=i,cx}var ux,oP;function lf(){if(oP)return ux;oP=1;var t=tS(),e=vS();function r(n){return n!=null&&e(n.length)&&!t(n)}return ux=r,ux}var dx,lP;function Ym(){if(lP)return dx;lP=1;var t=e7(),e=n7(),r=lf();function n(i){return r(i)?t(i):e(i)}return dx=n,dx}var fx,cP;function i7(){if(cP)return fx;cP=1;var t=Wz(),e=Kz(),r=Ym();function n(i){return t(i,r,e)}return fx=n,fx}var hx,uP;function a7(){if(uP)return hx;uP=1;var t=i7(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,u,d,f,p){var g=u&e,y=t(a),x=y.length,S=t(o),_=S.length;if(x!=_&&!g)return!1;for(var b=x;b--;){var P=y[b];if(!(g?P in o:n.call(o,P)))return!1}var A=p.get(a),O=p.get(o);if(A&&O)return A==o&&O==a;var R=!0;p.set(a,o),p.set(o,a);for(var E=g;++b<x;){P=y[b];var N=a[P],T=o[P];if(d)var C=g?d(T,N,P,o,a,p):d(N,T,P,a,o,p);if(!(C===void 0?N===T||f(N,T,u,d,p):C)){R=!1;break}E||(E=P=="constructor")}if(R&&!E){var L=a.constructor,I=o.constructor;L!=I&&"constructor"in a&&"constructor"in o&&!(typeof L=="function"&&L instanceof L&&typeof I=="function"&&I instanceof I)&&(R=!1)}return p.delete(a),p.delete(o),R}return hx=i,hx}var px,dP;function s7(){if(dP)return px;dP=1;var t=zo(),e=Ki(),r=t(e,"DataView");return px=r,px}var mx,fP;function o7(){if(fP)return mx;fP=1;var t=zo(),e=Ki(),r=t(e,"Promise");return mx=r,mx}var gx,hP;function KD(){if(hP)return gx;hP=1;var t=zo(),e=Ki(),r=t(e,"Set");return gx=r,gx}var vx,pP;function l7(){if(pP)return vx;pP=1;var t=zo(),e=Ki(),r=t(e,"WeakMap");return vx=r,vx}var yx,mP;function c7(){if(mP)return yx;mP=1;var t=s7(),e=nS(),r=o7(),n=KD(),i=l7(),a=Ma(),o=fD(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",g="[object WeakMap]",y="[object DataView]",x=o(t),S=o(e),_=o(r),b=o(n),P=o(i),A=a;return(t&&A(new t(new ArrayBuffer(1)))!=y||e&&A(new e)!=u||r&&A(r.resolve())!=f||n&&A(new n)!=p||i&&A(new i)!=g)&&(A=function(O){var R=a(O),E=R==d?O.constructor:void 0,N=E?o(E):"";if(N)switch(N){case x:return y;case S:return u;case _:return f;case b:return p;case P:return g}return R}),yx=A,yx}var xx,gP;function u7(){if(gP)return xx;gP=1;var t=$D(),e=BD(),r=zz(),n=a7(),i=c7(),a=pn(),o=zD(),u=HD(),d=1,f="[object Arguments]",p="[object Array]",g="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function S(_,b,P,A,O,R){var E=a(_),N=a(b),T=E?p:i(_),C=N?p:i(b);T=T==f?g:T,C=C==f?g:C;var L=T==g,I=C==g,D=T==C;if(D&&o(_)){if(!o(b))return!1;E=!0,L=!1}if(D&&!L)return R||(R=new t),E||u(_)?e(_,b,P,A,O,R):r(_,b,T,P,A,O,R);if(!(P&d)){var V=L&&x.call(_,"__wrapped__"),$=I&&x.call(b,"__wrapped__");if(V||$){var ee=V?_.value():_,ne=$?b.value():b;return R||(R=new t),O(ee,ne,P,A,R)}}return D?(R||(R=new t),n(_,b,P,A,O,R)):!1}return xx=S,xx}var bx,vP;function yS(){if(vP)return bx;vP=1;var t=u7(),e=Da();function r(n,i,a,o,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,u)}return bx=r,bx}var wx,yP;function d7(){if(yP)return wx;yP=1;var t=$D(),e=yS(),r=1,n=2;function i(a,o,u,d){var f=u.length,p=f,g=!d;if(a==null)return!p;for(a=Object(a);f--;){var y=u[f];if(g&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++f<p;){y=u[f];var x=y[0],S=a[x],_=y[1];if(g&&y[2]){if(S===void 0&&!(x in a))return!1}else{var b=new t;if(d)var P=d(S,_,x,a,o,b);if(!(P===void 0?e(_,S,r|n,d,b):P))return!1}}return!0}return wx=i,wx}var _x,xP;function YD(){if(xP)return _x;xP=1;var t=Ds();function e(r){return r===r&&!t(r)}return _x=e,_x}var Sx,bP;function f7(){if(bP)return Sx;bP=1;var t=YD(),e=Ym();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],u=n[o];i[a]=[o,u,t(u)]}return i}return Sx=r,Sx}var kx,wP;function XD(){if(wP)return kx;wP=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return kx=t,kx}var jx,_P;function h7(){if(_P)return jx;_P=1;var t=d7(),e=f7(),r=XD();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return jx=n,jx}var Ex,SP;function p7(){if(SP)return Ex;SP=1;function t(e,r){return e!=null&&r in Object(e)}return Ex=t,Ex}var Tx,kP;function m7(){if(kP)return Tx;kP=1;var t=mD(),e=mS(),r=pn(),n=gS(),i=vS(),a=zm();function o(u,d,f){d=t(d,u);for(var p=-1,g=d.length,y=!1;++p<g;){var x=a(d[p]);if(!(y=u!=null&&f(u,x)))break;u=u[x]}return y||++p!=g?y:(g=u==null?0:u.length,!!g&&i(g)&&n(x,g)&&(r(u)||e(u)))}return Tx=o,Tx}var Ax,jP;function g7(){if(jP)return Ax;jP=1;var t=p7(),e=m7();function r(n,i){return n!=null&&e(n,i,t)}return Ax=r,Ax}var Nx,EP;function v7(){if(EP)return Nx;EP=1;var t=yS(),e=gD(),r=g7(),n=eS(),i=YD(),a=XD(),o=zm(),u=1,d=2;function f(p,g){return n(p)&&i(g)?a(o(p),g):function(y){var x=e(y,p);return x===void 0&&x===g?r(y,p):t(g,x,u|d)}}return Nx=f,Nx}var Px,TP;function Fc(){if(TP)return Px;TP=1;function t(e){return e}return Px=t,Px}var Cx,AP;function y7(){if(AP)return Cx;AP=1;function t(e){return function(r){return r?.[e]}}return Cx=t,Cx}var Ox,NP;function x7(){if(NP)return Ox;NP=1;var t=sS();function e(r){return function(n){return t(n,r)}}return Ox=e,Ox}var Ix,PP;function b7(){if(PP)return Ix;PP=1;var t=y7(),e=x7(),r=eS(),n=zm();function i(a){return r(a)?t(n(a)):e(a)}return Ix=i,Ix}var Rx,CP;function Yi(){if(CP)return Rx;CP=1;var t=h7(),e=v7(),r=Fc(),n=pn(),i=b7();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return Rx=a,Rx}var Mx,OP;function QD(){if(OP)return Mx;OP=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return Mx=t,Mx}var Dx,IP;function w7(){if(IP)return Dx;IP=1;function t(e){return e!==e}return Dx=t,Dx}var Lx,RP;function _7(){if(RP)return Lx;RP=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Lx=t,Lx}var $x,MP;function S7(){if(MP)return $x;MP=1;var t=QD(),e=w7(),r=_7();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return $x=n,$x}var Fx,DP;function k7(){if(DP)return Fx;DP=1;var t=S7();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Fx=e,Fx}var Vx,LP;function j7(){if(LP)return Vx;LP=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return Vx=t,Vx}var Ux,$P;function E7(){if($P)return Ux;$P=1;function t(){}return Ux=t,Ux}var Bx,FP;function T7(){if(FP)return Bx;FP=1;var t=KD(),e=E7(),r=pS(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return Bx=i,Bx}var qx,VP;function A7(){if(VP)return qx;VP=1;var t=FD(),e=k7(),r=j7(),n=UD(),i=T7(),a=pS(),o=200;function u(d,f,p){var g=-1,y=e,x=d.length,S=!0,_=[],b=_;if(p)S=!1,y=r;else if(x>=o){var P=f?null:i(d);if(P)return a(P);S=!1,y=n,b=new t}else b=f?[]:_;e:for(;++g<x;){var A=d[g],O=f?f(A):A;if(A=p||A!==0?A:0,S&&O===O){for(var R=b.length;R--;)if(b[R]===O)continue e;f&&b.push(O),_.push(A)}else y(b,O,p)||(b!==_&&b.push(O),_.push(A))}return _}return qx=u,qx}var zx,UP;function N7(){if(UP)return zx;UP=1;var t=Yi(),e=A7();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return zx=r,zx}var P7=N7();const BP=ft(P7);function JD(t,e,r){return e===!0?BP(t,r):He(e)?BP(t,e):t}function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}var C7=["ref"];function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){Xm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e4(n.key),n)}}function I7(t,e,r){return e&&zP(t.prototype,e),r&&zP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function R7(t,e,r){return e=Ip(e),M7(t,ZD()?Reflect.construct(e,r||[],Ip(t).constructor):e.apply(t,r))}function M7(t,e){if(e&&(lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D7(t)}function D7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZD=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(t)}function L7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n_(t,e)}function Xm(t,e,r){return e=e4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e4(t){var e=$7(t,"string");return lc(e)=="symbol"?e:e+""}function $7(t,e){if(lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F7(t,e){if(t==null)return{};var r=V7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function V7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function U7(t){return t.value}function B7(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var r=F7(e,C7);return H.createElement(hS,r)}var WP=1,Es=function(t){function e(){var r;O7(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=R7(this,e,[].concat(i)),Xm(r,"lastBoundingBox",{width:-1,height:-1}),r}return L7(e,t),I7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>WP||Math.abs(i.height-this.lastBoundingBox.height)>WP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,p=i.chartHeight,g,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();g={left:((f||0)-x.width)/2}}else g=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();y={top:((p||0)-S.height)/2}}else y=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return pa(pa({},g),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,g=pa(pa({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return H.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(x){n.wrapperNode=x}},B7(a,pa(pa({},this.props),{},{payload:JD(p,f,U7)})))}}],[{key:"getWithHeight",value:function(n,i){var a=pa(pa({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&ke(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(B.PureComponent);Xm(Es,"displayName","Legend");Xm(Es,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Wx,HP;function q7(){if(HP)return Wx;HP=1;var t=af(),e=mS(),r=pn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return Wx=i,Wx}var Hx,GP;function t4(){if(GP)return Hx;GP=1;var t=qD(),e=q7();function r(n,i,a,o,u){var d=-1,f=n.length;for(a||(a=e),u||(u=[]);++d<f;){var p=n[d];i>0&&a(p)?i>1?r(p,i-1,a,o,u):t(u,p):o||(u[u.length]=p)}return u}return Hx=r,Hx}var Gx,KP;function z7(){if(KP)return Gx;KP=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),u=i(r),d=u.length;d--;){var f=u[e?d:++a];if(n(o[f],f,o)===!1)break}return r}}return Gx=t,Gx}var Kx,YP;function W7(){if(YP)return Kx;YP=1;var t=z7(),e=t();return Kx=e,Kx}var Yx,XP;function r4(){if(XP)return Yx;XP=1;var t=W7(),e=Ym();function r(n,i){return n&&t(n,i,e)}return Yx=r,Yx}var Xx,QP;function H7(){if(QP)return Xx;QP=1;var t=lf();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,u=n?o:-1,d=Object(i);(n?u--:++u<o)&&a(d[u],u,d)!==!1;);return i}}return Xx=e,Xx}var Qx,JP;function xS(){if(JP)return Qx;JP=1;var t=r4(),e=H7(),r=e(t);return Qx=r,Qx}var Jx,ZP;function n4(){if(ZP)return Jx;ZP=1;var t=xS(),e=lf();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(u,d,f){o[++a]=i(u,d,f)}),o}return Jx=r,Jx}var Zx,e2;function G7(){if(e2)return Zx;e2=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Zx=t,Zx}var eb,t2;function K7(){if(t2)return eb;t2=1;var t=Lc();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,u=t(r),d=n!==void 0,f=n===null,p=n===n,g=t(n);if(!f&&!g&&!u&&r>n||u&&d&&p&&!f&&!g||a&&d&&p||!i&&p||!o)return 1;if(!a&&!u&&!g&&r<n||g&&i&&o&&!a&&!u||f&&i&&o||!d&&o||!p)return-1}return 0}return eb=e,eb}var tb,r2;function Y7(){if(r2)return tb;r2=1;var t=K7();function e(r,n,i){for(var a=-1,o=r.criteria,u=n.criteria,d=o.length,f=i.length;++a<d;){var p=t(o[a],u[a]);if(p){if(a>=f)return p;var g=i[a];return p*(g=="desc"?-1:1)}}return r.index-n.index}return tb=e,tb}var rb,n2;function X7(){if(n2)return rb;n2=1;var t=aS(),e=sS(),r=Yi(),n=n4(),i=G7(),a=WD(),o=Y7(),u=Fc(),d=pn();function f(p,g,y){g.length?g=t(g,function(_){return d(_)?function(b){return e(b,_.length===1?_[0]:_)}:_}):g=[u];var x=-1;g=t(g,a(r));var S=n(p,function(_,b,P){var A=t(g,function(O){return O(_)});return{criteria:A,index:++x,value:_}});return i(S,function(_,b){return o(_,b,y)})}return rb=f,rb}var nb,i2;function Q7(){if(i2)return nb;i2=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return nb=t,nb}var ib,a2;function J7(){if(a2)return ib;a2=1;var t=Q7(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,u=-1,d=e(o.length-i,0),f=Array(d);++u<d;)f[u]=o[i+u];u=-1;for(var p=Array(i+1);++u<i;)p[u]=o[u];return p[i]=a(f),t(n,this,p)}}return ib=r,ib}var ab,s2;function Z7(){if(s2)return ab;s2=1;function t(e){return function(){return e}}return ab=t,ab}var sb,o2;function i4(){if(o2)return sb;o2=1;var t=zo(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return sb=e,sb}var ob,l2;function eW(){if(l2)return ob;l2=1;var t=Z7(),e=i4(),r=Fc(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return ob=n,ob}var lb,c2;function tW(){if(c2)return lb;c2=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var u=r(),d=e-(u-o);if(o=u,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return lb=n,lb}var cb,u2;function rW(){if(u2)return cb;u2=1;var t=eW(),e=tW(),r=e(t);return cb=r,cb}var ub,d2;function nW(){if(d2)return ub;d2=1;var t=Fc(),e=J7(),r=rW();function n(i,a){return r(e(i,a,t),i+"")}return ub=n,ub}var db,f2;function Qm(){if(f2)return db;f2=1;var t=rS(),e=lf(),r=gS(),n=Ds();function i(a,o,u){if(!n(u))return!1;var d=typeof o;return(d=="number"?e(u)&&r(o,u.length):d=="string"&&o in u)?t(u[o],a):!1}return db=i,db}var fb,h2;function iW(){if(h2)return fb;h2=1;var t=t4(),e=X7(),r=nW(),n=Qm(),i=r(function(a,o){if(a==null)return[];var u=o.length;return u>1&&n(a,o[0],o[1])?o=[]:u>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return fb=i,fb}var aW=iW();const bS=ft(aW);function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i_.apply(this,arguments)}function sW(t,e){return uW(t)||cW(t,e)||lW(t,e)||oW()}function oW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lW(t,e){if(t){if(typeof t=="string")return p2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p2(t,e)}}function p2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function uW(t){if(Array.isArray(t))return t}function m2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(r),!0).forEach(function(n){dW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dW(t,e,r){return e=fW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fW(t){var e=hW(t,"string");return fd(e)=="symbol"?e:e+""}function hW(t,e){if(fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pW(t){return Array.isArray(t)&&sr(t[0])&&sr(t[1])?t.join(" ~ "):t}var mW=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,u=o===void 0?{}:o,d=e.labelStyle,f=d===void 0?{}:d,p=e.payload,g=e.formatter,y=e.itemSorter,x=e.wrapperClassName,S=e.labelClassName,_=e.label,b=e.labelFormatter,P=e.accessibilityLayer,A=P===void 0?!1:P,O=function(){if(p&&p.length){var V={padding:0,margin:0},$=(y?bS(p,y):p).map(function(ee,ne){if(ee.type==="none")return null;var Q=hb({display:"block",paddingTop:4,paddingBottom:4,color:ee.color||"#000"},u),ie=ee.formatter||g||pW,Z=ee.value,J=ee.name,ae=Z,z=J;if(ie&&ae!=null&&z!=null){var Y=ie(Z,J,ee,ne,p);if(Array.isArray(Y)){var K=sW(Y,2);ae=K[0],z=K[1]}else ae=Y}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ne),style:Q},sr(z)?H.createElement("span",{className:"recharts-tooltip-item-name"},z):null,sr(z)?H.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,H.createElement("span",{className:"recharts-tooltip-item-value"},ae),H.createElement("span",{className:"recharts-tooltip-item-unit"},ee.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:V},$)}return null},R=hb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=hb({margin:0},f),N=!Je(_),T=N?_:"",C=Xe("recharts-default-tooltip",x),L=Xe("recharts-tooltip-label",S);N&&b&&p!==void 0&&p!==null&&(T=b(_,p));var I=A?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",i_({className:C,style:R},I),H.createElement("p",{className:L,style:E},H.isValidElement(T)?T:"".concat(T)),O())};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function Lh(t,e,r){return e=gW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gW(t){var e=vW(t,"string");return hd(e)=="symbol"?e:e+""}function vW(t,e){if(hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eu="recharts-tooltip-wrapper",yW={visibility:"hidden"};function xW(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Xe(Eu,Lh(Lh(Lh(Lh({},"".concat(Eu,"-right"),ke(r)&&e&&ke(e.x)&&r>=e.x),"".concat(Eu,"-left"),ke(r)&&e&&ke(e.x)&&r<e.x),"".concat(Eu,"-bottom"),ke(n)&&e&&ke(e.y)&&n>=e.y),"".concat(Eu,"-top"),ke(n)&&e&&ke(e.y)&&n<e.y))}function g2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(a&&ke(a[n]))return a[n];var p=r[n]-u-i,g=r[n]+i;if(e[n])return o[n]?p:g;if(o[n]){var y=p,x=d[n];return y<x?Math.max(g,d[n]):Math.max(p,d[n])}var S=g+u,_=d[n]+f;return S>_?Math.max(p,d[n]):Math.max(g,d[n])}function bW(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function wW(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,f,p,g;return o.height>0&&o.width>0&&r?(p=g2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),g=g2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=bW({translateX:p,translateY:g,useTranslate3d:u})):f=yW,{cssProperties:f,cssClasses:xW({translateX:p,translateY:g,coordinate:r})}}function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){s_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s4(n.key),n)}}function kW(t,e,r){return e&&SW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jW(t,e,r){return e=Rp(e),EW(t,a4()?Reflect.construct(e,r||[],Rp(t).constructor):e.apply(t,r))}function EW(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TW(t)}function TW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a4=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(t)}function AW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a_(t,e)}function a_(t,e){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a_(t,e)}function s_(t,e,r){return e=s4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s4(t){var e=NW(t,"string");return cc(e)=="symbol"?e:e+""}function NW(t,e){if(cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var x2=1,PW=function(t){function e(){var r;_W(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=jW(this,e,[].concat(i)),s_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),s_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var u,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return AW(e,t),kW(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>x2||Math.abs(n.height-this.state.lastBoundingBox.height)>x2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,p=i.coordinate,g=i.hasPayload,y=i.isAnimationActive,x=i.offset,S=i.position,_=i.reverseDirection,b=i.useTranslate3d,P=i.viewBox,A=i.wrapperStyle,O=wW({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:x,position:S,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:P}),R=O.cssClasses,E=O.cssProperties,N=y2(y2({transition:y&&a?"transform ".concat(u,"ms ").concat(d):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&g?"visible":"hidden",position:"absolute",top:0,left:0},A);return H.createElement("div",{tabIndex:-1,className:R,style:N,ref:function(C){n.wrapperNode=C}},f)}}])}(B.PureComponent),CW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vc={isSsr:CW()};function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function b2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(r),!0).forEach(function(n){wS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l4(n.key),n)}}function RW(t,e,r){return e&&IW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MW(t,e,r){return e=Mp(e),DW(t,o4()?Reflect.construct(e,r||[],Mp(t).constructor):e.apply(t,r))}function DW(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LW(t)}function LW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o4=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(t)}function $W(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o_(t,e)}function o_(t,e){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o_(t,e)}function wS(t,e,r){return e=l4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l4(t){var e=FW(t,"string");return uc(e)=="symbol"?e:e+""}function FW(t,e){if(uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function VW(t){return t.dataKey}function UW(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(mW,e)}var Wn=function(t){function e(){return OW(this,e),MW(this,e,arguments)}return $W(e,t),RW(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,p=i.coordinate,g=i.filterNull,y=i.isAnimationActive,x=i.offset,S=i.payload,_=i.payloadUniqBy,b=i.position,P=i.reverseDirection,A=i.useTranslate3d,O=i.viewBox,R=i.wrapperStyle,E=S??[];g&&E.length&&(E=JD(S.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),_,VW));var N=E.length>0;return H.createElement(PW,{allowEscapeViewBox:o,animationDuration:u,animationEasing:d,isAnimationActive:y,active:a,coordinate:p,hasPayload:N,offset:x,position:b,reverseDirection:P,useTranslate3d:A,viewBox:O,wrapperStyle:R},UW(f,w2(w2({},this.props),{},{payload:E})))}}])}(B.PureComponent);wS(Wn,"displayName","Tooltip");wS(Wn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pb,_2;function BW(){if(_2)return pb;_2=1;var t=Ki(),e=function(){return t.Date.now()};return pb=e,pb}var mb,S2;function qW(){if(S2)return mb;S2=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return mb=e,mb}var gb,k2;function zW(){if(k2)return gb;k2=1;var t=qW(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return gb=r,gb}var vb,j2;function c4(){if(j2)return vb;j2=1;var t=zW(),e=Ds(),r=Lc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=t(f);var g=a.test(f);return g||o.test(f)?u(f.slice(2),g?2:8):i.test(f)?n:+f}return vb=d,vb}var yb,E2;function WW(){if(E2)return yb;E2=1;var t=Ds(),e=BW(),r=c4(),n="Expected a function",i=Math.max,a=Math.min;function o(u,d,f){var p,g,y,x,S,_,b=0,P=!1,A=!1,O=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(P=!!f.leading,A="maxWait"in f,y=A?i(r(f.maxWait)||0,d):y,O="trailing"in f?!!f.trailing:O);function R($){var ee=p,ne=g;return p=g=void 0,b=$,x=u.apply(ne,ee),x}function E($){return b=$,S=setTimeout(C,d),P?R($):x}function N($){var ee=$-_,ne=$-b,Q=d-ee;return A?a(Q,y-ne):Q}function T($){var ee=$-_,ne=$-b;return _===void 0||ee>=d||ee<0||A&&ne>=y}function C(){var $=e();if(T($))return L($);S=setTimeout(C,N($))}function L($){return S=void 0,O&&p?R($):(p=g=void 0,x)}function I(){S!==void 0&&clearTimeout(S),b=0,p=_=g=S=void 0}function D(){return S===void 0?x:L(e())}function V(){var $=e(),ee=T($);if(p=arguments,g=this,_=$,ee){if(S===void 0)return E(_);if(A)return clearTimeout(S),S=setTimeout(C,d),R(_)}return S===void 0&&(S=setTimeout(C,d)),x}return V.cancel=I,V.flush=D,V}return yb=o,yb}var xb,T2;function HW(){if(T2)return xb;T2=1;var t=WW(),e=Ds(),r="Expected a function";function n(i,a,o){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(u="leading"in o?!!o.leading:u,d="trailing"in o?!!o.trailing:d),t(i,a,{leading:u,maxWait:a,trailing:d})}return xb=n,xb}var GW=HW();const u4=ft(GW);function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function A2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $h(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(r),!0).forEach(function(n){KW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KW(t,e,r){return e=YW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YW(t){var e=XW(t,"string");return pd(e)=="symbol"?e:e+""}function XW(t,e){if(pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QW(t,e){return tH(t)||eH(t,e)||ZW(t,e)||JW()}function JW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZW(t,e){if(t){if(typeof t=="string")return N2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N2(t,e)}}function N2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function tH(t){if(Array.isArray(t))return t}var _S=B.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,u=t.height,d=u===void 0?"100%":u,f=t.minWidth,p=f===void 0?0:f,g=t.minHeight,y=t.maxHeight,x=t.children,S=t.debounce,_=S===void 0?0:S,b=t.id,P=t.className,A=t.onResize,O=t.style,R=O===void 0?{}:O,E=B.useRef(null),N=B.useRef();N.current=A,B.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var T=B.useState({containerWidth:i.width,containerHeight:i.height}),C=QW(T,2),L=C[0],I=C[1],D=B.useCallback(function($,ee){I(function(ne){var Q=Math.round($),ie=Math.round(ee);return ne.containerWidth===Q&&ne.containerHeight===ie?ne:{containerWidth:Q,containerHeight:ie}})},[]);B.useEffect(function(){var $=function(J){var ae,z=J[0].contentRect,Y=z.width,K=z.height;D(Y,K),(ae=N.current)===null||ae===void 0||ae.call(N,Y,K)};_>0&&($=u4($,_,{trailing:!0,leading:!1}));var ee=new ResizeObserver($),ne=E.current.getBoundingClientRect(),Q=ne.width,ie=ne.height;return D(Q,ie),ee.observe(E.current),function(){ee.disconnect()}},[D,_]);var V=B.useMemo(function(){var $=L.containerWidth,ee=L.containerHeight;if($<0||ee<0)return null;mi(_o(o)||_o(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),mi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ne=_o(o)?$:o,Q=_o(d)?ee:d;r&&r>0&&(ne?Q=ne/r:Q&&(ne=Q*r),y&&Q>y&&(Q=y)),mi(ne>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ne,Q,o,d,p,g,r);var ie=!Array.isArray(x)&&ka(x.type).endsWith("Chart");return H.Children.map(x,function(Z){return H.isValidElement(Z)?B.cloneElement(Z,$h({width:ne,height:Q},ie?{style:$h({height:"100%",width:"100%",maxHeight:Q,maxWidth:ne},Z.props.style)}:{})):Z})},[r,x,d,y,g,p,L,o]);return H.createElement("div",{id:b?"".concat(b):void 0,className:Xe("recharts-responsive-container",P),style:$h($h({},R),{},{width:o,height:d,minWidth:p,minHeight:g,maxHeight:y}),ref:E},V)}),Jm=function(e){return null};Jm.displayName="Cell";function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function P2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(r),!0).forEach(function(n){rH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rH(t,e,r){return e=nH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nH(t){var e=iH(t,"string");return md(e)=="symbol"?e:e+""}function iH(t,e){if(md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cl={widthCache:{},cacheCount:0},aH=2e3,sH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},C2="recharts_measurement_span";function oH(t){var e=l_({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Yu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vc.isSsr)return{width:0,height:0};var n=oH(r),i=JSON.stringify({text:e,copyStyle:n});if(Cl.widthCache[i])return Cl.widthCache[i];try{var a=document.getElementById(C2);a||(a=document.createElement("span"),a.setAttribute("id",C2),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=l_(l_({},sH),n);Object.assign(a.style,o),a.textContent="".concat(e);var u=a.getBoundingClientRect(),d={width:u.width,height:u.height};return Cl.widthCache[i]=d,++Cl.cacheCount>aH&&(Cl.cacheCount=0,Cl.widthCache={}),d}catch{return{width:0,height:0}}},lH=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function Dp(t,e){return fH(t)||dH(t,e)||uH(t,e)||cH()}function cH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uH(t,e){if(t){if(typeof t=="string")return O2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O2(t,e)}}function O2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function fH(t){if(Array.isArray(t))return t}function hH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mH(n.key),n)}}function pH(t,e,r){return e&&I2(t.prototype,e),r&&I2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mH(t){var e=gH(t,"string");return gd(e)=="symbol"?e:e+""}function gH(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,M2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,d4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xH=Object.keys(d4),$l="NaN";function bH(t,e){return t*d4[e]}var Fh=function(){function t(e,r){hH(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!vH.test(r)&&(this.num=NaN,this.unit=""),xH.includes(r)&&(this.num=bH(e,r),this.unit="px")}return pH(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=yH.exec(r))!==null&&n!==void 0?n:[],a=Dp(i,3),o=a[1],u=a[2];return new t(parseFloat(o),u??"")}}])}();function f4(t){if(t.includes($l))return $l;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=R2.exec(e))!==null&&r!==void 0?r:[],i=Dp(n,4),a=i[1],o=i[2],u=i[3],d=Fh.parse(a??""),f=Fh.parse(u??""),p=o==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return $l;e=e.replace(R2,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,y=(g=M2.exec(e))!==null&&g!==void 0?g:[],x=Dp(y,4),S=x[1],_=x[2],b=x[3],P=Fh.parse(S??""),A=Fh.parse(b??""),O=_==="+"?P.add(A):P.subtract(A);if(O.isNaN())return $l;e=e.replace(M2,O.toString())}return e}var D2=/\(([^()]*)\)/;function wH(t){for(var e=t;e.includes("(");){var r=D2.exec(e),n=Dp(r,2),i=n[1];e=e.replace(D2,f4(i))}return e}function _H(t){var e=t.replace(/\s+/g,"");return e=wH(e),e=f4(e),e}function SH(t){try{return _H(t)}catch{return $l}}function bb(t){var e=SH(t.slice(5,-1));return e===$l?"":e}var kH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jH=["dx","dy","angle","className","breakAll"];function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c_.apply(this,arguments)}function L2(t,e){if(t==null)return{};var r=EH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $2(t,e){return PH(t)||NH(t,e)||AH(t,e)||TH()}function TH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AH(t,e){if(t){if(typeof t=="string")return F2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function PH(t){if(Array.isArray(t))return t}var h4=/[ \f\n\r\t\v\u2028\u2029]+/,p4=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Je(r)||(n?a=r.toString().split(""):a=r.toString().split(h4));var o=a.map(function(d){return{word:d,width:Yu(d,i).width}}),u=n?0:Yu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},CH=function(e,r,n,i,a){var o=e.maxLines,u=e.children,d=e.style,f=e.breakAll,p=ke(o),g=u,y=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ne.reduce(function(Q,ie){var Z=ie.word,J=ie.width,ae=Q[Q.length-1];if(ae&&(i==null||a||ae.width+J+n<Number(i)))ae.words.push(Z),ae.width+=J+n;else{var z={words:[Z],width:J};Q.push(z)}return Q},[])},x=y(r),S=function(ne){return ne.reduce(function(Q,ie){return Q.width>ie.width?Q:ie})};if(!p)return x;for(var _="",b=function(ne){var Q=g.slice(0,ne),ie=p4({breakAll:f,style:d,children:Q+_}).wordsWithComputedWidth,Z=y(ie),J=Z.length>o||S(Z).width>Number(i);return[J,Z]},P=0,A=g.length-1,O=0,R;P<=A&&O<=g.length-1;){var E=Math.floor((P+A)/2),N=E-1,T=b(N),C=$2(T,2),L=C[0],I=C[1],D=b(E),V=$2(D,1),$=V[0];if(!L&&!$&&(P=E+1),L&&$&&(A=E-1),!L&&$){R=I;break}O++}return R||x},V2=function(e){var r=Je(e)?[]:e.toString().split(h4);return[{words:r}]},OH=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,u=e.maxLines;if((r||n)&&!Vc.isSsr){var d,f,p=p4({breakAll:o,children:i,style:a});if(p){var g=p.wordsWithComputedWidth,y=p.spaceWidth;d=g,f=y}else return V2(i);return CH({breakAll:o,children:i,maxLines:u,style:a},d,f,r,n)}return V2(i)},U2="#808080",$o=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,u=o===void 0?"1em":o,d=e.capHeight,f=d===void 0?"0.71em":d,p=e.scaleToFit,g=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,S=e.verticalAnchor,_=S===void 0?"end":S,b=e.fill,P=b===void 0?U2:b,A=L2(e,kH),O=B.useMemo(function(){return OH({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:g,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,g,A.style,A.width]),R=A.dx,E=A.dy,N=A.angle,T=A.className,C=A.breakAll,L=L2(A,jH);if(!sr(n)||!sr(a))return null;var I=n+(ke(R)?R:0),D=a+(ke(E)?E:0),V;switch(_){case"start":V=bb("calc(".concat(f,")"));break;case"middle":V=bb("calc(".concat((O.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:V=bb("calc(".concat(O.length-1," * -").concat(u,")"));break}var $=[];if(g){var ee=O[0].width,ne=A.width;$.push("scale(".concat((ke(ne)?ne/ee:1)/ee,")"))}return N&&$.push("rotate(".concat(N,", ").concat(I,", ").concat(D,")")),$.length&&(L.transform=$.join(" ")),H.createElement("text",c_({},ze(L,!0),{x:I,y:D,className:Xe("recharts-text",T),textAnchor:x,fill:P.includes("url")?U2:P}),O.map(function(Q,ie){var Z=Q.words.join(C?"":" ");return H.createElement("tspan",{x:I,dy:ie===0?V:u,key:"".concat(Z,"-").concat(ie)},Z)}))};function Ts(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IH(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SS(t){let e,r,n;t.length!==2?(e=Ts,r=(u,d)=>Ts(t(u),d),n=(u,d)=>t(u)-d):(e=t===Ts||t===IH?t:RH,r=t,n=t);function i(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const g=f+p>>>1;r(u[g],d)<0?f=g+1:p=g}while(f<p)}return f}function a(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const g=f+p>>>1;r(u[g],d)<=0?f=g+1:p=g}while(f<p)}return f}function o(u,d,f=0,p=u.length){const g=i(u,d,f,p-1);return g>f&&n(u[g-1],d)>-n(u[g],d)?g-1:g}return{left:i,center:o,right:a}}function RH(){return 0}function m4(t){return t===null?NaN:+t}function*MH(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const DH=SS(Ts),cf=DH.right;SS(m4).center;class B2 extends Map{constructor(e,r=FH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(q2(this,e))}has(e){return super.has(q2(this,e))}set(e,r){return super.set(LH(this,e),r)}delete(e){return super.delete($H(this,e))}}function q2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function LH({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function $H({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function FH(t){return t!==null&&typeof t=="object"?t.valueOf():t}function VH(t=Ts){if(t===Ts)return g4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function g4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const UH=Math.sqrt(50),BH=Math.sqrt(10),qH=Math.sqrt(2);function Lp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=UH?10:a>=BH?5:a>=qH?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(t*f),d=Math.round(e*f),u/f<t&&++u,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*o,u=Math.round(t/f),d=Math.round(e/f),u*f<t&&++u,d*f>e&&--d),d<u&&.5<=r&&r<2?Lp(t,e,r*2):[u,d,f]}function u_(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Lp(e,t,r):Lp(t,e,r);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(n)if(o<0)for(let f=0;f<u;++f)d[f]=(a-f)/-o;else for(let f=0;f<u;++f)d[f]=(a-f)*o;else if(o<0)for(let f=0;f<u;++f)d[f]=(i+f)/-o;else for(let f=0;f<u;++f)d[f]=(i+f)*o;return d}function d_(t,e,r){return e=+e,t=+t,r=+r,Lp(t,e,r)[2]}function f_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?d_(e,t,r):d_(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function z2(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function W2(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function v4(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?g4:VH(i);n>r;){if(n-r>600){const d=n-r+1,f=e-r+1,p=Math.log(d),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(d-g)/d)*(f-d/2<0?-1:1),x=Math.max(r,Math.floor(e-f*g/d+y)),S=Math.min(n,Math.floor(e+(d-f)*g/d+y));v4(t,e,x,S,i)}const a=t[e];let o=r,u=n;for(Tu(t,r,e),i(t[n],a)>0&&Tu(t,r,n);o<u;){for(Tu(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?Tu(t,r,u):(++u,Tu(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Tu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function zH(t,e,r){if(t=Float64Array.from(MH(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return W2(t);if(e>=1)return z2(t);var n,i=(n-1)*e,a=Math.floor(i),o=z2(v4(t,a).subarray(0,a+1)),u=W2(t.subarray(a+1));return o+(u-o)*(i-a)}}function WH(t,e,r=m4){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function HH(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Xn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function La(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const h_=Symbol("implicit");function kS(){var t=new B2,e=[],r=[],n=h_;function i(a){let o=t.get(a);if(o===void 0){if(n!==h_)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new B2;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return kS(e,r).unknown(n)},Xn.apply(i,arguments),i}function vd(){var t=kS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,u=!1,d=0,f=0,p=.5;delete t.unknown;function g(){var y=e().length,x=i<n,S=x?i:n,_=x?n:i;a=(_-S)/Math.max(1,y-d+f*2),u&&(a=Math.floor(a)),S+=(_-S-a*(y-d))*p,o=a*(1-d),u&&(S=Math.round(S),o=Math.round(o));var b=HH(y).map(function(P){return S+a*P});return r(x?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,g()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,u=!0,g()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,g()):u},t.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),g()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),g()):d},t.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},t.copy=function(){return vd(e(),[n,i]).round(u).paddingInner(d).paddingOuter(f).align(p)},Xn.apply(g(),arguments)}function y4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return y4(e())},t}function Xu(){return y4(vd.apply(null,arguments).paddingInner(1))}function jS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function x4(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function uf(){}var yd=.7,$p=1/yd,Xl="\\s*([+-]?\\d+)\\s*",xd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GH=/^#([0-9a-f]{3,8})$/,KH=new RegExp(`^rgb\\(${Xl},${Xl},${Xl}\\)$`),YH=new RegExp(`^rgb\\(${Vi},${Vi},${Vi}\\)$`),XH=new RegExp(`^rgba\\(${Xl},${Xl},${Xl},${xd}\\)$`),QH=new RegExp(`^rgba\\(${Vi},${Vi},${Vi},${xd}\\)$`),JH=new RegExp(`^hsl\\(${xd},${Vi},${Vi}\\)$`),ZH=new RegExp(`^hsla\\(${xd},${Vi},${Vi},${xd}\\)$`),H2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jS(uf,bd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:G2,formatHex:G2,formatHex8:eG,formatHsl:tG,formatRgb:K2,toString:K2});function G2(){return this.rgb().formatHex()}function eG(){return this.rgb().formatHex8()}function tG(){return b4(this).formatHsl()}function K2(){return this.rgb().formatRgb()}function bd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=GH.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Y2(e):r===3?new dn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Vh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Vh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=KH.exec(t))?new dn(e[1],e[2],e[3],1):(e=YH.exec(t))?new dn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=XH.exec(t))?Vh(e[1],e[2],e[3],e[4]):(e=QH.exec(t))?Vh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=JH.exec(t))?J2(e[1],e[2]/100,e[3]/100,1):(e=ZH.exec(t))?J2(e[1],e[2]/100,e[3]/100,e[4]):H2.hasOwnProperty(t)?Y2(H2[t]):t==="transparent"?new dn(NaN,NaN,NaN,0):null}function Y2(t){return new dn(t>>16&255,t>>8&255,t&255,1)}function Vh(t,e,r,n){return n<=0&&(t=e=r=NaN),new dn(t,e,r,n)}function rG(t){return t instanceof uf||(t=bd(t)),t?(t=t.rgb(),new dn(t.r,t.g,t.b,t.opacity)):new dn}function p_(t,e,r,n){return arguments.length===1?rG(t):new dn(t,e,r,n??1)}function dn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}jS(dn,p_,x4(uf,{brighter(t){return t=t==null?$p:Math.pow($p,t),new dn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yd:Math.pow(yd,t),new dn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new dn(Ao(this.r),Ao(this.g),Ao(this.b),Fp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:X2,formatHex:X2,formatHex8:nG,formatRgb:Q2,toString:Q2}));function X2(){return`#${So(this.r)}${So(this.g)}${So(this.b)}`}function nG(){return`#${So(this.r)}${So(this.g)}${So(this.b)}${So((isNaN(this.opacity)?1:this.opacity)*255)}`}function Q2(){const t=Fp(this.opacity);return`${t===1?"rgb(":"rgba("}${Ao(this.r)}, ${Ao(this.g)}, ${Ao(this.b)}${t===1?")":`, ${t})`}`}function Fp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ao(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function So(t){return t=Ao(t),(t<16?"0":"")+t.toString(16)}function J2(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new fi(t,e,r,n)}function b4(t){if(t instanceof fi)return new fi(t.h,t.s,t.l,t.opacity);if(t instanceof uf||(t=bd(t)),!t)return new fi;if(t instanceof fi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,u=a-i,d=(a+i)/2;return u?(e===a?o=(r-n)/u+(r<n)*6:r===a?o=(n-e)/u+2:o=(e-r)/u+4,u/=d<.5?a+i:2-a-i,o*=60):u=d>0&&d<1?0:o,new fi(o,u,d,t.opacity)}function iG(t,e,r,n){return arguments.length===1?b4(t):new fi(t,e,r,n??1)}function fi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}jS(fi,iG,x4(uf,{brighter(t){return t=t==null?$p:Math.pow($p,t),new fi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yd:Math.pow(yd,t),new fi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new dn(wb(t>=240?t-240:t+120,i,n),wb(t,i,n),wb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new fi(Z2(this.h),Uh(this.s),Uh(this.l),Fp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fp(this.opacity);return`${t===1?"hsl(":"hsla("}${Z2(this.h)}, ${Uh(this.s)*100}%, ${Uh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Z2(t){return t=(t||0)%360,t<0?t+360:t}function Uh(t){return Math.max(0,Math.min(1,t||0))}function wb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const ES=t=>()=>t;function aG(t,e){return function(r){return t+r*e}}function sG(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function oG(t){return(t=+t)==1?w4:function(e,r){return r-e?sG(e,r,t):ES(isNaN(e)?r:e)}}function w4(t,e){var r=e-t;return r?aG(t,r):ES(isNaN(t)?e:t)}const eC=function t(e){var r=oG(e);function n(i,a){var o=r((i=p_(i)).r,(a=p_(a)).r),u=r(i.g,a.g),d=r(i.b,a.b),f=w4(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=u(p),i.b=d(p),i.opacity=f(p),i+""}}return n.gamma=t,n}(1);function lG(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function cG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function uG(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Uc(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(u){for(o=0;o<n;++o)a[o]=i[o](u);return a}}function dG(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Vp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function fG(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Uc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var m_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_b=new RegExp(m_.source,"g");function hG(t){return function(){return t}}function pG(t){return function(e){return t(e)+""}}function mG(t,e){var r=m_.lastIndex=_b.lastIndex=0,n,i,a,o=-1,u=[],d=[];for(t=t+"",e=e+"";(n=m_.exec(t))&&(i=_b.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,d.push({i:o,x:Vp(n,i)})),r=_b.lastIndex;return r<e.length&&(a=e.slice(r),u[o]?u[o]+=a:u[++o]=a),u.length<2?d[0]?pG(d[0].x):hG(e):(e=d.length,function(f){for(var p=0,g;p<e;++p)u[(g=d[p]).i]=g.x(f);return u.join("")})}function Uc(t,e){var r=typeof e,n;return e==null||r==="boolean"?ES(e):(r==="number"?Vp:r==="string"?(n=bd(e))?(e=n,eC):mG:e instanceof bd?eC:e instanceof Date?dG:cG(e)?lG:Array.isArray(e)?uG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?fG:Vp)(t,e)}function TS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function gG(t,e){e===void 0&&(e=t,t=Uc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[u](o-u)}}function vG(t){return function(){return t}}function Up(t){return+t}var tC=[0,1];function Xr(t){return t}function g_(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:vG(isNaN(e)?NaN:.5)}function yG(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function xG(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=g_(i,n),a=r(o,a)):(n=g_(n,i),a=r(a,o)),function(u){return a(n(u))}}function bG(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=g_(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(u){var d=cf(t,u,1,n)-1;return a[d](i[d](u))}}function df(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zm(){var t=tC,e=tC,r=Uc,n,i,a,o=Xr,u,d,f;function p(){var y=Math.min(t.length,e.length);return o!==Xr&&(o=yG(t[0],t[y-1])),u=y>2?bG:xG,d=f=null,g}function g(y){return y==null||isNaN(y=+y)?a:(d||(d=u(t.map(n),e,r)))(n(o(y)))}return g.invert=function(y){return o(i((f||(f=u(e,t.map(n),Vp)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,Up),p()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),r=TS,p()},g.clamp=function(y){return arguments.length?(o=y?!0:Xr,p()):o!==Xr},g.interpolate=function(y){return arguments.length?(r=y,p()):r},g.unknown=function(y){return arguments.length?(a=y,g):a},function(y,x){return n=y,i=x,p()}}function AS(){return Zm()(Xr,Xr)}function wG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function dc(t){return t=Bp(Math.abs(t)),t?t[1]:NaN}function _G(t,e){return function(r,n){for(var i=r.length,a=[],o=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),a.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function SG(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var kG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wd(t){if(!(e=kG.exec(t)))throw new Error("invalid format: "+t);var e;return new NS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wd.prototype=NS.prototype;function NS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}NS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jG(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var _4;function EG(t,e){var r=Bp(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(_4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Bp(t,Math.max(0,e+a-1))[0]}function rC(t,e){var r=Bp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const nC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rC(t*100,e),r:rC,s:EG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iC(t){return t}var aC=Array.prototype.map,sC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function TG(t){var e=t.grouping===void 0||t.thousands===void 0?iC:_G(aC.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?iC:SG(aC.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(g){g=wd(g);var y=g.fill,x=g.align,S=g.sign,_=g.symbol,b=g.zero,P=g.width,A=g.comma,O=g.precision,R=g.trim,E=g.type;E==="n"?(A=!0,E="g"):nC[E]||(O===void 0&&(O=12),R=!0,E="g"),(b||y==="0"&&x==="=")&&(b=!0,y="0",x="=");var N=_==="$"?r:_==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=_==="$"?n:/[%p]/.test(E)?o:"",C=nC[E],L=/[defgprs%]/.test(E);O=O===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function I(D){var V=N,$=T,ee,ne,Q;if(E==="c")$=C(D)+$,D="";else{D=+D;var ie=D<0||1/D<0;if(D=isNaN(D)?d:C(Math.abs(D),O),R&&(D=jG(D)),ie&&+D==0&&S!=="+"&&(ie=!1),V=(ie?S==="("?S:u:S==="-"||S==="("?"":S)+V,$=(E==="s"?sC[8+_4/3]:"")+$+(ie&&S==="("?")":""),L){for(ee=-1,ne=D.length;++ee<ne;)if(Q=D.charCodeAt(ee),48>Q||Q>57){$=(Q===46?i+D.slice(ee+1):D.slice(ee))+$,D=D.slice(0,ee);break}}}A&&!b&&(D=e(D,1/0));var Z=V.length+D.length+$.length,J=Z<P?new Array(P-Z+1).join(y):"";switch(A&&b&&(D=e(J+D,J.length?P-$.length:1/0),J=""),x){case"<":D=V+D+$+J;break;case"=":D=V+J+D+$;break;case"^":D=J.slice(0,Z=J.length>>1)+V+D+$+J.slice(Z);break;default:D=J+V+D+$;break}return a(D)}return I.toString=function(){return g+""},I}function p(g,y){var x=f((g=wd(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(dc(y)/3)))*3,_=Math.pow(10,-S),b=sC[8+S/3];return function(P){return x(_*P)+b}}return{format:f,formatPrefix:p}}var Bh,PS,S4;AG({thousands:",",grouping:[3],currency:["$",""]});function AG(t){return Bh=TG(t),PS=Bh.format,S4=Bh.formatPrefix,Bh}function NG(t){return Math.max(0,-dc(Math.abs(t)))}function PG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dc(e)/3)))*3-dc(Math.abs(t)))}function CG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dc(e)-dc(t))+1}function k4(t,e,r,n){var i=f_(t,e,r),a;switch(n=wd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=PG(i,o))&&(n.precision=a),S4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=CG(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=NG(i))&&(n.precision=a-(n.type==="%")*2);break}}return PS(n)}function Ls(t){var e=t.domain;return t.ticks=function(r){var n=e();return u_(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return k4(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],u=n[a],d,f,p=10;for(u<o&&(f=o,o=u,u=f,f=i,i=a,a=f);p-- >0;){if(f=d_(o,u,r),f===d)return n[i]=o,n[a]=u,e(n);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;d=f}return t},t}function qp(){var t=AS();return t.copy=function(){return df(t,qp())},Xn.apply(t,arguments),Ls(t)}function j4(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Up),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return j4(t).unknown(e)},t=arguments.length?Array.from(t,Up):[0,1],Ls(r)}function E4(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function oC(t){return Math.log(t)}function lC(t){return Math.exp(t)}function OG(t){return-Math.log(-t)}function IG(t){return-Math.exp(-t)}function RG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function MG(t){return t===10?RG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function DG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cC(t){return(e,r)=>-t(-e,r)}function CS(t){const e=t(oC,lC),r=e.domain;let n=10,i,a;function o(){return i=DG(n),a=MG(n),r()[0]<0?(i=cC(i),a=cC(a),t(OG,IG)):t(oC,lC),e}return e.base=function(u){return arguments.length?(n=+u,o()):n},e.domain=function(u){return arguments.length?(r(u),o()):r()},e.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const g=p<f;g&&([f,p]=[p,f]);let y=i(f),x=i(p),S,_;const b=u==null?10:+u;let P=[];if(!(n%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),f>0){for(;y<=x;++y)for(S=1;S<n;++S)if(_=y<0?S/a(-y):S*a(y),!(_<f)){if(_>p)break;P.push(_)}}else for(;y<=x;++y)for(S=n-1;S>=1;--S)if(_=y>0?S/a(-y):S*a(y),!(_<f)){if(_>p)break;P.push(_)}P.length*2<b&&(P=u_(f,p,b))}else P=u_(y,x,Math.min(x-y,b)).map(a);return g?P.reverse():P},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=wd(d)).precision==null&&(d.trim=!0),d=PS(d)),u===1/0)return d;const f=Math.max(1,n*u/e.ticks().length);return p=>{let g=p/a(Math.round(i(p)));return g*n<n-.5&&(g*=n),g<=f?d(p):""}},e.nice=()=>r(E4(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function T4(){const t=CS(Zm()).domain([1,10]);return t.copy=()=>df(t,T4()).base(t.base()),Xn.apply(t,arguments),t}function uC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function dC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function OS(t){var e=1,r=t(uC(e),dC(e));return r.constant=function(n){return arguments.length?t(uC(e=+n),dC(e)):e},Ls(r)}function A4(){var t=OS(Zm());return t.copy=function(){return df(t,A4()).constant(t.constant())},Xn.apply(t,arguments)}function fC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function LG(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $G(t){return t<0?-t*t:t*t}function IS(t){var e=t(Xr,Xr),r=1;function n(){return r===1?t(Xr,Xr):r===.5?t(LG,$G):t(fC(r),fC(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ls(e)}function RS(){var t=IS(Zm());return t.copy=function(){return df(t,RS()).exponent(t.exponent())},Xn.apply(t,arguments),t}function FG(){return RS.apply(null,arguments).exponent(.5)}function hC(t){return Math.sign(t)*t*t}function VG(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function N4(){var t=AS(),e=[0,1],r=!1,n;function i(a){var o=VG(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(hC(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Up)).map(hC)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return N4(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Xn.apply(i,arguments),Ls(i)}function P4(){var t=[],e=[],r=[],n;function i(){var o=0,u=Math.max(1,e.length);for(r=new Array(u-1);++o<u;)r[o-1]=WH(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?n:e[cf(r,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ts),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return P4().domain(t).range(e).unknown(n)},Xn.apply(a,arguments)}function C4(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[cf(n,d,0,r)]:a}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return C4().domain([t,e]).range(i).unknown(a)},Xn.apply(Ls(o),arguments)}function O4(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[cf(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return O4().domain(t).range(e).unknown(r)},Xn.apply(i,arguments)}const Sb=new Date,kb=new Date;function or(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return d;let f;do d.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<o);return d},i.filter=a=>or(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Sb.setTime(+a),kb.setTime(+o),t(Sb),t(kb),Math.floor(r(Sb,kb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const zp=or(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);zp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?or(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):zp);zp.range;const ba=1e3,Gn=ba*60,wa=Gn*60,Ca=wa*24,MS=Ca*7,pC=Ca*30,jb=Ca*365,ko=or(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ba)},(t,e)=>(e-t)/ba,t=>t.getUTCSeconds());ko.range;const DS=or(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ba)},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getMinutes());DS.range;const LS=or(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getUTCMinutes());LS.range;const $S=or(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ba-t.getMinutes()*Gn)},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getHours());$S.range;const FS=or(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getUTCHours());FS.range;const ff=or(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gn)/Ca,t=>t.getDate()-1);ff.range;const eg=or(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ca,t=>t.getUTCDate()-1);eg.range;const I4=or(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ca,t=>Math.floor(t/Ca));I4.range;function Wo(t){return or(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/MS)}const tg=Wo(0),Wp=Wo(1),UG=Wo(2),BG=Wo(3),fc=Wo(4),qG=Wo(5),zG=Wo(6);tg.range;Wp.range;UG.range;BG.range;fc.range;qG.range;zG.range;function Ho(t){return or(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/MS)}const rg=Ho(0),Hp=Ho(1),WG=Ho(2),HG=Ho(3),hc=Ho(4),GG=Ho(5),KG=Ho(6);rg.range;Hp.range;WG.range;HG.range;hc.range;GG.range;KG.range;const VS=or(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());VS.range;const US=or(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());US.range;const Oa=or(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:or(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Oa.range;const Ia=or(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:or(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ia.range;function R4(t,e,r,n,i,a){const o=[[ko,1,ba],[ko,5,5*ba],[ko,15,15*ba],[ko,30,30*ba],[a,1,Gn],[a,5,5*Gn],[a,15,15*Gn],[a,30,30*Gn],[i,1,wa],[i,3,3*wa],[i,6,6*wa],[i,12,12*wa],[n,1,Ca],[n,2,2*Ca],[r,1,MS],[e,1,pC],[e,3,3*pC],[t,1,jb]];function u(f,p,g){const y=p<f;y&&([f,p]=[p,f]);const x=g&&typeof g.range=="function"?g:d(f,p,g),S=x?x.range(f,+p+1):[];return y?S.reverse():S}function d(f,p,g){const y=Math.abs(p-f)/g,x=SS(([,,b])=>b).right(o,y);if(x===o.length)return t.every(f_(f/jb,p/jb,g));if(x===0)return zp.every(Math.max(f_(f,p,g),1));const[S,_]=o[y/o[x-1][2]<o[x][2]/y?x-1:x];return S.every(_)}return[u,d]}const[YG,XG]=R4(Ia,US,rg,I4,FS,LS),[QG,JG]=R4(Oa,VS,tg,ff,$S,DS);function Eb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Tb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Au(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function ZG(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,d=t.shortMonths,f=Nu(i),p=Pu(i),g=Nu(a),y=Pu(a),x=Nu(o),S=Pu(o),_=Nu(u),b=Pu(u),P=Nu(d),A=Pu(d),O={a:ie,A:Z,b:J,B:ae,c:null,d:bC,e:bC,f:_K,g:OK,G:RK,H:xK,I:bK,j:wK,L:M4,m:SK,M:kK,p:z,q:Y,Q:SC,s:kC,S:jK,u:EK,U:TK,V:AK,w:NK,W:PK,x:null,X:null,y:CK,Y:IK,Z:MK,"%":_C},R={a:K,A:le,b:fe,B:ye,c:null,d:wC,e:wC,f:FK,g:YK,G:QK,H:DK,I:LK,j:$K,L:L4,m:VK,M:UK,p:he,q:me,Q:SC,s:kC,S:BK,u:qK,U:zK,V:WK,w:HK,W:GK,x:null,X:null,y:KK,Y:XK,Z:JK,"%":_C},E={a:I,A:D,b:V,B:$,c:ee,d:yC,e:yC,f:mK,g:vC,G:gC,H:xC,I:xC,j:dK,L:pK,m:uK,M:fK,p:L,q:cK,Q:vK,s:yK,S:hK,u:iK,U:aK,V:sK,w:nK,W:oK,x:ne,X:Q,y:vC,Y:gC,Z:lK,"%":gK};O.x=N(r,O),O.X=N(n,O),O.c=N(e,O),R.x=N(r,R),R.X=N(n,R),R.c=N(e,R);function N(ue,je){return function(Ee){var W=[],pe=-1,ge=0,Ae=ue.length,$e,Mt,Zr;for(Ee instanceof Date||(Ee=new Date(+Ee));++pe<Ae;)ue.charCodeAt(pe)===37&&(W.push(ue.slice(ge,pe)),(Mt=mC[$e=ue.charAt(++pe)])!=null?$e=ue.charAt(++pe):Mt=$e==="e"?" ":"0",(Zr=je[$e])&&($e=Zr(Ee,Mt)),W.push($e),ge=pe+1);return W.push(ue.slice(ge,pe)),W.join("")}}function T(ue,je){return function(Ee){var W=Au(1900,void 0,1),pe=C(W,ue,Ee+="",0),ge,Ae;if(pe!=Ee.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(je&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ge=Tb(Au(W.y,0,1)),Ae=ge.getUTCDay(),ge=Ae>4||Ae===0?Hp.ceil(ge):Hp(ge),ge=eg.offset(ge,(W.V-1)*7),W.y=ge.getUTCFullYear(),W.m=ge.getUTCMonth(),W.d=ge.getUTCDate()+(W.w+6)%7):(ge=Eb(Au(W.y,0,1)),Ae=ge.getDay(),ge=Ae>4||Ae===0?Wp.ceil(ge):Wp(ge),ge=ff.offset(ge,(W.V-1)*7),W.y=ge.getFullYear(),W.m=ge.getMonth(),W.d=ge.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ae="Z"in W?Tb(Au(W.y,0,1)).getUTCDay():Eb(Au(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ae+5)%7:W.w+W.U*7-(Ae+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Tb(W)):Eb(W)}}function C(ue,je,Ee,W){for(var pe=0,ge=je.length,Ae=Ee.length,$e,Mt;pe<ge;){if(W>=Ae)return-1;if($e=je.charCodeAt(pe++),$e===37){if($e=je.charAt(pe++),Mt=E[$e in mC?je.charAt(pe++):$e],!Mt||(W=Mt(ue,Ee,W))<0)return-1}else if($e!=Ee.charCodeAt(W++))return-1}return W}function L(ue,je,Ee){var W=f.exec(je.slice(Ee));return W?(ue.p=p.get(W[0].toLowerCase()),Ee+W[0].length):-1}function I(ue,je,Ee){var W=x.exec(je.slice(Ee));return W?(ue.w=S.get(W[0].toLowerCase()),Ee+W[0].length):-1}function D(ue,je,Ee){var W=g.exec(je.slice(Ee));return W?(ue.w=y.get(W[0].toLowerCase()),Ee+W[0].length):-1}function V(ue,je,Ee){var W=P.exec(je.slice(Ee));return W?(ue.m=A.get(W[0].toLowerCase()),Ee+W[0].length):-1}function $(ue,je,Ee){var W=_.exec(je.slice(Ee));return W?(ue.m=b.get(W[0].toLowerCase()),Ee+W[0].length):-1}function ee(ue,je,Ee){return C(ue,e,je,Ee)}function ne(ue,je,Ee){return C(ue,r,je,Ee)}function Q(ue,je,Ee){return C(ue,n,je,Ee)}function ie(ue){return o[ue.getDay()]}function Z(ue){return a[ue.getDay()]}function J(ue){return d[ue.getMonth()]}function ae(ue){return u[ue.getMonth()]}function z(ue){return i[+(ue.getHours()>=12)]}function Y(ue){return 1+~~(ue.getMonth()/3)}function K(ue){return o[ue.getUTCDay()]}function le(ue){return a[ue.getUTCDay()]}function fe(ue){return d[ue.getUTCMonth()]}function ye(ue){return u[ue.getUTCMonth()]}function he(ue){return i[+(ue.getUTCHours()>=12)]}function me(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var je=N(ue+="",O);return je.toString=function(){return ue},je},parse:function(ue){var je=T(ue+="",!1);return je.toString=function(){return ue},je},utcFormat:function(ue){var je=N(ue+="",R);return je.toString=function(){return ue},je},utcParse:function(ue){var je=T(ue+="",!0);return je.toString=function(){return ue},je}}}var mC={"-":"",_:" ",0:"0"},yr=/^\s*\d+/,eK=/^%/,tK=/[\\^$*+?|[\]().{}]/g;function ot(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function rK(t){return t.replace(tK,"\\$&")}function Nu(t){return new RegExp("^(?:"+t.map(rK).join("|")+")","i")}function Pu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function nK(t,e,r){var n=yr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function iK(t,e,r){var n=yr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function aK(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function sK(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function oK(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function gC(t,e,r){var n=yr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function vC(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function lK(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function cK(t,e,r){var n=yr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function uK(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function yC(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function dK(t,e,r){var n=yr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function xC(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function fK(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function hK(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function pK(t,e,r){var n=yr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function mK(t,e,r){var n=yr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function gK(t,e,r){var n=eK.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function vK(t,e,r){var n=yr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function yK(t,e,r){var n=yr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function bC(t,e){return ot(t.getDate(),e,2)}function xK(t,e){return ot(t.getHours(),e,2)}function bK(t,e){return ot(t.getHours()%12||12,e,2)}function wK(t,e){return ot(1+ff.count(Oa(t),t),e,3)}function M4(t,e){return ot(t.getMilliseconds(),e,3)}function _K(t,e){return M4(t,e)+"000"}function SK(t,e){return ot(t.getMonth()+1,e,2)}function kK(t,e){return ot(t.getMinutes(),e,2)}function jK(t,e){return ot(t.getSeconds(),e,2)}function EK(t){var e=t.getDay();return e===0?7:e}function TK(t,e){return ot(tg.count(Oa(t)-1,t),e,2)}function D4(t){var e=t.getDay();return e>=4||e===0?fc(t):fc.ceil(t)}function AK(t,e){return t=D4(t),ot(fc.count(Oa(t),t)+(Oa(t).getDay()===4),e,2)}function NK(t){return t.getDay()}function PK(t,e){return ot(Wp.count(Oa(t)-1,t),e,2)}function CK(t,e){return ot(t.getFullYear()%100,e,2)}function OK(t,e){return t=D4(t),ot(t.getFullYear()%100,e,2)}function IK(t,e){return ot(t.getFullYear()%1e4,e,4)}function RK(t,e){var r=t.getDay();return t=r>=4||r===0?fc(t):fc.ceil(t),ot(t.getFullYear()%1e4,e,4)}function MK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function wC(t,e){return ot(t.getUTCDate(),e,2)}function DK(t,e){return ot(t.getUTCHours(),e,2)}function LK(t,e){return ot(t.getUTCHours()%12||12,e,2)}function $K(t,e){return ot(1+eg.count(Ia(t),t),e,3)}function L4(t,e){return ot(t.getUTCMilliseconds(),e,3)}function FK(t,e){return L4(t,e)+"000"}function VK(t,e){return ot(t.getUTCMonth()+1,e,2)}function UK(t,e){return ot(t.getUTCMinutes(),e,2)}function BK(t,e){return ot(t.getUTCSeconds(),e,2)}function qK(t){var e=t.getUTCDay();return e===0?7:e}function zK(t,e){return ot(rg.count(Ia(t)-1,t),e,2)}function $4(t){var e=t.getUTCDay();return e>=4||e===0?hc(t):hc.ceil(t)}function WK(t,e){return t=$4(t),ot(hc.count(Ia(t),t)+(Ia(t).getUTCDay()===4),e,2)}function HK(t){return t.getUTCDay()}function GK(t,e){return ot(Hp.count(Ia(t)-1,t),e,2)}function KK(t,e){return ot(t.getUTCFullYear()%100,e,2)}function YK(t,e){return t=$4(t),ot(t.getUTCFullYear()%100,e,2)}function XK(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function QK(t,e){var r=t.getUTCDay();return t=r>=4||r===0?hc(t):hc.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function JK(){return"+0000"}function _C(){return"%"}function SC(t){return+t}function kC(t){return Math.floor(+t/1e3)}var Ol,F4,V4;ZK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZK(t){return Ol=ZG(t),F4=Ol.format,Ol.parse,V4=Ol.utcFormat,Ol.utcParse,Ol}function eY(t){return new Date(t)}function tY(t){return t instanceof Date?+t:+new Date(+t)}function BS(t,e,r,n,i,a,o,u,d,f){var p=AS(),g=p.invert,y=p.domain,x=f(".%L"),S=f(":%S"),_=f("%I:%M"),b=f("%I %p"),P=f("%a %d"),A=f("%b %d"),O=f("%B"),R=f("%Y");function E(N){return(d(N)<N?x:u(N)<N?S:o(N)<N?_:a(N)<N?b:n(N)<N?i(N)<N?P:A:r(N)<N?O:R)(N)}return p.invert=function(N){return new Date(g(N))},p.domain=function(N){return arguments.length?y(Array.from(N,tY)):y().map(eY)},p.ticks=function(N){var T=y();return t(T[0],T[T.length-1],N??10)},p.tickFormat=function(N,T){return T==null?E:f(T)},p.nice=function(N){var T=y();return(!N||typeof N.range!="function")&&(N=e(T[0],T[T.length-1],N??10)),N?y(E4(T,N)):p},p.copy=function(){return df(p,BS(t,e,r,n,i,a,o,u,d,f))},p}function rY(){return Xn.apply(BS(QG,JG,Oa,VS,tg,ff,$S,DS,ko,F4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nY(){return Xn.apply(BS(YG,XG,Ia,US,rg,eg,FS,LS,ko,V4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ng(){var t=0,e=1,r,n,i,a,o=Xr,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:o(i===0?.5:(g=(a(g)-r)*i,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(o=g,f):o};function p(g){return function(y){var x,S;return arguments.length?([x,S]=y,o=g(x,S),f):[o(0),o(1)]}}return f.range=p(Uc),f.rangeRound=p(TS),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return a=g,r=g(t),n=g(e),i=r===n?0:1/(n-r),f}}function $s(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function U4(){var t=Ls(ng()(Xr));return t.copy=function(){return $s(t,U4())},La.apply(t,arguments)}function B4(){var t=CS(ng()).domain([1,10]);return t.copy=function(){return $s(t,B4()).base(t.base())},La.apply(t,arguments)}function q4(){var t=OS(ng());return t.copy=function(){return $s(t,q4()).constant(t.constant())},La.apply(t,arguments)}function qS(){var t=IS(ng());return t.copy=function(){return $s(t,qS()).exponent(t.exponent())},La.apply(t,arguments)}function iY(){return qS.apply(null,arguments).exponent(.5)}function z4(){var t=[],e=Xr;function r(n){if(n!=null&&!isNaN(n=+n))return e((cf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ts),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>zH(t,a/n))},r.copy=function(){return z4(e).domain(t)},La.apply(r,arguments)}function ig(){var t=0,e=.5,r=1,n=1,i,a,o,u,d,f=Xr,p,g=!1,y;function x(_){return isNaN(_=+_)?y:(_=.5+((_=+p(_))-a)*(n*_<n*a?u:d),f(g?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([t,e,r]=_,i=p(t=+t),a=p(e=+e),o=p(r=+r),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,x):[t,e,r]},x.clamp=function(_){return arguments.length?(g=!!_,x):g},x.interpolator=function(_){return arguments.length?(f=_,x):f};function S(_){return function(b){var P,A,O;return arguments.length?([P,A,O]=b,f=gG(_,[P,A,O]),x):[f(0),f(.5),f(1)]}}return x.range=S(Uc),x.rangeRound=S(TS),x.unknown=function(_){return arguments.length?(y=_,x):y},function(_){return p=_,i=_(t),a=_(e),o=_(r),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,x}}function W4(){var t=Ls(ig()(Xr));return t.copy=function(){return $s(t,W4())},La.apply(t,arguments)}function H4(){var t=CS(ig()).domain([.1,1,10]);return t.copy=function(){return $s(t,H4()).base(t.base())},La.apply(t,arguments)}function G4(){var t=OS(ig());return t.copy=function(){return $s(t,G4()).constant(t.constant())},La.apply(t,arguments)}function zS(){var t=IS(ig());return t.copy=function(){return $s(t,zS()).exponent(t.exponent())},La.apply(t,arguments)}function aY(){return zS.apply(null,arguments).exponent(.5)}const jC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vd,scaleDiverging:W4,scaleDivergingLog:H4,scaleDivergingPow:zS,scaleDivergingSqrt:aY,scaleDivergingSymlog:G4,scaleIdentity:j4,scaleImplicit:h_,scaleLinear:qp,scaleLog:T4,scaleOrdinal:kS,scalePoint:Xu,scalePow:RS,scaleQuantile:P4,scaleQuantize:C4,scaleRadial:N4,scaleSequential:U4,scaleSequentialLog:B4,scaleSequentialPow:qS,scaleSequentialQuantile:z4,scaleSequentialSqrt:iY,scaleSequentialSymlog:q4,scaleSqrt:FG,scaleSymlog:A4,scaleThreshold:O4,scaleTime:rY,scaleUtc:nY,tickFormat:k4},Symbol.toStringTag,{value:"Module"}));var Ab,EC;function ag(){if(EC)return Ab;EC=1;var t=Lc();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var u=r[a],d=n(u);if(d!=null&&(f===void 0?d===d&&!t(d):i(d,f)))var f=d,p=u}return p}return Ab=e,Ab}var Nb,TC;function K4(){if(TC)return Nb;TC=1;function t(e,r){return e>r}return Nb=t,Nb}var Pb,AC;function sY(){if(AC)return Pb;AC=1;var t=ag(),e=K4(),r=Fc();function n(i){return i&&i.length?t(i,r,e):void 0}return Pb=n,Pb}var oY=sY();const sg=ft(oY);var Cb,NC;function Y4(){if(NC)return Cb;NC=1;function t(e,r){return e<r}return Cb=t,Cb}var Ob,PC;function lY(){if(PC)return Ob;PC=1;var t=ag(),e=Y4(),r=Fc();function n(i){return i&&i.length?t(i,r,e):void 0}return Ob=n,Ob}var cY=lY();const og=ft(cY);var Ib,CC;function uY(){if(CC)return Ib;CC=1;var t=aS(),e=Yi(),r=n4(),n=pn();function i(a,o){var u=n(a)?t:r;return u(a,e(o,3))}return Ib=i,Ib}var Rb,OC;function dY(){if(OC)return Rb;OC=1;var t=t4(),e=uY();function r(n,i){return t(e(n,i),1)}return Rb=r,Rb}var fY=dY();const hY=ft(fY);var Mb,IC;function pY(){if(IC)return Mb;IC=1;var t=yS();function e(r,n){return t(r,n)}return Mb=e,Mb}var mY=pY();const lg=ft(mY);var Bc=1e9,gY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},HS,Ct=!0,Yn="[DecimalError] ",No=Yn+"Invalid argument: ",WS=Yn+"Exponent out of range: ",qc=Math.floor,vo=Math.pow,vY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,En,mr=1e7,Tt=7,X4=9007199254740991,Gp=qc(X4/Tt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Tt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(t){return ja(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,r=e.constructor;return yt(ja(e,new r(t),0,1),r.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return Xt(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(En))throw Error(Yn+"NaN");if(r.s<1)throw Error(Yn+(r.s?"NaN":"-Infinity"));return r.eq(En)?new n(0):(Ct=!1,e=ja(_d(r,a),_d(t,a),a),Ct=!0,yt(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z4(e,t):Q4(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Yn+"NaN");return r.s?(Ct=!1,e=ja(r,t,0,1).times(t),Ct=!0,r.minus(e)):yt(new n(r),i)};Ce.naturalExponential=Ce.exp=function(){return J4(this)};Ce.naturalLogarithm=Ce.ln=function(){return _d(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Q4(e,t):Z4(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(No+t);if(e=Xt(i)+1,n=i.d.length-1,r=n*Tt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ce.squareRoot=Ce.sqrt=function(){var t,e,r,n,i,a,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Yn+"NaN")}for(t=Xt(u),Ct=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Mi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=qc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(a=n,n=a.plus(ja(u,a,o+2)).times(.5),Mi(a.d).slice(0,o)===(e=Mi(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(yt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;o+=4}return Ct=!0,yt(n,r)};Ce.times=Ce.mul=function(t){var e,r,n,i,a,o,u,d,f,p=this,g=p.constructor,y=p.d,x=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,r=p.e+t.e,d=y.length,f=x.length,d<f&&(a=y,y=x,x=a,o=d,d=f,f=o),a=[],o=d+f,n=o;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=d+n;i>n;)u=a[i]+x[n]*y[i-n-1]+e,a[i--]=u%mr|0,e=u/mr|0;a[i]=(a[i]+e)%mr|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ct?yt(t,g.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(zi(t,0,Bc),e===void 0?e=n.rounding:zi(e,0,8),yt(r,t+Xt(r)+1,e))};Ce.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Fo(n,!0):(zi(t,0,Bc),e===void 0?e=i.rounding:zi(e,0,8),n=yt(new i(n),t+1,e),r=Fo(n,!0,t+1)),r};Ce.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Fo(i):(zi(t,0,Bc),e===void 0?e=a.rounding:zi(e,0,8),n=yt(new a(i),t+Xt(i)+1,e),r=Fo(n.abs(),!1,t+Xt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return yt(new e(t),Xt(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,r,n,i,a,o,u=this,d=u.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(En);if(u=new d(u),!u.s){if(t.s<1)throw Error(Yn+"Infinity");return u}if(u.eq(En))return u;if(n=d.precision,t.eq(En))return yt(u,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=u.s,o){if((r=p<0?-p:p)<=X4){for(i=new d(En),e=Math.ceil(n/Tt+4),Ct=!1;r%2&&(i=i.times(u),MC(i.d,e)),r=qc(r/2),r!==0;)u=u.times(u),MC(u.d,e);return Ct=!0,t.s<0?new d(En).div(i):yt(i,n)}}else if(a<0)throw Error(Yn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Ct=!1,i=t.times(_d(u,n+f)),Ct=!0,i=J4(i),i.s=a,i};Ce.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Xt(i),n=Fo(i,r<=a.toExpNeg||r>=a.toExpPos)):(zi(t,1,Bc),e===void 0?e=a.rounding:zi(e,0,8),i=yt(new a(i),t,e),r=Xt(i),n=Fo(i,t<=r||r<=a.toExpNeg,t)),n};Ce.toSignificantDigits=Ce.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(zi(t,1,Bc),e===void 0?e=n.rounding:zi(e,0,8)),yt(new n(r),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Xt(t),r=t.constructor;return Fo(t,e<=r.toExpNeg||e>=r.toExpPos)};function Q4(t,e){var r,n,i,a,o,u,d,f,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ct?yt(e,g):e;if(d=t.d,f=e.d,o=t.e,i=e.e,d=d.slice(),a=o-i,a){for(a<0?(n=d,a=-a,u=f.length):(n=f,i=o,u=d.length),o=Math.ceil(g/Tt),u=o>u?o+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=d.length,a=f.length,u-a<0&&(a=u,n=f,f=d,d=n),r=0;a;)r=(d[--a]=d[a]+f[a]+r)/mr|0,d[a]%=mr;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,Ct?yt(e,g):e}function zi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(No+t)}function Mi(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Tt-n.length,r&&(a+=ps(r)),a+=n;o=t[e],n=o+"",r=Tt-n.length,r&&(a+=ps(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ja=function(){function t(n,i){var a,o=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+o,n[u]=a%mr|0,o=a/mr|0;return o&&n.unshift(o),n}function e(n,i,a,o){var u,d;if(a!=o)d=a>o?1:-1;else for(u=d=0;u<a;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*mr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var u,d,f,p,g,y,x,S,_,b,P,A,O,R,E,N,T,C,L=n.constructor,I=n.s==i.s?1:-1,D=n.d,V=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(Yn+"Division by zero");for(d=n.e-i.e,T=V.length,E=D.length,x=new L(I),S=x.d=[],f=0;V[f]==(D[f]||0);)++f;if(V[f]>(D[f]||0)&&--d,a==null?A=a=L.precision:o?A=a+(Xt(n)-Xt(i))+1:A=a,A<0)return new L(0);if(A=A/Tt+2|0,f=0,T==1)for(p=0,V=V[0],A++;(f<E||p)&&A--;f++)O=p*mr+(D[f]||0),S[f]=O/V|0,p=O%V|0;else{for(p=mr/(V[0]+1)|0,p>1&&(V=t(V,p),D=t(D,p),T=V.length,E=D.length),R=T,_=D.slice(0,T),b=_.length;b<T;)_[b++]=0;C=V.slice(),C.unshift(0),N=V[0],V[1]>=mr/2&&++N;do p=0,u=e(V,_,T,b),u<0?(P=_[0],T!=b&&(P=P*mr+(_[1]||0)),p=P/N|0,p>1?(p>=mr&&(p=mr-1),g=t(V,p),y=g.length,b=_.length,u=e(g,_,y,b),u==1&&(p--,r(g,T<y?C:V,y))):(p==0&&(u=p=1),g=V.slice()),y=g.length,y<b&&g.unshift(0),r(_,g,b),u==-1&&(b=_.length,u=e(V,_,T,b),u<1&&(p++,r(_,T<b?C:V,b))),b=_.length):u===0&&(p++,_=[0]),S[f++]=p,u&&_[0]?_[b++]=D[R]||0:(_=[D[R]],b=1);while((R++<E||_[0]!==void 0)&&A--)}return S[0]||S.shift(),x.e=d,yt(x,o?a+Xt(x)+1:a)}}();function J4(t,e){var r,n,i,a,o,u,d=0,f=0,p=t.constructor,g=p.precision;if(Xt(t)>16)throw Error(WS+Xt(t));if(!t.s)return new p(En);for(Ct=!1,u=g,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(vo(2,f))/Math.LN10*2+5|0,u+=n,r=i=a=new p(En),p.precision=u;;){if(i=yt(i.times(t),u),r=r.times(++d),o=a.plus(ja(i,r,u)),Mi(o.d).slice(0,u)===Mi(a.d).slice(0,u)){for(;f--;)a=yt(a.times(a),u);return p.precision=g,e==null?(Ct=!0,yt(a,g)):a}a=o}}function Xt(t){for(var e=t.e*Tt,r=t.d[0];r>=10;r/=10)e++;return e}function Db(t,e,r){if(e>t.LN10.sd())throw Ct=!0,r&&(t.precision=r),Error(Yn+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function ps(t){for(var e="";t--;)e+="0";return e}function _d(t,e){var r,n,i,a,o,u,d,f,p,g=1,y=10,x=t,S=x.d,_=x.constructor,b=_.precision;if(x.s<1)throw Error(Yn+(x.s?"NaN":"-Infinity"));if(x.eq(En))return new _(0);if(e==null?(Ct=!1,f=b):f=e,x.eq(10))return e==null&&(Ct=!0),Db(_,f);if(f+=y,_.precision=f,r=Mi(S),n=r.charAt(0),a=Xt(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=Mi(x.d),n=r.charAt(0),g++;a=Xt(x),n>1?(x=new _("0."+r),a++):x=new _(n+"."+r.slice(1))}else return d=Db(_,f+2,b).times(a+""),x=_d(new _(n+"."+r.slice(1)),f-y).plus(d),_.precision=b,e==null?(Ct=!0,yt(x,b)):x;for(u=o=x=ja(x.minus(En),x.plus(En),f),p=yt(x.times(x),f),i=3;;){if(o=yt(o.times(p),f),d=u.plus(ja(o,new _(i),f)),Mi(d.d).slice(0,f)===Mi(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(Db(_,f+2,b).times(a+""))),u=ja(u,new _(g),f),_.precision=b,e==null?(Ct=!0,yt(u,b)):u;u=d,i+=2}}function RC(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=qc(r/Tt),t.d=[],n=(r+1)%Tt,r<0&&(n+=Tt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Tt;n<i;)t.d.push(+e.slice(n,n+=Tt));e=e.slice(n),n=Tt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ct&&(t.e>Gp||t.e<-Gp))throw Error(WS+r)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,r){var n,i,a,o,u,d,f,p,g=t.d;for(o=1,a=g[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Tt,i=e,f=g[p=0];else{if(p=Math.ceil((n+1)/Tt),a=g.length,p>=a)return t;for(f=a=g[p],o=1;a>=10;a/=10)o++;n%=Tt,i=n-Tt+o}if(r!==void 0&&(a=vo(10,o-i-1),u=f/a%10|0,d=e<0||g[p+1]!==void 0||f%a,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?f/vo(10,o-i):0:g[p-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return d?(a=Xt(t),g.length=1,e=e-a-1,g[0]=vo(10,(Tt-e%Tt)%Tt),t.e=qc(-e/Tt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=p,a=1,p--):(g.length=p+1,a=vo(10,Tt-n),g[p]=i>0?(f/vo(10,o-i)%vo(10,i)|0)*a:0),d)for(;;)if(p==0){(g[0]+=a)==mr&&(g[0]=1,++t.e);break}else{if(g[p]+=a,g[p]!=mr)break;g[p--]=0,a=1}for(n=g.length;g[--n]===0;)g.pop();if(Ct&&(t.e>Gp||t.e<-Gp))throw Error(WS+Xt(t));return t}function Z4(t,e){var r,n,i,a,o,u,d,f,p,g,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ct?yt(e,x):e;if(d=t.d,g=e.d,n=e.e,f=t.e,d=d.slice(),o=f-n,o){for(p=o<0,p?(r=d,o=-o,u=g.length):(r=g,n=f,u=d.length),i=Math.max(Math.ceil(x/Tt),u)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}o=0}for(p&&(r=d,d=g,g=r,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>o;){if(d[--i]<g[i]){for(a=i;a&&d[--a]===0;)d[a]=mr-1;--d[a],d[i]+=mr}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Ct?yt(e,x):e):new y(0)}function Fo(t,e,r){var n,i=Xt(t),a=Mi(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+ps(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ps(-i-1)+a,r&&(n=r-o)>0&&(a+=ps(n))):i>=o?(a+=ps(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+ps(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=ps(n))),t.s<0?"-"+a:a}function MC(t,e){if(t.length>e)return t.length=e,!0}function eL(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(No+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return RC(o,a.toString())}else if(typeof a!="string")throw Error(No+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,vY.test(a))RC(o,a);else throw Error(No+a)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eL,i.config=i.set=yY,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function yY(t){if(!t||typeof t!="object")throw Error(Yn+"Object expected");var e,r,n,i=["precision",1,Bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(qc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(No+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(No+r+": "+n);return this}var HS=eL(gY);En=new HS(1);const gt=HS;function xY(t){return SY(t)||_Y(t)||wY(t)||bY()}function bY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wY(t,e){if(t){if(typeof t=="string")return v_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v_(t,e)}}function _Y(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function SY(t){if(Array.isArray(t))return v_(t)}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var kY=function(e){return e},tL={},rL=function(e){return e===tL},DC=function(e){return function r(){return arguments.length===0||arguments.length===1&&rL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},jY=function t(e,r){return e===1?r:DC(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(u){return u!==tL}).length;return o>=e?r.apply(void 0,i):t(e-o,DC(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=i.map(function(g){return rL(g)?d.shift():g});return r.apply(void 0,xY(p).concat(d))}))})},cg=function(e){return jY(e.length,e)},y_=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},EY=cg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),TY=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return kY;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(u,d){return d(u)},a.apply(void 0,arguments))}},x_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(u,d){return u===r[d]})||(r=a,n=e.apply(void 0,a)),n}};function AY(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function NY(t,e,r){for(var n=new gt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var PY=cg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),CY=cg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),OY=cg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const ug={rangeStep:NY,getDigitCount:AY,interpolateNumber:PY,uninterpolateNumber:CY,uninterpolateTruncation:OY};function b_(t){return MY(t)||RY(t)||iL(t)||IY()}function IY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function MY(t){if(Array.isArray(t))return w_(t)}function Sd(t,e){return $Y(t)||LY(t,e)||iL(t,e)||DY()}function DY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iL(t,e){if(t){if(typeof t=="string")return w_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w_(t,e)}}function w_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LY(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,a=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function $Y(t){if(Array.isArray(t))return t}function aL(t){var e=Sd(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function sL(t,e,r){if(t.lte(0))return new gt(0);var n=ug.getDigitCount(t.toNumber()),i=new gt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,u=new gt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),d=u.mul(i);return e?d:new gt(Math.ceil(d))}function FY(t,e,r){var n=1,i=new gt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new gt(10).pow(ug.getDigitCount(t)-1),i=new gt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new gt(Math.floor(t)))}else t===0?i=new gt(Math.floor((e-1)/2)):r||(i=new gt(Math.floor(t)));var o=Math.floor((e-1)/2),u=TY(EY(function(d){return i.add(new gt(d-o).mul(n)).toNumber()}),y_);return u(0,e)}function oL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var a=sL(new gt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new gt(0):(o=new gt(t).add(e).div(2),o=o.sub(new gt(o).mod(a)));var u=Math.ceil(o.sub(t).div(a).toNumber()),d=Math.ceil(new gt(e).sub(o).div(a).toNumber()),f=u+d+1;return f>r?oL(t,e,r,n,i+1):(f<r&&(d=e>0?d+(r-f):d,u=e>0?u:u+(r-f)),{step:a,tickMin:o.sub(new gt(u).mul(a)),tickMax:o.add(new gt(d).mul(a))})}function VY(t){var e=Sd(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),u=aL([r,n]),d=Sd(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var g=p===1/0?[f].concat(b_(y_(0,i-1).map(function(){return 1/0}))):[].concat(b_(y_(0,i-1).map(function(){return-1/0})),[p]);return r>n?x_(g):g}if(f===p)return FY(f,i,a);var y=oL(f,p,o,a),x=y.step,S=y.tickMin,_=y.tickMax,b=ug.rangeStep(S,_.add(new gt(.1).mul(x)),x);return r>n?x_(b):b}function UY(t,e){var r=Sd(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=aL([n,i]),u=Sd(o,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var p=Math.max(e,2),g=sL(new gt(f).sub(d).div(p-1),a,0),y=[].concat(b_(ug.rangeStep(new gt(d),new gt(f).sub(new gt(.99).mul(g)),g)),[f]);return n>i?x_(y):y}var BY=nL(VY),qY=nL(UY),zY="Invariant failed";function Vo(t,e){throw new Error(zY)}var WY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function Kp(){return Kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kp.apply(this,arguments)}function HY(t,e){return XY(t)||YY(t,e)||KY(t,e)||GY()}function GY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KY(t,e){if(t){if(typeof t=="string")return LC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LC(t,e)}}function LC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function XY(t){if(Array.isArray(t))return t}function QY(t,e){if(t==null)return{};var r=JY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uL(n.key),n)}}function tX(t,e,r){return e&&eX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rX(t,e,r){return e=Yp(e),nX(t,lL()?Reflect.construct(e,r||[],Yp(t).constructor):e.apply(t,r))}function nX(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iX(t)}function iX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lL=function(){return!!t})()}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yp(t)}function aX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},__(t,e)}function cL(t,e,r){return e=uL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uL(t){var e=sX(t,"string");return pc(e)=="symbol"?e:e+""}function sX(t,e){if(pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dg=function(t){function e(){return ZY(this,e),rX(this,e,arguments)}return aX(e,t),tX(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,g=n.yAxis,y=QY(n,WY),x=ze(y,!1);this.props.direction==="x"&&p.type!=="number"&&Vo();var S=d.map(function(_){var b=f(_,u),P=b.x,A=b.y,O=b.value,R=b.errorVal;if(!R)return null;var E=[],N,T;if(Array.isArray(R)){var C=HY(R,2);N=C[0],T=C[1]}else N=T=R;if(a==="vertical"){var L=p.scale,I=A+i,D=I+o,V=I-o,$=L(O-N),ee=L(O+T);E.push({x1:ee,y1:D,x2:ee,y2:V}),E.push({x1:$,y1:I,x2:ee,y2:I}),E.push({x1:$,y1:D,x2:$,y2:V})}else if(a==="horizontal"){var ne=g.scale,Q=P+i,ie=Q-o,Z=Q+o,J=ne(O-N),ae=ne(O+T);E.push({x1:ie,y1:ae,x2:Z,y2:ae}),E.push({x1:Q,y1:J,x2:Q,y2:ae}),E.push({x1:ie,y1:J,x2:Z,y2:J})}return H.createElement(pt,Kp({className:"recharts-errorBar",key:"bar-".concat(E.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},x),E.map(function(z){return H.createElement("line",Kp({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return H.createElement(pt,{className:"recharts-errorBars"},S)}}])}(H.Component);cL(dg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cL(dg,"displayName","ErrorBar");function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function $C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(r),!0).forEach(function(n){oX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oX(t,e,r){return e=lX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lX(t){var e=cX(t,"string");return kd(e)=="symbol"?e:e+""}function cX(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=jn(r,Es);if(!o)return null;var u=Es.defaultProps,d=u!==void 0?fo(fo({},u),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:a==="children"?f=(n||[]).reduce(function(p,g){var y=g.item,x=g.props,S=x.sectors||x.data||[];return p.concat(S.map(function(_){return{type:o.props.iconType||y.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):f=(n||[]).map(function(p){var g=p.item,y=g.type.defaultProps,x=y!==void 0?fo(fo({},y),g.props):{},S=x.dataKey,_=x.name,b=x.legendType,P=x.hide;return{inactive:P,dataKey:S,type:d.iconType||b||"square",color:GS(g),value:_||S,payload:x}}),fo(fo(fo({},d),Es.getWithHeight(o,i)),{},{payload:f,item:o})};function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function FC(t){return hX(t)||fX(t)||dX(t)||uX()}function uX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dX(t,e){if(t){if(typeof t=="string")return S_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S_(t,e)}}function fX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hX(t){if(Array.isArray(t))return S_(t)}function S_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(r),!0).forEach(function(n){Ql(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ql(t,e,r){return e=pX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pX(t){var e=mX(t,"string");return jd(e)=="symbol"?e:e+""}function mX(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vr(t,e,r){return Je(t)||Je(e)?r:sr(e)?Nn(t,e,r):He(e)?e(t):r}function Qu(t,e,r,n){var i=hY(t,function(u){return Vr(u,e)});if(r==="number"){var a=i.filter(function(u){return ke(u)||parseFloat(u)});return a.length?[og(a),sg(a)]:[1/0,-1/0]}var o=n?i.filter(function(u){return!Je(u)}):i;return o.map(function(u){return sr(u)||u instanceof Date?u:""})}var gX=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,f=0;f<u;f++){var p=f>0?i[f-1].coordinate:i[u-1].coordinate,g=i[f].coordinate,y=f>=u-1?i[0].coordinate:i[f+1].coordinate,x=void 0;if(Kr(g-p)!==Kr(y-g)){var S=[];if(Kr(y-g)===Kr(d[1]-d[0])){x=y;var _=g+d[1]-d[0];S[0]=Math.min(_,(_+p)/2),S[1]=Math.max(_,(_+p)/2)}else{x=p;var b=y+d[1]-d[0];S[0]=Math.min(g,(b+g)/2),S[1]=Math.max(g,(b+g)/2)}var P=[Math.min(g,(x+g)/2),Math.max(g,(x+g)/2)];if(e>P[0]&&e<=P[1]||e>=S[0]&&e<=S[1]){o=i[f].index;break}}else{var A=Math.min(p,y),O=Math.max(p,y);if(e>(A+g)/2&&e<=(O+g)/2){o=i[f].index;break}}}else for(var R=0;R<u;R++)if(R===0&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R>0&&R<u-1&&e>(n[R].coordinate+n[R-1].coordinate)/2&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R===u-1&&e>(n[R].coordinate+n[R-1].coordinate)/2){o=n[R].index;break}return o},GS=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,o=a.stroke,u=a.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:u;break;default:d=u;break}return d},vX=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},u=Object.keys(a),d=0,f=u.length;d<f;d++)for(var p=a[u[d]].stackGroups,g=Object.keys(p),y=0,x=g.length;y<x;y++){var S=p[g[y]],_=S.items,b=S.cateAxisId,P=_.filter(function(T){return ka(T.type).indexOf("Bar")>=0});if(P&&P.length){var A=P[0].type.defaultProps,O=A!==void 0?Ft(Ft({},A),P[0].props):P[0].props,R=O.barSize,E=O[b];o[E]||(o[E]=[]);var N=Je(R)?r:R;o[E].push({item:P[0],stackList:P.slice(1),barSize:Je(N)?void 0:Yr(N,n,0)})}}return o},yX=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,u=e.maxBarSize,d=o.length;if(d<1)return null;var f=Yr(r,i,0,!0),p,g=[];if(o[0].barSize===+o[0].barSize){var y=!1,x=i/d,S=o.reduce(function(R,E){return R+E.barSize||0},0);S+=(d-1)*f,S>=i&&(S-=(d-1)*f,f=0),S>=i&&x>0&&(y=!0,x*=.9,S=d*x);var _=(i-S)/2>>0,b={offset:_-f,size:0};p=o.reduce(function(R,E){var N={item:E.item,position:{offset:b.offset+b.size+f,size:y?x:E.barSize}},T=[].concat(FC(R),[N]);return b=T[T.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(C){T.push({item:C,position:b})}),T},g)}else{var P=Yr(n,i,0,!0);i-2*P-(d-1)*f<=0&&(f=0);var A=(i-2*P-(d-1)*f)/d;A>1&&(A>>=0);var O=u===+u?Math.min(A,u):A;p=o.reduce(function(R,E,N){var T=[].concat(FC(R),[{item:E.item,position:{offset:P+(A+f)*N+(A-O)/2,size:O}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(C){T.push({item:C,position:T[T.length-1].position})}),T},g)}return p},xX=function(e,r,n,i){var a=n.children,o=n.width,u=n.margin,d=o-(u.left||0)-(u.right||0),f=dL({children:a,legendWidth:d});if(f){var p=i||{},g=p.width,y=p.height,x=f.align,S=f.verticalAlign,_=f.layout;if((_==="vertical"||_==="horizontal"&&S==="middle")&&x!=="center"&&ke(e[x]))return Ft(Ft({},e),{},Ql({},x,e[x]+(g||0)));if((_==="horizontal"||_==="vertical"&&x==="center")&&S!=="middle"&&ke(e[S]))return Ft(Ft({},e),{},Ql({},S,e[S]+(y||0)))}return e},bX=function(e,r,n){return Je(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},fL=function(e,r,n,i,a){var o=r.props.children,u=Kn(o,dg).filter(function(f){return bX(i,a,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,p){var g=Vr(p,n);if(Je(g))return f;var y=Array.isArray(g)?[og(g),sg(g)]:[g,g],x=d.reduce(function(S,_){var b=Vr(p,_,0),P=y[0]-Math.abs(Array.isArray(b)?b[0]:b),A=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(P,S[0]),Math.max(A,S[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},wX=function(e,r,n,i,a){var o=r.map(function(u){return fL(e,u,n,a,i)}).filter(function(u){return!Je(u)});return o&&o.length?o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},hL=function(e,r,n,i,a){var o=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&fL(e,d,f,i)||Qu(e,f,n,a)});if(n==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return o.reduce(function(d,f){for(var p=0,g=f.length;p<g;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},pL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},mL=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var a,o,u=e.map(function(d){return d.coordinate===r&&(a=!0),d.coordinate===n&&(o=!0),d.coordinate});return a||u.push(r),o||u.push(n),u},_a=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,u=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?Kr(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(g){var y=a?a.indexOf(g):g;return{coordinate:i(y)+f,value:g,offset:f}});return p.filter(function(g){return!sf(g.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(g,y){return{coordinate:i(g)+f,value:g,index:y,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(g){return{coordinate:i(g)+f,value:g,offset:f}}):i.domain().map(function(g,y){return{coordinate:i(g)+f,value:a?a[g]:g,index:y,offset:f}})},Lb=new WeakMap,qh=function(e,r){if(typeof r!="function")return e;Lb.has(e)||Lb.set(e,new WeakMap);var n=Lb.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},gL=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,u=e.axisType;if(i==="auto")return o==="radial"&&u==="radiusAxis"?{scale:vd(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:qp(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Xu(),realScaleType:"point"}:a==="category"?{scale:vd(),realScaleType:"band"}:{scale:qp(),realScaleType:"linear"};if(Do(i)){var d="scale".concat(Wm(i));return{scale:(jC[d]||Xu)(),realScaleType:jC[d]?d:"point"}}return He(i)?{scale:i}:{scale:Xu(),realScaleType:"point"}},UC=1e-4,vL=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-UC,o=Math.max(i[0],i[1])+UC,u=e(r[0]),d=e(r[n-1]);(u<a||u>o||d<a||d>o)&&e.domain([r[0],r[n-1]])}},_X=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},SX=function(e,r){if(!r||r.length!==2||!ke(r[0])||!ke(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ke(e[0])||e[0]<n)&&(a[0]=n),(!ke(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},kX=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,u=0;u<r;++u){var d=sf(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=a,e[u][n][1]=a+d,a=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1])}},jX=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var u=sf(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=a,e[o][n][1]=a+u,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},EX={sign:kX,expand:hz,none:sc,silhouette:pz,wiggle:mz,positive:jX},TX=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=EX[n],o=fz().keys(i).value(function(u,d){return+Vr(u,d,0)}).order(Zw).offset(a);return o(e)},AX=function(e,r,n,i,a,o){if(!e)return null;var u=o?r.reverse():r,d={},f=u.reduce(function(g,y){var x,S=(x=y.type)!==null&&x!==void 0&&x.defaultProps?Ft(Ft({},y.type.defaultProps),y.props):y.props,_=S.stackId,b=S.hide;if(b)return g;var P=S[n],A=g[P]||{hasStack:!1,stackGroups:{}};if(sr(_)){var O=A.stackGroups[_]||{numericAxisId:n,cateAxisId:i,items:[]};O.items.push(y),A.hasStack=!0,A.stackGroups[_]=O}else A.stackGroups[of("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Ft(Ft({},g),{},Ql({},P,A))},d),p={};return Object.keys(f).reduce(function(g,y){var x=f[y];if(x.hasStack){var S={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(_,b){var P=x.stackGroups[b];return Ft(Ft({},_),{},Ql({},b,{numericAxisId:n,cateAxisId:i,items:P.items,stackedData:TX(e,P.items,a)}))},S)}return Ft(Ft({},g),{},Ql({},y,x))},p)},yL=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var p=BY(f,a,u);return e.domain([og(p),sg(p)]),{niceTicks:p}}if(a&&i==="number"){var g=e.domain(),y=qY(g,a,u);return{niceTicks:y}}return null},BC=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Vr(o,r.dataKey,r.domain[u]);return Je(d)?null:r.scale(d)-a/2+i},NX=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},PX=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(sr(a)){var o=r[a];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},CX=function(e){return e.reduce(function(r,n){return[og(n.concat([r[0]]).filter(ke)),sg(n.concat([r[1]]).filter(ke))]},[1/0,-1/0])},xL=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],u=o.stackedData,d=u.reduce(function(f,p){var g=CX(p.slice(r,n+1));return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},qC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k_=function(e,r,n){if(He(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ke(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(qC.test(e[0])){var a=+qC.exec(e[0])[1];i[0]=r[0]-a}else He(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ke(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(zC.test(e[1])){var o=+zC.exec(e[1])[1];i[1]=r[1]+o}else He(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Xp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=bS(r,function(g){return g.coordinate}),o=1/0,u=1,d=a.length;u<d;u++){var f=a[u],p=a[u-1];o=Math.min((f.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},WC=function(e,r,n){return!e||!e.length||lg(e,Nn(n,"type.defaultProps.domain"))?r:e},bL=function(e,r){var n=e.type.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return Ft(Ft({},ze(e,!1)),{},{dataKey:i,unit:o,formatter:u,name:a||i,color:GS(e),value:Vr(r,i),type:d,payload:r,chartType:f,hide:p})};function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function HC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(r),!0).forEach(function(n){wL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wL(t,e,r){return e=OX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OX(t){var e=IX(t,"string");return Ed(e)=="symbol"?e:e+""}function IX(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RX(t,e){return $X(t)||LX(t,e)||DX(t,e)||MX()}function MX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DX(t,e){if(t){if(typeof t=="string")return GC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GC(t,e)}}function GC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function $X(t){if(Array.isArray(t))return t}var Qp=Math.PI/180,FX=function(e){return e*180/Math.PI},kt=function(e,r,n,i){return{x:e+Math.cos(-Qp*i)*n,y:r+Math.sin(-Qp*i)*n}},_L=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},VX=function(e,r,n,i,a){var o=e.width,u=e.height,d=e.startAngle,f=e.endAngle,p=Yr(e.cx,o,o/2),g=Yr(e.cy,u,u/2),y=_L(o,u,n),x=Yr(e.innerRadius,y,0),S=Yr(e.outerRadius,y,y*.8),_=Object.keys(r);return _.reduce(function(b,P){var A=r[P],O=A.domain,R=A.reversed,E;if(Je(A.range))i==="angleAxis"?E=[d,f]:i==="radiusAxis"&&(E=[x,S]),R&&(E=[E[1],E[0]]);else{E=A.range;var N=E,T=RX(N,2);d=T[0],f=T[1]}var C=gL(A,a),L=C.realScaleType,I=C.scale;I.domain(O).range(E),vL(I);var D=yL(I,ma(ma({},A),{},{realScaleType:L})),V=ma(ma(ma({},A),D),{},{range:E,radius:S,realScaleType:L,scale:I,cx:p,cy:g,innerRadius:x,outerRadius:S,startAngle:d,endAngle:f});return ma(ma({},b),{},wL({},P,V))},{})},UX=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},BX=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,u=UX({x:n,y:i},{x:a,y:o});if(u<=0)return{radius:u};var d=(n-a)/u,f=Math.acos(d);return i>o&&(f=2*Math.PI-f),{radius:u,angle:FX(f),angleInRadian:f}},qX=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},zX=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),u=Math.min(a,o);return e+u*360},KC=function(e,r){var n=e.x,i=e.y,a=BX({x:n,y:i},r),o=a.radius,u=a.angle,d=r.innerRadius,f=r.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var p=qX(r),g=p.startAngle,y=p.endAngle,x=u,S;if(g<=y){for(;x>y;)x-=360;for(;x<g;)x+=360;S=x>=g&&x<=y}else{for(;x>g;)x-=360;for(;x<y;)x+=360;S=x>=y&&x<=g}return S?ma(ma({},r),{},{radius:o,angle:zX(x,r)}):null},SL=function(e){return!B.isValidElement(e)&&!He(e)&&typeof e!="boolean"?e.className:""};function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}var WX=["offset"];function HX(t){return XX(t)||YX(t)||KX(t)||GX()}function GX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KX(t,e){if(t){if(typeof t=="string")return j_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j_(t,e)}}function YX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XX(t){if(Array.isArray(t))return j_(t)}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QX(t,e){if(t==null)return{};var r=JX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(r),!0).forEach(function(n){ZX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZX(t,e,r){return e=eQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eQ(t){var e=tQ(t,"string");return Td(e)=="symbol"?e:e+""}function tQ(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ad.apply(this,arguments)}var rQ=function(e){var r=e.value,n=e.formatter,i=Je(e.children)?r:e.children;return He(n)?n(i):i},nQ=function(e,r){var n=Kr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},iQ=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,u=e.className,d=a,f=d.cx,p=d.cy,g=d.innerRadius,y=d.outerRadius,x=d.startAngle,S=d.endAngle,_=d.clockWise,b=(g+y)/2,P=nQ(x,S),A=P>=0?1:-1,O,R;i==="insideStart"?(O=x+A*o,R=_):i==="insideEnd"?(O=S-A*o,R=!_):i==="end"&&(O=S+A*o,R=_),R=P<=0?R:!R;var E=kt(f,p,b,O),N=kt(f,p,b,O+(R?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(R?0:1,`,
    `).concat(N.x,",").concat(N.y),C=Je(e.id)?of("recharts-radial-line-"):e.id;return H.createElement("text",Ad({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",u)}),H.createElement("defs",null,H.createElement("path",{id:C,d:T})),H.createElement("textPath",{xlinkHref:"#".concat(C)},r))},aQ=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,u=a.cy,d=a.innerRadius,f=a.outerRadius,p=a.startAngle,g=a.endAngle,y=(p+g)/2;if(i==="outside"){var x=kt(o,u,f+n,y),S=x.x,_=x.y;return{x:S,y:_,textAnchor:S>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(d+f)/2,P=kt(o,u,b,y),A=P.x,O=P.y;return{x:A,y:O,textAnchor:"middle",verticalAnchor:"middle"}},sQ=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,u=o.x,d=o.y,f=o.width,p=o.height,g=p>=0?1:-1,y=g*i,x=g>0?"end":"start",S=g>0?"start":"end",_=f>=0?1:-1,b=_*i,P=_>0?"end":"start",A=_>0?"start":"end";if(a==="top"){var O={x:u+f/2,y:d-g*i,textAnchor:"middle",verticalAnchor:x};return ar(ar({},O),n?{height:Math.max(d-n.y,0),width:f}:{})}if(a==="bottom"){var R={x:u+f/2,y:d+p+y,textAnchor:"middle",verticalAnchor:S};return ar(ar({},R),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(a==="left"){var E={x:u-b,y:d+p/2,textAnchor:P,verticalAnchor:"middle"};return ar(ar({},E),n?{width:Math.max(E.x-n.x,0),height:p}:{})}if(a==="right"){var N={x:u+f+b,y:d+p/2,textAnchor:A,verticalAnchor:"middle"};return ar(ar({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:p}:{})}var T=n?{width:f,height:p}:{};return a==="insideLeft"?ar({x:u+b,y:d+p/2,textAnchor:A,verticalAnchor:"middle"},T):a==="insideRight"?ar({x:u+f-b,y:d+p/2,textAnchor:P,verticalAnchor:"middle"},T):a==="insideTop"?ar({x:u+f/2,y:d+y,textAnchor:"middle",verticalAnchor:S},T):a==="insideBottom"?ar({x:u+f/2,y:d+p-y,textAnchor:"middle",verticalAnchor:x},T):a==="insideTopLeft"?ar({x:u+b,y:d+y,textAnchor:A,verticalAnchor:S},T):a==="insideTopRight"?ar({x:u+f-b,y:d+y,textAnchor:P,verticalAnchor:S},T):a==="insideBottomLeft"?ar({x:u+b,y:d+p-y,textAnchor:A,verticalAnchor:x},T):a==="insideBottomRight"?ar({x:u+f-b,y:d+p-y,textAnchor:P,verticalAnchor:x},T):$c(a)&&(ke(a.x)||_o(a.x))&&(ke(a.y)||_o(a.y))?ar({x:u+Yr(a.x,f),y:d+Yr(a.y,p),textAnchor:"end",verticalAnchor:"end"},T):ar({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},oQ=function(e){return"cx"in e&&ke(e.cx)};function gr(t){var e=t.offset,r=e===void 0?5:e,n=QX(t,WX),i=ar({offset:r},n),a=i.viewBox,o=i.position,u=i.value,d=i.children,f=i.content,p=i.className,g=p===void 0?"":p,y=i.textBreakAll;if(!a||Je(u)&&Je(d)&&!B.isValidElement(f)&&!He(f))return null;if(B.isValidElement(f))return B.cloneElement(f,i);var x;if(He(f)){if(x=B.createElement(f,i),B.isValidElement(x))return x}else x=rQ(i);var S=oQ(a),_=ze(i,!0);if(S&&(o==="insideStart"||o==="insideEnd"||o==="end"))return iQ(i,x,_);var b=S?aQ(i):sQ(i);return H.createElement($o,Ad({className:Xe("recharts-label",g)},_,b,{breakAll:y}),x)}gr.displayName="Label";var kL=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,u=e.r,d=e.radius,f=e.innerRadius,p=e.outerRadius,g=e.x,y=e.y,x=e.top,S=e.left,_=e.width,b=e.height,P=e.clockWise,A=e.labelViewBox;if(A)return A;if(ke(_)&&ke(b)){if(ke(g)&&ke(y))return{x:g,y,width:_,height:b};if(ke(x)&&ke(S))return{x,y:S,width:_,height:b}}return ke(g)&&ke(y)?{x:g,y,width:0,height:0}:ke(r)&&ke(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:P}:e.viewBox?e.viewBox:{}},lQ=function(e,r){return e?e===!0?H.createElement(gr,{key:"label-implicit",viewBox:r}):sr(e)?H.createElement(gr,{key:"label-implicit",viewBox:r,value:e}):B.isValidElement(e)?e.type===gr?B.cloneElement(e,{key:"label-implicit",viewBox:r}):H.createElement(gr,{key:"label-implicit",content:e,viewBox:r}):He(e)?H.createElement(gr,{key:"label-implicit",content:e,viewBox:r}):$c(e)?H.createElement(gr,Ad({viewBox:r},e,{key:"label-implicit"})):null:null},cQ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=kL(e),o=Kn(i,gr).map(function(d,f){return B.cloneElement(d,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return o;var u=lQ(e.label,r||a);return[u].concat(HX(o))};gr.parseViewBox=kL;gr.renderCallByParent=cQ;var $b,XC;function uQ(){if(XC)return $b;XC=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return $b=t,$b}var dQ=uQ();const fQ=ft(dQ);function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}var hQ=["valueAccessor"],pQ=["data","dataKey","clockWise","id","textBreakAll"];function mQ(t){return xQ(t)||yQ(t)||vQ(t)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vQ(t,e){if(t){if(typeof t=="string")return E_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E_(t,e)}}function yQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xQ(t){if(Array.isArray(t))return E_(t)}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jp.apply(this,arguments)}function QC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(r),!0).forEach(function(n){bQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bQ(t,e,r){return e=wQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wQ(t){var e=_Q(t,"string");return Nd(e)=="symbol"?e:e+""}function _Q(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZC(t,e){if(t==null)return{};var r=SQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kQ=function(e){return Array.isArray(e.value)?fQ(e.value):e.value};function As(t){var e=t.valueAccessor,r=e===void 0?kQ:e,n=ZC(t,hQ),i=n.data,a=n.dataKey,o=n.clockWise,u=n.id,d=n.textBreakAll,f=ZC(n,pQ);return!i||!i.length?null:H.createElement(pt,{className:"recharts-label-list"},i.map(function(p,g){var y=Je(a)?r(p,g):Vr(p&&p.payload,a),x=Je(u)?{}:{id:"".concat(u,"-").concat(g)};return H.createElement(gr,Jp({},ze(p,!0),f,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:gr.parseViewBox(Je(o)?p:JC(JC({},p),{},{clockWise:o})),key:"label-".concat(g),index:g}))}))}As.displayName="LabelList";function jQ(t,e){return t?t===!0?H.createElement(As,{key:"labelList-implicit",data:e}):H.isValidElement(t)||He(t)?H.createElement(As,{key:"labelList-implicit",data:e,content:t}):$c(t)?H.createElement(As,Jp({data:e},t,{key:"labelList-implicit"})):null:null}function EQ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Kn(n,As).map(function(o,u){return B.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=jQ(t.label,e);return[a].concat(mQ(i))}As.renderCallByParent=EQ;function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T_.apply(this,arguments)}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){TQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TQ(t,e,r){return e=AQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AQ(t){var e=NQ(t,"string");return Pd(e)=="symbol"?e:e+""}function NQ(t,e){if(Pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PQ=function(e,r){var n=Kr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},zh=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,u=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,p=d*(u?1:-1)+i,g=Math.asin(d/p)/Qp,y=f?a:a+o*g,x=kt(r,n,p,y),S=kt(r,n,i,y),_=f?a-o*g:a,b=kt(r,n,p*Math.cos(g*Qp),_);return{center:x,circleTangency:S,lineTangency:b,theta:g}},jL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,u=e.endAngle,d=PQ(o,u),f=o+d,p=kt(r,n,a,o),g=kt(r,n,a,f),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(i>0){var x=kt(r,n,i,o),S=kt(r,n,i,f);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},CQ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,p=e.endAngle,g=Kr(p-f),y=zh({cx:r,cy:n,radius:a,angle:f,sign:g,cornerRadius:o,cornerIsExternal:d}),x=y.circleTangency,S=y.lineTangency,_=y.theta,b=zh({cx:r,cy:n,radius:a,angle:p,sign:-g,cornerRadius:o,cornerIsExternal:d}),P=b.circleTangency,A=b.lineTangency,O=b.theta,R=d?Math.abs(f-p):Math.abs(f-p)-_-O;if(R<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:p});var E="M ".concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(g<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var N=zh({cx:r,cy:n,radius:i,angle:f,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),T=N.circleTangency,C=N.lineTangency,L=N.theta,I=zh({cx:r,cy:n,radius:i,angle:p,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),D=I.circleTangency,V=I.lineTangency,$=I.theta,ee=d?Math.abs(f-p):Math.abs(f-p)-L-$;if(ee<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ee>180),",").concat(+(g>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(C.x,",").concat(C.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},OQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KS=function(e){var r=tO(tO({},OQ),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,g=r.endAngle,y=r.className;if(o<a||p===g)return null;var x=Xe("recharts-sector",y),S=o-a,_=Yr(u,S,0,!0),b;return _>0&&Math.abs(p-g)<360?b=CQ({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(_,S/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:g}):b=jL({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:p,endAngle:g}),H.createElement("path",T_({},ze(r,!0),{className:x,d:b,role:"img"}))};function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A_.apply(this,arguments)}function rO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(r),!0).forEach(function(n){IQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IQ(t,e,r){return e=RQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RQ(t){var e=MQ(t,"string");return Cd(e)=="symbol"?e:e+""}function MQ(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iO={curveBasisClosed:tz,curveBasisOpen:rz,curveBasis:ez,curveBumpX:Vq,curveBumpY:Uq,curveLinearClosed:nz,curveLinear:Gm,curveMonotoneX:iz,curveMonotoneY:az,curveNatural:sz,curveStep:oz,curveStepAfter:cz,curveStepBefore:lz},Wh=function(e){return e.x===+e.x&&e.y===+e.y},Cu=function(e){return e.x},Ou=function(e){return e.y},DQ=function(e,r){if(He(e))return e;var n="curve".concat(Wm(e));return(n==="curveMonotone"||n==="curveBump")&&r?iO["".concat(n).concat(r==="vertical"?"Y":"X")]:iO[n]||Gm},LQ=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,u=e.layout,d=e.connectNulls,f=d===void 0?!1:d,p=DQ(n,u),g=f?a.filter(function(_){return Wh(_)}):a,y;if(Array.isArray(o)){var x=f?o.filter(function(_){return Wh(_)}):o,S=g.map(function(_,b){return nO(nO({},_),{},{base:x[b]})});return u==="vertical"?y=Dh().y(Ou).x1(Cu).x0(function(_){return _.base.x}):y=Dh().x(Cu).y1(Ou).y0(function(_){return _.base.y}),y.defined(Wh).curve(p),y(S)}return u==="vertical"&&ke(o)?y=Dh().y(Ou).x1(Cu).x0(o):ke(o)?y=Dh().x(Cu).y1(Ou).y0(o):y=kD().x(Cu).y(Ou),y.defined(Wh).curve(p),y(g)},N_=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?LQ(e):i;return B.createElement("path",A_({},ze(e,!1),Ep(e),{className:Xe("recharts-curve",r),d:o,ref:a}))},Fb={exports:{}},Vb,aO;function $Q(){if(aO)return Vb;aO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vb=t,Vb}var Ub,sO;function FQ(){if(sO)return Ub;sO=1;var t=$Q();function e(){}function r(){}return r.resetWarningCache=e,Ub=function(){function n(o,u,d,f,p,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},Ub}var oO;function VQ(){return oO||(oO=1,Fb.exports=FQ()()),Fb.exports}var UQ=VQ();const dt=ft(UQ);var BQ=Object.getOwnPropertyNames,qQ=Object.getOwnPropertySymbols,zQ=Object.prototype.hasOwnProperty;function lO(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Hh(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),u=a.get(n);if(o&&u)return o===n&&u===r;a.set(r,n),a.set(n,r);var d=t(r,n,i);return a.delete(r),a.delete(n),d}}function cO(t){return BQ(t).concat(qQ(t))}var WQ=Object.hasOwn||function(t,e){return zQ.call(t,e)};function Go(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var HQ="__v",GQ="__o",KQ="_owner",uO=Object.getOwnPropertyDescriptor,dO=Object.keys;function YQ(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function XQ(t,e){return Go(t.getTime(),e.getTime())}function QQ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function JQ(t,e){return t===e}function fO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,u,d=0;(o=a.next())&&!o.done;){for(var f=e.entries(),p=!1,g=0;(u=f.next())&&!u.done;){if(i[g]){g++;continue}var y=o.value,x=u.value;if(r.equals(y[0],x[0],d,g,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){p=i[g]=!0;break}g++}if(!p)return!1;d++}return!0}var ZQ=Go;function eJ(t,e,r){var n=dO(t),i=n.length;if(dO(e).length!==i)return!1;for(;i-- >0;)if(!EL(t,e,r,n[i]))return!1;return!0}function Iu(t,e,r){var n=cO(t),i=n.length;if(cO(e).length!==i)return!1;for(var a,o,u;i-- >0;)if(a=n[i],!EL(t,e,r,a)||(o=uO(t,a),u=uO(e,a),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function tJ(t,e){return Go(t.valueOf(),e.valueOf())}function rJ(t,e){return t.source===e.source&&t.flags===e.flags}function hO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,u;(o=a.next())&&!o.done;){for(var d=e.values(),f=!1,p=0;(u=d.next())&&!u.done;){if(!i[p]&&r.equals(o.value,u.value,o.value,u.value,t,e,r)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function nJ(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function iJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function EL(t,e,r,n){return(n===KQ||n===GQ||n===HQ)&&(t.$$typeof||e.$$typeof)?!0:WQ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var aJ="[object Arguments]",sJ="[object Boolean]",oJ="[object Date]",lJ="[object Error]",cJ="[object Map]",uJ="[object Number]",dJ="[object Object]",fJ="[object RegExp]",hJ="[object Set]",pJ="[object String]",mJ="[object URL]",gJ=Array.isArray,pO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,mO=Object.assign,vJ=Object.prototype.toString.call.bind(Object.prototype.toString);function yJ(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,u=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,p=t.areSetsEqual,g=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(S,_,b){if(S===_)return!0;if(S==null||_==null)return!1;var P=typeof S;if(P!==typeof _)return!1;if(P!=="object")return P==="number"?o(S,_,b):P==="function"?i(S,_,b):!1;var A=S.constructor;if(A!==_.constructor)return!1;if(A===Object)return u(S,_,b);if(gJ(S))return e(S,_,b);if(pO!=null&&pO(S))return g(S,_,b);if(A===Date)return r(S,_,b);if(A===RegExp)return f(S,_,b);if(A===Map)return a(S,_,b);if(A===Set)return p(S,_,b);var O=vJ(S);return O===oJ?r(S,_,b):O===fJ?f(S,_,b):O===cJ?a(S,_,b):O===hJ?p(S,_,b):O===dJ?typeof S.then!="function"&&typeof _.then!="function"&&u(S,_,b):O===mJ?y(S,_,b):O===lJ?n(S,_,b):O===aJ?u(S,_,b):O===sJ||O===uJ||O===pJ?d(S,_,b):!1}}function xJ(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Iu:YQ,areDatesEqual:XQ,areErrorsEqual:QQ,areFunctionsEqual:JQ,areMapsEqual:n?lO(fO,Iu):fO,areNumbersEqual:ZQ,areObjectsEqual:n?Iu:eJ,arePrimitiveWrappersEqual:tJ,areRegExpsEqual:rJ,areSetsEqual:n?lO(hO,Iu):hO,areTypedArraysEqual:n?Iu:nJ,areUrlsEqual:iJ};if(r&&(i=mO({},i,r(i))),e){var a=Hh(i.areArraysEqual),o=Hh(i.areMapsEqual),u=Hh(i.areObjectsEqual),d=Hh(i.areSetsEqual);i=mO({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:d})}return i}function bJ(t){return function(e,r,n,i,a,o,u){return t(e,r,u)}}function wJ(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(d,f){var p=n(),g=p.cache,y=g===void 0?e?new WeakMap:void 0:g,x=p.meta;return r(d,f,{cache:y,equals:i,meta:x,strict:a})};if(e)return function(d,f){return r(d,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(d,f){return r(d,f,o)}}var _J=Fs();Fs({strict:!0});Fs({circular:!0});Fs({circular:!0,strict:!0});Fs({createInternalComparator:function(){return Go}});Fs({strict:!0,createInternalComparator:function(){return Go}});Fs({circular:!0,createInternalComparator:function(){return Go}});Fs({circular:!0,createInternalComparator:function(){return Go},strict:!0});function Fs(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,u=xJ(t),d=yJ(u),f=n?n(d):bJ(d);return wJ({circular:r,comparator:d,createState:i,equals:f,strict:o})}function SJ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function gO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):SJ(i)};requestAnimationFrame(n)}function P_(t){"@babel/helpers - typeof";return P_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P_(t)}function kJ(t){return AJ(t)||TJ(t)||EJ(t)||jJ()}function jJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EJ(t,e){if(t){if(typeof t=="string")return vO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vO(t,e)}}function vO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AJ(t){if(Array.isArray(t))return t}function NJ(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,u=kJ(o),d=u[0],f=u.slice(1);if(typeof d=="number"){gO(i.bind(null,f),d);return}i(d),gO(i.bind(null,f));return}P_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function yO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(r),!0).forEach(function(n){TL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TL(t,e,r){return e=PJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PJ(t){var e=CJ(t,"string");return Od(e)==="symbol"?e:String(e)}function CJ(t,e){if(Od(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Od(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OJ=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},IJ=function(e){return e},RJ=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ju=function(e,r){return Object.keys(r).reduce(function(n,i){return xO(xO({},n),{},TL({},i,e(i,r[i])))},{})},bO=function(e,r,n){return e.map(function(i){return"".concat(RJ(i)," ").concat(r,"ms ").concat(n)}).join(",")};function MJ(t,e){return $J(t)||LJ(t,e)||AL(t,e)||DJ()}function DJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function $J(t){if(Array.isArray(t))return t}function FJ(t){return BJ(t)||UJ(t)||AL(t)||VJ()}function VJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AL(t,e){if(t){if(typeof t=="string")return C_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C_(t,e)}}function UJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BJ(t){if(Array.isArray(t))return C_(t)}function C_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Zp=1e-4,NL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},PL=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},wO=function(e,r){return function(n){var i=NL(e,r);return PL(i,n)}},qJ=function(e,r){return function(n){var i=NL(e,r),a=[].concat(FJ(i.map(function(o,u){return o*u}).slice(1)),[0]);return PL(a,n)}},_O=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,u=1;break;case"ease":i=.25,a=.1,o=.25,u=1;break;case"ease-in":i=.42,a=0,o=1,u=1;break;case"ease-out":i=.42,a=0,o=.58,u=1;break;case"ease-in-out":i=0,a=0,o=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=MJ(f,4);i=p[0],a=p[1],o=p[2],u=p[3]}}}var g=wO(i,o),y=wO(a,u),x=qJ(i,o),S=function(P){return P>1?1:P<0?0:P},_=function(P){for(var A=P>1?1:P,O=A,R=0;R<8;++R){var E=g(O)-A,N=x(O);if(Math.abs(E-A)<Zp||N<Zp)return y(O);O=S(O-E/N)}return y(O)};return _.isStepper=!1,_},zJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,u=o===void 0?17:o,d=function(p,g,y){var x=-(p-g)*n,S=y*a,_=y+(x-S)*u/1e3,b=y*u/1e3+p;return Math.abs(b-g)<Zp&&Math.abs(_)<Zp?[g,0]:[b,_]};return d.isStepper=!0,d.dt=u,d},WJ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _O(i);case"spring":return zJ();default:if(i.split("(")[0]==="cubic-bezier")return _O(i)}return typeof i=="function"?i:null};function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function SO(t){return KJ(t)||GJ(t)||CL(t)||HJ()}function HJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KJ(t){if(Array.isArray(t))return I_(t)}function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){O_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O_(t,e,r){return e=YJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YJ(t){var e=XJ(t,"string");return Id(e)==="symbol"?e:String(e)}function XJ(t,e){if(Id(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QJ(t,e){return eZ(t)||ZJ(t,e)||CL(t,e)||JJ()}function JJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CL(t,e){if(t){if(typeof t=="string")return I_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(t,e)}}function I_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function eZ(t){if(Array.isArray(t))return t}var em=function(e,r,n){return e+(r-e)*n},R_=function(e){var r=e.from,n=e.to;return r!==n},tZ=function t(e,r,n){var i=Ju(function(a,o){if(R_(o)){var u=e(o.from,o.to,o.velocity),d=QJ(u,2),f=d[0],p=d[1];return jr(jr({},o),{},{from:f,velocity:p})}return o},r);return n<1?Ju(function(a,o){return R_(o)?jr(jr({},o),{},{velocity:em(o.velocity,i[a].velocity,n),from:em(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const rZ=function(t,e,r,n,i){var a=OJ(t,e),o=a.reduce(function(b,P){return jr(jr({},b),{},O_({},P,[t[P],e[P]]))},{}),u=a.reduce(function(b,P){return jr(jr({},b),{},O_({},P,{from:t[P],velocity:0,to:e[P]}))},{}),d=-1,f,p,g=function(){return null},y=function(){return Ju(function(P,A){return A.from},u)},x=function(){return!Object.values(u).filter(R_).length},S=function(P){f||(f=P);var A=P-f,O=A/r.dt;u=tZ(r,u,O),i(jr(jr(jr({},t),e),y())),f=P,x()||(d=requestAnimationFrame(g))},_=function(P){p||(p=P);var A=(P-p)/n,O=Ju(function(E,N){return em.apply(void 0,SO(N).concat([r(A)]))},o);if(i(jr(jr(jr({},t),e),O)),A<1)d=requestAnimationFrame(g);else{var R=Ju(function(E,N){return em.apply(void 0,SO(N).concat([r(1)]))},o);i(jr(jr(jr({},t),e),R))}};return g=r.isStepper?S:_,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(d)}}};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}var nZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iZ(t,e){if(t==null)return{};var r=aZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aZ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Bb(t){return cZ(t)||lZ(t)||oZ(t)||sZ()}function sZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oZ(t,e){if(t){if(typeof t=="string")return M_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M_(t,e)}}function lZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cZ(t){if(Array.isArray(t))return M_(t)}function M_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(r),!0).forEach(function(n){qu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qu(t,e,r){return e=OL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OL(n.key),n)}}function fZ(t,e,r){return e&&dZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OL(t){var e=hZ(t,"string");return mc(e)==="symbol"?e:String(e)}function hZ(t,e){if(mc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D_(t,e)}function mZ(t){var e=gZ();return function(){var n=tm(t),i;if(e){var a=tm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return L_(this,i)}}function L_(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $_(t)}function $_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(t)}var Ra=function(t){pZ(r,t);var e=mZ(r);function r(n,i){var a;uZ(this,r),a=e.call(this,n,i);var o=a.props,u=o.isActive,d=o.attributeName,f=o.from,p=o.to,g=o.steps,y=o.children,x=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind($_(a)),a.changeStyle=a.changeStyle.bind($_(a)),!u||x<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:p}),L_(a);if(g&&g.length)a.state={style:g[0].style};else if(f){if(typeof y=="function")return a.state={style:f},L_(a);a.state={style:d?qu({},d,f):f}}else a.state={style:{}};return a}return fZ(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,u=a.canBegin,d=a.attributeName,f=a.shouldReAnimate,p=a.to,g=a.from,y=this.state.style;if(u){if(!o){var x={style:d?qu({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(x);return}if(!(_J(i.to,p)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=S||f?g:i.to;if(this.state&&y){var b={style:d?qu({},d,_):_};(d&&y[d]!==_||!d&&y!==_)&&this.setState(b)}this.runAnimation(ui(ui({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,u=i.to,d=i.duration,f=i.easing,p=i.begin,g=i.onAnimationEnd,y=i.onAnimationStart,x=rZ(o,u,WJ(f),d,this.changeStyle),S=function(){a.stopJSAnimation=x()};this.manager.start([y,p,S,d,g])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,u=i.begin,d=i.onAnimationStart,f=o[0],p=f.style,g=f.duration,y=g===void 0?0:g,x=function(_,b,P){if(P===0)return _;var A=b.duration,O=b.easing,R=O===void 0?"ease":O,E=b.style,N=b.properties,T=b.onAnimationEnd,C=P>0?o[P-1]:b,L=N||Object.keys(E);if(typeof R=="function"||R==="spring")return[].concat(Bb(_),[a.runJSAnimation.bind(a,{from:C.style,to:E,duration:A,easing:R}),A]);var I=bO(L,A,R),D=ui(ui(ui({},C.style),E),{},{transition:I});return[].concat(Bb(_),[D,A,T]).filter(IJ)};return this.manager.start([d].concat(Bb(o.reduce(x,[p,Math.max(y,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=NJ());var a=i.begin,o=i.duration,u=i.attributeName,d=i.to,f=i.easing,p=i.onAnimationStart,g=i.onAnimationEnd,y=i.steps,x=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var _=u?qu({},u,d):d,b=bO(Object.keys(_),o,f);S.start([p,a,ui(ui({},_),{},{transition:b}),o,g])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=iZ(i,nZ),f=B.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!u||f===0||o<=0)return a;var g=function(x){var S=x.props,_=S.style,b=_===void 0?{}:_,P=S.className,A=B.cloneElement(x,ui(ui({},d),{},{style:ui(ui({},b),p),className:P}));return A};return f===1?g(B.Children.only(a)):H.createElement("div",null,B.Children.map(a,function(y){return g(y)}))}}]),r}(B.PureComponent);Ra.displayName="Animate";Ra.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ra.propTypes={from:dt.oneOfType([dt.object,dt.string]),to:dt.oneOfType([dt.object,dt.string]),attributeName:dt.string,duration:dt.number,begin:dt.number,easing:dt.oneOfType([dt.string,dt.func]),steps:dt.arrayOf(dt.shape({duration:dt.number.isRequired,style:dt.object.isRequired,easing:dt.oneOfType([dt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dt.func]),properties:dt.arrayOf("string"),onAnimationEnd:dt.func})),children:dt.oneOfType([dt.node,dt.func]),isActive:dt.bool,canBegin:dt.bool,onAnimationEnd:dt.func,shouldReAnimate:dt.bool,onAnimationStart:dt.func,onAnimationReStart:dt.func};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rm.apply(this,arguments)}function vZ(t,e){return wZ(t)||bZ(t,e)||xZ(t,e)||yZ()}function yZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xZ(t,e){if(t){if(typeof t=="string")return EO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(t,e)}}function EO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function wZ(t){if(Array.isArray(t))return t}function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){_Z(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Z(t,e,r){return e=SZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SZ(t){var e=kZ(t,"string");return Rd(e)=="symbol"?e:e+""}function kZ(t,e){if(Rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NO=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,p;if(o>0&&a instanceof Array){for(var g=[0,0,0,0],y=0,x=4;y<x;y++)g[y]=a[y]>o?o:a[y];p="M".concat(e,",").concat(r+u*g[0]),g[0]>0&&(p+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(f,",").concat(e+d*g[0],",").concat(r)),p+="L ".concat(e+n-d*g[1],",").concat(r),g[1]>0&&(p+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*g[1])),p+="L ".concat(e+n,",").concat(r+i-u*g[2]),g[2]>0&&(p+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(f,`,
        `).concat(e+n-d*g[2],",").concat(r+i)),p+="L ".concat(e+d*g[3],",").concat(r+i),g[3]>0&&(p+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*g[3])),p+="Z"}else if(o>0&&a===+a&&a>0){var S=Math.min(o,a);p="M ".concat(e,",").concat(r+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+d*S,",").concat(r,`
            L `).concat(e+n-d*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*S,`
            L `).concat(e+n,",").concat(r+i-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n-d*S,",").concat(r+i,`
            L `).concat(e+d*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*S," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},jZ=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(a,a+u),p=Math.max(a,a+u),g=Math.min(o,o+d),y=Math.max(o,o+d);return n>=f&&n<=p&&i>=g&&i<=y}return!1},EZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YS=function(e){var r=AO(AO({},EZ),e),n=B.useRef(),i=B.useState(-1),a=vZ(i,2),o=a[0],u=a[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&u(R)}catch{}},[]);var d=r.x,f=r.y,p=r.width,g=r.height,y=r.radius,x=r.className,S=r.animationEasing,_=r.animationDuration,b=r.animationBegin,P=r.isAnimationActive,A=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||g!==+g||p===0||g===0)return null;var O=Xe("recharts-rectangle",x);return A?H.createElement(Ra,{canBegin:o>0,from:{width:p,height:g,x:d,y:f},to:{width:p,height:g,x:d,y:f},duration:_,animationEasing:S,isActive:A},function(R){var E=R.width,N=R.height,T=R.x,C=R.y;return H.createElement(Ra,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,isActive:P,easing:S},H.createElement("path",rm({},ze(r,!0),{className:O,d:NO(T,C,E,N,y),ref:n})))}):H.createElement("path",rm({},ze(r,!0),{className:O,d:NO(d,f,p,g,y)}))},TZ=["points","className","baseLinePoints","connectNulls"];function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fl.apply(this,arguments)}function AZ(t,e){if(t==null)return{};var r=NZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PO(t){return IZ(t)||OZ(t)||CZ(t)||PZ()}function PZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CZ(t,e){if(t){if(typeof t=="string")return F_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F_(t,e)}}function OZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IZ(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var CO=function(e){return e&&e.x===+e.x&&e.y===+e.y},RZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){CO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),CO(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Zu=function(e,r){var n=RZ(e);r&&(n=[n.reduce(function(a,o){return[].concat(PO(a),PO(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,u,d){return"".concat(o).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},MZ=function(e,r,n){var i=Zu(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Zu(r.reverse(),n).slice(1))},DZ=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=AZ(e,TZ);if(!r||!r.length)return null;var u=Xe("recharts-polygon",n);if(i&&i.length){var d=o.stroke&&o.stroke!=="none",f=MZ(r,i,a);return H.createElement("g",{className:u},H.createElement("path",Fl({},ze(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:f})),d?H.createElement("path",Fl({},ze(o,!0),{fill:"none",d:Zu(r,a)})):null,d?H.createElement("path",Fl({},ze(o,!0),{fill:"none",d:Zu(i,a)})):null)}var p=Zu(r,a);return H.createElement("path",Fl({},ze(o,!0),{fill:p.slice(-1)==="Z"?o.fill:"none",className:u,d:p}))};function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V_.apply(this,arguments)}var XS=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Xe("recharts-dot",a);return r===+r&&n===+n&&i===+i?B.createElement("circle",V_({},ze(e,!1),Ep(e),{className:o,cx:r,cy:n,r:i})):null};function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}var LZ=["x","y","top","left","width","height","className"];function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U_.apply(this,arguments)}function OO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $Z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(r),!0).forEach(function(n){FZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FZ(t,e,r){return e=VZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VZ(t){var e=UZ(t,"string");return Md(e)=="symbol"?e:e+""}function UZ(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BZ(t,e){if(t==null)return{};var r=qZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zZ=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},WZ=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,u=o===void 0?0:o,d=e.left,f=d===void 0?0:d,p=e.width,g=p===void 0?0:p,y=e.height,x=y===void 0?0:y,S=e.className,_=BZ(e,LZ),b=$Z({x:n,y:a,top:u,left:f,width:g,height:x},_);return!ke(n)||!ke(a)||!ke(g)||!ke(x)||!ke(u)||!ke(f)?null:H.createElement("path",U_({},ze(b,!0),{className:Xe("recharts-cross",S),d:zZ(n,a,g,x,u,f)}))},qb,IO;function HZ(){if(IO)return qb;IO=1;var t=ag(),e=K4(),r=Yi();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return qb=n,qb}var GZ=HZ();const KZ=ft(GZ);var zb,RO;function YZ(){if(RO)return zb;RO=1;var t=ag(),e=Yi(),r=Y4();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return zb=n,zb}var XZ=YZ();const QZ=ft(XZ);var JZ=["cx","cy","angle","ticks","axisLine"],ZZ=["ticks","tick","angle","tickFormatter","stroke"];function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ed.apply(this,arguments)}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ho(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){fg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DO(t,e){if(t==null)return{};var r=eee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RL(n.key),n)}}function ree(t,e,r){return e&&LO(t.prototype,e),r&&LO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nee(t,e,r){return e=nm(e),iee(t,IL()?Reflect.construct(e,r||[],nm(t).constructor):e.apply(t,r))}function iee(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aee(t)}function aee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IL=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nm(t)}function see(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B_(t,e)}function fg(t,e,r){return e=RL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RL(t){var e=oee(t,"string");return gc(e)=="symbol"?e:e+""}function oee(t,e){if(gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hg=function(t){function e(){return tee(this,e),nee(this,e,arguments)}return see(e,t),ree(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,u=a.cx,d=a.cy;return kt(u,d,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,u=n.ticks,d=KZ(u,function(p){return p.coordinate||0}),f=QZ(u,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,u=n.ticks,d=n.axisLine,f=DO(n,JZ),p=u.reduce(function(S,_){return[Math.min(S[0],_.coordinate),Math.max(S[1],_.coordinate)]},[1/0,-1/0]),g=kt(i,a,p[0],o),y=kt(i,a,p[1],o),x=ho(ho(ho({},ze(f,!1)),{},{fill:"none"},ze(d,!1)),{},{x1:g.x,y1:g.y,x2:y.x,y2:y.y});return H.createElement("line",ed({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,u=i.angle,d=i.tickFormatter,f=i.stroke,p=DO(i,ZZ),g=this.getTickTextAnchor(),y=ze(p,!1),x=ze(o,!1),S=a.map(function(_,b){var P=n.getTickValueCoord(_),A=ho(ho(ho(ho({textAnchor:g,transform:"rotate(".concat(90-u,", ").concat(P.x,", ").concat(P.y,")")},y),{},{stroke:"none",fill:f},x),{},{index:b},P),{},{payload:_});return H.createElement(pt,ed({className:Xe("recharts-polar-radius-axis-tick",SL(o)),key:"tick-".concat(_.coordinate)},Lo(n.props,_,b)),e.renderTickItem(o,A,d?d(_.value,b):_.value))});return H.createElement(pt,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:H.createElement(pt,{className:Xe("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),gr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return H.isValidElement(n)?o=H.cloneElement(n,i):He(n)?o=n(i):o=H.createElement($o,ed({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(B.PureComponent);fg(hg,"displayName","PolarRadiusAxis");fg(hg,"axisType","radiusAxis");fg(hg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function yo(){return yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yo.apply(this,arguments)}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function po(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){pg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DL(n.key),n)}}function cee(t,e,r){return e&&FO(t.prototype,e),r&&FO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uee(t,e,r){return e=im(e),dee(t,ML()?Reflect.construct(e,r||[],im(t).constructor):e.apply(t,r))}function dee(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fee(t)}function fee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ML(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},im(t)}function hee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q_(t,e)}function pg(t,e,r){return e=DL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DL(t){var e=pee(t,"string");return vc(e)=="symbol"?e:e+""}function pee(t,e){if(vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mee=Math.PI/180,VO=1e-5,mg=function(t){function e(){return lee(this,e),uee(this,e,arguments)}return hee(e,t),cee(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,u=i.radius,d=i.orientation,f=i.tickSize,p=f||8,g=kt(a,o,u,n.coordinate),y=kt(a,o,u+(d==="inner"?-1:1)*p,n.coordinate);return{x1:g.x,y1:g.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*mee),o;return a>VO?o=i==="outer"?"start":"end":a<-VO?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,u=n.axisLine,d=n.axisLineType,f=po(po({},ze(this.props,!1)),{},{fill:"none"},ze(u,!1));if(d==="circle")return H.createElement(XS,yo({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:o}));var p=this.props.ticks,g=p.map(function(y){return kt(i,a,o,y.coordinate)});return H.createElement(DZ,yo({className:"recharts-polar-angle-axis-line"},f,{points:g}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,u=i.tickLine,d=i.tickFormatter,f=i.stroke,p=ze(this.props,!1),g=ze(o,!1),y=po(po({},p),{},{fill:"none"},ze(u,!1)),x=a.map(function(S,_){var b=n.getTickLineCoord(S),P=n.getTickTextAnchor(S),A=po(po(po({textAnchor:P},p),{},{stroke:"none",fill:f},g),{},{index:_,payload:S,x:b.x2,y:b.y2});return H.createElement(pt,yo({className:Xe("recharts-polar-angle-axis-tick",SL(o)),key:"tick-".concat(S.coordinate)},Lo(n.props,S,_)),u&&H.createElement("line",yo({className:"recharts-polar-angle-axis-tick-line"},y,b)),o&&e.renderTickItem(o,A,d?d(S.value,_):S.value))});return H.createElement(pt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:H.createElement(pt,{className:Xe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return H.isValidElement(n)?o=H.cloneElement(n,i):He(n)?o=n(i):o=H.createElement($o,yo({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(B.PureComponent);pg(mg,"displayName","PolarAngleAxis");pg(mg,"axisType","angleAxis");pg(mg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Wb,UO;function gee(){if(UO)return Wb;UO=1;var t=GD(),e=t(Object.getPrototypeOf,Object);return Wb=e,Wb}var Hb,BO;function vee(){if(BO)return Hb;BO=1;var t=Ma(),e=gee(),r=Da(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,u=a.hasOwnProperty,d=o.call(Object);function f(p){if(!r(p)||t(p)!=n)return!1;var g=e(p);if(g===null)return!0;var y=u.call(g,"constructor")&&g.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==d}return Hb=f,Hb}var yee=vee();const xee=ft(yee);var Gb,qO;function bee(){if(qO)return Gb;qO=1;var t=Ma(),e=Da(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return Gb=n,Gb}var wee=bee();const _ee=ft(wee);function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},am.apply(this,arguments)}function See(t,e){return Tee(t)||Eee(t,e)||jee(t,e)||kee()}function kee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jee(t,e){if(t){if(typeof t=="string")return zO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(t,e)}}function zO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Eee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Tee(t){if(Array.isArray(t))return t}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){Aee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aee(t,e,r){return e=Nee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nee(t){var e=Pee(t,"string");return Dd(e)=="symbol"?e:e+""}function Pee(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GO=function(e,r,n,i,a){var o=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-o/2,",").concat(r+a),u+="L ".concat(e+n-o/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},Cee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Oee=function(e){var r=HO(HO({},Cee),e),n=B.useRef(),i=B.useState(-1),a=See(i,2),o=a[0],u=a[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,g=r.lowerWidth,y=r.height,x=r.className,S=r.animationEasing,_=r.animationDuration,b=r.animationBegin,P=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||g!==+g||y!==+y||p===0&&g===0||y===0)return null;var A=Xe("recharts-trapezoid",x);return P?H.createElement(Ra,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:f},to:{upperWidth:p,lowerWidth:g,height:y,x:d,y:f},duration:_,animationEasing:S,isActive:P},function(O){var R=O.upperWidth,E=O.lowerWidth,N=O.height,T=O.x,C=O.y;return H.createElement(Ra,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,easing:S},H.createElement("path",am({},ze(r,!0),{className:A,d:GO(T,C,R,E,N),ref:n})))}):H.createElement("g",null,H.createElement("path",am({},ze(r,!0),{className:A,d:GO(d,f,p,g,y)})))},Iee=["option","shapeType","propTransformer","activeClassName","isActive"];function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function Ree(t,e){if(t==null)return{};var r=Mee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){Dee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dee(t,e,r){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lee(t){var e=$ee(t,"string");return Ld(e)=="symbol"?e:e+""}function $ee(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fee(t,e){return sm(sm({},e),t)}function Vee(t,e){return t==="symbols"}function YO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return H.createElement(YS,r);case"trapezoid":return H.createElement(Oee,r);case"sector":return H.createElement(KS,r);case"symbols":if(Vee(e))return H.createElement(fS,r);break;default:return null}}function Uee(t){return B.isValidElement(t)?t.props:t}function LL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Fee:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,u=t.isActive,d=Ree(t,Iee),f;if(B.isValidElement(e))f=B.cloneElement(e,sm(sm({},d),Uee(e)));else if(He(e))f=e(d);else if(xee(e)&&!_ee(e)){var p=i(e,d);f=H.createElement(YO,{shapeType:r,elementProps:p})}else{var g=d;f=H.createElement(YO,{shapeType:r,elementProps:g})}return u?H.createElement(pt,{className:o},f):f}function gg(t,e){return e!=null&&"trapezoids"in t.props}function vg(t,e){return e!=null&&"sectors"in t.props}function $d(t,e){return e!=null&&"points"in t.props}function Bee(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function qee(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function zee(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Wee(t,e){var r;return gg(t,e)?r=Bee:vg(t,e)?r=qee:$d(t,e)&&(r=zee),r}function Hee(t,e){var r;return gg(t,e)?r="trapezoids":vg(t,e)?r="sectors":$d(t,e)&&(r="points"),r}function Gee(t,e){if(gg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(vg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return $d(t,e)?e.payload:{}}function Kee(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Hee(r,e),a=Gee(r,e),o=n.filter(function(d,f){var p=lg(a,d),g=r.props[i].filter(function(S){var _=Wee(r,e);return _(S,e)}),y=r.props[i].indexOf(g[g.length-1]),x=f===y;return p&&x}),u=n.indexOf(o[o.length-1]);return u}var sp;function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function Vl(){return Vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vl.apply(this,arguments)}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){Hn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FL(n.key),n)}}function Xee(t,e,r){return e&&QO(t.prototype,e),r&&QO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qee(t,e,r){return e=om(e),Jee(t,$L()?Reflect.construct(e,r||[],om(t).constructor):e.apply(t,r))}function Jee(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zee(t)}function Zee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($L=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},om(t)}function ete(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z_(t,e)}function Hn(t,e,r){return e=FL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FL(t){var e=tte(t,"string");return yc(e)=="symbol"?e:e+""}function tte(t,e){if(yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $a=function(t){function e(r){var n;return Yee(this,e),n=Qee(this,e,[r]),Hn(n,"pieRef",null),Hn(n,"sectorRefs",[]),Hn(n,"id",of("recharts-pie-")),Hn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),He(i)&&i()}),Hn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),He(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return ete(e,t),Xee(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,u=a.labelLine,d=a.dataKey,f=a.valueKey,p=ze(this.props,!1),g=ze(o,!1),y=ze(u,!1),x=o&&o.offsetRadius||20,S=n.map(function(_,b){var P=(_.startAngle+_.endAngle)/2,A=kt(_.cx,_.cy,_.outerRadius+x,P),O=_t(_t(_t(_t({},p),_),{},{stroke:"none"},g),{},{index:b,textAnchor:e.getTextAnchor(A.x,_.cx)},A),R=_t(_t(_t(_t({},p),_),{},{fill:"none",stroke:_.fill},y),{},{index:b,points:[kt(_.cx,_.cy,_.outerRadius,P),A]}),E=d;return Je(d)&&Je(f)?E="value":Je(d)&&(E=f),H.createElement(pt,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(b)},u&&e.renderLabelLineItem(u,R,"line"),e.renderLabelItem(o,O,Vr(_,E)))});return H.createElement(pt,{className:"recharts-pie-labels"},S)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,u=a.blendStroke,d=a.inactiveShape;return n.map(function(f,p){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var g=i.isActiveIndex(p),y=d&&i.hasActiveIndex()?d:null,x=g?o:y,S=_t(_t({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return H.createElement(pt,Vl({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Lo(i.props,f,p),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(p)}),H.createElement(LL,Vl({option:x,isActive:g,shapeType:"sector"},S)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,p=i.animationId,g=this.state,y=g.prevSectors,x=g.prevIsAnimationActive;return H.createElement(Ra,{begin:u,duration:d,isActive:o,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(S){var _=S.t,b=[],P=a&&a[0],A=P.startAngle;return a.forEach(function(O,R){var E=y&&y[R],N=R>0?Nn(O,"paddingAngle",0):0;if(E){var T=hs(E.endAngle-E.startAngle,O.endAngle-O.startAngle),C=_t(_t({},O),{},{startAngle:A+N,endAngle:A+T(_)+N});b.push(C),A=C.endAngle}else{var L=O.endAngle,I=O.startAngle,D=hs(0,L-I),V=D(_),$=_t(_t({},O),{},{startAngle:A+N,endAngle:A+V+N});b.push($),A=$.endAngle}}),H.createElement(pt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!lg(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,u=i.className,d=i.label,f=i.cx,p=i.cy,g=i.innerRadius,y=i.outerRadius,x=i.isAnimationActive,S=this.state.isAnimationFinished;if(a||!o||!o.length||!ke(f)||!ke(p)||!ke(g)||!ke(y))return null;var _=Xe("recharts-pie",u);return H.createElement(pt,{tabIndex:this.props.rootTabIndex,className:_,ref:function(P){n.pieRef=P}},this.renderSectors(),d&&this.renderLabels(o),gr.renderCallByParent(this.props,null,!1),(!x||S)&&As.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(H.isValidElement(n))return H.cloneElement(n,i);if(He(n))return n(i);var o=Xe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return H.createElement(N_,Vl({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(H.isValidElement(n))return H.cloneElement(n,i);var o=a;if(He(n)&&(o=n(i),H.isValidElement(o)))return o;var u=Xe("recharts-pie-label-text",typeof n!="boolean"&&!He(n)?n.className:"");return H.createElement($o,Vl({},i,{alignmentBaseline:"middle",className:u}),o)}}])}(B.PureComponent);sp=$a;Hn($a,"displayName","Pie");Hn($a,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Hn($a,"parseDeltaAngle",function(t,e){var r=Kr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Hn($a,"getRealPieData",function(t){var e=t.data,r=t.children,n=ze(t,!1),i=Kn(r,Jm);return e&&e.length?e.map(function(a,o){return _t(_t(_t({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return _t(_t({},n),a.props)}):[]});Hn($a,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=_L(i,a),u=n+Yr(t.cx,i,i/2),d=r+Yr(t.cy,a,a/2),f=Yr(t.innerRadius,o,0),p=Yr(t.outerRadius,o,o*.8),g=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:p,maxRadius:g}});Hn($a,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?_t(_t({},e.type.defaultProps),e.props):e.props,i=sp.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,p=n.nameKey,g=n.valueKey,y=n.tooltipType,x=Math.abs(n.minAngle),S=sp.parseCoordinateOfPie(n,r),_=sp.parseDeltaAngle(o,u),b=Math.abs(_),P=f;Je(f)&&Je(g)?(mi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P="value"):Je(f)&&(mi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P=g);var A=i.filter(function(C){return Vr(C,P,0)!==0}).length,O=(b>=360?A:A-1)*d,R=b-A*x-O,E=i.reduce(function(C,L){var I=Vr(L,P,0);return C+(ke(I)?I:0)},0),N;if(E>0){var T;N=i.map(function(C,L){var I=Vr(C,P,0),D=Vr(C,p,L),V=(ke(I)?I:0)/E,$;L?$=T.endAngle+Kr(_)*d*(I!==0?1:0):$=o;var ee=$+Kr(_)*((I!==0?x:0)+V*R),ne=($+ee)/2,Q=(S.innerRadius+S.outerRadius)/2,ie=[{name:D,value:I,payload:C,dataKey:P,type:y}],Z=kt(S.cx,S.cy,Q,ne);return T=_t(_t(_t({percent:V,cornerRadius:a,name:D,tooltipPayload:ie,midAngle:ne,middleRadius:Q,tooltipPosition:Z},C),S),{},{value:Vr(C,P),startAngle:$,endAngle:ee,payload:C,paddingAngle:Kr(_)*d}),T})}return _t(_t({},S),{},{sectors:N,data:i})});var Kb,JO;function rte(){if(JO)return Kb;JO=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var u=-1,d=e(t((i-n)/(a||1)),0),f=Array(d);d--;)f[o?d:++u]=n,n+=a;return f}return Kb=r,Kb}var Yb,ZO;function VL(){if(ZO)return Yb;ZO=1;var t=c4(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return Yb=n,Yb}var Xb,eI;function nte(){if(eI)return Xb;eI=1;var t=rte(),e=Qm(),r=VL();function n(i){return function(a,o,u){return u&&typeof u!="number"&&e(a,o,u)&&(o=u=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),u=u===void 0?a<o?1:-1:r(u),t(a,o,u,i)}}return Xb=n,Xb}var Qb,tI;function ite(){if(tI)return Qb;tI=1;var t=nte(),e=t();return Qb=e,Qb}var ate=ite();const lm=ft(ate);function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function rI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(r),!0).forEach(function(n){UL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UL(t,e,r){return e=ste(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ste(t){var e=ote(t,"string");return Fd(e)=="symbol"?e:e+""}function ote(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lte=["Webkit","Moz","O","ms"],cte=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=lte.reduce(function(a,o){return nI(nI({},a),{},UL({},o+n,r))},{});return i[e]=r,i};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cm.apply(this,arguments)}function iI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(r),!0).forEach(function(n){kn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ute(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qL(n.key),n)}}function dte(t,e,r){return e&&aI(t.prototype,e),r&&aI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fte(t,e,r){return e=um(e),hte(t,BL()?Reflect.construct(e,r||[],um(t).constructor):e.apply(t,r))}function hte(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pte(t)}function pte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BL=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},um(t)}function mte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W_(t,e)}function kn(t,e,r){return e=qL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qL(t){var e=gte(t,"string");return xc(e)=="symbol"?e:e+""}function gte(t,e){if(xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vte=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Xu().domain(lm(0,d)).range([a,a+o-u]),p=f.domain().map(function(g){return f(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:p}},sI=function(e){return e.changedTouches&&!!e.changedTouches.length},bc=function(t){function e(r){var n;return ute(this,e),n=fte(this,e,[r]),kn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),kn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),kn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,u=i.startIndex;o?.({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),kn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),kn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),kn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),kn(n,"handleSlideDragStart",function(i){var a=sI(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return mte(e,t),dte(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,g=Math.min(i,a),y=Math.max(i,a),x=e.getIndexInRange(o,g),S=e.getIndexInRange(o,y);return{startIndex:x-x%d,endIndex:S===p?p:S-S%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,u=i.dataKey,d=Vr(a[n],u,n);return He(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,u=i.endX,d=this.props,f=d.x,p=d.width,g=d.travellerWidth,y=d.startIndex,x=d.endIndex,S=d.onChange,_=n.pageX-a;_>0?_=Math.min(_,f+p-g-u,f+p-g-o):_<0&&(_=Math.max(_,f-o,f-u));var b=this.getIndex({startX:o+_,endX:u+_});(b.startIndex!==y||b.endIndex!==x)&&S&&S(b),this.setState({startX:o+_,endX:u+_,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=sI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[o],p=this.props,g=p.x,y=p.width,x=p.travellerWidth,S=p.onChange,_=p.gap,b=p.data,P={startX:this.state.startX,endX:this.state.endX},A=n.pageX-a;A>0?A=Math.min(A,g+y-x-f):A<0&&(A=Math.max(A,g-f)),P[o]=f+A;var O=this.getIndex(P),R=O.startIndex,E=O.endIndex,N=function(){var C=b.length-1;return o==="startX"&&(u>d?R%_===0:E%_===0)||u<d&&E===C||o==="endX"&&(u>d?E%_===0:R%_===0)||u>d&&E===C};this.setState(kn(kn({},o,f+A),"brushMoveStartX",n.pageX),function(){S&&N()&&S(O)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,u=o.scaleValues,d=o.startX,f=o.endX,p=this.state[i],g=u.indexOf(p);if(g!==-1){var y=g+n;if(!(y===-1||y>=u.length)){var x=u[y];i==="startX"&&x>=f||i==="endX"&&x<=d||this.setState(kn({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,d=n.fill,f=n.stroke;return H.createElement("rect",{stroke:f,fill:d,x:i,y:a,width:o,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,d=n.data,f=n.children,p=n.padding,g=B.Children.only(f);return g?H.cloneElement(g,{x:i,y:a,width:o,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,u=this,d=this.props,f=d.y,p=d.travellerWidth,g=d.height,y=d.traveller,x=d.ariaLabel,S=d.data,_=d.startIndex,b=d.endIndex,P=Math.max(n,this.props.x),A=Jb(Jb({},ze(this.props,!1)),{},{x:P,y:f,width:p,height:g}),O=x||"Min value: ".concat((a=S[_])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=S[b])===null||o===void 0?void 0:o.name);return H.createElement(pt,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),u.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,A))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,u=a.height,d=a.stroke,f=a.travellerWidth,p=Math.min(n,i)+f,g=Math.max(Math.abs(i-n)-f,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:o,width:g,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,g=p.startX,y=p.endX,x=5,S={pointerEvents:"none",fill:f};return H.createElement(pt,{className:"recharts-brush-texts"},H.createElement($o,cm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,y)-x,y:o+u/2},S),this.getTextOfTick(i)),H.createElement($o,cm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,y)+d+x,y:o+u/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,u=n.x,d=n.y,f=n.width,p=n.height,g=n.alwaysShowText,y=this.state,x=y.startX,S=y.endX,_=y.isTextActive,b=y.isSlideMoving,P=y.isTravellerMoving,A=y.isTravellerFocused;if(!i||!i.length||!ke(u)||!ke(d)||!ke(f)||!ke(p)||f<=0||p<=0)return null;var O=Xe("recharts-brush",a),R=H.Children.count(o)===1,E=cte("userSelect","none");return H.createElement(pt,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(x,S),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(S,"endX"),(_||b||P||A||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,u=n.height,d=n.stroke,f=Math.floor(a+u/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:a,width:o,height:u,fill:d,stroke:"none"}),H.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return H.isValidElement(n)?a=H.cloneElement(n,i):He(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,g=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return Jb({prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o},a&&a.length?vte({data:a,width:o,x:u,travellerWidth:d,startIndex:p,endIndex:g}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+o-d]);var y=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,u=a-1;u-o>1;){var d=Math.floor((o+u)/2);n[d]>i?u=d:o=d}return i>=n[u]?u:o}}])}(B.PureComponent);kn(bc,"displayName","Brush");kn(bc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Zb,oI;function yte(){if(oI)return Zb;oI=1;var t=xS();function e(r,n){var i;return t(r,function(a,o,u){return i=n(a,o,u),!i}),!!i}return Zb=e,Zb}var ew,lI;function xte(){if(lI)return ew;lI=1;var t=VD(),e=Yi(),r=yte(),n=pn(),i=Qm();function a(o,u,d){var f=n(o)?t:r;return d&&i(o,u,d)&&(u=void 0),f(o,e(u,3))}return ew=a,ew}var bte=xte();const wte=ft(bte);var Ui=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},tw,cI;function _te(){if(cI)return tw;cI=1;var t=i4();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return tw=e,tw}var rw,uI;function Ste(){if(uI)return rw;uI=1;var t=_te(),e=r4(),r=Yi();function n(i,a){var o={};return a=r(a,3),e(i,function(u,d,f){t(o,d,a(u,d,f))}),o}return rw=n,rw}var kte=Ste();const jte=ft(kte);var nw,dI;function Ete(){if(dI)return nw;dI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return nw=t,nw}var iw,fI;function Tte(){if(fI)return iw;fI=1;var t=xS();function e(r,n){var i=!0;return t(r,function(a,o,u){return i=!!n(a,o,u),i}),i}return iw=e,iw}var aw,hI;function Ate(){if(hI)return aw;hI=1;var t=Ete(),e=Tte(),r=Yi(),n=pn(),i=Qm();function a(o,u,d){var f=n(o)?t:e;return d&&i(o,u,d)&&(u=void 0),f(o,r(u,3))}return aw=a,aw}var Nte=Ate();const zL=ft(Nte);var Pte=["x","y"];function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H_.apply(this,arguments)}function pI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ru(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(r),!0).forEach(function(n){Cte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cte(t,e,r){return e=Ote(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ote(t){var e=Ite(t,"string");return Vd(e)=="symbol"?e:e+""}function Ite(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rte(t,e){if(t==null)return{};var r=Mte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dte(t,e){var r=t.x,n=t.y,i=Rte(t,Pte),a="".concat(r),o=parseInt(a,10),u="".concat(n),d=parseInt(u,10),f="".concat(e.height||i.height),p=parseInt(f,10),g="".concat(e.width||i.width),y=parseInt(g,10);return Ru(Ru(Ru(Ru(Ru({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function mI(t){return H.createElement(LL,H_({shapeType:"rectangle",propTransformer:Dte,activeClassName:"recharts-active-bar"},t))}var Lte=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ke(n)||lq(n);return a?e(n,i):(a||Vo(),r)}},$te=["value","background"],WL;function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function Fte(t,e){if(t==null)return{};var r=Vte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(this,arguments)}function gI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(r),!0).forEach(function(n){_s(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ute(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GL(n.key),n)}}function Bte(t,e,r){return e&&vI(t.prototype,e),r&&vI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qte(t,e,r){return e=fm(e),zte(t,HL()?Reflect.construct(e,r||[],fm(t).constructor):e.apply(t,r))}function zte(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wte(t)}function Wte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!t})()}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fm(t)}function Hte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G_(t,e)}function G_(t,e){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G_(t,e)}function _s(t,e,r){return e=GL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GL(t){var e=Gte(t,"string");return wc(e)=="symbol"?e:e+""}function Gte(t,e){if(wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wi=function(t){function e(){var r;Ute(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=qte(this,e,[].concat(i)),_s(r,"state",{isAnimationFinished:!1}),_s(r,"id",of("recharts-bar-")),_s(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),_s(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Hte(e,t),Bte(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,u=a.dataKey,d=a.activeIndex,f=a.activeBar,p=ze(this.props,!1);return n&&n.map(function(g,y){var x=y===d,S=x?f:o,_=Gt(Gt(Gt({},p),g),{},{isActive:x,option:S,index:y,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(pt,dm({className:"recharts-bar-rectangle"},Lo(i.props,g,y),{key:"rectangle-".concat(g?.x,"-").concat(g?.y,"-").concat(g?.value,"-").concat(y)}),H.createElement(mI,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,p=i.animationEasing,g=i.animationId,y=this.state.prevData;return H.createElement(Ra,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var S=x.t,_=a.map(function(b,P){var A=y&&y[P];if(A){var O=hs(A.x,b.x),R=hs(A.y,b.y),E=hs(A.width,b.width),N=hs(A.height,b.height);return Gt(Gt({},b),{},{x:O(S),y:R(S),width:E(S),height:N(S)})}if(o==="horizontal"){var T=hs(0,b.height),C=T(S);return Gt(Gt({},b),{},{y:b.y+b.height-C,height:C})}var L=hs(0,b.width),I=L(S);return Gt(Gt({},b),{},{width:I})});return H.createElement(pt,null,n.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!lg(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,u=i.activeIndex,d=ze(this.props.background,!1);return a.map(function(f,p){f.value;var g=f.background,y=Fte(f,$te);if(!g)return null;var x=Gt(Gt(Gt(Gt(Gt({},y),{},{fill:"#eee"},g),d),Lo(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return H.createElement(mI,dm({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,u=a.xAxis,d=a.yAxis,f=a.layout,p=a.children,g=Kn(p,dg);if(!g)return null;var y=f==="vertical"?o[0].height/2:o[0].width/2,x=function(b,P){var A=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:A,errorVal:Vr(b,P)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return H.createElement(pt,S,g.map(function(_){return H.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:o,xAxis:u,yAxis:d,layout:f,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,u=n.xAxis,d=n.yAxis,f=n.left,p=n.top,g=n.width,y=n.height,x=n.isAnimationActive,S=n.background,_=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,P=Xe("recharts-bar",o),A=u&&u.allowDataOverflow,O=d&&d.allowDataOverflow,R=A||O,E=Je(_)?this.id:_;return H.createElement(pt,{className:P},A||O?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(E)},H.createElement("rect",{x:A?f:f-g/2,y:O?p:p-y/2,width:A?g:g*2,height:O?y:y*2}))):null,H.createElement(pt,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(E,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,E),(!x||b)&&As.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(B.PureComponent);WL=Wi;_s(Wi,"displayName","Bar");_s(Wi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_s(Wi,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,p=t.dataStartIndex,g=t.displayedData,y=t.offset,x=_X(n,r);if(!x)return null;var S=e.layout,_=r.type.defaultProps,b=_!==void 0?Gt(Gt({},_),r.props):r.props,P=b.dataKey,A=b.children,O=b.minPointSize,R=S==="horizontal"?o:a,E=f?R.scale.domain():null,N=NX({numericAxis:R}),T=Kn(A,Jm),C=g.map(function(L,I){var D,V,$,ee,ne,Q;f?D=SX(f[p+I],E):(D=Vr(L,P),Array.isArray(D)||(D=[N,D]));var ie=Lte(O,WL.defaultProps.minPointSize)(D[1],I);if(S==="horizontal"){var Z,J=[o.scale(D[0]),o.scale(D[1])],ae=J[0],z=J[1];V=BC({axis:a,ticks:u,bandSize:i,offset:x.offset,entry:L,index:I}),$=(Z=z??ae)!==null&&Z!==void 0?Z:void 0,ee=x.size;var Y=ae-z;if(ne=Number.isNaN(Y)?0:Y,Q={x:V,y:o.y,width:ee,height:o.height},Math.abs(ie)>0&&Math.abs(ne)<Math.abs(ie)){var K=Kr(ne||ie)*(Math.abs(ie)-Math.abs(ne));$-=K,ne+=K}}else{var le=[a.scale(D[0]),a.scale(D[1])],fe=le[0],ye=le[1];if(V=fe,$=BC({axis:o,ticks:d,bandSize:i,offset:x.offset,entry:L,index:I}),ee=ye-fe,ne=x.size,Q={x:a.x,y:$,width:a.width,height:ne},Math.abs(ie)>0&&Math.abs(ee)<Math.abs(ie)){var he=Kr(ee||ie)*(Math.abs(ie)-Math.abs(ee));ee+=he}}return Gt(Gt(Gt({},L),{},{x:V,y:$,width:ee,height:ne,value:f?D:D[1],payload:L,background:Q},T&&T[I]&&T[I].props),{},{tooltipPayload:[bL(r,L)],tooltipPosition:{x:V+ee/2,y:$+ne/2}})});return Gt({data:C,layout:S},y)});function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function Kte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KL(n.key),n)}}function Yte(t,e,r){return e&&yI(t.prototype,e),r&&yI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(r),!0).forEach(function(n){yg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yg(t,e,r){return e=KL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KL(t){var e=Xte(t,"string");return Ud(e)=="symbol"?e:e+""}function Xte(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qte=function(e,r,n,i,a){var o=e.width,u=e.height,d=e.layout,f=e.children,p=Object.keys(r),g={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!jn(f,Wi);return p.reduce(function(x,S){var _=r[S],b=_.orientation,P=_.domain,A=_.padding,O=A===void 0?{}:A,R=_.mirror,E=_.reversed,N="".concat(b).concat(R?"Mirror":""),T,C,L,I,D;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var V=P[1]-P[0],$=1/0,ee=_.categoricalDomain.sort(dq);if(ee.forEach(function(le,fe){fe>0&&($=Math.min((le||0)-(ee[fe-1]||0),$))}),Number.isFinite($)){var ne=$/V,Q=_.layout==="vertical"?n.height:n.width;if(_.padding==="gap"&&(T=ne*Q/2),_.padding==="no-gap"){var ie=Yr(e.barCategoryGap,ne*Q),Z=ne*Q/2;T=Z-ie-(Z-ie)/Q*ie}}}i==="xAxis"?C=[n.left+(O.left||0)+(T||0),n.left+n.width-(O.right||0)-(T||0)]:i==="yAxis"?C=d==="horizontal"?[n.top+n.height-(O.bottom||0),n.top+(O.top||0)]:[n.top+(O.top||0)+(T||0),n.top+n.height-(O.bottom||0)-(T||0)]:C=_.range,E&&(C=[C[1],C[0]]);var J=gL(_,a,y),ae=J.scale,z=J.realScaleType;ae.domain(P).range(C),vL(ae);var Y=yL(ae,di(di({},_),{},{realScaleType:z}));i==="xAxis"?(D=b==="top"&&!R||b==="bottom"&&R,L=n.left,I=g[N]-D*_.height):i==="yAxis"&&(D=b==="left"&&!R||b==="right"&&R,L=g[N]-D*_.width,I=n.top);var K=di(di(di({},_),Y),{},{realScaleType:z,x:L,y:I,scale:ae,width:i==="xAxis"?n.width:_.width,height:i==="yAxis"?n.height:_.height});return K.bandSize=Xp(K,Y),!_.hide&&i==="xAxis"?g[N]+=(D?-1:1)*K.height:_.hide||(g[N]+=(D?-1:1)*K.width),di(di({},x),{},yg({},S,K))},{})},YL=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Jte=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return YL({x:r,y:n},{x:i,y:a})},XL=function(){function t(e){Kte(this,t),this.scale=e}return Yte(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();yg(XL,"EPS",1e-4);var QS=function(e){var r=Object.keys(e).reduce(function(n,i){return di(di({},n),{},yg({},i,XL.create(e[i])))},{});return di(di({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,u=a.position;return jte(i,function(d,f){return r[f].apply(d,{bandAware:o,position:u})})},isInRange:function(i){return zL(i,function(a,o){return r[o].isInRange(a)})}})};function Zte(t){return(t%180+180)%180}var ere=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Zte(i),o=a*Math.PI/180,u=Math.atan(n/r),d=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},sw,bI;function tre(){if(bI)return sw;bI=1;var t=Yi(),e=lf(),r=Ym();function n(i){return function(a,o,u){var d=Object(a);if(!e(a)){var f=t(o,3);a=r(a),o=function(g){return f(d[g],g,d)}}var p=i(a,o,u);return p>-1?d[f?a[p]:p]:void 0}}return sw=n,sw}var ow,wI;function rre(){if(wI)return ow;wI=1;var t=VL();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return ow=e,ow}var lw,_I;function nre(){if(_I)return lw;_I=1;var t=QD(),e=Yi(),r=rre(),n=Math.max;function i(a,o,u){var d=a==null?0:a.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),t(a,e(o,3),f)}return lw=i,lw}var cw,SI;function ire(){if(SI)return cw;SI=1;var t=tre(),e=nre(),r=t(e);return cw=r,cw}var are=ire();const sre=ft(are);var ore=hD();const lre=ft(ore);var cre=lre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),JS=B.createContext(void 0),ZS=B.createContext(void 0),QL=B.createContext(void 0),JL=B.createContext({}),ZL=B.createContext(void 0),e3=B.createContext(0),t3=B.createContext(0),kI=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,u=e.children,d=e.width,f=e.height,p=cre(a);return H.createElement(JS.Provider,{value:n},H.createElement(ZS.Provider,{value:i},H.createElement(JL.Provider,{value:a},H.createElement(QL.Provider,{value:p},H.createElement(ZL.Provider,{value:o},H.createElement(e3.Provider,{value:f},H.createElement(t3.Provider,{value:d},u)))))))},ure=function(){return B.useContext(ZL)},r3=function(e){var r=B.useContext(JS);r==null&&Vo();var n=r[e];return n==null&&Vo(),n},dre=function(){var e=B.useContext(JS);return xs(e)},fre=function(){var e=B.useContext(ZS),r=sre(e,function(n){return zL(n.domain,Number.isFinite)});return r||xs(e)},n3=function(e){var r=B.useContext(ZS);r==null&&Vo();var n=r[e];return n==null&&Vo(),n},hre=function(){var e=B.useContext(QL);return e},pre=function(){return B.useContext(JL)},ek=function(){return B.useContext(t3)},tk=function(){return B.useContext(e3)};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function mre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a3(n.key),n)}}function vre(t,e,r){return e&&gre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yre(t,e,r){return e=hm(e),xre(t,i3()?Reflect.construct(e,r||[],hm(t).constructor):e.apply(t,r))}function xre(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bre(t)}function bre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i3=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(t)}function wre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K_(t,e)}function jI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(r),!0).forEach(function(n){rk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rk(t,e,r){return e=a3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a3(t){var e=_re(t,"string");return _c(e)=="symbol"?e:e+""}function _re(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sre(t,e){return Tre(t)||Ere(t,e)||jre(t,e)||kre()}function kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jre(t,e){if(t){if(typeof t=="string")return TI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TI(t,e)}}function TI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ere(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Tre(t){if(Array.isArray(t))return t}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y_.apply(this,arguments)}var Are=function(e,r){var n;return H.isValidElement(e)?n=H.cloneElement(e,r):He(e)?n=e(r):n=H.createElement("line",Y_({},r,{className:"recharts-reference-line-line"})),n},Nre=function(e,r,n,i,a,o,u,d,f){var p=a.x,g=a.y,y=a.width,x=a.height;if(n){var S=f.y,_=e.y.apply(S,{position:o});if(Ui(f,"discard")&&!e.y.isInRange(_))return null;var b=[{x:p+y,y:_},{x:p,y:_}];return d==="left"?b.reverse():b}if(r){var P=f.x,A=e.x.apply(P,{position:o});if(Ui(f,"discard")&&!e.x.isInRange(A))return null;var O=[{x:A,y:g+x},{x:A,y:g}];return u==="top"?O.reverse():O}if(i){var R=f.segment,E=R.map(function(N){return e.apply(N,{position:o})});return Ui(f,"discard")&&wte(E,function(N){return!e.isInRange(N)})?null:E}return null};function Pre(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,u=t.className,d=t.alwaysShow,f=ure(),p=r3(i),g=n3(a),y=hre();if(!f||!y)return null;mi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=QS({x:p.scale,y:g.scale}),S=sr(e),_=sr(r),b=n&&n.length===2,P=Nre(x,S,_,b,y,t.position,p.orientation,g.orientation,t);if(!P)return null;var A=Sre(P,2),O=A[0],R=O.x,E=O.y,N=A[1],T=N.x,C=N.y,L=Ui(t,"hidden")?"url(#".concat(f,")"):void 0,I=EI(EI({clipPath:L},ze(t,!0)),{},{x1:R,y1:E,x2:T,y2:C});return H.createElement(pt,{className:Xe("recharts-reference-line",u)},Are(o,I),gr.renderCallByParent(t,Jte({x1:R,y1:E,x2:T,y2:C})))}var nk=function(t){function e(){return mre(this,e),yre(this,e,arguments)}return wre(e,t),vre(e,[{key:"render",value:function(){return H.createElement(Pre,this.props)}}])}(H.Component);rk(nk,"displayName","ReferenceLine");rk(nk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X_.apply(this,arguments)}function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function AI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(r),!0).forEach(function(n){xg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ore(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o3(n.key),n)}}function Ire(t,e,r){return e&&Ore(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rre(t,e,r){return e=pm(e),Mre(t,s3()?Reflect.construct(e,r||[],pm(t).constructor):e.apply(t,r))}function Mre(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dre(t)}function Dre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s3=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pm(t)}function Lre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q_(t,e)}function Q_(t,e){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q_(t,e)}function xg(t,e,r){return e=o3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o3(t){var e=$re(t,"string");return Sc(e)=="symbol"?e:e+""}function $re(t,e){if(Sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fre=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=QS({x:i.scale,y:a.scale}),u=o.apply({x:r,y:n},{bandAware:!0});return Ui(e,"discard")&&!o.isInRange(u)?null:u},bg=function(t){function e(){return Cre(this,e),Rre(this,e,arguments)}return Lre(e,t),Ire(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,u=n.alwaysShow,d=n.clipPathId,f=sr(i),p=sr(a);if(mi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var g=Fre(this.props);if(!g)return null;var y=g.x,x=g.y,S=this.props,_=S.shape,b=S.className,P=Ui(this.props,"hidden")?"url(#".concat(d,")"):void 0,A=NI(NI({clipPath:P},ze(this.props,!0)),{},{cx:y,cy:x});return H.createElement(pt,{className:Xe("recharts-reference-dot",b)},e.renderDot(_,A),gr.renderCallByParent(this.props,{x:y-o,y:x-o,width:2*o,height:2*o}))}}])}(H.Component);xg(bg,"displayName","ReferenceDot");xg(bg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});xg(bg,"renderDot",function(t,e){var r;return H.isValidElement(t)?r=H.cloneElement(t,e):He(t)?r=t(e):r=H.createElement(XS,X_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J_.apply(this,arguments)}function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function PI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(r),!0).forEach(function(n){wg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ure(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c3(n.key),n)}}function Bre(t,e,r){return e&&Ure(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qre(t,e,r){return e=mm(e),zre(t,l3()?Reflect.construct(e,r||[],mm(t).constructor):e.apply(t,r))}function zre(t,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wre(t)}function Wre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l3=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(t)}function Hre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z_(t,e)}function wg(t,e,r){return e=c3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c3(t){var e=Gre(t,"string");return kc(e)=="symbol"?e:e+""}function Gre(t,e){if(kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kre=function(e,r,n,i,a){var o=a.x1,u=a.x2,d=a.y1,f=a.y2,p=a.xAxis,g=a.yAxis;if(!p||!g)return null;var y=QS({x:p.scale,y:g.scale}),x={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},S={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return Ui(a,"discard")&&(!y.isInRange(x)||!y.isInRange(S))?null:YL(x,S)},_g=function(t){function e(){return Vre(this,e),qre(this,e,arguments)}return Hre(e,t),Bre(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;mi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=sr(i),y=sr(a),x=sr(o),S=sr(u),_=this.props.shape;if(!g&&!y&&!x&&!S&&!_)return null;var b=Kre(g,y,x,S,this.props);if(!b&&!_)return null;var P=Ui(this.props,"hidden")?"url(#".concat(p,")"):void 0;return H.createElement(pt,{className:Xe("recharts-reference-area",d)},e.renderRect(_,CI(CI({clipPath:P},ze(this.props,!0)),b)),gr.renderCallByParent(this.props,b))}}])}(H.Component);wg(_g,"displayName","ReferenceArea");wg(_g,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});wg(_g,"renderRect",function(t,e){var r;return H.isValidElement(t)?r=H.cloneElement(t,e):He(t)?r=t(e):r=H.createElement(YS,J_({},e,{className:"recharts-reference-area-rect"})),r});function u3(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Yre(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return ere(n,r)}function Xre(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,u=t.height;return e===1?{start:n?i:a,end:n?i+o:a+u}:{start:n?i+o:a+u,end:n?i:a}}function gm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Qre(t,e){return u3(t,e+1)}function Jre(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,u=e.end,d=0,f=1,p=o,g=function(){var S=n?.[d];if(S===void 0)return{v:u3(n,f)};var _=d,b,P=function(){return b===void 0&&(b=r(S,_)),b},A=S.coordinate,O=d===0||gm(t,A,P,p,u);O||(d=0,p=o,f+=1),O&&(p=A+t*(P()/2+i),d+=f)},y;f<=a.length;)if(y=g(),y)return y.v;return[]}function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function OI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(r),!0).forEach(function(n){Zre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zre(t,e,r){return e=ene(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ene(t){var e=tne(t,"string");return Bd(e)=="symbol"?e:e+""}function tne(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rne(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,u=e.start,d=e.end,f=function(y){var x=a[y],S,_=function(){return S===void 0&&(S=r(x,y)),S};if(y===o-1){var b=t*(x.coordinate+t*_()/2-d);a[y]=x=Mr(Mr({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else a[y]=x=Mr(Mr({},x),{},{tickCoord:x.coordinate});var P=gm(t,x.tickCoord,_,u,d);P&&(d=x.tickCoord-t*(_()/2+i),a[y]=Mr(Mr({},x),{},{isShow:!0}))},p=o-1;p>=0;p--)f(p);return a}function nne(t,e,r,n,i,a){var o=(n||[]).slice(),u=o.length,d=e.start,f=e.end;if(a){var p=n[u-1],g=r(p,u-1),y=t*(p.coordinate+t*g/2-f);o[u-1]=p=Mr(Mr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=gm(t,p.tickCoord,function(){return g},d,f);x&&(f=p.tickCoord-t*(g/2+i),o[u-1]=Mr(Mr({},p),{},{isShow:!0}))}for(var S=a?u-1:u,_=function(A){var O=o[A],R,E=function(){return R===void 0&&(R=r(O,A)),R};if(A===0){var N=t*(O.coordinate-t*E()/2-d);o[A]=O=Mr(Mr({},O),{},{tickCoord:N<0?O.coordinate-N*t:O.coordinate})}else o[A]=O=Mr(Mr({},O),{},{tickCoord:O.coordinate});var T=gm(t,O.tickCoord,E,d,f);T&&(d=O.tickCoord+t*(E()/2+i),o[A]=Mr(Mr({},O),{},{isShow:!0}))},b=0;b<S;b++)_(b);return o}function ik(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,u=t.orientation,d=t.interval,f=t.tickFormatter,p=t.unit,g=t.angle;if(!i||!i.length||!n)return[];if(ke(d)||Vc.isSsr)return Qre(i,typeof d=="number"&&ke(d)?d:0);var y=[],x=u==="top"||u==="bottom"?"width":"height",S=p&&x==="width"?Yu(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},_=function(O,R){var E=He(f)?f(O.value,R):O.value;return x==="width"?Yre(Yu(E,{fontSize:e,letterSpacing:r}),S,g):Yu(E,{fontSize:e,letterSpacing:r})[x]},b=i.length>=2?Kr(i[1].coordinate-i[0].coordinate):1,P=Xre(a,b,x);return d==="equidistantPreserveStart"?Jre(b,P,_,i,o):(d==="preserveStart"||d==="preserveStartEnd"?y=nne(b,P,_,i,o,d==="preserveStartEnd"):y=rne(b,P,_,i,o),y.filter(function(A){return A.isShow}))}var ine=["viewBox"],ane=["viewBox"],sne=["ticks"];function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ul.apply(this,arguments)}function II(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?II(Object(r),!0).forEach(function(n){ak(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uw(t,e){if(t==null)return{};var r=one(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function one(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f3(n.key),n)}}function cne(t,e,r){return e&&RI(t.prototype,e),r&&RI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function une(t,e,r){return e=vm(e),dne(t,d3()?Reflect.construct(e,r||[],vm(t).constructor):e.apply(t,r))}function dne(t,e){if(e&&(jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fne(t)}function fne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d3=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(t)}function hne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e1(t,e)}function e1(t,e){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e1(t,e)}function ak(t,e,r){return e=f3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f3(t){var e=pne(t,"string");return jc(e)=="symbol"?e:e+""}function pne(t,e){if(jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zc=function(t){function e(r){var n;return lne(this,e),n=une(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return hne(e,t),cne(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=uw(n,ine),u=this.props,d=u.viewBox,f=uw(u,ane);return!Yl(a,d)||!Yl(o,f)||!Yl(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,u=i.width,d=i.height,f=i.orientation,p=i.tickSize,g=i.mirror,y=i.tickMargin,x,S,_,b,P,A,O=g?-1:1,R=n.tickSize||p,E=ke(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":x=S=n.coordinate,b=o+ +!g*d,_=b-O*R,A=_-O*y,P=E;break;case"left":_=b=n.coordinate,S=a+ +!g*u,x=S-O*R,P=x-O*y,A=E;break;case"right":_=b=n.coordinate,S=a+ +g*u,x=S+O*R,P=x+O*y,A=E;break;default:x=S=n.coordinate,b=o+ +g*d,_=b+O*R,A=_+O*y,P=E;break}return{line:{x1:x,y1:_,x2:S,y2:b},tick:{x:P,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,g=ir(ir(ir({},ze(this.props,!1)),ze(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!f||d==="bottom"&&f);g=ir(ir({},g),{},{x1:i,y1:a+y*u,x2:i+o,y2:a+y*u})}else{var x=+(d==="left"&&!f||d==="right"&&f);g=ir(ir({},g),{},{x1:i+x*o,y1:a,x2:i+x*o,y2:a+u})}return H.createElement("line",Ul({},g,{className:Xe("recharts-cartesian-axis-line",Nn(p,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,g=u.tickFormatter,y=u.unit,x=ik(ir(ir({},this.props),{},{ticks:n}),i,a),S=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),b=ze(this.props,!1),P=ze(p,!1),A=ir(ir({},b),{},{fill:"none"},ze(d,!1)),O=x.map(function(R,E){var N=o.getTickLineCoord(R),T=N.line,C=N.tick,L=ir(ir(ir(ir({textAnchor:S,verticalAnchor:_},b),{},{stroke:"none",fill:f},P),C),{},{index:E,payload:R,visibleTicksCount:x.length,tickFormatter:g});return H.createElement(pt,Ul({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Lo(o.props,R,E)),d&&H.createElement("line",Ul({},A,T,{className:Xe("recharts-cartesian-axis-tick-line",Nn(d,"className"))})),p&&e.renderTickItem(p,L,"".concat(He(g)?g(R.value,E):R.value).concat(y||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,u=i.height,d=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var g=this.props,y=g.ticks,x=uw(g,sne),S=y;return He(d)&&(S=y&&y.length>0?d(this.props):d(x)),o<=0||u<=0||!S||!S.length?null:H.createElement(pt,{className:Xe("recharts-cartesian-axis",f),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),gr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,u=Xe(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(n)?o=H.cloneElement(n,ir(ir({},i),{},{className:u})):He(n)?o=n(ir(ir({},i),{},{className:u})):o=H.createElement($o,Ul({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(B.Component);ak(zc,"displayName","CartesianAxis");ak(zc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mne=["x1","y1","x2","y2","key"],gne=["offset"];function Uo(t){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(t)}function MI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(r),!0).forEach(function(n){vne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vne(t,e,r){return e=yne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yne(t){var e=xne(t,"string");return Uo(e)=="symbol"?e:e+""}function xne(t,e){if(Uo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jo.apply(this,arguments)}function DI(t,e){if(t==null)return{};var r=bne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wne=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,u=e.height,d=e.ry;return H.createElement("rect",{x:i,y:a,ry:d,width:o,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function h3(t,e){var r;if(H.isValidElement(t))r=H.cloneElement(t,e);else if(He(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,u=e.key,d=DI(e,mne),f=ze(d,!1);f.offset;var p=DI(f,gne);r=H.createElement("line",jo({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:u}))}return r}function _ne(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,d){var f=$r($r({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return h3(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Sne(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,d){var f=$r($r({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return h3(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function kne(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,u=t.horizontalPoints,d=t.horizontal,f=d===void 0?!0:d;if(!f||!e||!e.length)return null;var p=u.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var g=p.map(function(y,x){var S=!p[x+1],_=S?i+o-y:p[x+1]-y;if(_<=0)return null;var b=x%e.length;return H.createElement("rect",{key:"react-".concat(x),y,x:n,height:_,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function jne(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,u=t.width,d=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var g=p.map(function(y,x){var S=!p[x+1],_=S?a+u-y:p[x+1]-y;if(_<=0)return null;var b=x%n.length;return H.createElement("rect",{key:"react-".concat(x),x:y,y:o,width:_,height:d,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var Ene=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return mL(ik($r($r($r({},zc.defaultProps),n),{},{ticks:_a(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Tne=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return mL(ik($r($r($r({},zc.defaultProps),n),{},{ticks:_a(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Il={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sk(t){var e,r,n,i,a,o,u=ek(),d=tk(),f=pre(),p=$r($r({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Il.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Il.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Il.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Il.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Il.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Il.verticalFill,x:ke(t.x)?t.x:f.left,y:ke(t.y)?t.y:f.top,width:ke(t.width)?t.width:f.width,height:ke(t.height)?t.height:f.height}),g=p.x,y=p.y,x=p.width,S=p.height,_=p.syncWithTicks,b=p.horizontalValues,P=p.verticalValues,A=dre(),O=fre();if(!ke(x)||x<=0||!ke(S)||S<=0||!ke(g)||g!==+g||!ke(y)||y!==+y)return null;var R=p.verticalCoordinatesGenerator||Ene,E=p.horizontalCoordinatesGenerator||Tne,N=p.horizontalPoints,T=p.verticalPoints;if((!N||!N.length)&&He(E)){var C=b&&b.length,L=E({yAxis:O?$r($r({},O),{},{ticks:C?b:O.ticks}):void 0,width:u,height:d,offset:f},C?!0:_);mi(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Uo(L),"]")),Array.isArray(L)&&(N=L)}if((!T||!T.length)&&He(R)){var I=P&&P.length,D=R({xAxis:A?$r($r({},A),{},{ticks:I?P:A.ticks}):void 0,width:u,height:d,offset:f},I?!0:_);mi(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Uo(D),"]")),Array.isArray(D)&&(T=D)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(wne,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),H.createElement(_ne,jo({},p,{offset:f,horizontalPoints:N,xAxis:A,yAxis:O})),H.createElement(Sne,jo({},p,{offset:f,verticalPoints:T,xAxis:A,yAxis:O})),H.createElement(kne,jo({},p,{horizontalPoints:N})),H.createElement(jne,jo({},p,{verticalPoints:T})))}sk.displayName="CartesianGrid";function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function Ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g3(n.key),n)}}function Pne(t,e,r){return e&&Nne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cne(t,e,r){return e=ym(e),One(t,p3()?Reflect.construct(e,r||[],ym(t).constructor):e.apply(t,r))}function One(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ine(t)}function Ine(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p3=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(t)}function Rne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t1(t,e)}function t1(t,e){return t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t1(t,e)}function m3(t,e,r){return e=g3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g3(t){var e=Mne(t,"string");return Ec(e)=="symbol"?e:e+""}function Mne(t,e){if(Ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r1.apply(this,arguments)}function Dne(t){var e=t.xAxisId,r=ek(),n=tk(),i=r3(e);return i==null?null:B.createElement(zc,r1({},i,{className:Xe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return _a(o,!0)}}))}var hf=function(t){function e(){return Ane(this,e),Cne(this,e,arguments)}return Rne(e,t),Pne(e,[{key:"render",value:function(){return B.createElement(Dne,this.props)}}])}(B.Component);m3(hf,"displayName","XAxis");m3(hf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x3(n.key),n)}}function Fne(t,e,r){return e&&$ne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vne(t,e,r){return e=xm(e),Une(t,v3()?Reflect.construct(e,r||[],xm(t).constructor):e.apply(t,r))}function Une(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bne(t)}function Bne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v3=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(t)}function qne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n1(t,e)}function n1(t,e){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n1(t,e)}function y3(t,e,r){return e=x3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x3(t){var e=zne(t,"string");return Tc(e)=="symbol"?e:e+""}function zne(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i1.apply(this,arguments)}var Wne=function(e){var r=e.yAxisId,n=ek(),i=tk(),a=n3(r);return a==null?null:B.createElement(zc,i1({},a,{className:Xe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return _a(u,!0)}}))},pf=function(t){function e(){return Lne(this,e),Vne(this,e,arguments)}return qne(e,t),Fne(e,[{key:"render",value:function(){return B.createElement(Wne,this.props)}}])}(B.Component);y3(pf,"displayName","YAxis");y3(pf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function LI(t){return Yne(t)||Kne(t)||Gne(t)||Hne()}function Hne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gne(t,e){if(t){if(typeof t=="string")return a1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a1(t,e)}}function Kne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yne(t){if(Array.isArray(t))return a1(t)}function a1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s1=function(e,r,n,i,a){var o=Kn(e,nk),u=Kn(e,bg),d=[].concat(LI(o),LI(u)),f=Kn(e,_g),p="".concat(i,"Id"),g=i[0],y=r;if(d.length&&(y=d.reduce(function(_,b){if(b.props[p]===n&&Ui(b.props,"extendDomain")&&ke(b.props[g])){var P=b.props[g];return[Math.min(_[0],P),Math.max(_[1],P)]}return _},y)),f.length){var x="".concat(g,"1"),S="".concat(g,"2");y=f.reduce(function(_,b){if(b.props[p]===n&&Ui(b.props,"extendDomain")&&ke(b.props[x])&&ke(b.props[S])){var P=b.props[x],A=b.props[S];return[Math.min(_[0],P,A),Math.max(_[1],P,A)]}return _},y)}return a&&a.length&&(y=a.reduce(function(_,b){return ke(b)?[Math.min(_[0],b),Math.max(_[1],b)]:_},y)),y},dw={exports:{}},$I;function Xne(){return $I||($I=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function a(d,f,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,g||d,y),S=r?r+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],x]:d._events[S].push(x):(d._events[S]=x,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)e.call(p,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,x=g.length,S=new Array(x);y<x;y++)S[y]=g[y].fn;return S},u.prototype.listenerCount=function(f){var p=r?r+f:f,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,p,g,y,x,S){var _=r?r+f:f;if(!this._events[_])return!1;var b=this._events[_],P=arguments.length,A,O;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),P){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,g),!0;case 4:return b.fn.call(b.context,p,g,y),!0;case 5:return b.fn.call(b.context,p,g,y,x),!0;case 6:return b.fn.call(b.context,p,g,y,x,S),!0}for(O=1,A=new Array(P-1);O<P;O++)A[O-1]=arguments[O];b.fn.apply(b.context,A)}else{var R=b.length,E;for(O=0;O<R;O++)switch(b[O].once&&this.removeListener(f,b[O].fn,void 0,!0),P){case 1:b[O].fn.call(b[O].context);break;case 2:b[O].fn.call(b[O].context,p);break;case 3:b[O].fn.call(b[O].context,p,g);break;case 4:b[O].fn.call(b[O].context,p,g,y);break;default:if(!A)for(E=1,A=new Array(P-1);E<P;E++)A[E-1]=arguments[E];b[O].fn.apply(b[O].context,A)}}return!0},u.prototype.on=function(f,p,g){return a(this,f,p,g,!1)},u.prototype.once=function(f,p,g){return a(this,f,p,g,!0)},u.prototype.removeListener=function(f,p,g,y){var x=r?r+f:f;if(!this._events[x])return this;if(!p)return o(this,x),this;var S=this._events[x];if(S.fn)S.fn===p&&(!y||S.once)&&(!g||S.context===g)&&o(this,x);else{for(var _=0,b=[],P=S.length;_<P;_++)(S[_].fn!==p||y&&!S[_].once||g&&S[_].context!==g)&&b.push(S[_]);b.length?this._events[x]=b.length===1?b[0]:b:o(this,x)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}(dw)),dw.exports}var Qne=Xne();const Jne=ft(Qne);var fw=new Jne,hw="recharts.syncMouseEvents";function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function Zne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b3(n.key),n)}}function tie(t,e,r){return e&&eie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pw(t,e,r){return e=b3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b3(t){var e=rie(t,"string");return qd(e)=="symbol"?e:e+""}function rie(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nie=function(){function t(){Zne(this,t),pw(this,"activeIndex",0),pw(this,"coordinateList",[]),pw(this,"layout","horizontal")}return tie(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,u=o===void 0?null:o,d=r.layout,f=d===void 0?null:d,p=r.offset,g=p===void 0?null:p,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,g=a+d+f,y=o+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:g,pageY:y})}}}])}();function iie(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&ke(n)&&ke(i))return!0}return!1}function aie(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function w3(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=kt(e,r,n,i),u=kt(e,r,n,a);return{points:[o,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function sie(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,f=e.innerRadius,p=e.outerRadius,g=e.angle,y=kt(u,d,f,g),x=kt(u,d,p,g);n=y.x,i=y.y,a=x.x,o=x.y}else return w3(e);return[{x:n,y:i},{x:a,y:o}]}function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function FI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(r),!0).forEach(function(n){oie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oie(t,e,r){return e=lie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lie(t){var e=cie(t,"string");return zd(e)=="symbol"?e:e+""}function cie(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uie(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,u=t.activePayload,d=t.offset,f=t.activeTooltipIndex,p=t.tooltipAxisBandSize,g=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!o||y!=="ScatterChart"&&i!=="axis")return null;var S,_=N_;if(y==="ScatterChart")S=o,_=WZ;else if(y==="BarChart")S=aie(g,o,d,p),_=YS;else if(g==="radial"){var b=w3(o),P=b.cx,A=b.cy,O=b.radius,R=b.startAngle,E=b.endAngle;S={cx:P,cy:A,startAngle:R,endAngle:E,innerRadius:O,outerRadius:O},_=KS}else S={points:sie(g,o,d)},_=N_;var N=Gh(Gh(Gh(Gh({stroke:"#ccc",pointerEvents:"none"},d),S),ze(x,!1)),{},{payload:u,payloadIndex:f,className:Xe("recharts-tooltip-cursor",x.className)});return B.isValidElement(x)?B.cloneElement(x,N):B.createElement(_,N)}var die=["item"],fie=["children","className","width","height","style","compact","title","desc"];function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bl.apply(this,arguments)}function VI(t,e){return mie(t)||pie(t,e)||S3(t,e)||hie()}function hie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function mie(t){if(Array.isArray(t))return t}function UI(t,e){if(t==null)return{};var r=gie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k3(n.key),n)}}function xie(t,e,r){return e&&yie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bie(t,e,r){return e=bm(e),wie(t,_3()?Reflect.construct(e,r||[],bm(t).constructor):e.apply(t,r))}function wie(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ie(t)}function _ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_3=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bm(t)}function Sie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o1(t,e)}function o1(t,e){return o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o1(t,e)}function Nc(t){return Eie(t)||jie(t)||S3(t)||kie()}function kie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S3(t,e){if(t){if(typeof t=="string")return l1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l1(t,e)}}function jie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eie(t){if(Array.isArray(t))return l1(t)}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(r),!0).forEach(function(n){Be(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Be(t,e,r){return e=k3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k3(t){var e=Tie(t,"string");return Ac(e)=="symbol"?e:e+""}function Tie(t,e){if(Ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aie={xAxis:["bottom","top"],yAxis:["left","right"]},Nie={width:"100%",height:"100%"},j3={x:0,y:0};function Kh(t){return t}var Pie=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Cie=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,u=i.radius;return de(de(de({},i),kt(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}var d=a.coordinate,f=i.angle;return de(de(de({},i),kt(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return j3},Sg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Nc(u),Nc(f)):u},[]);return o.length>0?o:e&&e.length&&ke(i)&&ke(a)?e.slice(i,a+1):[]};function E3(t){return t==="number"?[0,"auto"]:void 0}var c1=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,u=Sg(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(d,f){var p,g=(p=f.props.data)!==null&&p!==void 0?p:r;g&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var x=g===void 0?u:g;y=zw(x,o.dataKey,i)}else y=g&&g[n]||u[n];return y?[].concat(Nc(d),[bL(f,y)]):d},[])},qI=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=Pie(a,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,p=gX(o,u,f,d);if(p>=0&&f){var g=f[p]&&f[p].value,y=c1(e,r,p,g),x=Cie(n,u,p,a);return{activeTooltipIndex:p,activeLabel:g,activePayload:y,activeCoordinate:x}}return null},Oie=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,g=e.children,y=e.stackOffset,x=pL(p,a);return n.reduce(function(S,_){var b,P=_.type.defaultProps!==void 0?de(de({},_.type.defaultProps),_.props):_.props,A=P.type,O=P.dataKey,R=P.allowDataOverflow,E=P.allowDuplicatedCategory,N=P.scale,T=P.ticks,C=P.includeHidden,L=P[o];if(S[L])return S;var I=Sg(e.data,{graphicalItems:i.filter(function(Y){var K,le=o in Y.props?Y.props[o]:(K=Y.type.defaultProps)===null||K===void 0?void 0:K[o];return le===L}),dataStartIndex:d,dataEndIndex:f}),D=I.length,V,$,ee;iie(P.domain,R,A)&&(V=k_(P.domain,null,R),x&&(A==="number"||N!=="auto")&&(ee=Qu(I,O,"category")));var ne=E3(A);if(!V||V.length===0){var Q,ie=(Q=P.domain)!==null&&Q!==void 0?Q:ne;if(O){if(V=Qu(I,O,A),A==="category"&&x){var Z=uq(V);E&&Z?($=V,V=lm(0,D)):E||(V=WC(ie,V,_).reduce(function(Y,K){return Y.indexOf(K)>=0?Y:[].concat(Nc(Y),[K])},[]))}else if(A==="category")E?V=V.filter(function(Y){return Y!==""&&!Je(Y)}):V=WC(ie,V,_).reduce(function(Y,K){return Y.indexOf(K)>=0||K===""||Je(K)?Y:[].concat(Nc(Y),[K])},[]);else if(A==="number"){var J=wX(I,i.filter(function(Y){var K,le,fe=o in Y.props?Y.props[o]:(K=Y.type.defaultProps)===null||K===void 0?void 0:K[o],ye="hide"in Y.props?Y.props.hide:(le=Y.type.defaultProps)===null||le===void 0?void 0:le.hide;return fe===L&&(C||!ye)}),O,a,p);J&&(V=J)}x&&(A==="number"||N!=="auto")&&(ee=Qu(I,O,"category"))}else x?V=lm(0,D):u&&u[L]&&u[L].hasStack&&A==="number"?V=y==="expand"?[0,1]:xL(u[L].stackGroups,d,f):V=hL(I,i.filter(function(Y){var K=o in Y.props?Y.props[o]:Y.type.defaultProps[o],le="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return K===L&&(C||!le)}),A,p,!0);if(A==="number")V=s1(g,V,L,a,T),ie&&(V=k_(ie,V,R));else if(A==="category"&&ie){var ae=ie,z=V.every(function(Y){return ae.indexOf(Y)>=0});z&&(V=ae)}}return de(de({},S),{},Be({},L,de(de({},P),{},{axisType:a,domain:V,categoricalDomain:ee,duplicateDomain:$,originalDomain:(b=P.domain)!==null&&b!==void 0?b:ne,isCategorical:x,layout:p})))},{})},Iie=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,g=e.children,y=Sg(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),x=y.length,S=pL(p,a),_=-1;return n.reduce(function(b,P){var A=P.type.defaultProps!==void 0?de(de({},P.type.defaultProps),P.props):P.props,O=A[o],R=E3("number");if(!b[O]){_++;var E;return S?E=lm(0,x):u&&u[O]&&u[O].hasStack?(E=xL(u[O].stackGroups,d,f),E=s1(g,E,O,a)):(E=k_(R,hL(y,n.filter(function(N){var T,C,L=o in N.props?N.props[o]:(T=N.type.defaultProps)===null||T===void 0?void 0:T[o],I="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return L===O&&!I}),"number",p),i.defaultProps.allowDataOverflow),E=s1(g,E,O,a)),de(de({},b),{},Be({},O,de(de({axisType:a},i.defaultProps),{},{hide:!0,orientation:Nn(Aie,"".concat(a,".").concat(_%2),null),domain:E,originalDomain:R,isCategorical:S,layout:p})))}return b},{})},Rie=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.children,g="".concat(i,"Id"),y=Kn(p,a),x={};return y&&y.length?x=Oie(e,{axes:y,graphicalItems:o,axisType:i,axisIdKey:g,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(x=Iie(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:g,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),x},Mie=function(e){var r=xs(e),n=_a(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:bS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Xp(r,n)}},zI=function(e){var r=e.children,n=e.defaultShowTooltip,i=jn(r,bc),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Die=function(e){return!e||!e.length?!1:e.some(function(r){var n=ka(r&&r.type);return n&&n.indexOf("Bar")>=0})},WI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Lie=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,u=e.yAxisMap,d=u===void 0?{}:u,f=n.width,p=n.height,g=n.children,y=n.margin||{},x=jn(g,bc),S=jn(g,Es),_=Object.keys(d).reduce(function(E,N){var T=d[N],C=T.orientation;return!T.mirror&&!T.hide?de(de({},E),{},Be({},C,E[C]+T.width)):E},{left:y.left||0,right:y.right||0}),b=Object.keys(o).reduce(function(E,N){var T=o[N],C=T.orientation;return!T.mirror&&!T.hide?de(de({},E),{},Be({},C,Nn(E,"".concat(C))+T.height)):E},{top:y.top||0,bottom:y.bottom||0}),P=de(de({},b),_),A=P.bottom;x&&(P.bottom+=x.props.height||bc.defaultProps.height),S&&r&&(P=xX(P,i,n,r));var O=f-P.left-P.right,R=p-P.top-P.bottom;return de(de({brushBottom:A},P),{},{width:Math.max(O,0),height:Math.max(R,0)})},$ie=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},T3=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,d=e.axisComponents,f=e.legendContent,p=e.formatAxisMap,g=e.defaultProps,y=function(P,A){var O=A.graphicalItems,R=A.stackGroups,E=A.offset,N=A.updateId,T=A.dataStartIndex,C=A.dataEndIndex,L=P.barSize,I=P.layout,D=P.barGap,V=P.barCategoryGap,$=P.maxBarSize,ee=WI(I),ne=ee.numericAxisName,Q=ee.cateAxisName,ie=Die(O),Z=[];return O.forEach(function(J,ae){var z=Sg(P.data,{graphicalItems:[J],dataStartIndex:T,dataEndIndex:C}),Y=J.type.defaultProps!==void 0?de(de({},J.type.defaultProps),J.props):J.props,K=Y.dataKey,le=Y.maxBarSize,fe=Y["".concat(ne,"Id")],ye=Y["".concat(Q,"Id")],he={},me=d.reduce(function(Qt,Jt){var Pn=A["".concat(Jt.axisType,"Map")],xi=Y["".concat(Jt.axisType,"Id")];Pn&&Pn[xi]||Jt.axisType==="zAxis"||Vo();var bi=Pn[xi];return de(de({},Qt),{},Be(Be({},Jt.axisType,bi),"".concat(Jt.axisType,"Ticks"),_a(bi)))},he),ue=me[Q],je=me["".concat(Q,"Ticks")],Ee=R&&R[fe]&&R[fe].hasStack&&PX(J,R[fe].stackGroups),W=ka(J.type).indexOf("Bar")>=0,pe=Xp(ue,je),ge=[],Ae=ie&&vX({barSize:L,stackGroups:R,totalSize:$ie(me,Q)});if(W){var $e,Mt,Zr=Je(le)?$:le,Br=($e=(Mt=Xp(ue,je,!0))!==null&&Mt!==void 0?Mt:Zr)!==null&&$e!==void 0?$e:0;ge=yX({barGap:D,barCategoryGap:V,bandSize:Br!==pe?Br:pe,sizeList:Ae[ye],maxBarSize:Zr}),Br!==pe&&(ge=ge.map(function(Qt){return de(de({},Qt),{},{position:de(de({},Qt.position),{},{offset:Qt.position.offset-Br/2})})}))}var qr=J&&J.type&&J.type.getComposedData;qr&&Z.push({props:de(de({},qr(de(de({},me),{},{displayedData:z,props:P,dataKey:K,item:J,bandSize:pe,barPosition:ge,offset:E,stackedData:Ee,layout:I,dataStartIndex:T,dataEndIndex:C}))),{},Be(Be(Be({key:J.key||"item-".concat(ae)},ne,me[ne]),Q,me[Q]),"animationId",N)),childIndex:_q(J,P.children),item:J})}),Z},x=function(P,A){var O=P.props,R=P.dataStartIndex,E=P.dataEndIndex,N=P.updateId;if(!sN({props:O}))return null;var T=O.children,C=O.layout,L=O.stackOffset,I=O.data,D=O.reverseStackOrder,V=WI(C),$=V.numericAxisName,ee=V.cateAxisName,ne=Kn(T,n),Q=AX(I,ne,"".concat($,"Id"),"".concat(ee,"Id"),L,D),ie=d.reduce(function(Y,K){var le="".concat(K.axisType,"Map");return de(de({},Y),{},Be({},le,Rie(O,de(de({},K),{},{graphicalItems:ne,stackGroups:K.axisType===$&&Q,dataStartIndex:R,dataEndIndex:E}))))},{}),Z=Lie(de(de({},ie),{},{props:O,graphicalItems:ne}),A?.legendBBox);Object.keys(ie).forEach(function(Y){ie[Y]=p(O,ie[Y],Z,Y.replace("Map",""),r)});var J=ie["".concat(ee,"Map")],ae=Mie(J),z=y(O,de(de({},ie),{},{dataStartIndex:R,dataEndIndex:E,updateId:N,graphicalItems:ne,stackGroups:Q,offset:Z}));return de(de({formattedGraphicalItems:z,graphicalItems:ne,offset:Z,stackGroups:Q},ae),ie)},S=function(b){function P(A){var O,R,E;return vie(this,P),E=bie(this,P,[A]),Be(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(E,"accessibilityManager",new nie),Be(E,"handleLegendBBoxUpdate",function(N){if(N){var T=E.state,C=T.dataStartIndex,L=T.dataEndIndex,I=T.updateId;E.setState(de({legendBBox:N},x({props:E.props,dataStartIndex:C,dataEndIndex:L,updateId:I},de(de({},E.state),{},{legendBBox:N}))))}}),Be(E,"handleReceiveSyncEvent",function(N,T,C){if(E.props.syncId===N){if(C===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(T)}}),Be(E,"handleBrushChange",function(N){var T=N.startIndex,C=N.endIndex;if(T!==E.state.dataStartIndex||C!==E.state.dataEndIndex){var L=E.state.updateId;E.setState(function(){return de({dataStartIndex:T,dataEndIndex:C},x({props:E.props,dataStartIndex:T,dataEndIndex:C,updateId:L},E.state))}),E.triggerSyncEvent({dataStartIndex:T,dataEndIndex:C})}}),Be(E,"handleMouseEnter",function(N){var T=E.getMouseInfo(N);if(T){var C=de(de({},T),{},{isTooltipActive:!0});E.setState(C),E.triggerSyncEvent(C);var L=E.props.onMouseEnter;He(L)&&L(C,N)}}),Be(E,"triggeredAfterMouseMove",function(N){var T=E.getMouseInfo(N),C=T?de(de({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(C),E.triggerSyncEvent(C);var L=E.props.onMouseMove;He(L)&&L(C,N)}),Be(E,"handleItemMouseEnter",function(N){E.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Be(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Be(E,"handleMouseMove",function(N){N.persist(),E.throttleTriggeredAfterMouseMove(N)}),Be(E,"handleMouseLeave",function(N){E.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var C=E.props.onMouseLeave;He(C)&&C(T,N)}),Be(E,"handleOuterEvent",function(N){var T=wq(N),C=Nn(E.props,"".concat(T));if(T&&He(C)){var L,I;/.*touch.*/i.test(T)?I=E.getMouseInfo(N.changedTouches[0]):I=E.getMouseInfo(N),C((L=I)!==null&&L!==void 0?L:{},N)}}),Be(E,"handleClick",function(N){var T=E.getMouseInfo(N);if(T){var C=de(de({},T),{},{isTooltipActive:!0});E.setState(C),E.triggerSyncEvent(C);var L=E.props.onClick;He(L)&&L(C,N)}}),Be(E,"handleMouseDown",function(N){var T=E.props.onMouseDown;if(He(T)){var C=E.getMouseInfo(N);T(C,N)}}),Be(E,"handleMouseUp",function(N){var T=E.props.onMouseUp;if(He(T)){var C=E.getMouseInfo(N);T(C,N)}}),Be(E,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Be(E,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseDown(N.changedTouches[0])}),Be(E,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseUp(N.changedTouches[0])}),Be(E,"handleDoubleClick",function(N){var T=E.props.onDoubleClick;if(He(T)){var C=E.getMouseInfo(N);T(C,N)}}),Be(E,"handleContextMenu",function(N){var T=E.props.onContextMenu;if(He(T)){var C=E.getMouseInfo(N);T(C,N)}}),Be(E,"triggerSyncEvent",function(N){E.props.syncId!==void 0&&fw.emit(hw,E.props.syncId,N,E.eventEmitterSymbol)}),Be(E,"applySyncEvent",function(N){var T=E.props,C=T.layout,L=T.syncMethod,I=E.state.updateId,D=N.dataStartIndex,V=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)E.setState(de({dataStartIndex:D,dataEndIndex:V},x({props:E.props,dataStartIndex:D,dataEndIndex:V,updateId:I},E.state)));else if(N.activeTooltipIndex!==void 0){var $=N.chartX,ee=N.chartY,ne=N.activeTooltipIndex,Q=E.state,ie=Q.offset,Z=Q.tooltipTicks;if(!ie)return;if(typeof L=="function")ne=L(Z,N);else if(L==="value"){ne=-1;for(var J=0;J<Z.length;J++)if(Z[J].value===N.activeLabel){ne=J;break}}var ae=de(de({},ie),{},{x:ie.left,y:ie.top}),z=Math.min($,ae.x+ae.width),Y=Math.min(ee,ae.y+ae.height),K=Z[ne]&&Z[ne].value,le=c1(E.state,E.props.data,ne),fe=Z[ne]?{x:C==="horizontal"?Z[ne].coordinate:z,y:C==="horizontal"?Y:Z[ne].coordinate}:j3;E.setState(de(de({},N),{},{activeLabel:K,activeCoordinate:fe,activePayload:le,activeTooltipIndex:ne}))}else E.setState(N)}),Be(E,"renderCursor",function(N){var T,C=E.state,L=C.isTooltipActive,I=C.activeCoordinate,D=C.activePayload,V=C.offset,$=C.activeTooltipIndex,ee=C.tooltipAxisBandSize,ne=E.getTooltipEventType(),Q=(T=N.props.active)!==null&&T!==void 0?T:L,ie=E.props.layout,Z=N.key||"_recharts-cursor";return H.createElement(uie,{key:Z,activeCoordinate:I,activePayload:D,activeTooltipIndex:$,chartName:r,element:N,isActive:Q,layout:ie,offset:V,tooltipAxisBandSize:ee,tooltipEventType:ne})}),Be(E,"renderPolarAxis",function(N,T,C){var L=Nn(N,"type.axisType"),I=Nn(E.state,"".concat(L,"Map")),D=N.type.defaultProps,V=D!==void 0?de(de({},D),N.props):N.props,$=I&&I[V["".concat(L,"Id")]];return B.cloneElement(N,de(de({},$),{},{className:Xe(L,$.className),key:N.key||"".concat(T,"-").concat(C),ticks:_a($,!0)}))}),Be(E,"renderPolarGrid",function(N){var T=N.props,C=T.radialLines,L=T.polarAngles,I=T.polarRadius,D=E.state,V=D.radiusAxisMap,$=D.angleAxisMap,ee=xs(V),ne=xs($),Q=ne.cx,ie=ne.cy,Z=ne.innerRadius,J=ne.outerRadius;return B.cloneElement(N,{polarAngles:Array.isArray(L)?L:_a(ne,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(I)?I:_a(ee,!0).map(function(ae){return ae.coordinate}),cx:Q,cy:ie,innerRadius:Z,outerRadius:J,key:N.key||"polar-grid",radialLines:C})}),Be(E,"renderLegend",function(){var N=E.state.formattedGraphicalItems,T=E.props,C=T.children,L=T.width,I=T.height,D=E.props.margin||{},V=L-(D.left||0)-(D.right||0),$=dL({children:C,formattedGraphicalItems:N,legendWidth:V,legendContent:f});if(!$)return null;var ee=$.item,ne=UI($,die);return B.cloneElement(ee,de(de({},ne),{},{chartWidth:L,chartHeight:I,margin:D,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Be(E,"renderTooltip",function(){var N,T=E.props,C=T.children,L=T.accessibilityLayer,I=jn(C,Wn);if(!I)return null;var D=E.state,V=D.isTooltipActive,$=D.activeCoordinate,ee=D.activePayload,ne=D.activeLabel,Q=D.offset,ie=(N=I.props.active)!==null&&N!==void 0?N:V;return B.cloneElement(I,{viewBox:de(de({},Q),{},{x:Q.left,y:Q.top}),active:ie,label:ne,payload:ie?ee:[],coordinate:$,accessibilityLayer:L})}),Be(E,"renderBrush",function(N){var T=E.props,C=T.margin,L=T.data,I=E.state,D=I.offset,V=I.dataStartIndex,$=I.dataEndIndex,ee=I.updateId;return B.cloneElement(N,{key:N.key||"_recharts-brush",onChange:qh(E.handleBrushChange,N.props.onChange),data:L,x:ke(N.props.x)?N.props.x:D.left,y:ke(N.props.y)?N.props.y:D.top+D.height+D.brushBottom-(C.bottom||0),width:ke(N.props.width)?N.props.width:D.width,startIndex:V,endIndex:$,updateId:"brush-".concat(ee)})}),Be(E,"renderReferenceElement",function(N,T,C){if(!N)return null;var L=E,I=L.clipPathId,D=E.state,V=D.xAxisMap,$=D.yAxisMap,ee=D.offset,ne=N.type.defaultProps||{},Q=N.props,ie=Q.xAxisId,Z=ie===void 0?ne.xAxisId:ie,J=Q.yAxisId,ae=J===void 0?ne.yAxisId:J;return B.cloneElement(N,{key:N.key||"".concat(T,"-").concat(C),xAxis:V[Z],yAxis:$[ae],viewBox:{x:ee.left,y:ee.top,width:ee.width,height:ee.height},clipPathId:I})}),Be(E,"renderActivePoints",function(N){var T=N.item,C=N.activePoint,L=N.basePoint,I=N.childIndex,D=N.isRange,V=[],$=T.props.key,ee=T.item.type.defaultProps!==void 0?de(de({},T.item.type.defaultProps),T.item.props):T.item.props,ne=ee.activeDot,Q=ee.dataKey,ie=de(de({index:I,dataKey:Q,cx:C.x,cy:C.y,r:4,fill:GS(T.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ze(ne,!1)),Ep(ne));return V.push(P.renderActiveDot(ne,ie,"".concat($,"-activePoint-").concat(I))),L?V.push(P.renderActiveDot(ne,de(de({},ie),{},{cx:L.x,cy:L.y}),"".concat($,"-basePoint-").concat(I))):D&&V.push(null),V}),Be(E,"renderGraphicChild",function(N,T,C){var L=E.filterFormatItem(N,T,C);if(!L)return null;var I=E.getTooltipEventType(),D=E.state,V=D.isTooltipActive,$=D.tooltipAxis,ee=D.activeTooltipIndex,ne=D.activeLabel,Q=E.props.children,ie=jn(Q,Wn),Z=L.props,J=Z.points,ae=Z.isRange,z=Z.baseLine,Y=L.item.type.defaultProps!==void 0?de(de({},L.item.type.defaultProps),L.item.props):L.item.props,K=Y.activeDot,le=Y.hide,fe=Y.activeBar,ye=Y.activeShape,he=!!(!le&&V&&ie&&(K||fe||ye)),me={};I!=="axis"&&ie&&ie.props.trigger==="click"?me={onClick:qh(E.handleItemMouseEnter,N.props.onClick)}:I!=="axis"&&(me={onMouseLeave:qh(E.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:qh(E.handleItemMouseEnter,N.props.onMouseEnter)});var ue=B.cloneElement(N,de(de({},L.props),me));function je(Jt){return typeof $.dataKey=="function"?$.dataKey(Jt.payload):null}if(he)if(ee>=0){var Ee,W;if($.dataKey&&!$.allowDuplicatedCategory){var pe=typeof $.dataKey=="function"?je:"payload.".concat($.dataKey.toString());Ee=zw(J,pe,ne),W=ae&&z&&zw(z,pe,ne)}else Ee=J?.[ee],W=ae&&z&&z[ee];if(ye||fe){var ge=N.props.activeIndex!==void 0?N.props.activeIndex:ee;return[B.cloneElement(N,de(de(de({},L.props),me),{},{activeIndex:ge})),null,null]}if(!Je(Ee))return[ue].concat(Nc(E.renderActivePoints({item:L,activePoint:Ee,basePoint:W,childIndex:ee,isRange:ae})))}else{var Ae,$e=(Ae=E.getItemByXY(E.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:ue},Mt=$e.graphicalItem,Zr=Mt.item,Br=Zr===void 0?N:Zr,qr=Mt.childIndex,Qt=de(de(de({},L.props),me),{},{activeIndex:qr});return[B.cloneElement(Br,Qt),null,null]}return ae?[ue,null,null]:[ue,null]}),Be(E,"renderCustomized",function(N,T,C){return B.cloneElement(N,de(de({key:"recharts-customized-".concat(C)},E.props),E.state))}),Be(E,"renderMap",{CartesianGrid:{handler:Kh,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Kh},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Kh},YAxis:{handler:Kh},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((O=A.id)!==null&&O!==void 0?O:of("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=u4(E.triggeredAfterMouseMove,(R=A.throttleDelay)!==null&&R!==void 0?R:1e3/60),E.state={},E}return Sie(P,b),xie(P,[{key:"componentDidMount",value:function(){var O,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,R=O.children,E=O.data,N=O.height,T=O.layout,C=jn(R,Wn);if(C){var L=C.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,D=c1(this.state,E,L,I),V=this.state.tooltipTicks[L].coordinate,$=(this.state.offset.top+N)/2,ee=T==="horizontal",ne=ee?{x:V,y:$}:{y:V,x:$},Q=this.state.formattedGraphicalItems.find(function(Z){var J=Z.item;return J.type.name==="Scatter"});Q&&(ne=de(de({},ne),Q.props.points[L].tooltipPosition),D=Q.props.points[L].tooltipPayload);var ie={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:I,activePayload:D,activeCoordinate:ne};this.setState(ie),this.renderCursor(C),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var E,N;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(O){Hw([jn(O.children,Wn)],[jn(this.props.children,Wn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=jn(this.props.children,Wn);if(O&&typeof O.props.shared=="boolean"){var R=O.props.shared?"axis":"item";return u.indexOf(R)>=0?R:a}return a}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var R=this.container,E=R.getBoundingClientRect(),N=lH(E),T={chartX:Math.round(O.pageX-N.left),chartY:Math.round(O.pageY-N.top)},C=E.width/R.offsetWidth||1,L=this.inRange(T.chartX,T.chartY,C);if(!L)return null;var I=this.state,D=I.xAxisMap,V=I.yAxisMap,$=this.getTooltipEventType(),ee=qI(this.state,this.props.data,this.props.layout,L);if($!=="axis"&&D&&V){var ne=xs(D).scale,Q=xs(V).scale,ie=ne&&ne.invert?ne.invert(T.chartX):null,Z=Q&&Q.invert?Q.invert(T.chartY):null;return de(de({},T),{},{xValue:ie,yValue:Z},ee)}return ee?de(de({},T),ee):null}},{key:"inRange",value:function(O,R){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,T=O/E,C=R/E;if(N==="horizontal"||N==="vertical"){var L=this.state.offset,I=T>=L.left&&T<=L.left+L.width&&C>=L.top&&C<=L.top+L.height;return I?{x:T,y:C}:null}var D=this.state,V=D.angleAxisMap,$=D.radiusAxisMap;if(V&&$){var ee=xs(V);return KC({x:T,y:C},ee)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,R=this.getTooltipEventType(),E=jn(O,Wn),N={};E&&R==="axis"&&(E.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Ep(this.props,this.handleOuterEvent);return de(de({},T),N)}},{key:"addListener",value:function(){fw.on(hw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fw.removeListener(hw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,R,E){for(var N=this.state.formattedGraphicalItems,T=0,C=N.length;T<C;T++){var L=N[T];if(L.item===O||L.props.key===O.key||R===ka(L.item.type)&&E===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,R=this.state.offset,E=R.left,N=R.top,T=R.height,C=R.width;return H.createElement("defs",null,H.createElement("clipPath",{id:O},H.createElement("rect",{x:E,y:N,height:T,width:C})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(R,E){var N=VI(E,2),T=N[0],C=N[1];return de(de({},R),{},Be({},T,C.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(R,E){var N=VI(E,2),T=N[0],C=N[1];return de(de({},R),{},Be({},T,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[O])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(O){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[O])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(O){var R=this.state,E=R.formattedGraphicalItems,N=R.activeItem;if(E&&E.length)for(var T=0,C=E.length;T<C;T++){var L=E[T],I=L.props,D=L.item,V=D.type.defaultProps!==void 0?de(de({},D.type.defaultProps),D.props):D.props,$=ka(D.type);if($==="Bar"){var ee=(I.data||[]).find(function(Z){return jZ(O,Z)});if(ee)return{graphicalItem:L,payload:ee}}else if($==="RadialBar"){var ne=(I.data||[]).find(function(Z){return KC(O,Z)});if(ne)return{graphicalItem:L,payload:ne}}else if(gg(L,N)||vg(L,N)||$d(L,N)){var Q=Kee({graphicalItem:L,activeTooltipItem:N,itemData:V.data}),ie=V.activeIndex===void 0?Q:V.activeIndex;return{graphicalItem:de(de({},L),{},{childIndex:ie}),payload:$d(L,N)?V.data[Q]:L.props.data[Q]}}}return null}},{key:"render",value:function(){var O=this;if(!sN(this))return null;var R=this.props,E=R.children,N=R.className,T=R.width,C=R.height,L=R.style,I=R.compact,D=R.title,V=R.desc,$=UI(R,fie),ee=ze($,!1);if(I)return H.createElement(kI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(Kw,Bl({},ee,{width:T,height:C,title:D,desc:V}),this.renderClipPath(),lN(E,this.renderMap)));if(this.props.accessibilityLayer){var ne,Q;ee.tabIndex=(ne=this.props.tabIndex)!==null&&ne!==void 0?ne:0,ee.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",ee.onKeyDown=function(Z){O.accessibilityManager.keyboardEvent(Z)},ee.onFocus=function(){O.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return H.createElement(kI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",Bl({className:Xe("recharts-wrapper",N),style:de({position:"relative",cursor:"default",width:T,height:C},L)},ie,{ref:function(J){O.container=J}}),H.createElement(Kw,Bl({},ee,{width:T,height:C,title:D,desc:V,style:Nie}),this.renderClipPath(),lN(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);Be(S,"displayName",r),Be(S,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Be(S,"getDerivedStateFromProps",function(b,P){var A=b.dataKey,O=b.data,R=b.children,E=b.width,N=b.height,T=b.layout,C=b.stackOffset,L=b.margin,I=P.dataStartIndex,D=P.dataEndIndex;if(P.updateId===void 0){var V=zI(b);return de(de(de({},V),{},{updateId:0},x(de(de({props:b},V),{},{updateId:0}),P)),{},{prevDataKey:A,prevData:O,prevWidth:E,prevHeight:N,prevLayout:T,prevStackOffset:C,prevMargin:L,prevChildren:R})}if(A!==P.prevDataKey||O!==P.prevData||E!==P.prevWidth||N!==P.prevHeight||T!==P.prevLayout||C!==P.prevStackOffset||!Yl(L,P.prevMargin)){var $=zI(b),ee={chartX:P.chartX,chartY:P.chartY,isTooltipActive:P.isTooltipActive},ne=de(de({},qI(P,O,T)),{},{updateId:P.updateId+1}),Q=de(de(de({},$),ee),ne);return de(de(de({},Q),x(de({props:b},Q),P)),{},{prevDataKey:A,prevData:O,prevWidth:E,prevHeight:N,prevLayout:T,prevStackOffset:C,prevMargin:L,prevChildren:R})}if(!Hw(R,P.prevChildren)){var ie,Z,J,ae,z=jn(R,bc),Y=z&&(ie=(Z=z.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&ie!==void 0?ie:I,K=z&&(J=(ae=z.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&J!==void 0?J:D,le=Y!==I||K!==D,fe=!Je(O),ye=fe&&!le?P.updateId:P.updateId+1;return de(de({updateId:ye},x(de(de({props:b},P),{},{updateId:ye,dataStartIndex:Y,dataEndIndex:K}),P)),{},{prevChildren:R,dataStartIndex:Y,dataEndIndex:K})}return null}),Be(S,"renderActiveDot",function(b,P,A){var O;return B.isValidElement(b)?O=B.cloneElement(b,P):He(b)?O=b(P):O=H.createElement(XS,P),H.createElement(pt,{className:"recharts-active-dot",key:A},O)});var _=B.forwardRef(function(P,A){return H.createElement(S,Bl({},P,{ref:A}))});return _.displayName=S.displayName,_},A3=T3({chartName:"BarChart",GraphicalChild:Wi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hf},{axisType:"yAxis",AxisComp:pf}],formatAxisMap:Qte}),Fie=T3({chartName:"PieChart",GraphicalChild:$a,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:mg},{axisType:"radiusAxis",AxisComp:hg}],formatAxisMap:VX,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Vie={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},Uie=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:i,handleDelete:a})=>{const[o,u]=B.useState(20),[d,f]=B.useState("single-member-llc"),[p,g]=B.useState("quarterly"),[y,x]=B.useState(!1);B.useEffect(()=>{u(Vie[d])},[d]);const S=B.useMemo(()=>{const O=new Date;let R,E;switch(p){case"weekly":R=new Date(O.setDate(O.getDate()-O.getDay())),E=new Date(O.setDate(O.getDate()-O.getDay()+6));break;case"monthly":R=new Date(O.getFullYear(),O.getMonth(),1),E=new Date(O.getFullYear(),O.getMonth()+1,0);break;case"quarterly":const N=Math.floor(O.getMonth()/3);R=new Date(O.getFullYear(),N*3,1),E=new Date(O.getFullYear(),N*3+3,0);break;case"yearly":R=new Date(O.getFullYear(),0,1),E=new Date(O.getFullYear(),11,31);break;default:R=new Date,E=new Date}return{start:R,end:E}},[p]),_=B.useMemo(()=>{const O=t.filter(V=>{if(!V.date)return!1;const $=new Date(V.date);return $>=S.start&&$<=S.end}),R=e.reduce((V,$)=>V+$.amount,0)+r.reduce((V,$)=>V+$.amount,0)*4.33,E=(S.end-S.start)/(1e3*60*60*24*30.44),N=R*E,T=O.reduce((V,$)=>V+($.revenue||0),0),C=O.reduce((V,$)=>V+($.materialCost||0)+($.laborCost||0),0),L=T-C,I=L-N,D=I>0?I*(o/100):0;return{netProfit:I,estimatedTax:D,grossProfit:L,periodOperatingExpenses:N}},[t,e,r,o,S]),b=B.useMemo(()=>n.filter(O=>{const R=new Date(O.date);return R>=S.start&&R<=S.end}).reduce((O,R)=>O+(R.amount||0),0),[n,S]),P=_.estimatedTax-b,A=[{name:"Tax Liability","Estimated Tax":_.estimatedTax,"Taxes Paid":b}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),c.jsxs("select",{id:"filingStatus",value:d,onChange:O=>f(O.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[c.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),c.jsx("option",{value:"s-corp",children:"S-Corporation"}),c.jsx("option",{value:"c-corp",children:"C-Corporation"}),c.jsx("option",{value:"partnership",children:"Partnership"})]}),(d==="llc"||d==="single-member-llc")&&c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),c.jsx("input",{id:"taxRate",type:"number",value:o,onChange:O=>u(parseFloat(O.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),c.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[c.jsx("button",{onClick:()=>g("weekly"),className:`w-full px-2 py-1 text-xs rounded ${p==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),c.jsx("button",{onClick:()=>g("monthly"),className:`w-full px-2 py-1 text-xs rounded ${p==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),c.jsx("button",{onClick:()=>g("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${p==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),c.jsx("button",{onClick:()=>g("yearly"),className:`w-full px-2 py-1 text-xs rounded ${p==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[c.jsx(Oi,{title:`Estimated ${p} Net Profit`,value:`$${_.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(fn,{}),color:"blue"}),c.jsx(Oi,{title:"Estimated Tax Liability",value:`$${_.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(fn,{}),color:"orange",subtext:_.netProfit<=0?"No tax on negative profit":""}),c.jsx(Oi,{title:"Overpayment / (Underpayment)",value:`${P<0?"-":""}$${Math.abs(P).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(fn,{}),color:P<0?"green":"red",subtext:P<0?"You have overpaid":"Remaining balance due"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",c.jsx(ld,{className:`transition-transform ${y?"rotate-180":""}`,size:16})]}),y&&c.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Gross Profit (from Jobs):"})," ",c.jsxs("span",{className:"font-mono",children:["$",_.grossProfit.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"- Est. Operating Expenses:"})," ",c.jsxs("span",{className:"font-mono",children:["$",_.periodOperatingExpenses.toFixed(2)]})]}),c.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),c.jsxs("div",{className:"flex justify-between font-bold",children:[c.jsx("span",{children:"= Estimated Net Profit:"})," ",c.jsxs("span",{className:"font-mono",children:["$",_.netProfit.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{children:["x Tax Rate (",o,"%):"]})," ",c.jsxs("span",{className:"font-mono",children:["$",_.estimatedTax.toFixed(2)]})]})]})]}),_.netProfit<=0&&c.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[c.jsx(u8,{size:20}),c.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),c.jsx(_S,{width:"100%",height:200,children:c.jsxs(A3,{data:A,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[c.jsx(sk,{strokeDasharray:"3 3"}),c.jsx(hf,{type:"number"}),c.jsx(pf,{type:"category",dataKey:"name",hide:!0}),c.jsx(Wn,{formatter:O=>`$${O.toLocaleString()}`}),c.jsx(Es,{}),c.jsx(Wi,{dataKey:"Estimated Tax",fill:"#f97316"}),c.jsx(Wi,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),c.jsxs("button",{onClick:()=>i("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(hn,{size:16})," Record Payment"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Date"}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3 text-right",children:"Amount"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:n.map(O=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:O.date}),c.jsx("td",{className:"p-3",children:O.notes}),c.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(O.amount||0).toFixed(2)]}),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>i("taxPayment",O),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>a("taxPayment",O.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(Yt,{size:16})})]})]},O.id))})]})})]})]})},Bie=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:o,setSelectedIds:u,handleImportCSV:d,handleExportCSV:f,handleToggleInvoicePaid:p})=>{const[g,y]=B.useState("All"),[x,S]=B.useState("All"),[_,b]=B.useState(!1),P=[{key:"status",header:"Status",render:I=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>p(I.id,I.status),children:I.status==="Paid"?c.jsx(pi,{className:"text-green-500",size:20}):c.jsx(aD,{className:"text-slate-400 dark:text-slate-600",size:20})}),c.jsx(A,{status:I.invoiceStatus||I.status})]})},{key:"invoiceNumber",header:"Invoice #",render:I=>c.jsxs("div",{className:I.status==="Paid"?"opacity-60":"",children:[c.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:I.invoiceNumber||`INV-${I.id}`}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Job: ",I.jobNumber||"N/A"]})]})},{key:"customer",header:"Customer",render:I=>c.jsxs("div",{className:I.status==="Paid"?"opacity-60":"",children:[c.jsx("div",{className:`font-medium ${I.status==="Paid"?"line-through":""}`,children:I.customer}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.billTo&&I.billTo!==I.customer?`Bill to: ${I.billTo}`:""})]})},{key:"jobType",header:"Job Type",render:I=>c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx(O,{jobType:I.jobType}),c.jsx(R,{priority:I.priority})]})},{key:"grandTotal",header:"Amount",className:"text-right",render:I=>c.jsxs("div",{className:`text-right ${I.status==="Paid"?"opacity-60":""}`,children:[c.jsxs("div",{className:`font-mono font-bold ${I.status==="Paid"?"line-through text-green-600":"text-slate-900 dark:text-white"}`,children:["$",parseFloat(I.grandTotal?.toString().replace(/[$,]/g,"")||I.grandTotal||0).toFixed(2)]}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.netTerms||"Net 30"})]})},{key:"dueDate",header:"Due Date",className:"text-center",render:I=>c.jsxs("div",{className:`text-center ${I.status==="Paid"?"opacity-60":""}`,children:[c.jsx("div",{className:I.status==="Paid"?"line-through":"",children:I.dueDate||"N/A"}),I.daysElapsed>0&&I.status!=="Paid"&&c.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:[I.daysElapsed," days elapsed"]}),E(I)&&c.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"OVERDUE"})]})},{key:"description",header:"Description",render:I=>c.jsxs("div",{className:`max-w-xs ${I.status==="Paid"?"opacity-60":""}`,children:[c.jsx("div",{className:"text-sm truncate",title:I.description,children:I.description||"No description"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.serviceAddress&&c.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[c.jsx(Fm,{size:10}),c.jsx("span",{className:"truncate",children:I.serviceAddress})]})})]})}],A=({status:I})=>{const D=V=>{switch(V){case"Paid":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-200";case"Sent":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900 dark:text-blue-200";case"Open":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-200";case"Overdue":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-200"}};return c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${D(I)}`,children:I||"Unknown"})},O=({jobType:I})=>{const D=V=>{switch(V){case"Service Call":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Planned Maintenance":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Installation":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Emergency":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${D(I)}`,children:I||"N/A"})},R=({priority:I})=>{if(!I)return null;const D=V=>{switch(V){case"ER":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200";case"URG":return"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200";case"STD":return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200"}};return c.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium border ${D(I)}`,children:I})},E=I=>I.status==="Paid"||!I.dueDate?!1:new Date(I.dueDate)<new Date,N=B.useMemo(()=>{const I=t.reduce((Q,ie)=>{const Z=parseFloat(ie.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+Z},0),D=t.filter(Q=>Q.status==="Paid"||Q.invoiceStatus==="Paid"),V=D.reduce((Q,ie)=>{const Z=parseFloat(ie.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+Z},0),ee=t.filter(Q=>Q.status!=="Paid"&&Q.invoiceStatus!=="Paid").reduce((Q,ie)=>{const Z=parseFloat(ie.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+Z},0),ne=t.filter(Q=>E(Q));return{totalInvoices:t.length,totalAmount:I,paidAmount:V,outstandingAmount:ee,overdueCount:ne.length,paidCount:D.length}},[t]),T=B.useMemo(()=>t.filter(I=>{const D=!i||String(I.invoiceNumber||"").toLowerCase().includes(i.toLowerCase())||String(I.customer||"").toLowerCase().includes(i.toLowerCase())||String(I.vehicleId||"").toLowerCase().includes(i.toLowerCase()),V=g==="all"||I.status===g,$=x==="all"||I.priority===x;return D&&V&&$}),[t,i,g,x]),C=I=>{I.target.checked?u(T.map(D=>D.id)):u([])},L=()=>{const I=["Invoice Number","Job Number","Customer","Bill To","Grand Total","Total Cost","Net Terms","Transaction Date","Due Date","Payment Date","Completed On","Invoice Status","Terms","Priority","Description","Service Address","Location Type","Job Type","Line Items","Payments","Days Elapsed","Company","Division"],D=T.map(Q=>[Q.invoiceNumber||`INV-${Q.id}`,Q.jobNumber||"",Q.customer||"",Q.billTo||"",Q.grandTotal||"",Q.totalCost||"",Q.netTerms||"",Q.transactionDate||"",Q.dueDate||"",Q.paymentDate||"",Q.completedOn||"",Q.invoiceStatus||Q.status||"",Q.terms||"",Q.priority||"",Q.description||"",Q.serviceAddress||"",Q.locationType||"",Q.jobType||"",Q.lineItems||"",Q.payments||"",Q.daysElapsed||0,Q.company||"Mechanical Temp",Q.division||"HVAC & Refrigeration"]),V=[I,...D].map(Q=>Q.map(ie=>`"${ie}"`).join(",")).join(`
`),$=new Blob([V],{type:"text/csv"}),ee=URL.createObjectURL($),ne=document.createElement("a");ne.href=ee,ne.download=`appsheet_invoices_${new Date().toISOString().split("T")[0]}.csv`,ne.click(),URL.revokeObjectURL(ee)};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 p-4 rounded-t-xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(QT,{className:"text-blue-600 dark:text-blue-400",size:20}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"AppSheet Integration"}),c.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[t.length," invoices  Last sync: 2 hours ago"]})]})]}),c.jsxs("button",{onClick:()=>b(!_),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[c.jsx(QT,{size:16}),"Sync Now"]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border-b border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(An,{className:"text-slate-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total"})]}),c.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:N.totalInvoices}),c.jsxs("div",{className:"text-sm text-slate-500",children:["$",N.totalAmount.toLocaleString()]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(pi,{className:"text-green-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Paid"})]}),c.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.paidCount}),c.jsxs("div",{className:"text-sm text-green-600",children:["$",N.paidAmount.toLocaleString()]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx($m,{className:"text-orange-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Outstanding"})]}),c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.length-N.paidCount}),c.jsxs("div",{className:"text-sm text-orange-600",children:["$",N.outstandingAmount.toLocaleString()]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(nf,{className:"text-red-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Overdue"})]}),c.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.overdueCount}),c.jsx("div",{className:"text-sm text-red-600",children:"Needs attention"})]})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",T.length," of ",t.length," invoices"]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("input",{type:"text",placeholder:"Search invoices...",value:i,onChange:I=>a(I.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),c.jsxs("select",{value:g,onChange:I=>y(I.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[c.jsx("option",{value:"All",children:"All Status"}),c.jsx("option",{value:"Paid",children:"Paid"}),c.jsx("option",{value:"Sent",children:"Sent"}),c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Overdue",children:"Overdue"})]}),c.jsxs("select",{value:x,onChange:I=>S(I.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[c.jsx("option",{value:"All",children:"All Priority"}),c.jsx("option",{value:"ER",children:"Emergency"}),c.jsx("option",{value:"URG",children:"Urgent"}),c.jsx("option",{value:"STD",children:"Standard"})]}),o.length>0&&c.jsxs("button",{onClick:()=>n("invoice",o),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Yt,{size:16})," Delete (",o.length,")"]}),c.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:I=>d(I.target.files[0],"invoice")}),c.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[c.jsx(Ms,{size:16})," Import CSV"]}),c.jsxs("button",{onClick:L,className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(An,{size:16})," Export AppSheet CSV"]}),c.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(hn,{size:16})," Add New"]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:c.jsx("input",{type:"checkbox",onChange:C,checked:o.length===T.length&&T.length>0,className:"rounded border-slate-300 dark:border-slate-600"})}),P.map(I=>c.jsx("th",{className:`p-3 ${I.className||""}`,children:I.header},I.key)),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:T.map(I=>c.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${I.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[c.jsx("td",{className:"p-3",children:c.jsx("input",{type:"checkbox",checked:o.includes(I.id),onChange:()=>{u(D=>D.includes(I.id)?D.filter(V=>V!==I.id):[...D,I.id])},className:"rounded border-slate-300 dark:border-slate-600"})}),P.map(D=>c.jsx("td",{className:`p-3 ${D.className||""}`,children:D.render(I)},D.key)),c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{onClick:()=>{},className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View Details",children:c.jsx(l8,{size:16})}),c.jsx("button",{onClick:()=>e("invoice",I),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 transition-colors",title:"Edit Invoice",children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>r("invoice",I.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 transition-colors",title:"Delete Invoice",children:c.jsx(Yt,{size:16})})]})})]},I.id))})]})}),T.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(An,{className:"mx-auto text-slate-400 mb-4",size:48}),c.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No invoices found"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:i||g!=="All"||x!=="All"?"Try adjusting your search or filters":"Get started by importing your AppSheet invoice data"})]})]})]})},qie=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:o,setSelectedIds:u,handleImportCSV:d,handleExportCSV:f,handleBulkUpdate:p})=>{const[g,y]=B.useState("name"),[x,S]=B.useState("asc"),[_,b]=B.useState("all"),[P,A]=B.useState("all"),[O,R]=B.useState("hierarchy"),[E,N]=B.useState(new Set),[T,C]=B.useState(!1),[L,I]=B.useState(!1),[D,V]=B.useState(""),[$,ee]=B.useState(null),ne=B.useMemo(()=>t.filter(W=>!W.parentId||W.parentId===""),[t]),Q=B.useMemo(()=>t.filter(W=>!W.parentId||W.parentId===""),[t]),ie=B.useMemo(()=>{let W=t.filter(pe=>{const ge=(pe.name||"").toLowerCase().includes(i.toLowerCase())||(pe.address||"").toLowerCase().includes(i.toLowerCase())||(pe.email||"").toLowerCase().includes(i.toLowerCase())||(pe.phone||"").includes(i),Ae=_==="all"||_==="parent"&&(!pe.parentId||pe.parentId==="")||_==="location"&&pe.parentId&&pe.parentId!==""||_==="unassigned"&&(!pe.parentId||pe.parentId==="")||_==="active"&&pe.status==="Active"||_==="inactive"&&pe.status==="Inactive",$e=P==="all"||pe.parentId===P||pe.id===P;return ge&&Ae&&$e});return W.sort((pe,ge)=>{let Ae=pe[g]||"",$e=ge[g]||"";return g==="name"&&(Ae=Ae.toLowerCase(),$e=$e.toLowerCase()),x==="asc"?Ae<$e?-1:Ae>$e?1:0:Ae>$e?-1:Ae<$e?1:0}),W},[t,i,g,x,_,P]),Z=B.useMemo(()=>ie.filter(pe=>!pe.parentId||pe.parentId==="").map(pe=>({...pe,children:ie.filter(ge=>ge.parentId===pe.id)})),[ie]),J=W=>{g===W?S(x==="asc"?"desc":"asc"):(y(W),S("asc"))},ae=W=>{const pe=new Set(E);pe.has(W)?pe.delete(W):pe.add(W),N(pe)},z=W=>{W.target.checked?u(ie.map(pe=>pe.id)):u([])},Y=()=>{if(o.length>0&&D){const W=o.map(pe=>({id:pe,parentId:D}));p&&p("client",W),u([]),I(!1),V("")}},K=()=>{if(o.length>0){const W=o.map(pe=>({id:pe,parentId:""}));p&&p("client",W),u([])}},le=(W,pe)=>{ee(pe),W.dataTransfer.effectAllowed="move"},fe=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},ye=(W,pe)=>{if(W.preventDefault(),$&&$.id!==pe.id){const ge={id:$.id,parentId:pe.id};p&&p("client",[ge])}ee(null)},he=W=>{const pe=t.filter(ge=>ge.parentId===W.id).map(ge=>ge.id);u(ge=>{const Ae=new Set([...ge,W.id,...pe]);return Array.from(Ae)})},me=({client:W,isChild:pe=!1,parent:ge=null})=>c.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:shadow-md transition-all duration-200 ${pe?"ml-6 border-l-4 border-l-blue-400 bg-blue-50/30 dark:bg-blue-900/10":"border-l-4 border-l-purple-400"} ${o.includes(W.id)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,draggable:!pe,onDragStart:Ae=>le(Ae,W),onDragOver:fe,onDrop:Ae=>!pe&&ye(Ae,W),children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("input",{type:"checkbox",checked:o.includes(W.id),onChange:()=>{u(Ae=>Ae.includes(W.id)?Ae.filter($e=>$e!==W.id):[...Ae,W.id])},className:"rounded"}),pe?c.jsx(qw,{className:"h-4 w-4 text-blue-500"}):c.jsx(GT,{className:"h-5 w-5 text-purple-600"}),c.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:W.name}),W.status&&c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${W.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:W.status}),pe&&ge&&c.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[" ",ge.name]})]}),c.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-400",children:[W.address&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fm,{className:"h-4 w-4"}),c.jsx("span",{children:W.address})]}),W.phone&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(kp,{className:"h-4 w-4"}),c.jsx("span",{children:W.phone})]}),W.email&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Sp,{className:"h-4 w-4"}),c.jsx("span",{children:W.email})]})]})]}),c.jsxs("div",{className:"flex gap-1 ml-4",children:[!pe&&c.jsx("button",{onClick:()=>he(W),className:"p-1 text-slate-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded",title:"Select Parent & All Locations",children:c.jsx(ap,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>e("client",W),className:"p-1 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 rounded",title:"Edit Client",children:c.jsx(Qr,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>r("client",W.id),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Delete Client",children:c.jsx(Yt,{className:"h-4 w-4"})})]})]})}),ue=()=>c.jsxs("div",{className:"space-y-6",children:[Q.length>0&&c.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[c.jsx(ap,{className:"h-5 w-5"}),"Unassigned Clients (",Q.filter(W=>ie.includes(W)).length,")"]}),c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Drag clients to parent companies below"})]}),c.jsx("div",{className:"space-y-2",children:Q.filter(W=>ie.includes(W)).map(W=>c.jsx(me,{client:W},W.id))})]}),Z.filter(W=>W.children.length>0).map(W=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>ae(W.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded",children:E.has(W.id)?c.jsx(ld,{className:"h-4 w-4"}):c.jsx(o8,{className:"h-4 w-4"})}),c.jsx("div",{className:"flex-1",children:c.jsx(me,{client:W})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-slate-500 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:[W.children.length," locations"]}),c.jsx("button",{onClick:()=>he(W),className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 px-2 py-1 rounded hover:bg-purple-200 dark:hover:bg-purple-900/50",title:"Select All",children:"Select All"})]})]}),E.has(W.id)&&c.jsx("div",{className:"space-y-2 border-l-2 border-purple-200 dark:border-purple-700 ml-4 pl-4",children:W.children.map(pe=>c.jsx(me,{client:pe,isChild:!0,parent:W},pe.id))})]},W.id))]}),je=()=>c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:c.jsx("input",{type:"checkbox",onChange:z})}),c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>J("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Name",g==="name"&&(x==="asc"?c.jsx(wo,{className:"h-3 w-3"}):c.jsx(bo,{className:"h-3 w-3"}))]})}),c.jsx("th",{className:"p-3",children:"Type"}),c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>J("address"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Address",g==="address"&&(x==="asc"?c.jsx(wo,{className:"h-3 w-3"}):c.jsx(bo,{className:"h-3 w-3"}))]})}),c.jsx("th",{className:"p-3",children:"Contact"}),c.jsx("th",{className:"p-3",children:"Parent Company"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:ie.map(W=>{const pe=ne.find(Ae=>Ae.id===W.parentId),ge=o.includes(W.id);return c.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${ge?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[c.jsx("td",{className:"p-3",children:c.jsx("input",{type:"checkbox",checked:ge,onChange:()=>{u(Ae=>Ae.includes(W.id)?Ae.filter($e=>$e!==W.id):[...Ae,W.id])}})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[W.parentId?c.jsx(qw,{className:"h-4 w-4 text-blue-500"}):c.jsx(GT,{className:"h-4 w-4 text-purple-600"}),c.jsx("span",{className:"font-medium",children:W.name})]})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${W.parentId?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:W.parentId?"Location":"Parent"})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{children:W.address})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"space-y-1",children:[W.phone&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx(kp,{className:"h-3 w-3"}),c.jsx("span",{children:W.phone})]}),W.email&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx(Sp,{className:"h-3 w-3"}),c.jsx("span",{children:W.email})]})]})}),c.jsx("td",{className:"p-3",children:pe?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(i8,{className:"h-3 w-3 text-slate-400"}),c.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:pe.name})]}):c.jsx("span",{className:"text-xs text-slate-400",children:""})}),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>e("client",W),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>r("client",W.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(Yt,{size:16})})]})]},W.id)})})]})}),Ee=()=>c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ie.map(W=>{const pe=ne.find(ge=>ge.id===W.parentId);return c.jsx(me,{client:W,isChild:!!W.parentId,parent:pe},W.id)})});return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[ie.length," of ",t.length," clients",o.length>0&&`  ${o.length} selected`]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(d8,{size:16})," Assign Parent (",o.length,")"]}),c.jsxs("button",{onClick:K,className:"flex items-center gap-2 text-sm bg-orange-600 hover:bg-orange-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(x8,{size:16})," Remove Parent"]}),c.jsxs("button",{onClick:()=>n("client",o),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Yt,{size:16})," Delete (",o.length,")"]})]}),c.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:W=>d(W.target.files[0],"client")}),c.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[c.jsx(Ms,{size:16})," Import CSV"]}),c.jsxs("button",{onClick:()=>f(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(An,{size:16})," Export CSV"]}),c.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(hn,{size:16})," Add New"]})]})]}),L&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Assign Parent Company"}),c.jsx("button",{onClick:()=>I(!1),className:"text-slate-400 hover:text-slate-600",children:c.jsx(Dc,{className:"h-5 w-5"})})]}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:["Assign ",o.length," selected clients to a parent company:"]}),c.jsxs("select",{value:D,onChange:W=>V(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white mb-4",children:[c.jsx("option",{value:"",children:"Select Parent Company"}),ne.map(W=>c.jsx("option",{value:W.id,children:W.name},W.id))]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>I(!1),className:"flex-1 px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),c.jsx("button",{onClick:Y,disabled:!D,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign"})]})]})}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"text",placeholder:"Search clients by name, address, phone, or email...",value:i,onChange:W=>a(W.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white"})]}),c.jsxs("button",{onClick:()=>C(!T),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:[c.jsx(Mc,{className:"h-4 w-4"}),"Filters",c.jsx(ld,{className:`h-4 w-4 transition-transform ${T?"rotate-180":""}`})]}),c.jsxs("div",{className:"flex rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden",children:[c.jsx("button",{onClick:()=>R("hierarchy"),className:`px-3 py-2 text-sm ${O==="hierarchy"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Hierarchy View",children:c.jsx(y8,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>R("list"),className:`px-3 py-2 text-sm ${O==="list"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Table View",children:c.jsx(f8,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>R("cards"),className:`px-3 py-2 text-sm ${O==="cards"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Card View",children:c.jsx(c8,{className:"h-4 w-4"})})]})]}),T&&c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Type"}),c.jsxs("select",{value:_,onChange:W=>b(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Clients"}),c.jsx("option",{value:"parent",children:"Parent Companies Only"}),c.jsx("option",{value:"location",children:"Store Locations Only"}),c.jsx("option",{value:"unassigned",children:"Unassigned Clients"}),c.jsx("option",{value:"active",children:"Active Only"}),c.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Parent Company"}),c.jsxs("select",{value:P,onChange:W=>A(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Companies"}),ne.map(W=>c.jsx("option",{value:W.id,children:W.name},W.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sort by"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:g,onChange:W=>y(W.target.value),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[c.jsx("option",{value:"name",children:"Name"}),c.jsx("option",{value:"address",children:"Address"}),c.jsx("option",{value:"phone",children:"Phone"}),c.jsx("option",{value:"email",children:"Email"})]}),c.jsx("button",{onClick:()=>S(x==="asc"?"desc":"asc"),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:x==="asc"?c.jsx(wo,{className:"h-4 w-4"}):c.jsx(bo,{className:"h-4 w-4"})})]})]})]})}),c.jsx("div",{className:"min-h-[400px]",children:ie.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 dark:text-slate-400",children:[c.jsx(ap,{className:"h-12 w-12 mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),c.jsx("p",{className:"text-sm text-center",children:i||_!=="all"||P!=="all"?"Try adjusting your search or filters":"Get started by adding your first client"})]}):c.jsxs(c.Fragment,{children:[O==="hierarchy"&&c.jsx(ue,{}),O==="list"&&c.jsx(je,{}),O==="cards"&&c.jsx(Ee,{})]})})]})},zie=({vehicles:t=[],maintenanceLogs:e=[],openModal:r,handleDelete:n,searchTerm:i="",setSearchTerm:a,jobs:o=[]})=>{const[u,d]=B.useState("all"),[f,p]=B.useState("grid"),[g,y]=B.useState("name"),[x,S]=B.useState("asc"),[_,b]=B.useState([]),[P,A]=B.useState(!1),[O,R]=B.useState(null),[E,N]=B.useState(!1),[T,C]=B.useState("vehicles"),L=[{value:"oil_change",label:"Oil Change",interval:3e3,category:"Engine",cost:50},{value:"tire_rotation",label:"Tire Rotation",interval:6e3,category:"Tires",cost:25},{value:"brake_service",label:"Brake Service",interval:12e3,category:"Brakes",cost:300},{value:"transmission",label:"Transmission Service",interval:3e4,category:"Transmission",cost:150},{value:"coolant_flush",label:"Coolant Flush",interval:24e3,category:"Cooling",cost:100},{value:"air_filter",label:"Air Filter",interval:12e3,category:"Engine",cost:30},{value:"spark_plugs",label:"Spark Plugs",interval:3e4,category:"Engine",cost:120},{value:"belts_hoses",label:"Belts & Hoses",interval:24e3,category:"Engine",cost:200},{value:"battery",label:"Battery Service",interval:36e3,category:"Electrical",cost:150},{value:"inspection",label:"Annual Inspection",interval:12e3,category:"Legal",cost:50},{value:"ac_service",label:"A/C Service",interval:12e3,category:"HVAC",cost:180},{value:"general_repair",label:"General Repair",interval:0,category:"Repair",cost:200},{value:"preventive",label:"Preventive Maintenance",interval:6e3,category:"Maintenance",cost:100}];B.useEffect(()=>{console.log("Vehicles updated:",t.length),b([...t])},[t]);const I=({onImport:K})=>{const le=B.useRef(null),fe=ye=>{const he=ye.target.files[0];he&&(K(he),ye.target.value="")};return c.jsxs("div",{className:"inline-block",children:[c.jsx("input",{ref:le,type:"file",accept:".csv",onChange:fe,style:{display:"none"}}),c.jsxs("button",{onClick:()=>le.current?.click(),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-lg transition-colors",children:[c.jsx(Ms,{size:16}),"Import Vehicles"]})]})},D=K=>{if(!K){alert("Please select a file.");return}const le=new FileReader;le.onload=fe=>{try{const he=fe.target.result.split(`
`).filter(Ee=>Ee.trim());if(he.length<2){alert("CSV file must have at least a header row and one data row.");return}const me=Ee=>{const W=[];let pe="",ge=!1;for(let Ae=0;Ae<Ee.length;Ae++){const $e=Ee[Ae];$e==='"'?ge=!ge:$e===","&&!ge?(W.push(pe.trim()),pe=""):pe+=$e}return W.push(pe.trim()),W},ue=me(he[0]).map(Ee=>Ee.replace(/"/g,"").trim().toLowerCase()),je=[];for(let Ee=1;Ee<he.length;Ee++){const W=me(he[Ee]),pe={};ue.forEach((ge,Ae)=>{const $e=W[Ae]?W[Ae].replace(/"/g,"").trim():"";ge.includes("name")||ge.includes("vehicle")?pe.name=$e:ge.includes("make")?pe.make=$e.toUpperCase():ge.includes("model")?pe.model=$e:ge.includes("year")?pe.year=$e:ge.includes("license")||ge.includes("plate")?pe.licensePlate=$e:ge.includes("vin")?pe.vin=$e:ge.includes("mileage")||ge.includes("miles")?pe.currentMileage=parseInt($e)||0:ge.includes("status")?pe.status=$e.toLowerCase()||"active":ge.includes("notes")&&(pe.notes=$e)}),(pe.name||pe.make&&pe.model)&&(pe.name=pe.name||`${pe.make} ${pe.model}`,pe.status=pe.status||"active",je.push(pe))}if(je.length===0){alert("No valid vehicle records found in the CSV file.");return}je.forEach(Ee=>{r("vehicle",Ee)}),alert(`Found ${je.length} vehicles to import. Please review and save each one.`)}catch(ye){console.error("Error parsing CSV:",ye),alert("Error parsing CSV file. Please check the file format.")}},le.readAsText(K)},V=()=>{if(_.length===0){alert("No vehicles to export.");return}const K=_.map(ue=>({"Vehicle Name":ue.name||"",Make:ue.make||"",Model:ue.model||"",Year:ue.year||"","License Plate":ue.licensePlate||"",VIN:ue.vin||"","Current Mileage":ue.currentMileage||0,Status:ue.status||"active",Notes:ue.notes||"","Date Added":ue.createdAt?new Date(ue.createdAt.seconds*1e3).toLocaleDateString():""})),le=Object.keys(K[0]),fe=[le.join(","),...K.map(ue=>le.map(je=>{const Ee=ue[je];return typeof Ee=="string"&&(Ee.includes(",")||Ee.includes('"')||Ee.includes(`
`))?`"${Ee.replace(/"/g,'""')}"`:Ee}).join(","))].join(`
`),ye=new Blob([fe],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(ye),me=document.createElement("a");me.href=he,me.download=`vehicle-fleet-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(he),console.log(`Exported ${_.length} vehicles to CSV`)},$=()=>{const K=[{"Vehicle Name":"Service Truck 1",Make:"FORD",Model:"F-150",Year:"2020","License Plate":"ABC123",VIN:"1FTFW1ET0LKD12345","Current Mileage":"75000",Status:"active",Notes:"Primary service vehicle"}],le=Object.keys(K[0]),fe=[le.join(","),...K.map(ue=>le.map(je=>ue[je]).join(","))].join(`
`),ye=new Blob([fe],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(ye),me=document.createElement("a");me.href=he,me.download="vehicle-import-template.csv",document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(he)},ee=async(K,le)=>{if(window.confirm('Delete "'+le+'"?')){console.log("Starting delete for vehicle:",K,le),A(!0);try{const fe=_.filter(ye=>ye.id!==K);b(fe),await n("vehicle",K),console.log("Vehicle deleted successfully")}catch(fe){console.error("Delete failed, reverting UI:",fe),b([...t]),alert("Failed to delete vehicle: "+fe.message)}finally{A(!1)}}},ne=()=>{let K=0;return _.forEach(le=>{L.forEach(fe=>{if(fe.interval>0){const ye=e.filter(je=>je.vehicleId===le.id&&je.serviceType===fe.value).sort((je,Ee)=>new Date(Ee.date)-new Date(je.date))[0],he=le.currentMileage||0,me=ye&&ye.mileage||0;he-me>=fe.interval&&K++}})}),K},Q=B.useMemo(()=>{const K=_.filter(W=>!W.status||W.status==="active"),le=_.reduce((W,pe)=>W+(pe.currentMileage||0),0),fe=_.length>0?le/_.length:0,ye=new Date().getFullYear(),he=_.reduce((W,pe)=>W+(ye-parseInt(pe.year||ye)),0),me=_.length>0?he/_.length:0,ue=_.filter(W=>(W.currentMileage||0)>1e5).length,je=e.filter(W=>W.date&&new Date(W.date).getFullYear()===ye).reduce((W,pe)=>W+(pe.cost||0),0),Ee=ne();return{totalVehicles:_.length,activeVehicles:K.length,avgMileage:Math.round(fe),avgAge:me.toFixed(1),highMileageVehicles:ue,totalMaintenanceCost:je,overdueMaintenance:Ee}},[_,e]),ie=K=>{const le=[],fe=K.currentMileage||0;return L.forEach(ye=>{if(ye.interval>0){const he=e.filter(Ee=>Ee.vehicleId===K.id&&Ee.serviceType===ye.value).sort((Ee,W)=>new Date(W.date)-new Date(Ee.date))[0],me=he&&he.mileage||0,ue=fe-me,je=ye.interval-ue;ue>=ye.interval?le.push({type:"overdue",service:ye.label,mileage:Math.abs(je),severity:"high"}):je<=1e3&&je>0&&le.push({type:"due_soon",service:ye.label,mileage:je,severity:"medium"})}}),le.sort((ye,he)=>he.severity==="high"?1:-1)},Z=B.useMemo(()=>{let K=_;return i&&(K=K.filter(fe=>fe.name?.toLowerCase().includes(i.toLowerCase())||fe.make?.toLowerCase().includes(i.toLowerCase())||fe.model?.toLowerCase().includes(i.toLowerCase())||fe.licensePlate?.toLowerCase().includes(i.toLowerCase())||fe.vin?.toLowerCase().includes(i.toLowerCase()))),u!=="all"&&(K=K.filter(fe=>(fe.status||"active")===u)),[...K].sort((fe,ye)=>{let he,me;switch(g){case"name":he=fe.name||"",me=ye.name||"";break;case"mileage":he=fe.currentMileage||0,me=ye.currentMileage||0;break;case"year":he=parseInt(fe.year||0),me=parseInt(ye.year||0);break;case"make":he=fe.make||"",me=ye.make||"";break;default:he=fe.name||"",me=ye.name||""}return typeof he=="string"?x==="asc"?he.localeCompare(me):me.localeCompare(he):x==="asc"?he-me:me-he})},[_,i,u,g,x]),J=K=>{const le=K.status||"active";return le==="active"?{status:"active",color:"text-green-500",icon:pi,bg:"bg-green-50 border-green-200 dark:bg-green-900/10 dark:border-green-800",label:"Active"}:le==="maintenance"?{status:"maintenance",color:"text-yellow-500",icon:ac,bg:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/10 dark:border-yellow-800",label:"In Maintenance"}:{status:"inactive",color:"text-gray-500",icon:YT,bg:"bg-gray-50 border-gray-200 dark:bg-gray-900/10 dark:border-gray-800",label:"Inactive"}},ae=({title:K,value:le,icon:fe,color:ye,subtext:he,onClick:me})=>c.jsx("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700 transition-all hover:shadow-md ${me?"cursor-pointer hover:border-blue-300":""}`,onClick:me,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:K}),c.jsx("p",{className:"text-2xl font-bold "+ye,children:le}),he&&c.jsx("p",{className:"text-xs text-slate-400",children:he})]}),c.jsx(fe,{size:24,className:ye})]})}),z=()=>{const[K,le]=B.useState({vehicleId:O?.id||"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""}),fe=L.find(he=>he.value===K.serviceType),ye=he=>{he.preventDefault();const me={...K,cost:parseFloat(K.cost)||0,mileage:parseInt(K.mileage)||0,nextServiceMileage:parseInt(K.nextServiceMileage)||0,createdAt:new Date().toISOString()};!me.nextServiceMileage&&fe?.interval&&(me.nextServiceMileage=me.mileage+fe.interval),r("maintenanceLog",me),N(!1),le({vehicleId:"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""})};return B.useEffect(()=>{fe&&le(he=>({...he,cost:he.cost||fe.cost.toString(),description:he.description||fe.label}))},[fe]),E?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(ga,{className:"text-blue-500",size:24}),"Add Service Record"]}),c.jsx("button",{onClick:()=>N(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:c.jsx(YT,{size:24})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),c.jsxs("select",{value:K.vehicleId,onChange:he=>le(me=>({...me,vehicleId:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[c.jsx("option",{value:"",children:"Select Vehicle"}),_.map(he=>c.jsxs("option",{value:he.id,children:[he.name||"Unnamed"," - ",he.make," ",he.model]},he.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),c.jsxs("select",{value:K.serviceType,onChange:he=>le(me=>({...me,serviceType:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[c.jsx("option",{value:"",children:"Select Service"}),L.map(he=>c.jsxs("option",{value:he.value,children:[he.label," (",he.category,")"]},he.value))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),c.jsx("input",{type:"date",value:K.date,onChange:he=>le(me=>({...me,date:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage"}),c.jsx("input",{type:"number",value:K.mileage,onChange:he=>le(me=>({...me,mileage:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 45000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),c.jsx("input",{type:"number",step:"0.01",value:K.cost,onChange:he=>le(me=>({...me,cost:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),c.jsx("input",{type:"number",value:K.nextServiceMileage,onChange:he=>le(me=>({...me,nextServiceMileage:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:fe?`Auto: ${(parseInt(K.mileage)||0)+fe.interval}`:"Optional"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),c.jsx("input",{type:"text",value:K.description,onChange:he=>le(me=>({...me,description:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the service"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),c.jsx("textarea",{value:K.notes,onChange:he=>le(me=>({...me,notes:he.target.value})),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Additional notes, parts used, recommendations, etc."})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),c.jsx("button",{type:"button",onClick:ye,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:"Add Service Record"})]})]})]})}):null},Y=()=>{const K=[...e].sort((le,fe)=>new Date(fe.date)-new Date(le.date));return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(ga,{className:"text-blue-500",size:24}),"Maintenance History"]}),c.jsxs("button",{onClick:()=>{R(null),N(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(jp,{size:18}),"Add Service"]})]}),K.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Date"}),c.jsx("th",{className:"p-3",children:"Vehicle"}),c.jsx("th",{className:"p-3",children:"Service"}),c.jsx("th",{className:"p-3",children:"Mileage"}),c.jsx("th",{className:"p-3",children:"Cost"}),c.jsx("th",{className:"p-3",children:"Next Due"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{children:K.map(le=>{const fe=_.find(he=>he.id===le.vehicleId),ye=L.find(he=>he.value===le.serviceType);return c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"p-3",children:le.date?new Date(le.date).toLocaleDateString():"N/A"}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:fe?.name||"Unknown Vehicle"}),c.jsxs("div",{className:"text-xs text-slate-500",children:[fe?.make," ",fe?.model]})]})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:ye?.label||le.serviceType}),le.description&&c.jsx("div",{className:"text-xs text-slate-500",children:le.description})]})}),c.jsx("td",{className:"p-3 font-mono",children:(le.mileage||0).toLocaleString()}),c.jsxs("td",{className:"p-3 font-mono",children:["$",(le.cost||0).toFixed(2)]}),c.jsx("td",{className:"p-3 font-mono",children:le.nextServiceMileage?le.nextServiceMileage.toLocaleString():"N/A"}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>r("maintenanceLog",le),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Service",children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>n("maintenanceLog",le.id),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Service",children:c.jsx(Yt,{size:16})})]})})]},le.id)})})]})}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(ga,{size:48,className:"text-slate-300 dark:text-slate-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mb-2",children:"No maintenance records yet"}),c.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-4",children:"Start tracking your vehicle maintenance and services"}),c.jsx("button",{onClick:()=>N(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Service"})]})]})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Dm,{className:"text-blue-500",size:24}),"Fleet Overview"]}),_.length>0&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(I,{onImport:D}),c.jsxs("button",{onClick:V,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg transition-colors",children:[c.jsx(sD,{size:16}),"Export Vehicles"]}),c.jsxs("button",{onClick:$,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white px-3 py-2 rounded-lg transition-colors",children:[c.jsx(An,{size:16}),"CSV Template"]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[c.jsx(ae,{title:"Total Vehicles",value:Q.totalVehicles,icon:Mh,color:"text-blue-500"}),c.jsx(ae,{title:"Active Fleet",value:Q.activeVehicles,icon:pi,color:"text-green-500",subtext:(Q.activeVehicles/(Q.totalVehicles||1)*100).toFixed(0)+"% active"}),c.jsx(ae,{title:"Avg Mileage",value:Q.avgMileage.toLocaleString(),icon:Fm,color:"text-purple-500",subtext:"miles per vehicle"}),c.jsx(ae,{title:"Fleet Age",value:Q.avgAge+" yrs",icon:$m,color:"text-orange-500",subtext:"average age"}),c.jsx(ae,{title:"High Mileage",value:Q.highMileageVehicles,icon:Pa,color:"text-amber-500",subtext:">100k miles"}),c.jsx(ae,{title:"Maintenance Cost",value:"$"+Q.totalMaintenanceCost.toLocaleString(),icon:fn,color:"text-emerald-500",subtext:"this year"}),c.jsx(ae,{title:"Overdue Services",value:Q.overdueMaintenance,icon:nf,color:Q.overdueMaintenance>0?"text-red-500":"text-green-500",subtext:"need attention",onClick:()=>C("maintenance")})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"flex",children:[c.jsx("button",{onClick:()=>C("vehicles"),className:`px-6 py-4 text-sm font-medium transition-colors ${T==="vehicles"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Mh,{size:18}),"Vehicles (",_.length,")"]})}),c.jsx("button",{onClick:()=>C("maintenance"),className:`px-6 py-4 text-sm font-medium transition-colors ${T==="maintenance"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ga,{size:18}),"Maintenance (",e.length,")",Q.overdueMaintenance>0&&c.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1",children:Q.overdueMaintenance})]})})]})}),c.jsx("div",{className:"p-6",children:T==="vehicles"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Fleet Management"}),c.jsxs("div",{className:"flex items-center gap-2",children:[_.length>0&&c.jsxs("button",{onClick:()=>p(f==="grid"?"table":"grid"),className:"flex items-center gap-2 text-sm bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 px-3 py-2 rounded-lg transition-colors",children:[f==="grid"?c.jsx(An,{size:16}):c.jsx(Mh,{size:16}),f==="grid"?"Table View":"Grid View"]}),c.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(jp,{size:18}),"Add Vehicle"]})]})]}),_.length>0&&c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),c.jsx("input",{type:"text",placeholder:"Search by name, make, model, license plate, or VIN...",value:i,onChange:K=>a(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Mc,{size:18,className:"text-slate-400"}),c.jsxs("select",{value:u,onChange:K=>d(K.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"maintenance",children:"In Maintenance"}),c.jsx("option",{value:"retired",children:"Retired"})]}),c.jsxs("select",{value:g,onChange:K=>y(K.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"name",children:"Sort by Name"}),c.jsx("option",{value:"mileage",children:"Sort by Mileage"}),c.jsx("option",{value:"year",children:"Sort by Year"}),c.jsx("option",{value:"make",children:"Sort by Make"})]}),c.jsx("button",{onClick:()=>S(x==="asc"?"desc":"asc"),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",title:"Sort "+(x==="asc"?"Descending":"Ascending"),children:c.jsx(Pa,{size:18,className:x==="desc"?"rotate-180":""})})]})]}),_.length>0?f==="grid"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.map(K=>{const le=J(K),fe=ie(K);return c.jsxs("div",{className:"p-5 rounded-lg border-2 transition-all hover:shadow-lg group "+le.bg+(P?" opacity-50":""),children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(le.icon,{size:24,className:le.color}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:K.name||"Unnamed Vehicle"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:le.label})]})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>{R(K),N(!0)},className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Add Service",disabled:P,children:c.jsx(ga,{size:16})}),c.jsx("button",{onClick:()=>r("vehicle",K),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Vehicle",disabled:P,children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>ee(K.id,K.name||"Unnamed Vehicle"),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Vehicle",disabled:P,children:c.jsx(Yt,{size:16})})]})]}),fe.length>0&&c.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Bw,{size:16,className:"text-amber-600"}),c.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Maintenance Alerts"})]}),c.jsxs("div",{className:"space-y-1",children:[fe.slice(0,2).map((ye,he)=>c.jsx("div",{className:"text-xs",children:c.jsxs("span",{className:ye.type==="overdue"?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300",children:[ye.service,": ",ye.type==="overdue"?`${ye.mileage} miles overdue`:`due in ${ye.mileage} miles`]})},he)),fe.length>2&&c.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:["+",fe.length-2," more alerts"]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Make/Model"}),c.jsxs("span",{className:"font-medium",children:[K.make||"N/A"," ",K.model||"N/A"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Year"}),c.jsx("span",{className:"font-medium",children:K.year||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"License"}),c.jsx("span",{className:"font-medium",children:K.licensePlate||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Mileage"}),c.jsxs("span",{className:"font-medium",children:[(K.currentMileage||0).toLocaleString()," mi"]})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"VIN"}),c.jsx("span",{className:"font-medium text-xs",children:K.vin||"N/A"})]})]})]},K.id)})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Status"}),c.jsx("th",{className:"p-3",children:"Vehicle"}),c.jsx("th",{className:"p-3",children:"Make/Model"}),c.jsx("th",{className:"p-3",children:"Year"}),c.jsx("th",{className:"p-3",children:"License"}),c.jsx("th",{className:"p-3",children:"Mileage"}),c.jsx("th",{className:"p-3",children:"Alerts"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{children:Z.map(K=>{const le=J(K),fe=ie(K);return c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50"+(P?" opacity-50":""),children:[c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(le.icon,{size:16,className:le.color}),c.jsx("span",{className:"text-xs",children:le.label})]})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:K.name||"Unnamed"}),K.vin&&c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["VIN: ",K.vin.slice(-6)]})]})}),c.jsxs("td",{className:"p-3",children:[K.make||"N/A"," ",K.model||"N/A"]}),c.jsx("td",{className:"p-3",children:K.year||"N/A"}),c.jsx("td",{className:"p-3",children:K.licensePlate||"N/A"}),c.jsx("td",{className:"p-3 font-mono",children:(K.currentMileage||0).toLocaleString()}),c.jsx("td",{className:"p-3",children:fe.length>0?c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Bw,{size:14,className:"text-amber-500"}),c.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:[fe.length," alert",fe.length>1?"s":""]})]}):c.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:" Up to date"})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>{R(K),N(!0)},className:"p-1 text-slate-500 hover:text-green-600 transition-colors",title:"Add Service",disabled:P,children:c.jsx(ga,{size:16})}),c.jsx("button",{onClick:()=>r("vehicle",K),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Vehicle",disabled:P,children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>ee(K.id,K.name||"Unnamed Vehicle"),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Vehicle",disabled:P,children:c.jsx(Yt,{size:16})})]})})]},K.id)})})]})}):c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-full mb-6",children:c.jsx(Mh,{size:40,className:"text-slate-400 dark:text-slate-500"})}),c.jsx("h3",{className:"text-xl font-medium text-slate-500 dark:text-slate-400 mb-3",children:"No vehicles in your fleet yet"}),c.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-6 max-w-md mx-auto",children:"Start building your fleet by adding your first vehicle. Track maintenance, costs, and manage your entire fleet from one place."}),c.jsx("button",{onClick:()=>r("vehicle"),className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-lg transition-colors font-medium text-lg",disabled:P,children:"Add Your First Vehicle"})]})]}):c.jsx(Y,{})})]}),c.jsx(z,{}),P&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Deleting vehicle..."})]})})]})},Wie=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:o,setSelectedIds:u,handleImportCSV:d,handleExportCSV:f})=>{const p=[{key:"name",header:"Item Name",render:x=>c.jsx("span",{className:"font-medium",children:x.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:x=>c.jsx("span",{children:x.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:x=>c.jsxs("span",{className:"font-mono",children:["$",(x.cost||0).toFixed(2)]})}],g=B.useMemo(()=>t.filter(x=>(x.name||"").toLowerCase().includes(i.toLowerCase())),[t,i]),y=x=>{x.target.checked?u(g.map(S=>S.id)):u([])};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",placeholder:"Search Inventory...",value:i,onChange:x=>a(x.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),o.length>0&&c.jsxs("button",{onClick:()=>n("inventory",o),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Yt,{size:16})," Delete (",o.length,")"]}),c.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:x=>d(x.target.files[0],"inventory")}),c.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[c.jsx(Ms,{size:16})," Import CSV"]}),c.jsxs("button",{onClick:()=>f(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(An,{size:16})," Export to CSV"]}),c.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(hn,{size:16})," Add New"]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:c.jsx("input",{type:"checkbox",onChange:y})}),p.map(x=>c.jsx("th",{className:`p-3 ${x.className||""}`,children:x.header},x.key)),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:g.map(x=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[c.jsx("td",{className:"p-3",children:c.jsx("input",{type:"checkbox",checked:o.includes(x.id),onChange:()=>{u(S=>S.includes(x.id)?S.filter(_=>_!==x.id):[...S,x.id])}})}),p.map(S=>c.jsx("td",{className:`p-3 ${S.className||""}`,children:S.render(x)},S.key)),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>e("inventory",x),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>r("inventory",x.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(Yt,{size:16})})]})]},x.id))})]})})]})},Hie=({clients:t,jobs:e,bills:r,inventory:n})=>{const i=B.useMemo(()=>t.map(u=>{const d=e.filter(g=>g.clientId===u.id),f=d.reduce((g,y)=>g+(y.revenue||0),0),p=d.reduce((g,y)=>g+(y.materialCost||0)+(y.laborCost||0),0);return{name:u.name,netProfit:f-p}}).sort((u,d)=>d.netProfit-u.netProfit),[t,e]),a=B.useMemo(()=>{const u={},d=new Date;return d.setMonth(d.getMonth()-12),e.forEach(f=>{if(f.date&&new Date(f.date)>d){const p=new Date(f.date).toISOString().slice(0,7);u[p]||(u[p]={revenue:0,expenses:0}),u[p].revenue+=f.revenue||0}}),r.forEach(f=>{const p=f.createdAt?.toDate?f.createdAt.toDate():new Date;if(p>d){const g=p.toISOString().slice(0,7);u[g]||(u[g]={revenue:0,expenses:0}),u[g].expenses+=f.amount||0}}),Object.keys(u).map(f=>({month:f,Revenue:u[f].revenue,Expenses:u[f].expenses})).sort((f,p)=>f.month.localeCompare(p.month))},[e,r]),o=B.useMemo(()=>n.map(u=>({name:u.name,totalValue:(u.quantity||0)*(u.cost||0)})).sort((u,d)=>d.totalValue-u.totalValue),[n]);return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),c.jsx(_S,{width:"100%",height:300,children:c.jsxs(A3,{data:a,children:[c.jsx(sk,{strokeDasharray:"3 3"}),c.jsx(hf,{dataKey:"month",stroke:"#64748b"}),c.jsx(pf,{stroke:"#64748b",tickFormatter:u=>`$${u/1e3}k`}),c.jsx(Wn,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:u=>`$${u.toLocaleString()}`}),c.jsx(Es,{}),c.jsx(Wi,{dataKey:"Revenue",fill:"#22c55e"}),c.jsx(Wi,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Client"}),c.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),c.jsx("tbody",{children:i.map(u=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:u.name}),c.jsxs("td",{className:`p-3 text-right font-mono ${u.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",u.netProfit.toFixed(2)]})]},u.name))})]})})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Item"}),c.jsx("th",{className:"p-3 text-center",children:"Quantity"}),c.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),c.jsx("tbody",{children:o.map(u=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:u.name}),c.jsx("td",{className:"p-3 text-center",children:n.find(d=>d.name===u.name)?.quantity}),c.jsxs("td",{className:"p-3 text-right font-mono",children:["$",u.totalValue.toFixed(2)]})]},u.name))})]})})]})]})},Gie=({bills:t,paidStatus:e,onClose:r})=>{const n=B.useMemo(()=>{const i=new Date,a=new Date;return a.setDate(i.getDate()+3),t.filter(o=>{if(e[o.id])return!1;const u=new Date(i.getFullYear(),i.getMonth(),o.dueDay);return u>=i&&u<=a})},[t,e]);return n.length===0?null:c.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Bw,{size:20,className:"mr-3"}),c.jsxs("div",{children:[c.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),c.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(i=>c.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),c.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:c.jsx(Dc,{size:18})})]})},Kie=({data:t,onSliceClick:e})=>{const[r,n]=B.useState(0),i=B.useCallback((o,u)=>{n(u)},[n]),a=o=>{const{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:g,endAngle:y,fill:x,payload:S}=o;return c.jsxs("g",{className:"cursor-pointer",onClick:()=>e(S.name),children:[c.jsx("text",{x:u,y:d,dy:8,textAnchor:"middle",fill:x,className:"font-bold text-lg",children:S.name}),c.jsx(KS,{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:g,endAngle:y,fill:x})]})};return c.jsx(_S,{width:"100%",height:300,children:c.jsxs(Fie,{children:[c.jsx(Wn,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:o=>`$${o.toFixed(2)}`}),c.jsx($a,{activeIndex:r,activeShape:a,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:o=>e(o.name),children:t.map((o,u)=>c.jsx(Jm,{fill:o.color},`cell-${u}`))})]})})},Yie=({invoices:t=[],bills:e=[],weeklyCosts:r=[],currentBankBalance:n=0,setCurrentBankBalance:i})=>{const a=x=>{if(x==null||x==="")return 0;const S=typeof x=="string"?parseFloat(x.replace(/[^0-9.-]/g,"")):Number(x);return isNaN(S)?0:S},o=t.filter(x=>x.status==="Unpaid"),u=o.reduce((x,S)=>x+a(S.grandTotal),0),d=e.reduce((x,S)=>x+a(S.amount),0),f=r.reduce((x,S)=>x+a(S.amount),0)*4.33,p=d+f,g=a(n)+u-p,y=()=>{const x=prompt("Enter current bank balance:",n);if(x!==null&&!isNaN(x)&&x.trim()!==""){const S=parseFloat(x);S>=0?i(S):alert("Please enter a positive number for the balance.")}};return c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"Cash Flow Forecast"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Current Balance"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",a(n).toLocaleString()]})]}),c.jsx(fn,{className:"text-blue-600 dark:text-blue-400",size:24})]}),c.jsx("button",{onClick:y,className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline cursor-pointer",children:"Update Balance"}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Click to update your current bank balance"})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Pending Revenue"}),c.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["$",u.toLocaleString()]})]}),c.jsx(Pa,{className:"text-green-600 dark:text-green-400",size:24})]}),c.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[o.length," unpaid invoices"]})]}),c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Monthly Expenses"}),c.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:["$",p.toLocaleString()]})]}),c.jsx(cD,{className:"text-red-600 dark:text-red-400",size:24})]}),c.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Bills + Weekly costs"})]}),c.jsxs("div",{className:`${g>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"} p-4 rounded-lg`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${g>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"Projected Balance"}),c.jsxs("p",{className:`text-2xl font-bold ${g>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["$",g.toLocaleString()]})]}),g>=0?c.jsx(Pa,{className:"text-green-600 dark:text-green-400",size:24}):c.jsx(ac,{className:"text-red-600 dark:text-red-400",size:24})]}),c.jsx("p",{className:`text-xs mt-1 ${g>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"After collections & expenses"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Pending Collections"}),c.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:o.length>0?o.map((x,S)=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:x.billTo||x.customer||"Unknown Client"}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Due: ",x.dueDate||"No date"]})]}),c.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:["$",a(x.grandTotal).toLocaleString()]})]},S)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No pending invoices"})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Monthly Obligations"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Monthly Bills"}),c.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",d.toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Weekly Costs (Monthly)"}),c.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",f.toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border-t-2 border-slate-300 dark:border-slate-500",children:[c.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:"Total Expenses"}),c.jsxs("span",{className:"font-bold text-red-700 dark:text-red-300 text-lg",children:["$",p.toLocaleString()]})]})]})]})]}),g<0&&c.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ac,{className:"text-red-600 dark:text-red-400",size:20}),c.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Cash Flow Alert"})]}),c.jsx("p",{className:"text-red-700 dark:text-red-300 mt-2",children:"Your projected balance is negative. Consider following up on pending invoices or reducing expenses."})]}),a(n)===0&&c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(fn,{className:"text-blue-600 dark:text-blue-400",size:20}),c.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Update Your Balance"})]}),c.jsx("p",{className:"text-blue-700 dark:text-blue-300 mt-2",children:'Click "Update Balance" above to enter your current bank balance for accurate cash flow forecasting.'})]})]})})},Xie=({title:t,data:e,columns:r,type:n,searchTerm:i,setSearchTerm:a,handleImportCSV:o,handleExportCSV:u,openModal:d,handleDelete:f,debtPayoffStrategies:p})=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),c.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[c.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:g=>a(g.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:g=>o(g.target.files[0],n)}),c.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[c.jsx(Ms,{size:16})," Import CSV"]})]}),c.jsxs("button",{onClick:()=>u(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(An,{size:16})," Export to CSV"]}),c.jsxs("button",{onClick:()=>d(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(hn,{size:16})," Add New"]})]})]}),n==="debt"&&p&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),c.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),c.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.avalanche.map(g=>c.jsxs("li",{children:[g.name," ",c.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",g.interestRate,"%)"]})]},g.id))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),c.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),c.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.snowball.map(g=>c.jsxs("li",{children:[g.name," ",c.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(g.totalAmount-g.paidAmount).toFixed(2),")"]})]},g.id))})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[r.map(g=>c.jsx("th",{className:`p-3 ${g.className||""}`,children:g.header},g.key)),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:e.map(g=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(y=>c.jsx("td",{className:`p-3 ${y.className||""}`,children:y.render(g)},y.key)),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>d(n,g),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>f(n,g.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(Yt,{size:16})})]})]},g.id))})]})})]}),Qie=({jobs:t,clients:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:a,handleImportCSV:o,handleExportCSV:u})=>{const d=[{key:"name",header:"Job/Client",render:f=>c.jsx("span",{className:"font-medium",children:f.name})},{key:"client",header:"Client",render:f=>c.jsx("span",{children:e.find(p=>p.id===f.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:f=>c.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(f.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:f=>c.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(f.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:f=>c.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(f.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:f=>c.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((f.revenue||0)-(f.materialCost||0)-(f.laborCost||0)).toFixed(2)]})}];return c.jsx(Xie,{title:"Job Profitability",data:t,columns:d,type:"job",searchTerm:i,setSearchTerm:a,handleImportCSV:o,handleExportCSV:u,openModal:r,handleDelete:n})},Jie=({jobs:t,bills:e,weeklyCosts:r,reportingPeriod:n,dateRange:i})=>{const a=B.useMemo(()=>{const u=t.filter(A=>{if(!A.date)return!1;const O=new Date(A.date);return O>=i.start&&O<=i.end}),d=u.reduce((A,O)=>A+(O.revenue||0),0),f=u.reduce((A,O)=>A+(O.materialCost||0)+(O.laborCost||0),0),p=d-f,g=(i.end-i.start)/(1e3*60*60*24*30.44),y=e.reduce((A,O)=>{const R=O.category||"Uncategorized";return A[R]=(A[R]||0)+O.amount,A},{}),x=r.reduce((A,O)=>A+O.amount,0)*g;x>0&&(y["Weekly & Misc"]=(y["Weekly & Misc"]||0)+x);const S=Object.values(y).reduce((A,O)=>A+O,0),_=p-S,b=d>0?p/d*100:0,P=d>0?_/d*100:0;return{revenue:d,cogs:f,grossProfit:p,operatingExpenses:S,expensesByCategory:y,netProfit:_,grossProfitMargin:b,netProfitMargin:P}},[t,e,r,i]),o=()=>{const u={month:"long",year:"numeric"};if(n==="monthly")return`For the Month of ${i.start.toLocaleString("default",u)}`;if(n==="quarterly"){const d={month:"long",day:"numeric",year:"numeric"};return`For the Quarter Ending ${i.end.toLocaleDateString("default",d)}`}return n==="yearly"?`For the Year ${i.start.getFullYear()}`:""};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Profit & Loss Statement"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:o()}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between items-center p-3 font-semibold",children:[c.jsx("span",{children:"Total Revenue"}),c.jsxs("span",{className:"font-mono",children:["$",a.revenue.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),c.jsxs("span",{className:"font-mono",children:["($",a.cogs.toFixed(2),")"]})]}),c.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),c.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-lg",children:[c.jsx("span",{children:"Gross Profit"}),c.jsxs("span",{className:"font-mono",children:["$",a.grossProfit.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[c.jsx("span",{children:"Gross Profit Margin"}),c.jsxs("span",{className:"font-mono",children:[a.grossProfitMargin.toFixed(1),"%"]})]}),c.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),c.jsx("div",{className:"p-3 font-semibold",children:c.jsx("span",{children:"Operating Expenses"})}),Object.entries(a.expensesByCategory).map(([u,d])=>c.jsxs("div",{className:"flex justify-between items-center p-1 pl-8",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:u}),c.jsxs("span",{className:"font-mono",children:["($",d.toFixed(2),")"]})]},u)),c.jsxs("div",{className:"flex justify-between items-center p-3 pl-8 font-semibold",children:[c.jsx("span",{children:"Total Operating Expenses"}),c.jsxs("span",{className:"font-mono",children:["($",a.operatingExpenses.toFixed(2),")"]})]}),c.jsx("hr",{className:"border-slate-300 dark:border-slate-600 my-2 border-2"}),c.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-xl",style:{color:a.netProfit>=0?"#22c55e":"#ef4444"},children:[c.jsx("span",{children:"Net Profit"}),c.jsx("span",{className:"font-mono",children:a.netProfit<0?`-$${Math.abs(a.netProfit).toFixed(2)}`:`$${a.netProfit.toFixed(2)}`})]}),c.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[c.jsx("span",{children:"Net Profit Margin"}),c.jsxs("span",{className:"font-mono",children:[a.netProfitMargin.toFixed(1),"%"]})]})]})]})},Zie=({debts:t=[],openModal:e,handleDelete:r,searchTerm:n,setSearchTerm:i,handleImportCSV:a,handleExportCSV:o,debtPayoffStrategies:u={avalanche:[],snowball:[]}})=>{const[d,f]=B.useState("overview"),[p,g]=B.useState("avalanche"),[y,x]=B.useState(500),S=B.useMemo(()=>{const E=t.reduce((D,V)=>D+(V.totalAmount||0),0),N=t.reduce((D,V)=>D+(V.paidAmount||0),0),T=E-N,C=t.length>0?t.reduce((D,V)=>D+(V.interestRate||0),0)/t.length:0,L=Math.max(...t.map(D=>D.interestRate||0)),I=Math.min(...t.map(D=>(D.totalAmount||0)-(D.paidAmount||0)));return{totalDebt:E,totalPaid:N,totalRemaining:T,avgInterestRate:C,highestInterest:L,lowestBalance:I===1/0?0:I,payoffProgress:E>0?N/E*100:0}},[t]),_=E=>{const N=u[E]||[];let T=[],C=0,L=y;return N.forEach((I,D)=>{const V=(I.totalAmount||0)-(I.paidAmount||0),$=(I.interestRate||0)/100/12;if(V>0&&L>0){const ee=Math.ceil(Math.log(1+V*$/L)/Math.log(1+$));T.push({...I,monthsToPayoff:isFinite(ee)?ee:0,order:D+1,remaining:V}),C=Math.max(C,ee)}}),{timeline:T,totalMonthsToPayoff:C}},b=_("avalanche"),P=_("snowball"),A=B.useMemo(()=>n?t.filter(E=>E.name?.toLowerCase().includes(n.toLowerCase())||E.creditor?.toLowerCase().includes(n.toLowerCase())):t,[t,n]),O=E=>(E.totalAmount||0)-(E.paidAmount||0)<=0?"text-green-600 dark:text-green-400":E.interestRate>20?"text-red-600 dark:text-red-400":E.interestRate>10?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400",R=E=>E.interestRate>20?c.jsx(ac,{className:"text-red-500",size:16}):E.interestRate>10?c.jsx(Pa,{className:"text-yellow-500",size:16}):c.jsx(pi,{className:"text-green-500",size:16});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Debt Management"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Track debts, plan payoffs, and achieve financial freedom"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>a&&a(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Ms,{size:16}),"Import"]}),c.jsxs("button",{onClick:()=>o&&o(t,"debts"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(sD,{size:16}),"Export"]}),c.jsxs("button",{onClick:()=>e("debt"),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(hn,{size:18}),"Add Debt"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Debt"}),c.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",S.totalDebt.toLocaleString()]})]}),c.jsx(hv,{className:"text-red-600 dark:text-red-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Remaining: $",S.totalRemaining.toLocaleString()]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Paid Off"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",S.totalPaid.toLocaleString()]})]}),c.jsx(pi,{className:"text-green-600 dark:text-green-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[S.payoffProgress.toFixed(1),"% complete"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Avg Interest"}),c.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[S.avgInterestRate.toFixed(1),"%"]})]}),c.jsx(lD,{className:"text-orange-600 dark:text-orange-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Highest: ",S.highestInterest,"%"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Debts"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.filter(E=>E.totalAmount-E.paidAmount>0).length})]}),c.jsx(Dm,{className:"text-blue-600 dark:text-blue-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",t.length," total"]})]})]}),c.jsx("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700",children:c.jsxs("div",{className:"flex space-x-1",children:[c.jsxs("button",{onClick:()=>f("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="overview"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[c.jsx(hv,{size:16}),"Overview"]}),c.jsxs("button",{onClick:()=>f("strategies"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="strategies"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[c.jsx(cd,{size:16}),"Payoff Strategies"]}),c.jsxs("button",{onClick:()=>f("calculator"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="calculator"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[c.jsx(KT,{size:16}),"Calculator"]})]})}),d==="overview"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Search debts...",value:n,onChange:E=>i(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:A.length===0?c.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[c.jsx(hv,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No debts found"}),c.jsx("p",{className:"mb-4",children:"Add your debts to start tracking and planning payoffs."}),c.jsx("button",{onClick:()=>e("debt"),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Debt"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Debt Details"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Interest Rate"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Amount"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Paid"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Remaining"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Progress"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:A.map(E=>{const N=(E.totalAmount||0)-(E.paidAmount||0),T=E.totalAmount>0?(E.paidAmount||0)/E.totalAmount*100:0;return c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[R(E),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:E.name}),E.creditor&&c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:E.creditor})]})]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("span",{className:`font-mono font-semibold ${O(E)}`,children:[(E.interestRate||0).toFixed(1),"%"]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("span",{className:"font-mono text-slate-900 dark:text-white",children:["$",(E.totalAmount||0).toLocaleString()]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(E.paidAmount||0).toLocaleString()]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",N.toLocaleString()]})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(T,100)}%`}})}),c.jsxs("div",{className:"text-xs text-center mt-1 text-slate-500 dark:text-slate-400",children:[T.toFixed(1),"%"]})]}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{onClick:()=>e("debt",E),className:"text-slate-400 hover:text-blue-500 transition-colors",title:"Edit debt",children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>r("debt",E.id),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Delete debt",children:c.jsx(Yt,{size:16})})]})})]},E.id)})})]})})})]}),d==="strategies"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Strategies"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="avalanche"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>g("avalanche"),children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(cD,{className:"text-purple-600",size:20}),c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Avalanche"})]}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with highest interest rates first. Saves more money on interest."}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",b.totalMonthsToPayoff," months"]})]}),c.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="snowball"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>g("snowball"),children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(b8,{className:"text-purple-600",size:20}),c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Snowball"})]}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off smallest balances first. Builds momentum and motivation."}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",P.totalMonthsToPayoff," months"]})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Monthly Debt Payment Budget"}),c.jsxs("div",{className:"relative",children:[c.jsx(fn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"number",value:y,onChange:E=>x(parseFloat(E.target.value)||0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"500"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:[p==="avalanche"?"Avalanche":"Snowball"," Payoff Plan"]}),c.jsx("div",{className:"space-y-4",children:(p==="avalanche"?b.timeline:P.timeline).map((E,N)=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:E.order}),c.jsxs("div",{className:"flex-grow",children:[c.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:E.name}),c.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["$",E.remaining.toLocaleString()," remaining at ",E.interestRate,"%"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:[E.monthsToPayoff," months"]}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"to pay off"})]})]},E.id))})]})]}),d==="calculator"&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Calculator"}),c.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400 py-12",children:[c.jsx(KT,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Advanced debt calculator coming soon!"}),c.jsx("p",{className:"text-sm mt-2",children:"Calculate exact payoff dates, interest savings, and payment schedules."})]})]})]})},eae=({incomes:t,openModal:e,handleDelete:r})=>{const[n,i]=B.useState(""),[a,o]=B.useState("all"),[u,d]=B.useState("all"),[f,p]=B.useState({key:"amount",direction:"desc"}),g=["all","monthly","weekly","quarterly","annually","one-time","project-based"],y=["all","active","pending","completed","paused"],x=B.useMemo(()=>t.filter(E=>{const N=E.name.toLowerCase().includes(n.toLowerCase())||E.notes&&E.notes.toLowerCase().includes(n.toLowerCase()),T=a==="all"||E.type===a,C=u==="all"||E.status===u;return N&&T&&C}).sort((E,N)=>{if(f.key==="amount"){const T=parseFloat(E.amount)||0,C=parseFloat(N.amount)||0;return f.direction==="asc"?T-C:C-T}return f.key==="name"?f.direction==="asc"?E.name.localeCompare(N.name):N.name.localeCompare(E.name):0}),[t,n,a,u,f]),S=B.useMemo(()=>{const R=t.filter(D=>D.status!=="completed"&&D.status!=="paused"),N=R.map(D=>{const V=parseFloat(D.amount)||0;switch(D.type){case"weekly":return V*4.33;case"quarterly":return V/3;case"annually":return V/12;case"monthly":default:return V}}).reduce((D,V)=>D+V,0),T=N*12,C=t.reduce((D,V)=>{const $=V.type||"monthly",ee=parseFloat(V.amount)||0;return D[$]=(D[$]||0)+ee,D},{}),L=t.reduce((D,V)=>{const $=V.status||"active";return D[$]=(D[$]||0)+1,D},{}),I=t.reduce((D,V)=>{const $=parseFloat(V.amount)||0;return $>D.amount?{name:V.name,amount:$}:D},{name:"None",amount:0});return{totalMonthlyIncome:N,totalAnnualIncome:T,typeBreakdown:C,statusBreakdown:L,highestIncome:I,activeCount:R.length,totalCount:t.length,averageIncome:R.length>0?N/R.length:0}},[t]),_=R=>{p(E=>({key:R,direction:E.key===R&&E.direction==="desc"?"asc":"desc"}))},b=R=>{switch(R){case"active":return c.jsx(pi,{size:14,className:"text-green-500"});case"pending":return c.jsx($m,{size:14,className:"text-yellow-500"});case"completed":return c.jsx(pi,{size:14,className:"text-blue-500"});case"paused":return c.jsx(ac,{size:14,className:"text-red-500"});default:return c.jsx(pi,{size:14,className:"text-green-500"})}},P=R=>{const E={monthly:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",weekly:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200",quarterly:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200",annually:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200","one-time":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200","project-based":"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-800 dark:text-cyan-200"};return E[R]||E.monthly},A=(R,E)=>{const N=parseFloat(R)||0;switch(E){case"weekly":return N*4.33;case"quarterly":return N/3;case"annually":return N/12;case"monthly":default:return N}},O=()=>{if(t.length===0){alert("No income sources to export.");return}try{const R=["Source Name","Amount","Type","Monthly Equivalent","Annual Equivalent","Status","Recurring","Notes"],E=t.map(I=>[I.name||"",(parseFloat(I.amount)||0).toFixed(2),I.type||"monthly",A(I.amount,I.type).toFixed(2),(A(I.amount,I.type)*12).toFixed(2),I.status||"active",I.isRecurring?"Yes":"No",I.notes||""]),N=[R.join(","),...E.map(I=>I.map(D=>typeof D=="string"&&D.includes(",")?`"${D}"`:D).join(","))].join(`
`),T=new Blob([N],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),L=URL.createObjectURL(T);C.setAttribute("href",L),C.setAttribute("download",`income_sources_${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C),alert(`Successfully exported ${t.length} income sources!`)}catch(R){console.error("Error exporting CSV:",R),alert("Failed to export CSV: "+R.message)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Income"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",S.totalMonthlyIncome.toLocaleString()]})]}),c.jsx(fn,{className:"text-green-600 dark:text-green-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[S.activeCount," active sources"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Projection"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",S.totalAnnualIncome.toLocaleString()]})]}),c.jsx(Pa,{className:"text-blue-600 dark:text-blue-400",size:24})]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Based on current rates"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Average Income"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",S.averageIncome.toLocaleString()]})]}),c.jsx(Dm,{className:"text-purple-600 dark:text-purple-400",size:24})]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Per active source/month"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Source"}),c.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 truncate",children:S.highestIncome.name})]}),c.jsx(cd,{className:"text-orange-600 dark:text-orange-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",S.highestIncome.amount.toLocaleString()]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Income Sources"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your revenue streams and income sources"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:O,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(An,{size:16}),"Export CSV"]}),c.jsxs("button",{onClick:()=>e("income"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(hn,{size:16}),"Add Income Source"]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(Na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Search income sources...",value:n,onChange:R=>i(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Mc,{className:"text-slate-400",size:16}),c.jsx("select",{value:a,onChange:R=>o(R.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:g.map(R=>c.jsx("option",{value:R,children:R==="all"?"All Types":R.charAt(0).toUpperCase()+R.slice(1).replace("-"," ")},R))}),c.jsx("select",{value:u,onChange:R=>d(R.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:y.map(R=>c.jsx("option",{value:R,children:R==="all"?"All Status":R.charAt(0).toUpperCase()+R.slice(1)},R))})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>_("name"),children:c.jsxs("div",{className:"flex items-center gap-1",children:["Income Source",f.key==="name"&&c.jsx("span",{children:f.direction==="asc"?"":""})]})}),c.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>_("amount"),children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Amount",f.key==="amount"&&c.jsx("span",{children:f.direction==="asc"?"":""})]})}),c.jsx("th",{className:"p-3",children:"Type"}),c.jsx("th",{className:"p-3 text-right",children:"Monthly Equiv."}),c.jsx("th",{className:"p-3 text-right",children:"Annual Equiv."}),c.jsx("th",{className:"p-3",children:"Status"}),c.jsx("th",{className:"p-3",children:"Recurring"}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:x.length>0?x.map(R=>{const E=parseFloat(R.amount)||0,N=A(E,R.type),T=N*12;return c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[c.jsx("td",{className:"p-3",children:c.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:R.name})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",E.toFixed(2)]})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${P(R.type)}`,children:(R.type||"monthly").replace("-"," ")})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["$",N.toFixed(2)]})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",T.toLocaleString()]})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center gap-1",children:[b(R.status),c.jsx("span",{className:"text-xs capitalize",children:R.status||"active"})]})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${R.isRecurring?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}`,children:R.isRecurring?"Yes":"No"})}),c.jsx("td",{className:"p-3 max-w-xs",children:c.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:R.notes&&R.notes.length>30?`${R.notes.substring(0,30)}...`:R.notes||""})}),c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>e("income",R),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit income source",children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>r("income",R.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete income source",children:c.jsx(Yt,{size:16})})]})})]},R.id)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||a!=="all"||u!=="all"?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Na,{size:24,className:"text-slate-400"}),c.jsx("span",{children:"No income sources match your search criteria"}),c.jsx("button",{onClick:()=>{i(""),o("all"),d("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(fn,{size:24,className:"text-slate-400"}),c.jsx("span",{children:"No income sources added yet"}),c.jsx("button",{onClick:()=>e("income"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first income source"})]})})})})]})}),x.length>0&&c.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:c.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",x.length," of ",t.length," income sources"]})}),c.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[c.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Monthly: $",x.reduce((R,E)=>R+A(E.amount,E.type),0).toFixed(2)]}),c.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["Annual: $",(x.reduce((R,E)=>R+A(E.amount,E.type),0)*12).toLocaleString()]})]})]})})]}),S.totalCount>=1&&S.highestIncome.amount>S.totalMonthlyIncome*.7&&c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ac,{className:"text-amber-600 dark:text-amber-400",size:20}),c.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Income Diversification Alert"})]}),c.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["Your top income source (",S.highestIncome.name,") represents over 70% of your total income. Consider diversifying your income streams to reduce financial risk."]})]})]})},tae=({goalsWithProgress:t=[],openModal:e,onDeleteGoal:r,onEditGoal:n})=>{const[i,a]=B.useState(null),[o,u]=B.useState(!1),[d,f]=B.useState({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),p=A=>{a(A)},g=A=>{r(A),a(null)},y=()=>{a(null)},x=A=>A>=100?"from-green-500 to-emerald-500":A>=80?"from-green-500 to-green-600":A>=50?"from-yellow-500 to-orange-500":A>=25?"from-orange-500 to-red-500":"from-red-500 to-red-600",S=A=>{const O=new Date,E=new Date(A)-O,N=Math.ceil(E/(1e3*60*60*24));return N<0?{text:"Overdue",color:"text-red-500",bgColor:"bg-red-100 dark:bg-red-900/20"}:N===0?{text:"Due Today",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:N===1?{text:"1 day left",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:N<=7?{text:`${N} days left`,color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/20"}:N<=30?{text:`${N} days left`,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/20"}:{text:`${N} days left`,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-700"}},_=A=>{const O=A.target-A.current,R=Math.ceil((new Date(A.deadline)-new Date)/(1e3*60*60*24));return R>0?Math.ceil(O/R):0},b=(A,O)=>{console.log("Update goal progress:",A,O)},P=A=>{A.preventDefault(),d.name&&d.target&&d.deadline&&(e("goal",{name:d.name,description:d.description,targetValue:Number(d.target),current:Number(d.current),deadline:d.deadline,type:d.type}),f({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),u(!1))};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-100 to-blue-100 dark:from-cyan-900/30 dark:to-blue-900/30 rounded-lg",children:c.jsx(cd,{className:"w-6 h-6 text-cyan-600 dark:text-cyan-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.filter(A=>A.progress>=100).length," of ",t.length," completed"]})]})]}),c.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[c.jsx(jp,{size:16}),"Add Goal"]})]}),t.length>0&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg",children:c.jsx(pi,{className:"text-green-600 dark:text-green-400",size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Completed"}),c.jsx("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:t.filter(A=>A.progress>=100).length})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg",children:c.jsx(Pa,{className:"text-blue-600 dark:text-blue-400",size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"In Progress"}),c.jsx("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:t.filter(A=>A.progress>0&&A.progress<100).length})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-800 rounded-lg",children:c.jsx($m,{className:"text-orange-600 dark:text-orange-400",size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Total Value"}),c.jsxs("p",{className:"text-xl font-bold text-orange-800 dark:text-orange-200",children:["$",t.reduce((A,O)=>A+(O.targetValue||0),0).toLocaleString()]})]})]})})]}),c.jsx("div",{className:"space-y-4",children:t.length===0?c.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:c.jsx(cd,{size:32,className:"opacity-50"})}),c.jsx("h4",{className:"font-semibold text-lg mb-2",children:"No financial goals yet"}),c.jsx("p",{className:"text-sm mb-4",children:"Set your first goal and start tracking your financial progress!"}),c.jsx("button",{onClick:()=>u(!0),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create Your First Goal"})]}):t.map(A=>{const O=A.progress||0,R=O>=100,E=(A.targetValue||0)-(A.current||0),N=S(A.deadline),T=x(O),C=N.text==="Overdue",L=_({target:A.targetValue||0,current:A.current||0,deadline:A.deadline});return c.jsx("div",{className:`relative border rounded-lg p-5 transition-all duration-200 hover:shadow-md ${R?"border-green-200 dark:border-green-800 bg-gradient-to-r from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10":C?"border-red-200 dark:border-red-800 bg-gradient-to-r from-red-50/50 to-pink-50/50 dark:from-red-900/10 dark:to-pink-900/10":"border-slate-200 dark:border-slate-600 hover:border-cyan-300 dark:hover:border-cyan-700"}`,children:i!==A.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:A.name}),R&&c.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 text-xs font-medium rounded-full",children:" Completed"}),A.type&&c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A.type==="savings"?"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200":A.type==="debt"?"bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-200":A.type==="investment"?"bg-purple-100 dark:bg-purple-800 text-purple-800 dark:text-purple-200":A.type==="purchase"?"bg-orange-100 dark:bg-orange-800 text-orange-800 dark:text-orange-200":"bg-cyan-100 dark:bg-cyan-800 text-cyan-800 dark:text-cyan-200"}`,children:A.type||"savings"}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N.bgColor} ${N.color}`,children:N.text})]}),A.description&&c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:A.description}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Current"}),c.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(A.current||0).toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Target"}),c.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(A.targetValue||0).toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Remaining"}),c.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",E>0?E.toLocaleString():"0"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Daily Need"}),c.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",L>0?L.toLocaleString():"0"]})]})]})]}),c.jsxs("div",{className:"flex gap-2 ml-4",children:[c.jsx("button",{onClick:()=>b(A.id,(A.current||0)+(A.targetValue||0)*.1),className:"text-green-600 hover:text-green-500 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"Add 10%",children:c.jsx(jp,{size:18})}),c.jsx("button",{onClick:()=>b(A.id,Math.max(0,(A.current||0)-(A.targetValue||0)*.1)),className:"text-orange-600 hover:text-orange-500 p-2 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",title:"Subtract 10%",children:c.jsx(p8,{size:18})}),c.jsx("button",{onClick:()=>p(A.id),className:"text-red-600 hover:text-red-500 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete Goal",children:c.jsx(Yt,{size:18})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progress"}),c.jsxs("span",{className:`font-bold ${R?"text-green-600":"text-cyan-600"}`,children:[O.toFixed(1),"%"]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:c.jsx("div",{className:`h-4 rounded-full transition-all duration-700 relative overflow-hidden bg-gradient-to-r ${T}`,style:{width:`${Math.min(O,100)}%`},children:c.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),O>15&&c.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:c.jsxs("span",{className:"text-xs font-medium text-white drop-shadow",children:["$",(A.current||0).toLocaleString()]})})]}),c.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[c.jsxs("span",{children:["Deadline: ",new Date(A.deadline).toLocaleDateString()]}),!R&&E>0&&L>0&&c.jsxs("span",{children:["Need $",L.toLocaleString(),"/day"]})]})]})]}):c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:c.jsx(Yt,{className:"text-red-600 dark:text-red-400",size:24})}),c.jsxs("p",{className:"text-slate-800 dark:text-white font-medium mb-4",children:['Delete "',A.name,'"?']}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"This action cannot be undone."}),c.jsxs("div",{className:"flex gap-3 justify-center",children:[c.jsx("button",{onClick:()=>g(A.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Goal"}),c.jsx("button",{onClick:y,className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition-colors font-medium",children:"Cancel"})]})]})})},A.id)})})]}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-lg border border-slate-200 dark:border-slate-700 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Create Financial Goal"}),c.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:c.jsx(Dc,{size:20})})]}),c.jsxs("form",{onSubmit:P,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),c.jsxs("select",{value:d.type,onChange:A=>f({...d,type:A.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[c.jsx("option",{value:"savings",children:" Savings Goal"}),c.jsx("option",{value:"debt",children:" Debt Payoff"}),c.jsx("option",{value:"investment",children:" Investment Target"}),c.jsx("option",{value:"purchase",children:" Large Purchase"}),c.jsx("option",{value:"emergency",children:" Emergency Fund"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name"}),c.jsx("input",{type:"text",value:d.name,onChange:A=>f({...d,name:A.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Emergency Fund, New Car, Pay off Credit Card",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),c.jsx("textarea",{value:d.description,onChange:A=>f({...d,description:A.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your goal and why it matters to you",rows:"3"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Amount"}),c.jsx("input",{type:"number",value:d.current,onChange:A=>f({...d,current:Number(A.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Amount"}),c.jsx("input",{type:"number",value:d.target,onChange:A=>f({...d,target:Number(A.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000",required:!0,min:"1"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Deadline"}),c.jsx("input",{type:"date",value:d.deadline,onChange:A=>f({...d,deadline:A.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:new Date().toISOString().split("T")[0]})]}),d.target>0&&d.deadline&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium mb-1",children:"Goal Calculation:"}),c.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["To reach $",d.target.toLocaleString()," by ",new Date(d.deadline).toLocaleDateString(),", you need to save $",Math.ceil((d.target-d.current)/Math.max(1,Math.ceil((new Date(d.deadline)-new Date)/(1e3*60*60*24)))).toLocaleString()," per day."]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium",children:"Cancel"}),c.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white rounded-lg transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Create Goal"})]})]})]})})]})},rae=({weeklyCosts:t,openModal:e,handleDelete:r})=>{const[n,i]=B.useState(""),[a,o]=B.useState("all"),[u,d]=B.useState({key:"amount",direction:"desc"}),f=["all","Payroll","Fuel & Maintenance","Equipment Rental","Utilities","Insurance","Marketing","Office Expenses","Supplies","Contractors","Other"],p=B.useMemo(()=>t.filter(_=>{const b=_.name.toLowerCase().includes(n.toLowerCase())||_.notes&&_.notes.toLowerCase().includes(n.toLowerCase()),P=a==="all"||_.category===a;return b&&P}).sort((_,b)=>{if(u.key==="amount"){const P=parseFloat(_.amount)||0,A=parseFloat(b.amount)||0;return u.direction==="asc"?P-A:A-P}return u.key==="name"?u.direction==="asc"?_.name.localeCompare(b.name):b.name.localeCompare(_.name):0}),[t,n,a,u]),g=B.useMemo(()=>{const S=t.reduce((E,N)=>E+(parseFloat(N.amount)||0),0),_=S*4.33,b=S*52,P=t.reduce((E,N)=>(parseFloat(N.amount)||0)>E?parseFloat(N.amount)||0:E,0),A=t.length>0?S/t.length:0,O=t.reduce((E,N)=>{const T=N.category||"Other";return E[T]=(E[T]||0)+(parseFloat(N.amount)||0),E},{}),R=Object.entries(O).reduce((E,[N,T])=>T>(E.amount||0)?{category:N,amount:T}:E,{category:"None",amount:0});return{totalWeekly:S,totalMonthly:_,totalAnnual:b,highestCost:P,averageCost:A,categoryTotals:O,topCategory:R,itemCount:t.length}},[t]),y=S=>{d(_=>({key:S,direction:_.key===S&&_.direction==="desc"?"asc":"desc"}))},x=()=>{if(t.length===0){alert("No weekly costs to export.");return}try{const S=["Name","Weekly Amount","Monthly Amount (4.33x)","Annual Amount (52x)","Category","Notes"],_=t.map(R=>[R.name||"",(parseFloat(R.amount)||0).toFixed(2),((parseFloat(R.amount)||0)*4.33).toFixed(2),((parseFloat(R.amount)||0)*52).toFixed(2),R.category||"Other",R.notes||""]),b=[S.join(","),..._.map(R=>R.map(E=>typeof E=="string"&&E.includes(",")?`"${E}"`:E).join(","))].join(`
`),P=new Blob([b],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a"),O=URL.createObjectURL(P);A.setAttribute("href",O),A.setAttribute("download",`weekly_costs_${new Date().toISOString().split("T")[0]}.csv`),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A),alert(`Successfully exported ${t.length} weekly costs!`)}catch(S){console.error("Error exporting CSV:",S),alert("Failed to export CSV: "+S.message)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Weekly Total"}),c.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",g.totalWeekly.toLocaleString()]})]}),c.jsx(Lm,{className:"text-red-600 dark:text-red-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[g.itemCount," cost items"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Impact"}),c.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",g.totalMonthly.toLocaleString()]})]}),c.jsx(Pa,{className:"text-orange-600 dark:text-orange-400",size:24})]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x4.33 weeks/month"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Impact"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",g.totalAnnual.toLocaleString()]})]}),c.jsx(Dm,{className:"text-purple-600 dark:text-purple-400",size:24})]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x52 weeks/year"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Category"}),c.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:g.topCategory.category})]}),c.jsx(fn,{className:"text-blue-600 dark:text-blue-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",g.topCategory.amount.toLocaleString(),"/week"]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Weekly Costs"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your regular weekly business expenses"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:x,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(An,{size:16}),"Export CSV"]}),c.jsxs("button",{onClick:()=>e("weekly"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(hn,{size:16}),"Add Weekly Cost"]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(Na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Search weekly costs...",value:n,onChange:S=>i(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Mc,{className:"text-slate-400",size:16}),c.jsx("select",{value:a,onChange:S=>o(S.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:f.map(S=>c.jsx("option",{value:S,children:S==="all"?"All Categories":S},S))})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("name"),children:c.jsxs("div",{className:"flex items-center gap-1",children:["Cost Item",u.key==="name"&&c.jsx("span",{children:u.direction==="asc"?"":""})]})}),c.jsx("th",{className:"p-3",children:"Category"}),c.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("amount"),children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Weekly Amount",u.key==="amount"&&c.jsx("span",{children:u.direction==="asc"?"":""})]})}),c.jsx("th",{className:"p-3 text-right",children:"Monthly Impact"}),c.jsx("th",{className:"p-3 text-right",children:"Annual Impact"}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:p.length>0?p.map(S=>{const _=parseFloat(S.amount)||0,b=_*4.33,P=_*52;return c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[c.jsx("td",{className:"p-3",children:c.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:S.name})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:S.category||"Other"})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",_.toFixed(2)]})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",b.toFixed(2)]})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",P.toLocaleString()]})}),c.jsx("td",{className:"p-3 max-w-xs",children:c.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:S.notes&&S.notes.length>50?`${S.notes.substring(0,50)}...`:S.notes||""})}),c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>e("weekly",S),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit cost",children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>r("weekly",S.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete cost",children:c.jsx(Yt,{size:16})})]})})]},S.id)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||a!=="all"?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Na,{size:24,className:"text-slate-400"}),c.jsx("span",{children:"No weekly costs match your search criteria"}),c.jsx("button",{onClick:()=>{i(""),o("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(fn,{size:24,className:"text-slate-400"}),c.jsx("span",{children:"No weekly costs added yet"}),c.jsx("button",{onClick:()=>e("weekly"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first weekly cost"})]})})})})]})}),p.length>0&&c.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:c.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",p.length," of ",t.length," costs"]})}),c.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[c.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["Weekly: $",p.reduce((S,_)=>S+(parseFloat(_.amount)||0),0).toFixed(2)]}),c.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:["Monthly: $",(p.reduce((S,_)=>S+(parseFloat(_.amount)||0),0)*4.33).toFixed(2)]}),c.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:["Annual: $",(p.reduce((S,_)=>S+(parseFloat(_.amount)||0),0)*52).toLocaleString()]})]})]})})]}),g.highestCost>1e3&&c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(nf,{className:"text-amber-600 dark:text-amber-400",size:20}),c.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"High Weekly Cost Alert"})]}),c.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["You have a weekly cost of $",g.highestCost.toLocaleString(),", which amounts to $",(g.highestCost*52).toLocaleString()," annually. Consider reviewing this expense for potential savings opportunities."]})]})]})},nae=({bills:t,paidStatus:e,selectedCategory:r,setSelectedCategory:n,handleTogglePaid:i,handleSort:a,openModal:o,handleDelete:u,handleEnhancedExportCSV:d})=>{const[f,p]=B.useState(""),[g,y]=B.useState("dueDay"),[x,S]=B.useState("asc"),[_,b]=B.useState("all"),[P,A]=B.useState("all"),[O,R]=B.useState("all"),[E,N]=B.useState(!1),T=new Date,C=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),L=new Date(C.getTime()+6*24*60*60*1e3),I=new Date(L.getTime()+1*24*60*60*1e3),D=new Date(I.getTime()+6*24*60*60*1e3),V=new Date(T.getFullYear(),T.getMonth(),1),$=new Date(T.getFullYear(),T.getMonth()+1,0),ee=B.useMemo(()=>{let J=t.filter(ae=>{if(r&&ae.category!==r||f&&!ae.name.toLowerCase().includes(f.toLowerCase())||_==="paid"&&!e[ae.id]||_==="unpaid"&&e[ae.id]||O==="under100"&&ae.amount>=100||O==="100to500"&&(ae.amount<100||ae.amount>500)||O==="over500"&&ae.amount<=500)return!1;if(P!=="all"&&ae.dueDay){const z=new Date(T.getFullYear(),T.getMonth(),ae.dueDay);switch(z<T&&z.setMonth(z.getMonth()+1),P){case"overdue":if(z>=T)return!1;break;case"thisWeek":if(z<C||z>L)return!1;break;case"nextWeek":if(z<I||z>D)return!1;break;case"thisMonth":if(z<V||z>$)return!1;break}}return!0});return J.sort((ae,z)=>{let Y=ae[g],K=z[g];g==="status"&&(Y=e[ae.id]?"paid":"unpaid",K=e[z.id]?"paid":"unpaid"),typeof Y=="string"&&(Y=Y.toLowerCase(),K=K.toLowerCase());let le=0;return Y<K&&(le=-1),Y>K&&(le=1),x==="desc"?-le:le}),J},[t,r,f,_,P,O,g,x,e,T]),ne=J=>{g===J?S(x==="asc"?"desc":"asc"):(y(J),S("asc"))},Q=()=>{p(""),y("dueDay"),S("asc"),b("all"),A("all"),R("all"),n(null)},ie=B.useMemo(()=>{let J=0;return f&&J++,r&&J++,_!=="all"&&J++,P!=="all"&&J++,O!=="all"&&J++,J},[f,r,_,P,O]),Z=({type:J,label:ae})=>{const z=H.useRef(null);return c.jsxs("div",{className:"inline-block",children:[c.jsx("input",{ref:z,type:"file",accept:".csv",onChange:Y=>{Y.target.files[0]&&(window.handleEnhancedCSVImport?.(Y.target.files[0],J),Y.target.value="")},style:{display:"none"}}),c.jsxs("button",{onClick:()=>z.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Ms,{size:16}),ae]})]})};return c.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),r&&c.jsxs("button",{onClick:()=>n(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",r]}),ie>0&&c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:[ie," filter",ie!==1?"s":""," active"]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Z,{type:"bill",label:"Import"}),c.jsxs("button",{onClick:()=>d(ee,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(An,{size:16})," Export"]})]})]}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Search bills by name...",value:f,onChange:J=>p(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),f&&c.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:c.jsx(Dc,{size:16})})]}),c.jsxs("button",{onClick:()=>N(!E),className:`flex items-center gap-2 px-4 py-2 rounded-md border transition-colors ${E?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[c.jsx(Mc,{size:16}),"Filters",c.jsx(ld,{className:`transition-transform ${E?"rotate-180":""}`,size:16})]}),ie>0&&c.jsx("button",{onClick:Q,className:"px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:"Clear All"})]}),E&&c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Sort By"}),c.jsxs("select",{value:`${g}-${x}`,onChange:J=>{const[ae,z]=J.target.value.split("-");y(ae),S(z)},className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[c.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),c.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),c.jsx("option",{value:"dueDay-asc",children:"Due Date (Early)"}),c.jsx("option",{value:"dueDay-desc",children:"Due Date (Late)"}),c.jsx("option",{value:"amount-asc",children:"Amount (Low-High)"}),c.jsx("option",{value:"amount-desc",children:"Amount (High-Low)"}),c.jsx("option",{value:"status-asc",children:"Status (Unpaid First)"}),c.jsx("option",{value:"status-desc",children:"Status (Paid First)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Payment Status"}),c.jsxs("select",{value:_,onChange:J=>b(J.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Bills"}),c.jsx("option",{value:"unpaid",children:"Unpaid Only"}),c.jsx("option",{value:"paid",children:"Paid Only"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Due Date"}),c.jsxs("select",{value:P,onChange:J=>A(J.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Dates"}),c.jsx("option",{value:"overdue",children:"Overdue"}),c.jsx("option",{value:"thisWeek",children:"This Week"}),c.jsx("option",{value:"nextWeek",children:"Next Week"}),c.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Amount Range"}),c.jsxs("select",{value:O,onChange:J=>R(J.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Amounts"}),c.jsx("option",{value:"under100",children:"Under $100"}),c.jsx("option",{value:"100to500",children:"$100 - $500"}),c.jsx("option",{value:"over500",children:"Over $500"})]})]})]}),c.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Showing ",ee.length," of ",t.length," bills",ie>0&&` with ${ie} filter${ie!==1?"s":""} applied`]})})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>ne("status"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Status",g==="status"&&(x==="asc"?c.jsx(wo,{size:14}):c.jsx(bo,{size:14}))]})}),c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>ne("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Name",g==="name"&&(x==="asc"?c.jsx(wo,{size:14}):c.jsx(bo,{size:14}))]})}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3",children:"Receipt"}),c.jsx("th",{className:"p-3 text-right",children:c.jsxs("button",{onClick:()=>ne("amount"),className:"flex items-center gap-1 ml-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Amount",g==="amount"&&(x==="asc"?c.jsx(wo,{size:14}):c.jsx(bo,{size:14}))]})}),c.jsx("th",{className:"p-3 text-center",children:c.jsxs("button",{onClick:()=>ne("dueDay"),className:"flex items-center gap-1 mx-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Due Day",g==="dueDay"&&(x==="asc"?c.jsx(wo,{size:14}):c.jsx(bo,{size:14}))]})}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{children:ee.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:t.length===0?c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills added yet"}),c.jsx("p",{className:"text-sm",children:'Click "Add New Bill" to get started'})]}):c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills match your filters"}),c.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):ee.map(J=>c.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${e[J.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[c.jsx("td",{className:"p-3",children:c.jsx("button",{onClick:()=>i(J.id),className:"hover:scale-110 transition-transform",children:e[J.id]?c.jsx(pi,{className:"text-green-500",size:20}):c.jsx(aD,{className:"text-slate-400 dark:text-slate-600",size:20})})}),c.jsxs("td",{className:`p-3 font-medium ${e[J.id]?"line-through":""}`,children:[J.name,J.category&&c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:J.category})]}),c.jsx("td",{className:"p-3 text-center",children:J.notes&&c.jsxs("div",{className:"group relative flex justify-center",children:[c.jsx(oD,{size:16,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}),c.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-slate-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:J.notes})]})}),c.jsx("td",{className:"p-3 text-center",children:J.attachmentURL?c.jsx("a",{href:J.attachmentURL,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform inline-block",children:c.jsx(XT,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):c.jsx(XT,{size:16,className:"text-slate-400 dark:text-slate-600"})}),c.jsxs("td",{className:"p-3 text-right font-mono font-semibold",children:["$",(J.amount||0).toFixed(2)]}),c.jsx("td",{className:"p-3 text-center font-medium",children:J.dueDay}),c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>o("bill",J),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit bill",children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>u("bill",J.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete bill",children:c.jsx(Yt,{size:16})})]})})]},J.id))})]})}),c.jsxs("button",{onClick:()=>o("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold transition-colors",children:[c.jsx(hn,{size:18}),"Add New Bill"]})]})},iae=({type:t,label:e,acceptTypes:r=".csv"})=>{const n=H.useRef(null);return c.jsxs("div",{className:"inline-block",children:[c.jsx("input",{ref:n,type:"file",accept:r,onChange:i=>{i.target.files[0]&&(window.handleEnhancedCSVImport?.(i.target.files[0],t),i.target.value="")},style:{display:"none"}}),c.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Ms,{size:16}),e]})]})},aae=({recurringWork:t,openModal:e,handleDelete:r,handleEnhancedExportCSV:n,searchTerm:i,setSearchTerm:a})=>{const o=H.useMemo(()=>t.filter(u=>Object.values(u).some(d=>String(d).toLowerCase().includes(i.toLowerCase()))),[t,i]);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Work Management"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(iae,{type:"recurring",label:"Import"}),c.jsxs("button",{onClick:()=>n(t,"recurring_work",["name","clientId","revenue","frequency","nextDueDate","notes"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(An,{size:16}),"Export"]}),c.jsxs("button",{onClick:()=>e("recurring"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(hn,{size:18}),"Add Recurring Work"]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsx("input",{type:"text",placeholder:"Search recurring work...",value:i,onChange:u=>a(u.target.value),className:"w-full px-4 py-2 border rounded-md bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:ring-cyan-500 focus:border-cyan-500"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Work Name"}),c.jsx("th",{className:"p-3",children:"Client ID"}),c.jsx("th",{className:"p-3 text-right",children:"Revenue"}),c.jsx("th",{className:"p-3",children:"Frequency"}),c.jsx("th",{className:"p-3",children:"Next Due Date"}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{children:o.length>0?o.map(u=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:u.name}),c.jsx("td",{className:"p-3",children:u.clientId}),c.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(u.revenue||0).toFixed(2)]}),c.jsx("td",{className:"p-3",children:u.frequency}),c.jsx("td",{className:"p-3",children:u.nextDueDate}),c.jsx("td",{className:"p-3 text-sm text-slate-500",children:u.notes}),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>e("recurring",u),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>r("recurring",u.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(Yt,{size:16})})]})]},u.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"p-6 text-center text-slate-500",children:"No recurring work found."})})})]})})]})},sae=({currentView:t,setCurrentView:e,onAddOrderClick:r})=>c.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[t!=="dashboard"?c.jsx("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-full hover:bg-gray-100",children:c.jsx(n8,{size:24})}):c.jsx(ga,{className:"h-8 w-8 text-blue-600"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Dispatch"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>e("billing"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(An,{size:20})," Billing"]}),c.jsxs("button",{onClick:()=>e("reporting"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(s8,{size:20})," Reporting"]}),c.jsxs("button",{onClick:()=>e("route"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(h8,{size:20})," Route"]}),c.jsxs("button",{onClick:()=>e("dispatch"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(Lm,{size:20})," Dispatch"]}),c.jsxs("button",{onClick:()=>e("customers"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(ap,{size:20})," Customers"]}),c.jsxs("button",{onClick:()=>e("technicians"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(Z1,{size:20})," Technicians"]}),c.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(hn,{size:20})," Add Work Order"]})]})]})})}),oae=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,lae=t=>{const e=oae(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},cae=t=>{if(!t)return"";const[e,r]=t.split(":"),n=parseInt(e,10),i=n>=12?"PM":"AM";return`${(n+11)%12+1}:${r} ${i}`},HI=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",uae=t=>({completed:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",open:"bg-yellow-100 text-yellow-800","in progress":"bg-purple-100 text-purple-800","on hold":"bg-pink-100 text-pink-800",cancelled:"bg-red-100 text-red-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",dae=({order:t,onSelectOrder:e})=>c.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden border-l-4",style:{borderColor:HI(t.Priority).borderColor},children:[c.jsxs("div",{className:"p-5",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:`text-xs font-bold uppercase px-2 py-1 rounded-full ${HI(t.Priority)}`,children:t.Priority}),c.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${uae(t["Order Status"])}`,children:t["Order Status"]})]}),c.jsxs("p",{className:"text-xs text-gray-500 font-semibold mt-3 flex items-center",children:[c.jsx(iD,{size:12,className:"mr-1.5"})," ",t.Client]}),c.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:[t.Company," - #",t["Loc #"]]}),c.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t.Task}),c.jsxs("div",{className:"mt-4 space-y-2 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Z1,{className:"w-4 h-4 mr-2 text-gray-400"}),c.jsx("span",{children:t.technician?.join(", ")||"Unassigned"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Lm,{className:"w-4 h-4 mr-2 text-gray-400"}),c.jsxs("span",{children:["Scheduled: ",lae(t["Schedule Date"])||"Not Set"," ",t.startTime&&`(${cae(t.startTime)})`]})]}),t.clientWO&&c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-bold mr-2",children:"Client WO:"}),c.jsx("span",{children:t.clientWO})]})]})]}),c.jsx("div",{className:"bg-gray-50 px-5 py-3",children:c.jsx("button",{onClick:()=>e(t),className:"w-full text-sm font-semibold text-blue-600 hover:text-blue-800 transition-colors",children:"View Details"})})]}),fae=({orders:t,onSelectOrder:e,searchTerm:r,setSearchTerm:n,statusFilter:i,setStatusFilter:a})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-8",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"relative md:col-span-2",children:[c.jsx(Na,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search by WO#, Client, Location, Tech...",value:r,onChange:o=>n(o.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsxs("select",{value:i,onChange:o=>a(o.target.value),className:"w-full appearance-none pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[c.jsx("option",{children:"All"}),c.jsx("option",{children:"Open"}),c.jsx("option",{children:"Scheduled"}),c.jsx("option",{children:"In Progress"}),c.jsx("option",{children:"On Hold"}),c.jsx("option",{children:"Completed"}),c.jsx("option",{children:"Cancelled"})]}),c.jsx(ld,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})]})}),t.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>c.jsx(dae,{order:o,onSelectOrder:e},o.id))}):c.jsxs("div",{className:"text-center py-16 px-6 bg-white rounded-lg shadow-sm",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"No Work Orders Found"}),c.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your search or filter criteria."})]})]}),hae=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,pae=t=>t?t.getTime()/864e5+25569:null,mae=t=>{const e=hae(t);return e?e.toISOString().split("T")[0]:""},gae=t=>t?pae(new Date(t+"T00:00:00")):null,GI=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",vae=t=>({available:"bg-green-100 text-green-800","on site":"bg-blue-100 text-blue-800","en route":"bg-yellow-100 text-yellow-800","on break":"bg-gray-100 text-gray-800","on call":"bg-teal-100 text-teal-800","day off":"bg-slate-200 text-slate-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",yae=({workOrders:t,technicians:e,onSelectOrder:r,onUpdateOrder:n})=>{const[i,a]=B.useState(new Date().toISOString().split("T")[0]),o=Array.from({length:13},(b,P)=>P+7),u=e.filter(b=>b.name!=="Unassigned"),d=b=>{const P=u.findIndex(A=>A.name===b);return P===-1?-1:P+2},f=b=>{if(!b)return 0;const[P,A]=b.split(":").map(Number);return isNaN(P)||isNaN(A)?0:(P-7)*4+A/15+2},p=t.filter(b=>mae(b["Schedule Date"])===i&&b.startTime&&b.endTime&&b.technician?.length>0),g=t.filter(b=>b["Order Status"]==="Open"||!b.technician||b.technician.length===0).sort((b,P)=>{const A={Emergency:1,Urgent:2,Regular:3,Low:4};return(A[b.Priority]||5)-(A[P.Priority]||5)}),y=(b,P)=>{b.dataTransfer.setData("workOrder",JSON.stringify(P))},x=(b,P,A)=>{b.preventDefault();const O=JSON.parse(b.dataTransfer.getData("workOrder")),R=A,E=`${String(parseInt(A.split(":")[0])+2).padStart(2,"0")}:${A.split(":")[1]}`;n(O.id,{...O,technician:[P],"Schedule Date":gae(i),startTime:R,endTime:E,"Order Status":"Scheduled"})},S=b=>{b.preventDefault();const P=JSON.parse(b.dataTransfer.getData("workOrder"));n(P.id,{...P,technician:[],"Schedule Date":null,startTime:null,endTime:null,"Order Status":"Open"})},_=b=>b.preventDefault();return c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Dispatch Board"}),c.jsx("input",{type:"date",value:i,onChange:b=>a(b.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"w-1/4 bg-white p-4 rounded-lg shadow-sm",onDrop:S,onDragOver:_,children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Unassigned Jobs"}),c.jsx("div",{className:"space-y-2 max-h-[70vh] overflow-y-auto",children:g.map(b=>c.jsxs("div",{draggable:!0,onDragStart:P=>y(P,b),className:`p-2 border-l-4 rounded cursor-grab ${GI(b.Priority)}`,children:[c.jsx("p",{className:"font-bold text-sm",children:b.Company}),c.jsx("p",{className:"text-xs text-gray-600",children:b.Task})]},b.id))})]}),c.jsx("div",{className:"w-3/4 bg-white p-4 rounded-lg shadow-sm overflow-x-auto",children:c.jsxs("div",{className:"grid gap-px bg-gray-200 min-w-max",style:{gridTemplateColumns:`60px repeat(${u.length}, minmax(200px, 1fr))`,gridTemplateRows:`auto repeat(${o.length*4}, 20px)`},children:[c.jsx("div",{className:"bg-gray-100 sticky top-0 z-10"}),u.map(b=>c.jsxs("div",{className:"bg-gray-100 text-center font-bold p-2 sticky top-0 z-10 flex flex-col",children:[c.jsx("span",{children:b.name}),c.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full mt-1 ${vae(b.status)}`,children:b.status})]},b.id)),o.map(b=>c.jsxs(H.Fragment,{children:[c.jsxs("div",{className:"row-start-auto bg-gray-50 text-right pr-2 text-xs text-gray-500 -translate-y-2 sticky left-0 z-10",style:{gridRow:(b-7)*4+2},children:[b>12?b-12:b,":00 ",b>=12?"PM":"AM"]}),u.map((P,A)=>c.jsx(H.Fragment,{children:Array.from({length:4}).map((O,R)=>c.jsx("div",{onDrop:E=>x(E,P.name,`${String(b).padStart(2,"0")}:${String(R*15).padStart(2,"0")}`),onDragOver:_,className:"border-t border-gray-200",style:{gridRow:(b-7)*4+R+2,gridColumn:A+2}},`${P.id}-${b}-${R}`))},P.id))]},b)),p.flatMap(b=>b.technician.map(P=>{const A=d(P),O=f(b.startTime),R=f(b.endTime);return A<0||!O||!R||R<=O?null:c.jsxs("div",{draggable:!0,onDragStart:E=>y(E,b),className:`p-2 m-px rounded-lg text-xs cursor-grab overflow-hidden ${GI(b.Priority)}`,style:{gridColumn:A,gridRow:`${O} / ${R}`},onClick:()=>r(b),children:[c.jsx("p",{className:"font-bold truncate",children:b.Company}),c.jsx("p",{className:"truncate",children:b.Task})]},`${b.id}-${P}`)}))]})})]})]})},xae=t=>({"national account":"bg-blue-100 text-blue-800",commercial:"bg-purple-100 text-purple-800",residential:"bg-green-100 text-green-800",maintenance:"bg-yellow-100 text-yellow-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",bae=({onClose:t,onAddCustomer:e})=>{const[r,n]=B.useState(""),[i,a]=B.useState("Commercial"),[o,u]=B.useState(""),[d,f]=B.useState(""),[p,g]=B.useState(""),[y,x]=B.useState(""),[S,_]=B.useState(""),[b,P]=B.useState("MI"),[A,O]=B.useState(""),R=E=>{if(E.preventDefault(),!r.trim()){alert("Customer name cannot be empty.");return}e({name:r,type:i,contact:{name:o,email:d,phone:p},billingAddress:{street:y,city:S,state:b,zip:A},locations:[]}),t()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:R,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Customer"})}),c.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),c.jsx("input",{type:"text",value:r,onChange:E=>n(E.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),c.jsxs("select",{value:i,onChange:E=>a(E.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Commercial"}),c.jsx("option",{children:"Residential"}),c.jsx("option",{children:"National Account"}),c.jsx("option",{children:"Maintenance"})]})]})]}),c.jsxs("div",{className:"pt-4 border-t",children:[c.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Name"}),c.jsx("input",{value:o,onChange:E=>u(E.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Email"}),c.jsx("input",{value:d,onChange:E=>f(E.target.value),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Phone"}),c.jsx("input",{value:p,onChange:E=>g(E.target.value),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),c.jsxs("div",{className:"pt-4 border-t",children:[c.jsx("h3",{className:"font-semibold",children:"Billing Address"}),c.jsxs("div",{className:"mt-2",children:[c.jsx("label",{className:"text-xs",children:"Street"}),c.jsx("input",{value:y,onChange:E=>x(E.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"City"}),c.jsx("input",{value:S,onChange:E=>_(E.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"State"}),c.jsx("input",{value:b,onChange:E=>P(E.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Zip"}),c.jsx("input",{value:A,onChange:E=>O(E.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Customer"})]})]})})},wae=({customer:t,onClose:e,onUpdateCustomer:r})=>{const[n,i]=B.useState(t),a=(u,d=null)=>{const{name:f,value:p}=u.target;i(d?g=>({...g,[d]:{...g[d],[f]:p}}):g=>({...g,[f]:p}))},o=u=>{u.preventDefault(),r(n),e()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:o,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Customer"})}),c.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),c.jsx("input",{type:"text",name:"name",value:n.name,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),c.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Commercial"}),c.jsx("option",{children:"Residential"}),c.jsx("option",{children:"National Account"}),c.jsx("option",{children:"Maintenance"})]})]})]}),c.jsxs("div",{className:"pt-4 border-t",children:[c.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Name"}),c.jsx("input",{name:"name",value:n.contact.name,onChange:u=>a(u,"contact"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Email"}),c.jsx("input",{name:"email",value:n.contact.email,onChange:u=>a(u,"contact"),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Phone"}),c.jsx("input",{name:"phone",value:n.contact.phone,onChange:u=>a(u,"contact"),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),c.jsxs("div",{className:"pt-4 border-t",children:[c.jsx("h3",{className:"font-semibold",children:"Billing Address"}),c.jsxs("div",{className:"mt-2",children:[c.jsx("label",{className:"text-xs",children:"Street"}),c.jsx("input",{name:"street",value:n.billingAddress.street,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"City"}),c.jsx("input",{name:"city",value:n.billingAddress.city,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"State"}),c.jsx("input",{name:"state",value:n.billingAddress.state,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Zip"}),c.jsx("input",{name:"zip",value:n.billingAddress.zip,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},_ae=({customer:t,onClose:e,onAddLocation:r})=>{const[n,i]=B.useState(""),[a,o]=B.useState(""),[u,d]=B.useState(""),[f,p]=B.useState("MI"),g=y=>{if(y.preventDefault(),!n.trim()){alert("Location name cannot be empty.");return}r(t.id,{name:n,locNum:a,city:u,state:f}),e()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:g,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Add Location to ",t.name]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location Name"}),c.jsx("input",{type:"text",value:n,onChange:y=>i(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location #"}),c.jsx("input",{type:"text",value:a,onChange:y=>o(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"City"}),c.jsx("input",{type:"text",value:u,onChange:y=>d(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"State"}),c.jsx("input",{type:"text",value:f,onChange:y=>p(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Add Location"})]})]})})},Sae=({customers:t,onAddCustomer:e,onUpdateCustomer:r,onAddLocation:n})=>{const[i,a]=B.useState(!1),[o,u]=B.useState(null),[d,f]=B.useState(null);return c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Customer Management"}),c.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[c.jsx(hn,{size:20})," Add New Customer"]})]}),c.jsx("div",{className:"space-y-4",children:t.map(p=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:p.name}),c.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${xae(p.type)}`,children:p.type})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>u(p),className:"text-sm text-blue-600 hover:underline",children:"Edit Details"}),c.jsx("button",{onClick:()=>f(p),className:"text-sm text-green-600 hover:underline",children:"Add Location"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-semibold text-gray-600",children:"Primary Contact"}),c.jsxs("p",{className:"flex items-center gap-2",children:[c.jsx(Z1,{size:14})," ",p.contact.name]}),c.jsxs("p",{className:"flex items-center gap-2",children:[c.jsx(Sp,{size:14})," ",p.contact.email]}),c.jsxs("p",{className:"flex items-center gap-2",children:[c.jsx(kp,{size:14})," ",p.contact.phone]})]}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-semibold text-gray-600",children:"Billing Address"}),c.jsx("p",{children:p.billingAddress.street}),c.jsxs("p",{children:[p.billingAddress.city,", ",p.billingAddress.state," ",p.billingAddress.zip]})]})]}),c.jsxs("div",{className:"mt-3 pt-3 border-t",children:[c.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-1",children:["Service Locations (",p.locations.length,")"]}),c.jsx("div",{className:"pl-4 border-l-2 space-y-1",children:p.locations.map((g,y)=>c.jsxs("div",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-semibold",children:g.name})," (#",g.locNum,") - ",g.city,", ",g.state]},`${g.name}-${g.locNum}-${y}`))})]})]},p.id))}),i&&c.jsx(bae,{onAddCustomer:e,onClose:()=>a(!1)}),o&&c.jsx(wae,{customer:o,onUpdateCustomer:r,onClose:()=>u(null)}),d&&c.jsx(_ae,{customer:d,onAddLocation:n,onClose:()=>f(null)})]})},kae=({onClose:t,onAdd:e})=>{const[r,n]=B.useState(""),[i,a]=B.useState(""),[o,u]=B.useState(""),d=f=>{f.preventDefault(),r.trim()&&(e({name:r,email:i,phone:o,status:"Available"}),t())};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:d,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Technician"})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),c.jsx("input",{type:"text",value:r,onChange:f=>n(f.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),c.jsx("input",{type:"email",value:i,onChange:f=>a(f.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:o,onChange:f=>u(f.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Technician"})]})]})})},jae=({technician:t,onClose:e,onUpdate:r})=>{const[n,i]=B.useState(t),a=u=>i(d=>({...d,[u.target.name]:u.target.value})),o=u=>{u.preventDefault(),r(n),e()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:o,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Technician"})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),c.jsx("input",{type:"text",name:"name",value:n.name,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),c.jsx("input",{type:"email",name:"email",value:n.email,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),c.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),c.jsxs("select",{name:"status",value:n.status,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Available"}),c.jsx("option",{children:"En Route"}),c.jsx("option",{children:"On Site"}),c.jsx("option",{children:"On Break"}),c.jsx("option",{children:"On Call"}),c.jsx("option",{children:"Day Off"})]})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},Eae=({technicians:t,onAddTechnician:e,onUpdateTechnician:r,onDeleteTechnician:n})=>{const[i,a]=B.useState(!1),[o,u]=B.useState(null);return c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Technician Management"}),c.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[c.jsx(hn,{size:20})," Add New Technician"]})]}),c.jsx("div",{className:"space-y-4",children:t.map(d=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d.name}),c.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4 mt-1",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(Sp,{size:14})," ",d.email]}),c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(kp,{size:14})," ",d.phone]})]})]}),d.name!=="Unassigned"&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>u(d),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:c.jsx(Qr,{size:16})}),c.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:c.jsx(Yt,{size:16})})]})]},d.id))}),i&&c.jsx(kae,{onAdd:e,onClose:()=>a(!1)}),o&&c.jsx(jae,{technician:o,onUpdate:r,onClose:()=>u(null)})]})},N3=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,Tae=t=>{const e=N3(t);return e?e.toISOString().split("T")[0]:""},Yh=t=>{if(!t)return"";const[e,r]=t.split(":"),n=parseInt(e,10),i=n>=12?"PM":"AM";return`${(n+11)%12+1}:${r} ${i}`},Aae=({workOrders:t,technicians:e})=>{const[r,n]=B.useState("ALL"),[i,a]=B.useState("today"),[o,u]=B.useState(new Date().toISOString().split("T")[0]),[d,f]=B.useState(new Date().toISOString().split("T")[0]),p=B.useMemo(()=>{let x=new Date,S=new Date;switch(i){case"today":x.setHours(0,0,0,0),S.setHours(23,59,59,999);break;case"3-day":x.setHours(0,0,0,0),S.setDate(x.getDate()+2),S.setHours(23,59,59,999);break;case"week":const P=x.getDay();x.setDate(x.getDate()-P),x.setHours(0,0,0,0),S.setDate(x.getDate()+6),S.setHours(23,59,59,999);break;case"custom":x=new Date(o+"T00:00:00"),S=new Date(d+"T23:59:59");break}const _=t.filter(P=>{const A=N3(P["Schedule Date"]);return A&&A>=x&&A<=S}),b=e.find(P=>P.id===r)?.name;return r!=="ALL"?_.filter(P=>P.technician.includes(b)).sort((P,A)=>(P.startTime||"").localeCompare(A.startTime||"")):_.sort((P,A)=>(P.startTime||"").localeCompare(A.startTime||""))},[r,t,e,i,o,d]),g=B.useMemo(()=>p.reduce((x,S)=>{const _=Tae(S["Schedule Date"]);return x[_]||(x[_]={}),S.technician.forEach(b=>{x[_][b]||(x[_][b]=[]),x[_][b].push(S)}),x},{}),[p]),y=()=>window.print();return c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Route Planning"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("select",{value:i,onChange:x=>a(x.target.value),className:"p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{value:"today",children:"Today"}),c.jsx("option",{value:"3-day",children:"Next 3 Days"}),c.jsx("option",{value:"week",children:"This Week"}),c.jsx("option",{value:"custom",children:"Custom Range"})]}),i==="custom"&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"date",value:o,onChange:x=>u(x.target.value),className:"p-2 border border-gray-300 rounded-lg"}),c.jsx("input",{type:"date",value:d,onChange:x=>f(x.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("select",{value:r,onChange:x=>n(x.target.value==="ALL"?"ALL":Number(x.target.value)),className:"p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{value:"ALL",children:"All Technicians"}),e.filter(x=>x.name!=="Unassigned").map(x=>c.jsx("option",{value:x.id,children:x.name},x.id))]}),c.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700",children:[c.jsx(g8,{size:20})," Print Route"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 print:col-span-3",children:[c.jsx("h3",{className:"font-bold text-lg mb-2",children:"Job Order"}),Object.keys(g).length>0?Object.entries(g).map(([x,S])=>c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"font-bold text-xl mb-2 p-2 bg-gray-200 rounded-md sticky top-20",children:new Date(x+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(S).map(([_,b])=>c.jsxs("div",{className:"mb-4",children:[r==="ALL"&&c.jsx("h5",{className:"font-bold text-md mb-2 p-2 bg-gray-100 rounded-md",children:_}),c.jsx("div",{className:"space-y-2",children:b.map((P,A)=>c.jsxs("div",{className:"p-3 border rounded-lg flex items-center gap-4",children:[c.jsx("span",{className:"text-xl font-bold text-gray-400",children:A+1}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold",children:[Yh(P.startTime)," - ",Yh(P.endTime)]}),c.jsxs("p",{children:[P.Company," - ",P.City]}),c.jsx("p",{className:"text-sm text-gray-600",children:P.Task})]})]},P.id))})]},_))]},x)):c.jsx("p",{children:"No jobs scheduled for this selection."})]}),c.jsx("div",{className:"md:col-span-2 bg-gray-200 rounded-lg flex items-center justify-center h-96 print:hidden",children:c.jsx("p",{className:"text-gray-500",children:"Map Placeholder"})})]}),c.jsx("style",{children:"@media print { body * { visibility: hidden; } .print-container, .print-container * { visibility: visible; } .print-container { position: absolute; left: 0; top: 0; width: 100%; } }"}),c.jsxs("div",{className:"print-container hidden print:block",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Route for ",r==="ALL"?"All Technicians":e.find(x=>x.id===r)?.name," on ",new Date(o+"T00:00:00").toLocaleDateString()]}),Object.entries(g).map(([x,S])=>c.jsxs("div",{className:"mb-4",children:[c.jsx("h3",{className:"font-bold text-lg mt-4 border-t pt-2",children:new Date(x+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(S).map(([_,b])=>c.jsxs("div",{className:"mb-2",children:[c.jsx("h4",{className:"font-semibold text-md mt-2",children:_}),b.map((P,A)=>c.jsxs("div",{className:"p-2 border-b",children:[c.jsx("p",{children:c.jsxs("strong",{children:[A+1,". ",Yh(P.startTime)," - ",Yh(P.endTime),": ",P.Company]})}),c.jsxs("p",{children:[P.Task," at ",P.City,", ",P.State]})]},P.id))]},_))]},x))]})]})},KI=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),Nae=({invoices:t,quotes:e})=>{const[r,n]=B.useState("invoices");return c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Billing"}),c.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[c.jsx(hn,{size:20})," Create Quote"]})]}),c.jsx("div",{className:"border-b border-gray-200",children:c.jsxs("nav",{className:"-mb-px flex gap-6",children:[c.jsx("button",{onClick:()=>n("invoices"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="invoices"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Invoices"}),c.jsx("button",{onClick:()=>n("quotes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="quotes"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Quotes"})]})}),c.jsxs("div",{className:"mt-6",children:[r==="invoices"&&c.jsx("div",{children:t.map(i=>c.jsxs("div",{children:[i.id," - ",i.customerName," - ",KI(i.amount)," - ",i.status]},i.id))}),r==="quotes"&&c.jsx("div",{children:e.map(i=>c.jsxs("div",{children:[i.id," - ",i.customerName," - ",KI(i.amount)," - ",i.status]},i.id))})]})]})},P3=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,C3=t=>t?t.getTime()/864e5+25569:null,Pae=t=>{const e=P3(t);return e?e.toISOString().split("T")[0]:""},Cae=t=>t?C3(new Date(t+"T00:00:00")):null,Oae=t=>t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",Iae=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),Rae=t=>{const e=P3(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},Mae=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",Dae=({order:t,onClose:e,onUpdate:r,onAddNote:n,technicians:i})=>{if(!t)return null;const[a,o]=B.useState(t["Order Status"]),[u,d]=B.useState(t.technician||[]),[f,p]=B.useState(Pae(t["Schedule Date"])),[g,y]=B.useState(t.startTime||""),[x,S]=B.useState(t.endTime||""),[_,b]=B.useState(""),[P,A]=B.useState(t.clientWO||""),O=N=>{const T=u.includes(N)?u.filter(C=>C!==N):[...u,N];d(T)},R=()=>{const N={};a!==t["Order Status"]&&(N["Order Status"]=a,a==="Completed"&&!t["Completed Date"]&&(N["Completed Date"]=C3(new Date))),JSON.stringify(u)!==JSON.stringify(t.technician)&&(N.technician=u);const T=Cae(f);(T!==t["Schedule Date"]||g!==t.startTime||x!==t.endTime)&&(N["Schedule Date"]=T,N.startTime=g,N.endTime=x,a==="Open"&&f&&(N["Order Status"]="Scheduled")),P!==t.clientWO&&(N.clientWO=P),Object.keys(N).length>0&&r(t.id,N)},E=[{label:"Work Order #",value:t["WO#"],icon:c.jsx(ga,{})},{label:"Client WO#",value:t.clientWO,icon:c.jsx(iD,{})},{label:"Location",value:`${t.Company} (#${t["Loc #"]})`,icon:c.jsx(qw,{})},{label:"Address",value:`${t.City}, ${t.State}`,icon:c.jsx(Fm,{})},{label:"Priority",value:t.Priority,icon:c.jsx(nf,{}),style:`${Mae(t.Priority)} px-2 py-0.5 rounded-full text-xs font-semibold`},{label:"Task",value:t.Task},{label:"NTE Amount",value:Iae(t.NTE)},{label:"Created Date",value:Rae(t["Created Date"])}];return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Work Order Details"}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Dc,{size:28})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:E.map(N=>c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 font-medium",children:N.label}),c.jsxs("span",{className:`text-base text-gray-900 font-semibold flex items-center gap-2 mt-1 ${N.style||""}`,children:[N.icon&&c.jsx("span",{className:"text-gray-400",children:H.cloneElement(N.icon,{size:16})}),c.jsx("span",{className:N.style||"",children:N.value})]})]},N.label))}),c.jsxs("div",{className:"mt-6 pt-6 border-t",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Job Management"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),c.jsxs("select",{value:a,onChange:N=>o(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Open"}),c.jsx("option",{children:"Scheduled"}),c.jsx("option",{children:"In Progress"}),c.jsx("option",{children:"On Hold"}),c.jsx("option",{children:"Completed"}),c.jsx("option",{children:"Cancelled"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Assigned Technicians"}),c.jsx("div",{className:"border p-2 rounded-lg max-h-24 overflow-y-auto",children:i.filter(N=>N.name!=="Unassigned").map(N=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:`tech-${N.id}`,checked:u.includes(N.name),onChange:()=>O(N.name),className:"mr-2"}),c.jsx("label",{htmlFor:`tech-${N.id}`,children:N.name})]},N.id))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),c.jsx("input",{type:"date",value:f,onChange:N=>p(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),c.jsx("input",{type:"time",value:g,onChange:N=>y(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),c.jsx("input",{type:"time",value:x,onChange:N=>S(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),c.jsx("input",{type:"text",value:P,onChange:N=>A(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx("button",{onClick:R,className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})})]}),c.jsxs("div",{className:"mt-6 pt-6 border-t",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center",children:[c.jsx(oD,{size:20,className:"mr-2"}),"Work Notes"]}),c.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto bg-gray-50 p-3 rounded-lg",children:t.notes&&t.notes.length>0?t.notes.sort((N,T)=>new Date(T.timestamp)-new Date(N.timestamp)).map((N,T)=>c.jsxs("div",{className:"text-sm bg-white p-2 rounded shadow-sm",children:[c.jsx("p",{className:"text-gray-800",children:N.text}),c.jsx("p",{className:"text-xs text-gray-500 mt-1 text-right",children:Oae(N.timestamp)})]},T)):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes for this job yet."})}),c.jsxs("div",{className:"mt-4",children:[c.jsx("textarea",{value:_,onChange:N=>b(N.target.value),placeholder:"Add a new note...",rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg"}),c.jsx("div",{className:"flex justify-end mt-2",children:c.jsx("button",{onClick:()=>n(t.id,_,()=>b("")),disabled:!_.trim(),className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Add Note"})})]})]})]})]})})},Lae=t=>t?t.getTime()/864e5+25569:null,$ae=t=>t?Lae(new Date(t+"T00:00:00")):null,Fae=({onClose:t,onAddOrder:e,customers:r})=>{const[n,i]=B.useState(r[0]?.id||""),[a,o]=B.useState(""),[u,d]=B.useState(""),[f,p]=B.useState("Regular"),[g,y]=B.useState("Heating & Cooling"),[x,S]=B.useState(""),[_,b]=B.useState(""),[P,A]=B.useState(""),[O,R]=B.useState(""),[E,N]=B.useState(""),T=B.useMemo(()=>r.find(I=>I.id===n),[n,r]);B.useEffect(()=>{if(T?.locations?.[0]){const I=T.locations[0];o(`${I.name}-${I.locNum}-0`)}else o("")},[T]);const C=I=>{o(I)},L=I=>{I.preventDefault();const[D,V]=a.split("-").slice(0,2),$=T.locations.find(ee=>ee.name===D&&ee.locNum===V);if(!n||!$||!u){alert("Please fill out all required fields.");return}e({Client:T.name,Company:$.name,"Loc #":$.locNum,Task:u,Priority:f,Category:g,City:$.city,State:$.state,NTE:parseFloat(x)||0,"Schedule Date":$ae(_),startTime:P,endTime:O,clientWO:E})};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:L,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Work Order"}),c.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(Dc,{size:28})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client"}),c.jsx("select",{value:n,onChange:I=>i(parseInt(I.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg",children:r.map(I=>c.jsx("option",{value:I.id,children:I.name},I.id))})]}),T&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location"}),c.jsx("select",{value:a,onChange:I=>C(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:T.locations.map((I,D)=>c.jsxs("option",{value:`${I.name}-${I.locNum}-${D}`,children:[I.name," (#",I.locNum,")"]},`${I.name}-${I.locNum}-${D}`))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),c.jsx("input",{type:"text",value:E,onChange:I=>N(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Task / Issue"}),c.jsx("textarea",{value:u,onChange:I=>d(I.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Priority"}),c.jsxs("select",{value:f,onChange:I=>p(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Regular"}),c.jsx("option",{children:"Low"}),c.jsx("option",{children:"Urgent"}),c.jsx("option",{children:"Emergency"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Category"}),c.jsxs("select",{value:g,onChange:I=>y(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Heating & Cooling"}),c.jsx("option",{children:"Refrigeration"}),c.jsx("option",{children:"Maintenance"}),c.jsx("option",{children:"Plumbing"}),c.jsx("option",{children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"NTE Amount ($)"}),c.jsx("input",{type:"number",value:x,onChange:I=>S(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"e.g., 500"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),c.jsx("input",{type:"date",value:_,onChange:I=>b(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),c.jsx("input",{type:"time",value:P,onChange:I=>A(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),c.jsx("input",{type:"time",value:O,onChange:I=>R(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),c.jsx("div",{className:"p-6 bg-gray-50 border-t mt-auto",children:c.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700",children:"Create Work Order"})})]})})},Vae={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},YI="hvac-master-dashboard",ok=oR(Vae),Uae=zR(ok),XI=a9(ok);Y9(ok);const Bae=()=>{const[t,e]=B.useState(null),[r,n]=B.useState(!0),[i,a]=B.useState("finance"),[o,u]=B.useState("dashboard"),[d,f]=B.useState([]),[p,g]=B.useState([]),[y,x]=B.useState([]),[S,_]=B.useState([]),[b,P]=B.useState([]),[A,O]=B.useState([]),[R,E]=B.useState([]),[N,T]=B.useState([]),[C,L]=B.useState([]),[I,D]=B.useState([]),[V,$]=B.useState([]),[ee,ne]=B.useState([]),[Q,ie]=B.useState([]),[Z,J]=B.useState([]),[ae,z]=B.useState([]),[Y,K]=B.useState([]),[le,fe]=B.useState([]),[ye,he]=B.useState(""),[me,ue]=B.useState("All"),[je,Ee]=B.useState(null),[W,pe]=B.useState(!1),[ge,Ae]=B.useState("dashboard"),[$e,Mt]=B.useState(!1),[Zr,Br]=B.useState(null),[qr,Qt]=B.useState("bill"),[Jt,Pn]=B.useState("dark"),[xi,bi]=B.useState({key:"dueDay",direction:"ascending"}),[Dt,Lt]=B.useState(""),[Qn,Fa]=B.useState(null),[Xi,Va]=B.useState(0),[Zt,Ko]=B.useState({start:new Date,end:new Date}),[Yo,Xo]=B.useState("monthly"),[Vs,Us]=B.useState(!0),[wi,Qi]=B.useState({});B.useEffect(()=>{const Ye=SF(Uae,lt=>{e(lt?lt.uid:null),n(!1)});return()=>Ye()},[]),B.useEffect(()=>{document.documentElement.className=Jt},[Jt]);const Ji=B.useMemo(()=>!Zt||!Zt.start?"":Zt.start.getFullYear()+"-"+String(Zt.start.getMonth()+1).padStart(2,"0"),[Zt]);B.useEffect(()=>{if(!t)return;const lt=Object.entries({bills:f,debts:g,incomes:x,weeklyCosts:_,jobs:P,tasks:O,invoices:E,taxPayments:T,goals:L,clients:J,inventory:D,vehicles:$,maintenanceLogs:ne,recurringWork:ie,workOrders:z,customers:K,technicians:fe}).map(([mt,er])=>UT(x9(n9(XI,"artifacts",YI,"users",t,mt)),On=>{er(On.docs.map(br=>({id:br.id,...br.data()})))},On=>console.error(`Error fetching ${mt}:`,On))),xt=UT(i9(XI,"artifacts",YI,"users",t,"paidStatus",Ji),mt=>{Qi(mt.exists()?mt.data().status:{})},mt=>console.error("Error fetching paid status:",mt));return()=>{lt.forEach(mt=>mt()),xt()}},[t,Ji]);const en=()=>Pn(Jt==="light"?"dark":"light"),xr=B.useMemo(()=>!Zt||!Zt.start||!Zt.end?[]:b.filter(Ye=>{if(!Ye.date)return!1;const lt=new Date(Ye.date);return lt>=Zt.start&&lt<=Zt.end}),[b,Zt]),Cn=B.useMemo(()=>{const Ye=y.reduce((br,tn)=>br+(tn.amount||0),0),lt=d.reduce((br,tn)=>br+(tn.amount||0),0),xt=S.reduce((br,tn)=>br+(tn.amount||0),0)*4.33,mt=lt+xt,er=Ye-mt,On=p.reduce((br,tn)=>br+((tn.totalAmount||0)-(tn.paidAmount||0)),0);return{totalIncome:Ye,totalOutflow:mt,netCashFlow:er,totalDebt:On}},[d,p,y,S]),Nr=B.useMemo(()=>{const Ye=xr.reduce((mt,er)=>mt+(er.revenue||0),0),lt=xr.reduce((mt,er)=>mt+(er.materialCost||0)+(er.laborCost||0),0),xt=Ye-lt;return{revenue:Ye,cogs:lt,grossProfit:xt}},[xr]),Bs=B.useMemo(()=>{const Ye=d.reduce((xt,mt)=>{const er=mt.category||"Uncategorized";return xt[er]=(xt[er]||0)+mt.amount,xt},{}),lt=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(Ye).map(([xt,mt],er)=>({name:xt,value:mt,color:lt[er%lt.length]})).sort((xt,mt)=>mt.value-xt.value)},[d]),_i=(Ye,lt)=>{},qs=(Ye,lt,xt)=>{},Jn=Ye=>{},zs=Ye=>{},Ot=Ye=>{},Ua=(Ye,lt)=>{},mn=Ye=>{},Zi=Ye=>{},ea=Ye=>{},lr=async(Ye,lt)=>{},gn=async Ye=>{},cr=(Ye,lt=null)=>{Qt(Ye),Br(lt),Mt(!0)},Wc=B.useMemo(()=>ae.filter(Ye=>(me==="All"||Ye["Order Status"]===me)&&Object.values(Ye).some(lt=>String(lt).toLowerCase().includes(ye.toLowerCase()))),[ae,ye,me]),Ba=()=>c.jsx("div",{className:"bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[c.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Business Financial Dashboard"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your company's finances."})]}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("button",{onClick:en,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:Jt==="light"?c.jsx(m8,{size:20}):c.jsx(v8,{size:20})})})]}),c.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[c.jsx("button",{onClick:()=>Ae("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),c.jsx("button",{onClick:()=>Ae("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="reports"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Reports"}),c.jsx("button",{onClick:()=>Ae("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="invoices"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Invoices"}),c.jsx("button",{onClick:()=>Ae("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="jobs"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Jobs"}),c.jsx("button",{onClick:()=>Ae("recurring"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="recurring"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Recurring"}),c.jsx("button",{onClick:()=>Ae("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="clients"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Clients"}),c.jsx("button",{onClick:()=>Ae("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="vehicles"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Vehicles"}),c.jsx("button",{onClick:()=>Ae("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="inventory"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Inventory"}),c.jsx("button",{onClick:()=>Ae("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="debts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Debt"}),c.jsx("button",{onClick:()=>Ae("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="incomes"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Income"}),c.jsx("button",{onClick:()=>Ae("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="weeklyCosts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Weekly Costs"}),c.jsx("button",{onClick:()=>Ae("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="goals"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Goals"}),c.jsx("button",{onClick:()=>Ae("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L"}),c.jsx("button",{onClick:()=>Ae("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="forecast"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Forecast"}),c.jsx("button",{onClick:()=>Ae("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="tax"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Tax"})]}),c.jsxs("main",{children:[ge==="dashboard"&&c.jsxs(c.Fragment,{children:[Vs&&c.jsx(Gie,{bills:d,paidStatus:wi,onClose:()=>Us(!1)}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[c.jsx(Oi,{title:"Total Monthly Income",value:`$${Cn.totalIncome.toLocaleString()}`,icon:c.jsx(a8,{size:24}),color:"green"}),c.jsx(Oi,{title:"Total Monthly Outflow",value:`$${Cn.totalOutflow.toLocaleString()}`,icon:c.jsx(r8,{size:24}),color:"red"}),c.jsx(Oi,{title:"Projected Net",value:`$${Cn.netCashFlow.toLocaleString()}`,icon:c.jsx(fn,{size:24}),color:Cn.netCashFlow>=0?"cyan":"amber"}),c.jsx(Oi,{title:"Outstanding Debt",value:`$${Cn.totalDebt.toLocaleString()}`,icon:c.jsx(nf,{size:24}),color:"orange"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[c.jsx(Oi,{title:"Gross Profit Margin",value:`${Nr.revenue>0?(Nr.grossProfit/Nr.revenue*100).toFixed(1):"0.0"}%`,icon:c.jsx(lD,{size:24}),color:"teal",subtext:"For selected period"}),c.jsx(Oi,{title:"Avg. Job Revenue",value:`$${(Nr.revenue/(xr.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(Pa,{size:24}),color:"indigo",subtext:`${xr.length} jobs`}),c.jsx(Oi,{title:"Avg. Job Profit",value:`$${(Nr.grossProfit/(xr.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(cd,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[c.jsx(nae,{bills:d,paidStatus:wi,setPaidStatus:Qi,selectedCategory:Qn,setSelectedCategory:Fa,handleTogglePaid:gn,handleSort:bi,openModal:cr,handleDelete:lr,handleEnhancedExportCSV:()=>{}}),c.jsx("div",{className:"lg:col-span-2 space-y-6",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),c.jsx(Kie,{data:Bs,onSliceClick:Fa})]})})]})]}),ge==="reports"&&c.jsx(Hie,{clients:Z,jobs:b,bills:d,inventory:I}),ge==="invoices"&&c.jsx(Bie,{invoices:R,openModal:cr,handleDelete:lr}),ge==="jobs"&&c.jsx(Qie,{jobs:b,clients:Z,openModal:cr,handleDelete:lr,searchTerm:Dt,setSearchTerm:Lt}),ge==="recurring"&&c.jsx(aae,{recurringWork:Q,openModal:cr,handleDelete:lr,searchTerm:Dt,setSearchTerm:Lt}),ge==="clients"&&c.jsx(qie,{clients:Z,openModal:cr,handleDelete:lr}),ge==="vehicles"&&c.jsx(zie,{vehicles:V,maintenanceLogs:ee,openModal:cr,handleDelete:lr}),ge==="inventory"&&c.jsx(Wie,{inventory:I,openModal:cr,handleDelete:lr}),ge==="debts"&&c.jsx(Zie,{debts:p,openModal:cr,handleDelete:lr}),ge==="incomes"&&c.jsx(eae,{incomes:y,openModal:cr,handleDelete:lr}),ge==="weeklyCosts"&&c.jsx(rae,{weeklyCosts:S,openModal:cr,handleDelete:lr}),ge==="goals"&&c.jsx(tae,{goalsWithProgress:[],openModal:cr}),ge==="pnl"&&c.jsx(Jie,{jobs:b,bills:d,weeklyCosts:S}),ge==="forecast"&&c.jsx(Yie,{invoices:R,bills:d,weeklyCosts:S}),ge==="tax"&&c.jsx(Uie,{jobs:b,bills:d,weeklyCosts:S,taxPayments:N,openModal:cr,handleDelete:lr})]})]})}),Qo=()=>{switch(o){case"customers":return c.jsx(Sae,{customers:Y,onAddCustomer:zs,onUpdateCustomer:Ot,onAddLocation:Ua});case"dispatch":return c.jsx(yae,{workOrders:ae,technicians:le,onSelectOrder:Ee,onUpdateOrder:_i});case"technicians":return c.jsx(Eae,{technicians:le,onAddTechnician:mn,onUpdateTechnician:Zi,onDeleteTechnician:ea});case"route":return c.jsx(Aae,{workOrders:ae,technicians:le});case"billing":return c.jsx(Nae,{invoices:R,quotes:[]});default:return c.jsx(fae,{orders:Wc,onSelectOrder:Ee,searchTerm:ye,setSearchTerm:he,statusFilter:me,setStatusFilter:ue})}};return r?c.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})}):t?c.jsx("div",{className:Jt,children:c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 min-h-screen font-sans",children:[c.jsx("header",{className:"bg-white dark:bg-slate-800 shadow-sm sticky top-0 z-20",children:c.jsx("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(ga,{className:"h-8 w-8 text-blue-600"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"HVAC Business Suite"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>a("finance"),className:`font-semibold py-2 px-4 rounded-lg flex items-center gap-2 ${i==="finance"?"bg-blue-600 text-white":"hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300"}`,children:[c.jsx(fn,{size:20})," Finance"]}),c.jsxs("button",{onClick:()=>a("dispatch"),className:`font-semibold py-2 px-4 rounded-lg flex items-center gap-2 ${i==="dispatch"?"bg-blue-600 text-white":"hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300"}`,children:[c.jsx(Lm,{size:20})," Dispatch"]})]})]})})}),i==="dispatch"&&c.jsxs(c.Fragment,{children:[c.jsx(sae,{currentView:o,setCurrentView:u,onAddOrderClick:()=>pe(!0)}),c.jsx("main",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:Qo()}),je&&c.jsx(Dae,{order:je,onClose:()=>Ee(null),onUpdate:_i,onAddNote:qs,technicians:le}),W&&c.jsx(Fae,{customers:Y,onAddOrder:Jn,onClose:()=>pe(!1)})]}),i==="finance"&&Ba()]})}):c.jsx(w8,{})};z6.createRoot(document.getElementById("root")).render(c.jsx(H.StrictMode,{children:c.jsx(Bae,{})}));
